"use strict";(self.webpackChunkFinance=self.webpackChunkFinance||[]).push([[179],{808:(Bs,rr,Be)=>{Be.d(rr,{$:()=>Fi,A:()=>oe,G:()=>kt,K:()=>vy,L:()=>gl,N:()=>$s,P:()=>Lp,R:()=>KI,U:()=>_e,V:()=>vp,W:()=>Sy,X:()=>Le,Y:()=>yi,Z:()=>Gc,_:()=>_o,a:()=>$y,a0:()=>we,a1:()=>ar,a2:()=>Aa,a3:()=>El,a4:()=>wp,a5:()=>Es,a6:()=>Kc,a7:()=>ws,a8:()=>DI,a9:()=>xI,aA:()=>be,aB:()=>Gt,aC:()=>ne,aD:()=>nC,aE:()=>H,aF:()=>ze,aG:()=>Hp,aH:()=>ka,aI:()=>sv,aJ:()=>On,aN:()=>Li,aQ:()=>zn,aa:()=>Dk,ab:()=>xk,ac:()=>Rk,ad:()=>Mk,ae:()=>Pk,af:()=>Ok,ag:()=>Oy,ah:()=>Nk,ak:()=>Ji,al:()=>RI,am:()=>MI,ap:()=>Hr,aq:()=>kI,as:()=>NI,at:()=>Ra,au:()=>rn,av:()=>re,aw:()=>K,ax:()=>mt,ay:()=>Jd,az:()=>Fl,b:()=>Od,c:()=>Vp,d:()=>XI,e:()=>Bp,f:()=>jp,g:()=>Ol,h:()=>tu,i:()=>Dl,j:()=>Nl,k:()=>su,l:()=>Jy,m:()=>pC,p:()=>Xt,r:()=>Xc,s:()=>Hk,u:()=>ZI});var S=Be(861),Y=Be(90),O=Be(881),Me=Be(877),rt=Be(582),hn=Be(859);const Xt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const kt=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ir=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new Me.Yd("@firebase/auth");function In(p,...u){Ze.logLevel<=Me.in.ERROR&&Ze.error(`Auth (${O.SDK_VERSION}): ${p}`,...u)}function mt(p,...u){throw lt(p,...u)}function Gt(p,...u){return lt(p,...u)}function Ri(p,u,h){const m=Object.assign(Object.assign({},ir()),{[u]:h});return new Y.LL("auth","Firebase",m).create(u,{appName:p.name})}function Zn(p,u,h){if(!(u instanceof h))throw h.name!==u.constructor.name&&mt(p,"argument-error"),Ri(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(p,...u){if("string"!=typeof p){const h=u[0],m=[...u.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(h,...m)}return vt.create(p,...u)}function ne(p,u,...h){if(!p)throw lt(u,...h)}function Ct(p){const u="INTERNAL ASSERTION FAILED: "+p;throw In(u),new Error(u)}function rn(p,u){p||Ct(u)}function Mn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Pn(){return"http:"===fs()||"https:"===fs()}function fs(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class pi{constructor(u,h){this.shortDelay=u,this.longDelay=h,rn(h>u,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function ps(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pn()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function po(p,u){rn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return u?`${h}${u.startsWith("/")?u.slice(1):u}`:h}class ${static initialize(u,h,m){this.fetchImpl=u,h&&(this.headersImpl=h),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},B=new pi(3e4,6e4);function z(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function X(p,u,h,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,S.Z)(function*(p,u,h,m,y={}){return he(p,y,(0,S.Z)(function*(){let I={},k={};m&&("GET"===u?k=m:I={body:JSON.stringify(m)});const W=(0,Y.xO)(Object.assign({key:p.config.apiKey},k)).slice(1),ee=yield p._getAdditionalHeaders();return ee["Content-Type"]="application/json",p.languageCode&&(ee["X-Firebase-Locale"]=p.languageCode),$.fetch()(Tt(p,p.config.apiHost,h,W),Object.assign({method:u,headers:ee,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function he(p,u,h){return ft.apply(this,arguments)}function ft(){return(ft=(0,S.Z)(function*(p,u,h){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},q),u);try{const y=new Jt(p),I=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const k=yield I.json();if("needConfirmation"in k)throw pn(p,"account-exists-with-different-credential",k);if(I.ok&&!("errorMessage"in k))return k;{const W=I.ok?k.errorMessage:k.error.message,[ee,Se]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ee)throw pn(p,"credential-already-in-use",k);if("EMAIL_EXISTS"===ee)throw pn(p,"email-already-in-use",k);if("USER_DISABLED"===ee)throw pn(p,"user-disabled",k);const Ve=m[ee]||ee.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw Ri(p,Ve,Se);mt(p,Ve)}}catch(y){if(y instanceof Y.ZR)throw y;mt(p,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function ce(p,u,h,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,S.Z)(function*(p,u,h,m,y={}){const I=yield X(p,u,h,m,y);return"mfaPendingCredential"in I&&mt(p,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function Tt(p,u,h,m){const y=`${u}${h}?${m}`;return p.config.emulator?po(p.config,y):`${p.config.apiScheme}://${y}`}function fn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((h,m)=>{this.timer=setTimeout(()=>m(Gt(this.auth,"network-request-failed")),B.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(p,u,h){const m={appName:p.name};h.email&&(m.email=h.email),h.phoneNumber&&(m.phoneNumber=h.phoneNumber);const y=Gt(p,u,m);return y.customData._tokenResponse=h,y}function Qn(p){return void 0!==p&&void 0!==p.getResponse}function sr(p){return void 0!==p&&void 0!==p.enterprise}class yr{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===u)return fn(h.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function qi(){return(qi=(0,S.Z)(function*(p){return(yield X(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Us(p,u){return ut.apply(this,arguments)}function ut(){return(ut=(0,S.Z)(function*(p,u){return X(p,"GET","/v2/recaptchaConfig",z(p,u))})).apply(this,arguments)}function Hs(){return(Hs=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function gs(){return(gs=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Mi(){return(Mi=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Pi(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Lt(){return(Lt=(0,S.Z)(function*(p,u=!1){const h=(0,Y.m9)(p),m=yield h.getIdToken(u),y=kn(m);ne(y&&y.exp&&y.auth_time&&y.iat,h.auth,"internal-error");const I="object"==typeof y.firebase?y.firebase:void 0,k=I?.sign_in_provider;return{claims:y,token:m,authTime:Pi(gi(y.auth_time)),issuedAtTime:Pi(gi(y.iat)),expirationTime:Pi(gi(y.exp)),signInProvider:k||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function gi(p){return 1e3*Number(p)}function kn(p){const[u,h,m]=p.split(".");if(void 0===u||void 0===h||void 0===m)return In("JWT malformed, contained fewer than 3 sections"),null;try{const y=(0,Y.tV)(h);return y?JSON.parse(y):(In("Failed to decode base64 JWT payload"),null)}catch(y){return In("Caught error parsing JWT payload as JSON",y?.toString()),null}}function mn(p,u){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,S.Z)(function*(p,u,h=!1){if(h)return u;try{return yield u}catch(m){throw m instanceof Y.ZR&&function _s({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class Ki{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var h;if(u){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const y=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,y)}}schedule(u=!1){var h=this;if(!this.isRunning)return;const m=this.getInterval(u);this.timerId=setTimeout((0,S.Z)(function*(){yield h.iteration()}),m)}iteration(){var u=this;return(0,S.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&u.schedule(!0))}u.schedule()})()}}class ys{constructor(u,h){this.createdAt=u,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pi(this.lastLoginAt),this.creationTime=Pi(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(p){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,S.Z)(function*(p){var u;const h=p.auth,m=yield p.getIdToken(),y=yield mn(p,function Rr(p,u){return Mi.apply(this,arguments)}(h,{idToken:m}));ne(y?.users.length,h,"internal-error");const I=y.users[0];p._notifyReloadListener(I);const k=null!==(u=I.providerUserInfo)&&void 0!==u&&u.length?function Fo(p){return p.map(u=>{var{providerId:h}=u,m=(0,rt._T)(u,["providerId"]);return{providerId:h,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(I.providerUserInfo):[],W=function fl(p,u){return[...p.filter(m=>!u.some(y=>y.providerId===m.providerId)),...u]}(p.providerData,k),Ve=!!p.isAnonymous&&!(p.email&&I.passwordHash||W?.length),Rt={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:W,metadata:new ys(I.createdAt,I.lastLoginAt),isAnonymous:Ve};Object.assign(p,Rt)}),Xn.apply(this,arguments)}function Oi(){return(Oi=(0,S.Z)(function*(p){const u=(0,Y.m9)(p);yield or(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function zs(){return(zs=(0,S.Z)(function*(p,u){const h=yield he(p,{},(0,S.Z)(function*(){const m=(0,Y.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:y,apiKey:I}=p.config,k=Tt(p,y,"/v1/token",`key=${I}`),W=yield p._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",$.fetch()(k,{method:"POST",headers:W,body:m})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function x(){return(x=(0,S.Z)(function*(p,u){return X(p,"POST","/v2/accounts:revokeToken",z(p,u))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ne(u.idToken,"internal-error"),ne(typeof u.idToken<"u","internal-error"),ne(typeof u.refreshToken<"u","internal-error");const h="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Hc(p){const u=kn(p);return ne(u,"internal-error"),ne(typeof u.exp<"u","internal-error"),ne(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,h)}getToken(u,h=!1){var m=this;return(0,S.Z)(function*(){return ne(!m.accessToken||m.refreshToken,u,"user-token-expired"),h||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(u,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,h){var m=this;return(0,S.Z)(function*(){const{accessToken:y,refreshToken:I,expiresIn:k}=yield function Ea(p,u){return zs.apply(this,arguments)}(u,h);m.updateTokensAndExpiration(y,I,Number(k))})()}updateTokensAndExpiration(u,h,m){this.refreshToken=h||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(u,h){const{refreshToken:m,accessToken:y,expirationTime:I}=h,k=new E;return m&&(ne("string"==typeof m,"internal-error",{appName:u}),k.refreshToken=m),y&&(ne("string"==typeof y,"internal-error",{appName:u}),k.accessToken=y),I&&(ne("number"==typeof I,"internal-error",{appName:u}),k.expirationTime=I),k}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return Ct("not implemented")}}function C(p,u){ne("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class b{constructor(u){var{uid:h,auth:m,stsTokenManager:y}=u,I=(0,rt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=m,this.stsTokenManager=y,this.accessToken=y.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new ys(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(u){var h=this;return(0,S.Z)(function*(){const m=yield mn(h,h.stsTokenManager.getToken(h.auth,u));return ne(m,h.auth,"internal-error"),h.accessToken!==m&&(h.accessToken=m,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),m})()}getIdTokenResult(u){return function Mr(p){return Lt.apply(this,arguments)}(this,u)}reload(){return function jr(p){return Oi.apply(this,arguments)}(this)}_assign(u){this!==u&&(ne(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(h=>Object.assign({},h)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const h=new b(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(u){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,h=!1){var m=this;return(0,S.Z)(function*(){let y=!1;u.idToken&&u.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(u),y=!0),h&&(yield or(m)),yield m.auth._persistUserIfCurrent(m),y&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var u=this;return(0,S.Z)(function*(){const h=yield u.getIdToken();return yield mn(u,function js(p,u){return Hs.apply(this,arguments)}(u.auth,{idToken:h})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,h){var m,y,I,k,W,ee,Se,Ve;const Rt=null!==(m=h.displayName)&&void 0!==m?m:void 0,Bi=null!==(y=h.email)&&void 0!==y?y:void 0,La=null!==(I=h.phoneNumber)&&void 0!==I?I:void 0,nh=null!==(k=h.photoURL)&&void 0!==k?k:void 0,Zp=null!==(W=h.tenantId)&&void 0!==W?W:void 0,au=null!==(ee=h._redirectEventId)&&void 0!==ee?ee:void 0,Qp=null!==(Se=h.createdAt)&&void 0!==Se?Se:void 0,Xp=null!==(Ve=h.lastLoginAt)&&void 0!==Ve?Ve:void 0,{uid:rh,emailVerified:ri,isAnonymous:yv,providerData:Jp,stsTokenManager:vv}=h;ne(rh&&vv,u,"internal-error");const bv=E.fromJSON(this.name,vv);ne("string"==typeof rh,u,"internal-error"),C(Rt,u.name),C(Bi,u.name),ne("boolean"==typeof ri,u,"internal-error"),ne("boolean"==typeof yv,u,"internal-error"),C(La,u.name),C(nh,u.name),C(Zp,u.name),C(au,u.name),C(Qp,u.name),C(Xp,u.name);const lu=new b({uid:rh,auth:u,email:Bi,emailVerified:ri,displayName:Rt,isAnonymous:yv,photoURL:nh,phoneNumber:La,tenantId:Zp,stsTokenManager:bv,createdAt:Qp,lastLoginAt:Xp});return Jp&&Array.isArray(Jp)&&(lu.providerData=Jp.map(bC=>Object.assign({},bC))),au&&(lu._redirectEventId=au),lu}static _fromIdTokenResponse(u,h,m=!1){return(0,S.Z)(function*(){const y=new E;y.updateFromServerResponse(h);const I=new b({uid:h.localId,auth:u,stsTokenManager:y,isAnonymous:m});return yield or(I),I})()}}const F=new Map;function H(p){rn(p instanceof Function,"Expected a class definition");let u=F.get(p);return u?(rn(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,F.set(p,u),u)}const _e=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(h,m){var y=this;return(0,S.Z)(function*(){y.storage[h]=m})()}_get(h){var m=this;return(0,S.Z)(function*(){const y=m.storage[h];return void 0===y?null:y})()}_remove(h){var m=this;return(0,S.Z)(function*(){delete m.storage[h]})()}_addListener(h,m){}_removeListener(h,m){}}return p.type="NONE",p})();function ze(p,u,h){return`firebase:${p}:${u}:${h}`}class xt{constructor(u,h,m){this.persistence=u,this.auth=h,this.userKey=m;const{config:y,name:I}=this.auth;this.fullUserKey=ze(this.userKey,y.apiKey,I),this.fullPersistenceKey=ze("persistence",y.apiKey,I),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,S.Z)(function*(){const h=yield u.persistence._get(u.fullUserKey);return h?b._fromJSON(u.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var h=this;return(0,S.Z)(function*(){if(h.persistence===u)return;const m=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=u,m?h.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,h,m="authUser"){return(0,S.Z)(function*(){if(!h.length)return new xt(H(_e),u,m);const y=(yield Promise.all(h.map(function(){var Se=(0,S.Z)(function*(Ve){if(yield Ve._isAvailable())return Ve});return function(Ve){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let I=y[0]||H(_e);const k=ze(m,u.config.apiKey,u.name);let W=null;for(const Se of h)try{const Ve=yield Se._get(k);if(Ve){const Rt=b._fromJSON(u,Ve);Se!==I&&(W=Rt),I=Se;break}}catch{}const ee=y.filter(Se=>Se._shouldAllowMigration);return I._shouldAllowMigration&&ee.length?(I=ee[0],W&&(yield I._set(k,W.toJSON())),yield Promise.all(h.map(function(){var Se=(0,S.Z)(function*(Ve){if(Ve!==I)try{yield Ve._remove(k)}catch{}});return function(Ve){return Se.apply(this,arguments)}}())),new xt(I,u,m)):new xt(I,u,m)})()}}function ve(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(pl(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(me(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(D(u))return"Blackberry";if(te(u))return"Webos";if(et(u))return"Safari";if((u.includes("chrome/")||vr(u))&&!u.includes("edge/"))return"Chrome";if(K(u))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function me(p=(0,Y.z$)()){return/firefox\//i.test(p)}function et(p=(0,Y.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function vr(p=(0,Y.z$)()){return/crios\//i.test(p)}function pl(p=(0,Y.z$)()){return/iemobile/i.test(p)}function K(p=(0,Y.z$)()){return/android/i.test(p)}function D(p=(0,Y.z$)()){return/blackberry/i.test(p)}function te(p=(0,Y.z$)()){return/webos/i.test(p)}function re(p=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function be(p=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function br(p=(0,Y.z$)()){return re(p)||K(p)||te(p)||D(p)||/windows phone/i.test(p)||pl(p)}function Hn(p,u=[]){let h;switch(p){case"Browser":h=ve((0,Y.z$)());break;case"Worker":h=`${ve((0,Y.z$)())}-${p}`;break;default:h=p}const m=u.length?u.join(","):"FirebaseCore-web";return`${h}/JsCore/${O.SDK_VERSION}/${m}`}class bd{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,h){const m=I=>new Promise((k,W)=>{try{k(u(I))}catch(ee){W(ee)}});m.onAbort=h,this.queue.push(m);const y=this.queue.length-1;return()=>{this.queue[y]=()=>Promise.resolve()}}runMiddleware(u){var h=this;return(0,S.Z)(function*(){if(h.auth.currentUser===u)return;const m=[];try{for(const y of h.queue)yield y(u),y.onAbort&&m.push(y.onAbort)}catch(y){m.reverse();for(const I of m)try{I()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:y?.message})}})()}}function fy(){return(fy=(0,S.Z)(function*(p,u={}){return X(p,"GET","/v2/passwordPolicy",z(p,u))})).apply(this,arguments)}class Ik{constructor(u){var h,m,y,I;const k=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=k.minPasswordLength)&&void 0!==h?h:6,k.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=k.maxPasswordLength),void 0!==k.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=k.containsLowercaseCharacter),void 0!==k.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=k.containsUppercaseCharacter),void 0!==k.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=k.containsNumericCharacter),void 0!==k.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=k.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(y=null===(m=u.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==y?y:"",this.forceUpgradeOnSignin=null!==(I=u.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=u.schemaVersion}validatePassword(u){var h,m,y,I,k,W;const ee={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ee),this.validatePasswordCharacterOptions(u,ee),ee.isValid&&(ee.isValid=null===(h=ee.meetsMinPasswordLength)||void 0===h||h),ee.isValid&&(ee.isValid=null===(m=ee.meetsMaxPasswordLength)||void 0===m||m),ee.isValid&&(ee.isValid=null===(y=ee.containsLowercaseLetter)||void 0===y||y),ee.isValid&&(ee.isValid=null===(I=ee.containsUppercaseLetter)||void 0===I||I),ee.isValid&&(ee.isValid=null===(k=ee.containsNumericCharacter)||void 0===k||k),ee.isValid&&(ee.isValid=null===(W=ee.containsNonAlphanumericCharacter)||void 0===W||W),ee}validatePasswordLengthOptions(u,h){const m=this.customStrengthOptions.minPasswordLength,y=this.customStrengthOptions.maxPasswordLength;m&&(h.meetsMinPasswordLength=u.length>=m),y&&(h.meetsMaxPasswordLength=u.length<=y)}validatePasswordCharacterOptions(u,h){let m;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let y=0;y<u.length;y++)m=u.charAt(y),this.updatePasswordCharacterOptionsStatuses(h,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(u,h,m,y,I){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=I))}}class Ck{constructor(u,h,m,y){this.app=u,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=m,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vI(this),this.idTokenSubscription=new vI(this),this.beforeStateQueue=new bd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(u,h){var m=this;return h&&(this._popupRedirectResolver=H(h)),this._initializationPromise=this.queue((0,S.Z)(function*(){var y,I;if(!m._deleted&&(m.persistenceManager=yield xt.create(m,u),!m._deleted)){if(null!==(y=m._popupRedirectResolver)&&void 0!==y&&y._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(h),m.lastNotifiedUid=(null===(I=m.currentUser)||void 0===I?void 0:I.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,S.Z)(function*(){if(u._deleted)return;const h=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||h){if(u.currentUser&&h&&u.currentUser.uid===h.uid)return u._currentUser._assign(h),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(h,!0)}})()}initializeCurrentUser(u){var h=this;return(0,S.Z)(function*(){var m;const y=yield h.assertedPersistence.getCurrentUser();let I=y,k=!1;if(u&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const W=null===(m=h.redirectUser)||void 0===m?void 0:m._redirectEventId,ee=I?._redirectEventId,Se=yield h.tryRedirectSignIn(u);(!W||W===ee)&&Se?.user&&(I=Se.user,k=!0)}if(!I)return h.directlySetCurrentUser(null);if(!I._redirectEventId){if(k)try{yield h.beforeStateQueue.runMiddleware(I)}catch(W){I=y,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(W))}return I?h.reloadAndSetCurrentUserOrClear(I):h.directlySetCurrentUser(null)}return ne(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===I._redirectEventId?h.directlySetCurrentUser(I):h.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(u){var h=this;return(0,S.Z)(function*(){let m=null;try{m=yield h._popupRedirectResolver._completeRedirectFn(h,u,!0)}catch{yield h._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(u){var h=this;return(0,S.Z)(function*(){try{yield or(u)}catch(m){if("auth/network-request-failed"!==m?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,S.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var h=this;return(0,S.Z)(function*(){const m=u?(0,Y.m9)(u):null;return m&&ne(m.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(m&&m._clone(h))})()}_updateCurrentUser(u,h=!1){var m=this;return(0,S.Z)(function*(){if(!m._deleted)return u&&ne(m.tenantId===u.tenantId,m,"tenant-id-mismatch"),h||(yield m.beforeStateQueue.runMiddleware(u)),m.queue((0,S.Z)(function*(){yield m.directlySetCurrentUser(u),m.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,S.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var h=this;return this.queue((0,S.Z)(function*(){yield h.assertedPersistence.setPersistence(H(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var h=this;return(0,S.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const m=h._getPasswordPolicyInternal();return m.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,S.Z)(function*(){const h=yield function yI(p){return fy.apply(this,arguments)}(u),m=new Ik(h);null===u.tenantId?u._projectPasswordPolicy=m:u._tenantPasswordPolicies[u.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new Y.LL("auth","Firebase",u())}onAuthStateChanged(u,h,m){return this.registerStateListener(this.authStateSubscription,u,h,m)}beforeAuthStateChanged(u,h){return this.beforeStateQueue.pushCallback(u,h)}onIdTokenChanged(u,h,m){return this.registerStateListener(this.idTokenSubscription,u,h,m)}authStateReady(){return new Promise((u,h)=>{if(this.currentUser)u();else{const m=this.onAuthStateChanged(()=>{m(),u()},h)}})}revokeAccessToken(u){var h=this;return(0,S.Z)(function*(){if(h.currentUser){const m=yield h.currentUser.getIdToken(),y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:m};null!=h.tenantId&&(y.tenantId=h.tenantId),yield function M(p,u){return x.apply(this,arguments)}(h,y)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,h){var m=this;return(0,S.Z)(function*(){const y=yield m.getOrInitRedirectPersistenceManager(h);return null===u?y.removeCurrentUser():y.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var h=this;return(0,S.Z)(function*(){if(!h.redirectPersistenceManager){const m=u&&H(u)||h._popupRedirectResolver;ne(m,h,"argument-error"),h.redirectPersistenceManager=yield xt.create(h,[H(m._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(u){var h=this;return(0,S.Z)(function*(){var m,y;return h._isInitialized&&(yield h.queue((0,S.Z)(function*(){}))),(null===(m=h._currentUser)||void 0===m?void 0:m._redirectEventId)===u?h._currentUser:(null===(y=h.redirectUser)||void 0===y?void 0:y._redirectEventId)===u?h.redirectUser:null})()}_persistUserIfCurrent(u){var h=this;return(0,S.Z)(function*(){if(u===h.currentUser)return h.queue((0,S.Z)(function*(){return h.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(h=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,h,m,y){if(this._deleted)return()=>{};const I="function"==typeof h?h:h.next.bind(h);let k=!1;const W=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(W,this,"internal-error"),W.then(()=>{k||I(this.currentUser)}),"function"==typeof h){const ee=u.addObserver(h,m,y);return()=>{k=!0,ee()}}{const ee=u.addObserver(h);return()=>{k=!0,ee()}}}directlySetCurrentUser(u){var h=this;return(0,S.Z)(function*(){h.currentUser&&h.currentUser!==u&&h._currentUser._stopProactiveRefresh(),u&&h.isProactiveRefreshEnabled&&u._startProactiveRefresh(),h.currentUser=u,u?yield h.assertedPersistence.setCurrentUser(u):yield h.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,S.Z)(function*(){var h;const m={"X-Client-Version":u.clientVersion};u.app.options.appId&&(m["X-Firebase-gmpid"]=u.app.options.appId);const y=yield null===(h=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();y&&(m["X-Firebase-Client"]=y);const I=yield u._getAppCheckToken();return I&&(m["X-Firebase-AppCheck"]=I),m})()}_getAppCheckToken(){var u=this;return(0,S.Z)(function*(){var h;const m=yield null===(h=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return m?.error&&function _r(p,...u){Ze.logLevel<=Me.in.WARN&&Ze.warn(`Auth (${O.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function On(p){return(0,Y.m9)(p)}class vI{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,Y.ne)(h=>this.observer=h)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function py(p){return new Promise((u,h)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=u,m.onerror=y=>{const I=Gt("internal-error");I.customData=y,h(I)},m.type="text/javascript",m.charset="UTF-8",function bI(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(m)})}function my(p){return`__${p}${Math.floor(1e6*Math.random())}`}const jt="NO_RECAPTCHA";class EI{constructor(u){this.type="recaptcha-enterprise",this.auth=On(u)}verify(u="verify",h=!1){var m=this;return(0,S.Z)(function*(){function I(){return I=(0,S.Z)(function*(W){if(!h){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var ee=(0,S.Z)(function*(Se,Ve){Us(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rt=>{if(void 0!==Rt.recaptchaKey){const Bi=new yr(Rt);return null==W.tenantId?W._agentRecaptchaConfig=Bi:W._tenantRecaptchaConfigs[W.tenantId]=Bi,Se(Bi.siteKey)}Ve(new Error("recaptcha Enterprise site key undefined"))}).catch(Rt=>{Ve(Rt)})});return function(Se,Ve){return ee.apply(this,arguments)}}())}),I.apply(this,arguments)}function k(W,ee,Se){const Ve=window.grecaptcha;sr(Ve)?Ve.enterprise.ready(()=>{Ve.enterprise.execute(W,{action:u}).then(Rt=>{ee(Rt)}).catch(()=>{ee(jt)})}):Se(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,ee)=>{(function y(W){return I.apply(this,arguments)})(m.auth).then(Se=>{if(!h&&sr(window.grecaptcha))k(Se,W,ee);else{if(typeof window>"u")return void ee(new Error("RecaptchaVerifier is only supported in browser"));py("https://www.google.com/recaptcha/enterprise.js?render="+Se).then(()=>{k(Se,W,ee)}).catch(Ve=>{ee(Ve)})}}).catch(Se=>{ee(Se)})})})()}}function wI(p,u,h){return gy.apply(this,arguments)}function gy(){return(gy=(0,S.Z)(function*(p,u,h,m=!1){const y=new EI(p);let I;try{I=yield y.verify(h)}catch{I=yield y.verify(h,!0)}const k=Object.assign({},u);return Object.assign(k,m?{captchaResp:I}:{captchaResponse:I}),Object.assign(k,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(k,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),k})).apply(this,arguments)}function de(p,u,h,m){return _y.apply(this,arguments)}function _y(){return _y=(0,S.Z)(function*(p,u,h,m){var y;if(null!==(y=p._getRecaptchaConfig())&&void 0!==y&&y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield wI(p,u,h,"getOobCode"===h);return m(p,I)}return m(p,u).catch(function(){var I=(0,S.Z)(function*(k){if("auth/missing-recaptcha-token"===k.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const W=yield wI(p,u,h,"getOobCode"===h);return m(p,W)}return Promise.reject(k)});return function(k){return I.apply(this,arguments)}}())}),_y.apply(this,arguments)}function vy(p,u,h){const m=On(p);ne(m._canInitEmulator,m,"emulator-config-failed"),ne(/^https?:\/\//.test(u),m,"invalid-emulator-scheme");const y=!!h?.disableWarnings,I=hp(u),{host:k,port:W}=function Ed(p){const u=hp(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!h)return{host:"",port:null};const m=h[2].split("@").pop()||"",y=/^(\[[^\]]+\])(:|$)/.exec(m);if(y){const I=y[1];return{host:I,port:wd(m.substr(I.length+1))}}{const[I,k]=m.split(":");return{host:I,port:wd(k)}}}(u);m.config.emulator={url:`${I}//${k}${null===W?"":`:${W}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:k,port:W,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:y})}),y||function by(){function p(){const u=document.createElement("p"),h=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function hp(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function wd(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class gl{constructor(u,h){this.providerId=u,this.signInMethod=h}toJSON(){return Ct("not implemented")}_getIdTokenResponse(u){return Ct("not implemented")}_linkToIdToken(u,h){return Ct("not implemented")}_getReauthenticationResolver(u){return Ct("not implemented")}}function je(p,u){return zc.apply(this,arguments)}function zc(){return(zc=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:resetPassword",z(p,u))})).apply(this,arguments)}function _i(){return(_i=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ey(p,u){return wy.apply(this,arguments)}function wy(){return(wy=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Iy(){return(Iy=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",z(p,u))})).apply(this,arguments)}function Sk(p,u){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signInWithPassword",z(p,u))})).apply(this,arguments)}function Vo(p,u){return $c.apply(this,arguments)}function $c(){return($c=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:sendOobCode",z(p,u))})).apply(this,arguments)}function fp(){return(fp=(0,S.Z)(function*(p,u){return Vo(p,u)})).apply(this,arguments)}function TI(p,u){return pp.apply(this,arguments)}function pp(){return(pp=(0,S.Z)(function*(p,u){return Vo(p,u)})).apply(this,arguments)}function Ty(p,u){return wa.apply(this,arguments)}function wa(){return(wa=(0,S.Z)(function*(p,u){return Vo(p,u)})).apply(this,arguments)}function mp(){return(mp=(0,S.Z)(function*(p,u){return Vo(p,u)})).apply(this,arguments)}function Cd(){return(Cd=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signInWithEmailLink",z(p,u))})).apply(this,arguments)}function yl(){return(yl=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signInWithEmailLink",z(p,u))})).apply(this,arguments)}class Ia extends gl{constructor(u,h,m,y=null){super("password",m),this._email=u,this._password=h,this._tenantId=y}static _fromEmailAndPassword(u,h){return new Ia(u,h,"password")}static _fromEmailAndCode(u,h,m=null){return new Ia(u,h,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(u){var h=this;return(0,S.Z)(function*(){switch(h.signInMethod){case"password":return de(u,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sk);case"emailLink":return function U(p,u){return Cd.apply(this,arguments)}(u,{email:h._email,oobCode:h._password});default:mt(u,"internal-error")}})()}_linkToIdToken(u,h){var m=this;return(0,S.Z)(function*(){switch(m.signInMethod){case"password":return de(u,{idToken:h,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ey);case"emailLink":return function We(p,u){return yl.apply(this,arguments)}(u,{idToken:h,email:m._email,oobCode:m._password});default:mt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Ni(p,u){return gp.apply(this,arguments)}function gp(){return(gp=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signInWithIdp",z(p,u))})).apply(this,arguments)}class $s extends gl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const h=new $s(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(h.idToken=u.idToken),u.accessToken&&(h.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(h.nonce=u.nonce),u.pendingToken&&(h.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(h.accessToken=u.oauthToken,h.secret=u.oauthTokenSecret):mt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:y}=h,I=(0,rt._T)(h,["providerId","signInMethod"]);if(!m||!y)return null;const k=new $s(m,y);return k.idToken=I.idToken||void 0,k.accessToken=I.accessToken||void 0,k.secret=I.secret,k.nonce=I.nonce,k.pendingToken=I.pendingToken||null,k}_getIdTokenResponse(u){return Ni(u,this.buildRequest())}_linkToIdToken(u,h){const m=this.buildRequest();return m.idToken=h,Ni(u,m)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,Ni(u,h)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),u.postBody=(0,Y.xO)(h)}return u}}function Zi(){return(Zi=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:sendVerificationCode",z(p,u))})).apply(this,arguments)}function bs(){return(bs=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,u))})).apply(this,arguments)}function vl(){return(vl=(0,S.Z)(function*(p,u){const h=yield ce(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,u));if(h.temporaryProof)throw pn(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const _p={USER_NOT_FOUND:"user-not-found"};function Td(){return(Td=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),_p)})).apply(this,arguments)}class Xr extends gl{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,h){return new Xr({verificationId:u,verificationCode:h})}static _fromTokenResponse(u,h){return new Xr({phoneNumber:u,temporaryProof:h})}_getIdTokenResponse(u){return function vs(p,u){return bs.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,h){return function Bt(p,u){return vl.apply(this,arguments)}(u,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function yp(p,u){return Td.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:h,verificationId:m,verificationCode:y}=this.params;return u&&h?{temporaryProof:u,phoneNumber:h}:{sessionInfo:m,code:y}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:h,verificationCode:m,phoneNumber:y,temporaryProof:I}=u;return m||h||y||I?new Xr({verificationId:h,verificationCode:m,phoneNumber:y,temporaryProof:I}):null}}class Nn{constructor(u){var h,m,y,I,k,W;const ee=(0,Y.zd)((0,Y.pd)(u)),Se=null!==(h=ee.apiKey)&&void 0!==h?h:null,Ve=null!==(m=ee.oobCode)&&void 0!==m?m:null,Rt=function Wc(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(y=ee.mode)&&void 0!==y?y:null);ne(Se&&Ve&&Rt,"argument-error"),this.apiKey=Se,this.operation=Rt,this.code=Ve,this.continueUrl=null!==(I=ee.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(k=ee.languageCode)&&void 0!==k?k:null,this.tenantId=null!==(W=ee.tenantId)&&void 0!==W?W:null}static parseLink(u){const h=function AI(p){const u=(0,Y.zd)((0,Y.pd)(p)).link,h=u?(0,Y.zd)((0,Y.pd)(u)).deep_link_id:null,m=(0,Y.zd)((0,Y.pd)(p)).deep_link_id;return(m?(0,Y.zd)((0,Y.pd)(m)).link:null)||m||h||u||p}(u);try{return new Nn(h)}catch{return null}}}let vp=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,m){return Ia._fromEmailAndPassword(h,m)}static credentialWithLink(h,m){const y=Nn.parseLink(m);return ne(y,"argument-error"),Ia._fromEmailAndCode(h,y.code,y.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class go{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Ot extends go{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Gc extends Ot{static credentialFromJSON(u){const h="string"==typeof u?JSON.parse(u):u;return ne("providerId"in h&&"signInMethod"in h,"argument-error"),$s._fromParams(h)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ne(u.idToken||u.accessToken,"argument-error"),$s._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Gc.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Gc.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:h,oauthAccessToken:m,oauthTokenSecret:y,pendingToken:I,nonce:k,providerId:W}=u;if(!m&&!y&&!h&&!I||!W)return null;try{return new Gc(W)._credential({idToken:h,accessToken:m,nonce:k,pendingToken:I})}catch{return null}}}let Sy=(()=>{class p extends Ot{constructor(){super("facebook.com")}static credential(h){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Le=(()=>{class p extends Ot{constructor(){super("google.com"),this.addScope("profile")}static credential(h,m){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:y}=h;if(!m&&!y)return null;try{return p.credential(m,y)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),yi=(()=>{class p extends Ot{constructor(){super("github.com")}static credential(h){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class zn extends gl{constructor(u,h){super(u,u),this.pendingToken=h}_getIdTokenResponse(u){return Ni(u,this.buildRequest())}_linkToIdToken(u,h){const m=this.buildRequest();return m.idToken=h,Ni(u,m)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,Ni(u,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:y,pendingToken:I}=h;return m&&y&&I&&m===y?new zn(m,I):null}static _create(u,h){return new zn(u,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends go{constructor(u){ne(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return _o.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return _o.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const h=zn.fromJSON(u);return ne(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:h,providerId:m}=u;if(!h||!m)return null;try{return zn._create(m,h)}catch{return null}}}let Fi=(()=>{class p extends Ot{constructor(){super("twitter.com")}static credential(h,m){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:m,oauthTokenSecret:y}=h;if(!m||!y)return null;try{return p.credential(m,y)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function bp(p,u){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signUp",z(p,u))})).apply(this,arguments)}class Jr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,h,m,y=!1){return(0,S.Z)(function*(){const I=yield b._fromIdTokenResponse(u,m,y),k=Ws(m);return new Jr({user:I,providerId:k,_tokenResponse:m,operationType:h})})()}static _forOperation(u,h,m){return(0,S.Z)(function*(){yield u._updateTokensIfNecessary(m,!0);const y=Ws(m);return new Jr({user:u,providerId:y,_tokenResponse:m,operationType:h})})()}}function Ws(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function we(p){return tt.apply(this,arguments)}function tt(){return(tt=(0,S.Z)(function*(p){var u;const h=On(p);if(yield h._initializationPromise,null!==(u=h.currentUser)&&void 0!==u&&u.isAnonymous)return new Jr({user:h.currentUser,providerId:null,operationType:"signIn"});const m=yield bp(h,{returnSecureToken:!0}),y=yield Jr._fromIdTokenResponse(h,"signIn",m,!0);return yield h._updateCurrentUser(y.user),y})).apply(this,arguments)}class on extends Y.ZR{constructor(u,h,m,y){var I;super(h.code,h.message),this.operationType=m,this.user=y,Object.setPrototypeOf(this,on.prototype),this.customData={appName:u.name,tenantId:null!==(I=u.tenantId)&&void 0!==I?I:void 0,_serverResponse:h.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(u,h,m,y){return new on(u,h,m,y)}}function Qi(p,u,h,m){return("reauthenticate"===u?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?on._fromErrorAndOperation(p,I,u,m):I})}function Bo(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function Hr(p,u){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,S.Z)(function*(p,u){const h=(0,Y.m9)(p);yield Ca(!0,h,u);const{providerUserInfo:m}=yield function ms(p,u){return gs.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[u]}),y=Bo(m||[]);return h.providerData=h.providerData.filter(I=>y.has(I.providerId)),y.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Uo.apply(this,arguments)}function Sn(p,u){return bl.apply(this,arguments)}function bl(){return(bl=(0,S.Z)(function*(p,u,h=!1){const m=yield mn(p,u._linkToIdToken(p.auth,yield p.getIdToken()),h);return Jr._forOperation(p,"link",m)})).apply(this,arguments)}function Ca(p,u,h){return it.apply(this,arguments)}function it(){return(it=(0,S.Z)(function*(p,u,h){yield or(u);const y=!1===p?"provider-already-linked":"no-such-provider";ne(Bo(u.providerData).has(h)===p,u.auth,y)})).apply(this,arguments)}function Ad(p,u){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,S.Z)(function*(p,u,h=!1){const{auth:m}=p,y="reauthenticate";try{const I=yield mn(p,Qi(m,y,u,p),h);ne(I.idToken,m,"internal-error");const k=kn(I.idToken);ne(k,m,"internal-error");const{sub:W}=k;return ne(p.uid===W,m,"user-mismatch"),Jr._forOperation(p,y,I)}catch(I){throw"auth/user-not-found"===I?.code&&mt(m,"user-mismatch"),I}})).apply(this,arguments)}function Ep(p,u){return jo.apply(this,arguments)}function jo(){return(jo=(0,S.Z)(function*(p,u,h=!1){const m="signIn",y=yield Qi(p,m,u),I=yield Jr._fromIdTokenResponse(p,m,y);return h||(yield p._updateCurrentUser(I.user)),I})).apply(this,arguments)}function ar(p,u){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,S.Z)(function*(p,u){return Ep(On(p),u)})).apply(this,arguments)}function Aa(p,u){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,S.Z)(function*(p,u){const h=(0,Y.m9)(p);return yield Ca(!1,h,u.providerId),Sn(h,u)})).apply(this,arguments)}function El(p,u){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,S.Z)(function*(p,u){return Ad((0,Y.m9)(p),u)})).apply(this,arguments)}function Ay(){return(Ay=(0,S.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signInWithCustomToken",z(p,u))})).apply(this,arguments)}function wp(p,u){return xd.apply(this,arguments)}function xd(){return xd=(0,S.Z)(function*(p,u){const h=On(p),m=yield function an(p,u){return Ay.apply(this,arguments)}(h,{token:u,returnSecureToken:!0}),y=yield Jr._fromIdTokenResponse(h,"signIn",m);return yield h._updateCurrentUser(y.user),y}),xd.apply(this,arguments)}class Ho{constructor(u,h){this.factorId=u,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(u,h){return"phoneInfo"in h?wl._fromServerResponse(u,h):"totpInfo"in h?zo._fromServerResponse(u,h):mt(u,"internal-error")}}class wl extends Ho{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,h){return new wl(h)}}class zo extends Ho{constructor(u){super("totp",u)}static _fromServerResponse(u,h){return new zo(h)}}function Er(p,u,h){var m;ne((null===(m=h.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),ne(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=h.url,u.dynamicLinkDomain=h.dynamicLinkDomain,u.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ne(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=h.iOS.bundleId),h.android&&(ne(h.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=h.android.installApp,u.androidMinimumVersionCode=h.android.minimumVersion,u.androidPackageName=h.android.packageName)}function Dy(p){return ei.apply(this,arguments)}function ei(){return(ei=(0,S.Z)(function*(p){const u=On(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Es(p,u,h){return qc.apply(this,arguments)}function qc(){return(qc=(0,S.Z)(function*(p,u,h){const m=On(p),y={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};h&&Er(m,y,h),yield de(m,y,"getOobCode",TI)})).apply(this,arguments)}function Kc(p,u,h){return Il.apply(this,arguments)}function Il(){return Il=(0,S.Z)(function*(p,u,h){yield je((0,Y.m9)(p),{oobCode:u,newPassword:h}).catch(function(){var m=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&Dy(p),y});return function(y){return m.apply(this,arguments)}}())}),Il.apply(this,arguments)}function ws(p,u){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,S.Z)(function*(p,u){yield function sn(p,u){return Iy.apply(this,arguments)}((0,Y.m9)(p),{oobCode:u})}),Ip.apply(this,arguments)}function DI(p,u){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,S.Z)(function*(p,u){const h=(0,Y.m9)(p),m=yield je(h,{oobCode:u}),y=m.requestType;switch(ne(y,h,"internal-error"),y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(m.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(m.mfaInfo,h,"internal-error");default:ne(m.email,h,"internal-error")}let I=null;return m.mfaInfo&&(I=Ho._fromServerResponse(On(h),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:I},operation:y}})).apply(this,arguments)}function xI(p,u){return xy.apply(this,arguments)}function xy(){return(xy=(0,S.Z)(function*(p,u){const{data:h}=yield DI((0,Y.m9)(p),u);return h.email})).apply(this,arguments)}function Dk(p,u,h){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,S.Z)(function*(p,u,h){const m=On(p),k=yield de(m,{returnSecureToken:!0,email:u,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bp).catch(ee=>{throw"auth/password-does-not-meet-requirements"===ee.code&&Dy(p),ee}),W=yield Jr._fromIdTokenResponse(m,"signIn",k);return yield m._updateCurrentUser(W.user),W})).apply(this,arguments)}function xk(p,u,h){return ar((0,Y.m9)(p),vp.credential(u,h)).catch(function(){var m=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&Dy(p),y});return function(y){return m.apply(this,arguments)}}())}function Rk(p,u,h){return My.apply(this,arguments)}function My(){return(My=(0,S.Z)(function*(p,u,h){const m=On(p),y={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function I(k,W){ne(W.handleCodeInApp,m,"argument-error"),W&&Er(m,k,W)})(y,h),yield de(m,y,"getOobCode",Ty)})).apply(this,arguments)}function Mk(p,u){return"EMAIL_SIGNIN"===Nn.parseLink(u)?.operation}function Pk(p,u,h){return Py.apply(this,arguments)}function Py(){return(Py=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p),y=vp.credentialWithLink(u,h||Mn());return ne(y._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),ar(m,y)})).apply(this,arguments)}function ky(){return(ky=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:createAuthUri",z(p,u))})).apply(this,arguments)}function Ok(p,u){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,S.Z)(function*(p,u){const m={identifier:u,continueUri:Pn()?Mn():"http://localhost"},{signinMethods:y}=yield function kk(p,u){return ky.apply(this,arguments)}((0,Y.m9)(p),m);return y||[]}),Rd.apply(this,arguments)}function Oy(p,u){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,S.Z)(function*(p,u){const h=(0,Y.m9)(p),y={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&Er(h.auth,y,u);const{email:I}=yield function Id(p,u){return fp.apply(this,arguments)}(h.auth,y);I!==p.email&&(yield p.reload())}),Ny.apply(this,arguments)}function Nk(p,u,h){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};h&&Er(m.auth,I,h);const{email:k}=yield function _l(p,u){return mp.apply(this,arguments)}(m.auth,I);k!==p.email&&(yield p.reload())}),Fy.apply(this,arguments)}function Tp(){return(Tp=(0,S.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ji(p,u){return Md.apply(this,arguments)}function Md(){return Md=(0,S.Z)(function*(p,{displayName:u,photoURL:h}){if(void 0===u&&void 0===h)return;const m=(0,Y.m9)(p),I={idToken:yield m.getIdToken(),displayName:u,photoUrl:h,returnSecureToken:!0},k=yield mn(m,function Da(p,u){return Tp.apply(this,arguments)}(m.auth,I));m.displayName=k.displayName||null,m.photoURL=k.photoUrl||null;const W=m.providerData.find(({providerId:ee})=>"password"===ee);W&&(W.displayName=m.displayName,W.photoURL=m.photoURL),yield m._updateTokensIfNecessary(k)}),Md.apply(this,arguments)}function RI(p,u){return Sp((0,Y.m9)(p),u,null)}function MI(p,u){return Sp((0,Y.m9)(p),null,u)}function Sp(p,u,h){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,S.Z)(function*(p,u,h){const{auth:m}=p,I={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(I.email=u),h&&(I.password=h);const k=yield mn(p,function CI(p,u){return _i.apply(this,arguments)}(m,I));yield p._updateTokensIfNecessary(k,!0)}),Pd.apply(this,arguments)}class $o{constructor(u,h,m={}){this.isNewUser=u,this.providerId=h,this.profile=m}}class Ly extends $o{constructor(u,h,m,y){super(u,h,m),this.username=y}}class es extends $o{constructor(u,h){super(u,"facebook.com",h)}}class Vy extends Ly{constructor(u,h){super(u,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class By extends $o{constructor(u,h){super(u,"google.com",h)}}class Pr extends Ly{constructor(u,h,m){super(u,"twitter.com",h,m)}}function kI(p){const{user:u,_tokenResponse:h}=p;return u.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function PI(p){var u,h;if(!p)return null;const{providerId:m}=p,y=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},I=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const k=null===(h=null===(u=kn(p.idToken))||void 0===u?void 0:u.firebase)||void 0===h?void 0:h.sign_in_provider;if(k)return new $o(I,"anonymous"!==k&&"custom"!==k?k:null)}if(!m)return null;switch(m){case"facebook.com":return new es(I,y);case"github.com":return new Vy(I,y);case"google.com":return new By(I,y);case"twitter.com":return new Pr(I,y,p.screenName||null);case"custom":case"anonymous":return new $o(I,null);default:return new $o(I,m,y)}}(h)}class Wo{constructor(u,h,m){this.type=u,this.credential=h,this.user=m}static _fromIdtoken(u,h){return new Wo("enroll",u,h)}static _fromMfaPendingCredential(u){return new Wo("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var h,m;if(u?.multiFactorSession){if(null!==(h=u.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Wo._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.idToken)return Wo._fromIdtoken(u.multiFactorSession.idToken)}return null}}class jy{constructor(u,h,m){this.session=u,this.hints=h,this.signInResolver=m}static _fromError(u,h){const m=On(u),y=h.customData._serverResponse,I=(y.mfaInfo||[]).map(W=>Ho._fromServerResponse(m,W));ne(y.mfaPendingCredential,m,"internal-error");const k=Wo._fromMfaPendingCredential(y.mfaPendingCredential);return new jy(k,I,function(){var W=(0,S.Z)(function*(ee){const Se=yield ee._process(m,k);delete y.mfaInfo,delete y.mfaPendingCredential;const Ve=Object.assign(Object.assign({},y),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(h.operationType){case"signIn":const Rt=yield Jr._fromIdTokenResponse(m,h.operationType,Ve);return yield m._updateCurrentUser(Rt.user),Rt;case"reauthenticate":return ne(h.user,m,"internal-error"),Jr._forOperation(h.user,h.operationType,Ve);default:mt(m,"internal-error")}});return function(ee){return W.apply(this,arguments)}}())}resolveSignIn(u){var h=this;return(0,S.Z)(function*(){return h.signInResolver(u)})()}}function NI(p,u){var h;const m=(0,Y.m9)(p),y=u;return ne(u.customData.operationType,m,"argument-error"),ne(null===(h=y.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,m,"argument-error"),jy._fromError(m,y)}class J{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(m=>Ho._fromServerResponse(u.auth,m)))})}static _fromUser(u){return new J(u)}getSession(){var u=this;return(0,S.Z)(function*(){return Wo._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,h){var m=this;return(0,S.Z)(function*(){const y=u,I=yield m.getSession(),k=yield mn(m.user,y._process(m.user.auth,I,h));return yield m.user._updateTokensIfNecessary(k),m.user.reload()})()}unenroll(u){var h=this;return(0,S.Z)(function*(){const m="string"==typeof u?u:u.uid,y=yield h.user.getIdToken();try{const I=yield mn(h.user,function UI(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:withdraw",z(p,u))}(h.user.auth,{idToken:y,mfaEnrollmentId:m}));h.enrolledFactors=h.enrolledFactors.filter(({uid:k})=>k!==m),yield h.user._updateTokensIfNecessary(I),yield h.user.reload()}catch(I){throw I}})()}}const bt=new WeakMap;function Ra(p){const u=(0,Y.m9)(p);return bt.has(u)||bt.set(u,J._fromUser(u)),bt.get(u)}const Gs="__sak";class wr{constructor(u,h){this.storageRetriever=u,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,h){return this.storage.setItem(u,JSON.stringify(h)),Promise.resolve()}_get(u){const h=this.storage.getItem(u);return Promise.resolve(h?JSON.parse(h):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Od=(()=>{class p extends wr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,m)=>this.onStorageEvent(h,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hy(){const p=(0,Y.z$)();return et(p)||re(p)}()&&function Tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=br(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const m of Object.keys(this.listeners)){const y=this.storage.getItem(m),I=this.localCache[m];y!==I&&h(m,I,y)}}onStorageEvent(h,m=!1){if(!h.key)return void this.forAllChangedKeys((W,ee,Se)=>{this.notifyListeners(W,Se)});const y=h.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const W=this.storage.getItem(y);if(h.newValue!==W)null!==h.newValue?this.storage.setItem(y,h.newValue):this.storage.removeItem(y);else if(this.localCache[y]===h.newValue&&!m)return}const I=()=>{const W=this.storage.getItem(y);!m&&this.localCache[y]===W||this.notifyListeners(y,W)},k=this.storage.getItem(y);!function Vt(){return(0,Y.w1)()&&10===document.documentMode}()||k===h.newValue||h.newValue===h.oldValue?I():setTimeout(I,10)}notifyListeners(h,m){this.localCache[h]=m;const y=this.listeners[h];if(y)for(const I of Array.from(y))I(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,m,y)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:m,newValue:y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,m){var y=()=>super._set,I=this;return(0,S.Z)(function*(){yield y().call(I,h,m),I.localCache[h]=JSON.stringify(m)})()}_get(h){var m=()=>super._get,y=this;return(0,S.Z)(function*(){const I=yield m().call(y,h);return y.localCache[h]=JSON.stringify(I),I})()}_remove(h){var m=()=>super._remove,y=this;return(0,S.Z)(function*(){yield m().call(y,h),delete y.localCache[h]})()}}return p.type="LOCAL",p})(),$y=(()=>{class p extends wr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,m){}_removeListener(h,m){}}return p.type="SESSION",p})();let ti=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const m=this.receivers.find(I=>I.isListeningto(h));if(m)return m;const y=new p(h);return this.receivers.push(y),y}isListeningto(h){return this.eventTarget===h}handleEvent(h){var m=this;return(0,S.Z)(function*(){const y=h,{eventId:I,eventType:k,data:W}=y.data,ee=m.handlersMap[k];if(!ee?.size)return;y.ports[0].postMessage({status:"ack",eventId:I,eventType:k});const Se=Array.from(ee).map(function(){var Rt=(0,S.Z)(function*(Bi){return Bi(y.origin,W)});return function(Bi){return Rt.apply(this,arguments)}}()),Ve=yield function Wy(p){return Promise.all(p.map(function(){var u=(0,S.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(m){return{fulfilled:!1,reason:m}}});return function(h){return u.apply(this,arguments)}}()))}(Se);y.ports[0].postMessage({status:"done",eventId:I,eventType:k,response:Ve})})()}_subscribe(h,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(m)}_unsubscribe(h,m){this.handlersMap[h]&&m&&this.handlersMap[h].delete(m),(!m||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Li(p="",u=10){let h="";for(let m=0;m<u;m++)h+=Math.floor(10*Math.random());return p+h}class Gy{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,h,m=50){var y=this;return(0,S.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let k,W;return new Promise((ee,Se)=>{const Ve=Li("",20);I.port1.start();const Rt=setTimeout(()=>{Se(new Error("unsupported_event"))},m);W={messageChannel:I,onMessage(Bi){const La=Bi;if(La.data.eventId===Ve)switch(La.data.status){case"ack":clearTimeout(Rt),k=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout(k),ee(La.data.response);break;default:clearTimeout(Rt),clearTimeout(k),Se(new Error("invalid_response"))}}},y.handlers.add(W),I.port1.addEventListener("message",W.onMessage),y.target.postMessage({eventType:u,eventId:Ve,data:h},[I.port2])}).finally(()=>{W&&y.removeMessageHandler(W)})})()}}function ln(){return window}function xp(){return typeof ln().WorkerGlobalScope<"u"&&"function"==typeof ln().importScripts}function Rp(){return(Rp=(0,S.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nd="firebaseLocalStorageDb",Ky=1,Tl="firebaseLocalStorage",Yy="fbase_key";class Sl{constructor(u){this.request=u}toPromise(){return new Promise((u,h)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Al(p,u){return p.transaction([Tl],u?"readwrite":"readonly").objectStore(Tl)}function Fd(){const p=indexedDB.open(Nd,Ky);return new Promise((u,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(Tl,{keyPath:Yy})}catch(y){h(y)}}),p.addEventListener("success",(0,S.Z)(function*(){const m=p.result;m.objectStoreNames.contains(Tl)?u(m):(m.close(),yield function Zy(){const p=indexedDB.deleteDatabase(Nd);return new Sl(p).toPromise()}(),u(yield Fd()))}))})}function Pp(p,u,h){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,S.Z)(function*(p,u,h){const m=Al(p,!0).put({[Yy]:u,value:h});return new Sl(m).toPromise()})).apply(this,arguments)}function Op(){return(Op=(0,S.Z)(function*(p,u){const h=Al(p,!1).get(u),m=yield new Sl(h).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Qy(p,u){const h=Al(p,!0).delete(u);return new Sl(h).toPromise()}const Dl=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.Z)(function*(){return h.db||(h.db=yield Fd()),h.db})()}_withRetries(h){var m=this;return(0,S.Z)(function*(){let y=0;for(;;)try{const I=yield m._openDb();return yield h(I)}catch(I){if(y++>3)throw I;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.Z)(function*(){return xp()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.Z)(function*(){h.receiver=ti._getInstance(function Mp(){return xp()?self:null}()),h.receiver._subscribe("keyChanged",function(){var m=(0,S.Z)(function*(y,I){return{keyProcessed:(yield h._poll()).includes(I.key)}});return function(y,I){return m.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var m=(0,S.Z)(function*(y,I){return["keyChanged"]});return function(y,I){return m.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.Z)(function*(){var m,y;if(h.activeServiceWorker=yield function qy(){return Rp.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Gy(h.activeServiceWorker);const I=yield h.sender._send("ping",{},800);I&&null!==(m=I[0])&&void 0!==m&&m.fulfilled&&null!==(y=I[0])&&void 0!==y&&y.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var m=this;return(0,S.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function jI(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:h},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Fd();return yield Pp(h,Gs,"1"),yield Qy(h,Gs),!0}catch{}return!1})()}_withPendingWrite(h){var m=this;return(0,S.Z)(function*(){m.pendingWrites++;try{yield h()}finally{m.pendingWrites--}})()}_set(h,m){var y=this;return(0,S.Z)(function*(){return y._withPendingWrite((0,S.Z)(function*(){return yield y._withRetries(I=>Pp(I,h,m)),y.localCache[h]=m,y.notifyServiceWorker(h)}))})()}_get(h){var m=this;return(0,S.Z)(function*(){const y=yield m._withRetries(I=>function kp(p,u){return Op.apply(this,arguments)}(I,h));return m.localCache[h]=y,y})()}_remove(h){var m=this;return(0,S.Z)(function*(){return m._withPendingWrite((0,S.Z)(function*(){return yield m._withRetries(y=>Qy(y,h)),delete m.localCache[h],m.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.Z)(function*(){const m=yield h._withRetries(k=>{const W=Al(k,!1).getAll();return new Sl(W).toPromise()});if(!m)return[];if(0!==h.pendingWrites)return[];const y=[],I=new Set;for(const{fbase_key:k,value:W}of m)I.add(k),JSON.stringify(h.localCache[k])!==JSON.stringify(W)&&(h.notifyListeners(k,W),y.push(k));for(const k of Object.keys(h.localCache))h.localCache[k]&&!I.has(k)&&(h.notifyListeners(k,null),y.push(k));return y})()}notifyListeners(h,m){this.localCache[h]=m;const y=this.listeners[h];if(y)for(const I of Array.from(y))I(m)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Pa=1e12;class Vd{constructor(u){this.auth=u,this.counter=Pa,this._widgets=new Map}render(u,h){const m=this.counter;return this._widgets.set(m,new Bd(u,this.auth.name,h||{})),this.counter++,m}reset(u){var h;const m=u||Pa;null===(h=this._widgets.get(m))||void 0===h||h.delete(),this._widgets.delete(m)}getResponse(u){var h;return(null===(h=this._widgets.get(u||Pa))||void 0===h?void 0:h.getResponse())||""}execute(u){var h=this;return(0,S.Z)(function*(){var m;return null===(m=h._widgets.get(u||Pa))||void 0===m||m.execute(),""})()}}class Bd{constructor(u,h,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const y="string"==typeof u?document.getElementById(u):u;ne(y,"argument-error",{appName:h}),this.container=y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fp(p){const u=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)u.push(h.charAt(Math.floor(Math.random()*h.length)));return u.join("")}(50);const{callback:u,"expired-callback":h}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ud=my("rcb"),GI=new pi(3e4,6e4);class Zc{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=ln().grecaptcha)||void 0===u||!u.render)}load(u,h=""){return ne(function qI(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),u,"argument-error"),this.shouldResolveImmediately(h)&&Qn(ln().grecaptcha)?Promise.resolve(ln().grecaptcha):new Promise((m,y)=>{const I=ln().setTimeout(()=>{y(Gt(u,"network-request-failed"))},GI.get());ln()[Ud]=()=>{ln().clearTimeout(I),delete ln()[Ud];const W=ln().grecaptcha;if(!W||!Qn(W))return void y(Gt(u,"internal-error"));const ee=W.render;W.render=(Se,Ve)=>{const Rt=ee(Se,Ve);return this.counter++,Rt},this.hostLanguage=h,m(W)},py(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Ud,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(I),y(Gt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var h;return!(null===(h=ln().grecaptcha)||void 0===h||!h.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uk{load(u){return(0,S.Z)(function*(){return new Vd(u)})()}clearedOneInstance(){}}const jd="recaptcha",jk={theme:"light",type:"image"};class KI{constructor(u,h,m=Object.assign({},jk)){this.parameters=m,this.type=jd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(u),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const y="string"==typeof h?document.getElementById(h):h;ne(y,this.auth,"argument-error"),this.container=y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uk:new Zc,this.validateStartingState()}verify(){var u=this;return(0,S.Z)(function*(){u.assertNotDestroyed();const h=yield u.render(),m=u.getAssertedRecaptcha();return m.getResponse(h)||new Promise(I=>{const k=W=>{W&&(u.tokenChangeListeners.delete(k),I(W))};u.tokenChangeListeners.add(k),u.isInvisible&&m.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return h=>{if(this.tokenChangeListeners.forEach(m=>m(h)),"function"==typeof u)u(h);else if("string"==typeof u){const m=ln()[u];"function"==typeof m&&m(h)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,S.Z)(function*(){if(yield u.init(),!u.widgetId){let h=u.container;if(!u.isInvisible){const m=document.createElement("div");h.appendChild(m),h=m}u.widgetId=u.getAssertedRecaptcha().render(h,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,S.Z)(function*(){ne(Pn()&&!xp(),u.auth,"internal-error"),yield function YI(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const h=yield function mi(p){return qi.apply(this,arguments)}(u.auth);ne(h,u.auth,"internal-error"),u.parameters.sitekey=h})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xy{constructor(u,h){this.verificationId=u,this.onConfirmation=h}confirm(u){const h=Xr._fromVerification(this.verificationId,u);return this.onConfirmation(h)}}function Hk(p,u,h){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,S.Z)(function*(p,u,h){const m=On(p),y=yield Jc(m,u,(0,Y.m9)(h));return new Xy(y,I=>ar(m,I))})).apply(this,arguments)}function Jy(p,u,h){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p);yield Ca(!1,m,"phone");const y=yield Jc(m.auth,u,(0,Y.m9)(h));return new Xy(y,I=>Aa(m,I))})).apply(this,arguments)}function Xc(p,u,h){return zd.apply(this,arguments)}function zd(){return(zd=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p),y=yield Jc(m.auth,u,(0,Y.m9)(h));return new Xy(y,I=>El(m,I))})).apply(this,arguments)}function Jc(p,u,h){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,S.Z)(function*(p,u,h){var m;const y=yield h.verify();try{let I;if(ne("string"==typeof y,p,"argument-error"),ne(h.type===jd,p,"argument-error"),I="string"==typeof u?{phoneNumber:u}:u,"session"in I){const k=I.session;if("phoneNumber"in I)return ne("enroll"===k.type,p,"internal-error"),(yield function FI(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:start",z(p,u))}(p,{idToken:k.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:y}})).phoneSessionInfo.sessionInfo;{ne("signin"===k.type,p,"internal-error");const W=(null===(m=I.multiFactorHint)||void 0===m?void 0:m.uid)||I.multiFactorUid;return ne(W,p,"missing-multi-factor-info"),(yield function HI(p,u){return X(p,"POST","/v2/accounts/mfaSignIn:start",z(p,u))}(p,{mfaPendingCredential:k.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:k}=yield function mo(p,u){return Zi.apply(this,arguments)}(p,{phoneNumber:I.phoneNumber,recaptchaToken:y});return k}}finally{h._reset()}}),Rl.apply(this,arguments)}function ZI(p,u){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,S.Z)(function*(p,u){yield Sn((0,Y.m9)(p),u)})).apply(this,arguments)}let Lp=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=On(h)}verifyPhoneNumber(h,m){return Jc(this.auth,h,(0,Y.m9)(m))}static credential(h,m){return Xr._fromVerification(h,m)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:m,temporaryProof:y}=h;return m&&y?Xr._fromTokenResponse(m,y):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Ks(p,u){return u?H(u):(ne(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class ev extends gl{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Ni(u,this._buildIdpRequest())}_linkToIdToken(u,h){return Ni(u,this._buildIdpRequest(h))}_getReauthenticationResolver(u){return Ni(u,this._buildIdpRequest())}_buildIdpRequest(u){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(h.idToken=u),h}}function tv(p){return Ep(p.auth,new ev(p),p.bypassAuthState)}function nv(p){const{auth:u,user:h}=p;return ne(h,u,"internal-error"),Ad(h,new ev(p),p.bypassAuthState)}function QI(p){return ns.apply(this,arguments)}function ns(){return(ns=(0,S.Z)(function*(p){const{auth:u,user:h}=p;return ne(h,u,"internal-error"),Sn(h,new ev(p),p.bypassAuthState)})).apply(this,arguments)}class rv{constructor(u,h,m,y,I=!1){this.auth=u,this.resolver=m,this.user=y,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var u=this;return new Promise(function(){var h=(0,S.Z)(function*(m,y){u.pendingPromise={resolve:m,reject:y};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(I){u.reject(I)}});return function(m,y){return h.apply(this,arguments)}}())}onAuthEvent(u){var h=this;return(0,S.Z)(function*(){const{urlResponse:m,sessionId:y,postBody:I,tenantId:k,error:W,type:ee}=u;if(W)return void h.reject(W);const Se={auth:h.auth,requestUri:m,sessionId:y,tenantId:k||void 0,postBody:I||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ee)(Se))}catch(Ve){h.reject(Ve)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return tv;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return nv;default:mt(this.auth,"internal-error")}}resolve(u){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $d=new pi(2e3,1e4);function Vp(p,u,h){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,S.Z)(function*(p,u,h){const m=On(p);Zn(p,u,go);const y=Ks(m,h);return new qd(m,"signInViaPopup",u,y).executeNotNull()})).apply(this,arguments)}function Bp(p,u,h){return eu.apply(this,arguments)}function eu(){return(eu=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p);Zn(m.auth,u,go);const y=Ks(m.auth,h);return new qd(m.auth,"reauthViaPopup",u,y,m).executeNotNull()})).apply(this,arguments)}function XI(p,u,h){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p);Zn(m.auth,u,go);const y=Ks(m.auth,h);return new qd(m.auth,"linkViaPopup",u,y,m).executeNotNull()})).apply(this,arguments)}let qd=(()=>{class p extends rv{constructor(h,m,y,I,k){super(h,m,I,k),this.provider=y,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.Z)(function*(){const m=yield h.execute();return ne(m,h.auth,"internal-error"),m})()}onExecution(){var h=this;return(0,S.Z)(function*(){rn(1===h.filter.length,"Popup operations only handle one event");const m=Li();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],m),h.authWindow.associatedEvent=m,h.resolver._originValidation(h.auth).catch(y=>{h.reject(y)}),h.resolver._isIframeWebStorageSupported(h.auth,y=>{y||h.reject(Gt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var m,y;this.pollId=null!==(y=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==y&&y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,$d.get())};h()}}return p.currentPopupAction=null,p})();const iv="pendingRedirect",Pl=new Map;class JI extends rv{constructor(u,h,m=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,m),this.eventId=null}execute(){var u=()=>super.execute,h=this;return(0,S.Z)(function*(){let m=Pl.get(h.auth._key());if(!m){try{const I=(yield function Kd(p,u){return vo.apply(this,arguments)}(h.resolver,h.auth))?yield u().call(h):null;m=()=>Promise.resolve(I)}catch(y){m=()=>Promise.reject(y)}Pl.set(h.auth._key(),m)}return h.bypassAuthState||Pl.set(h.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(u){var h=()=>super.onAuthEvent,m=this;return(0,S.Z)(function*(){if("signInViaRedirect"===u.type)return h().call(m,u);if("unknown"!==u.type){if(u.eventId){const y=yield m.auth._redirectUserForId(u.eventId);if(y)return m.user=y,h().call(m,u);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function vo(){return(vo=(0,S.Z)(function*(p,u){const h=lr(u),m=ov(p);if(!(yield m._isAvailable()))return!1;const y="true"===(yield m._get(h));return yield m._remove(h),y})).apply(this,arguments)}function Up(p,u){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,S.Z)(function*(p,u){return ov(p)._set(lr(u),"true")})).apply(this,arguments)}function sv(){Pl.clear()}function ka(p,u){Pl.set(p._key(),u)}function ov(p){return H(p._redirectPersistence)}function lr(p){return ze(iv,p.config.apiKey,p.name)}function jp(p,u,h){return function eC(p,u,h){return Zd.apply(this,arguments)}(p,u,h)}function Zd(){return(Zd=(0,S.Z)(function*(p,u,h){const m=On(p);Zn(p,u,go),yield m._initializationPromise;const y=Ks(m,h);return yield Up(y,m),y._openRedirect(m,u,"signInViaRedirect")})).apply(this,arguments)}function tu(p,u,h){return function kl(p,u,h){return Go.apply(this,arguments)}(p,u,h)}function Go(){return(Go=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p);Zn(m.auth,u,go),yield m.auth._initializationPromise;const y=Ks(m.auth,h);yield Up(y,m.auth);const I=yield tC(m);return y._openRedirect(m.auth,u,"reauthViaRedirect",I)})).apply(this,arguments)}function Ol(p,u,h){return function av(p,u,h){return nu.apply(this,arguments)}(p,u,h)}function nu(){return(nu=(0,S.Z)(function*(p,u,h){const m=(0,Y.m9)(p);Zn(m.auth,u,go),yield m.auth._initializationPromise;const y=Ks(m.auth,h);yield Ca(!1,m,u.providerId),yield Up(y,m.auth);const I=yield tC(m);return y._openRedirect(m.auth,u,"linkViaRedirect",I)})).apply(this,arguments)}function Nl(p,u){return lv.apply(this,arguments)}function lv(){return(lv=(0,S.Z)(function*(p,u){return yield On(p)._initializationPromise,Hp(p,u,!1)})).apply(this,arguments)}function Hp(p,u){return ae.apply(this,arguments)}function ae(){return(ae=(0,S.Z)(function*(p,u,h=!1){const m=On(p),y=Ks(m,u),k=yield new JI(m,y,h).execute();return k&&!h&&(delete k.user._redirectEventId,yield m._persistUserIfCurrent(k.user),yield m._setRedirectUser(null,u)),k})).apply(this,arguments)}function tC(p){return cv.apply(this,arguments)}function cv(){return(cv=(0,S.Z)(function*(p){const u=Li(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class nC{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let h=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(u,m)&&(h=!0,this.sendToConsumer(u,m),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function $k(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iC(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=u,h=!0)),h}sendToConsumer(u,h){var m;if(u.error&&!iC(u)){const y=(null===(m=u.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";h.onError(Gt(this.auth,y))}else h.onAuthEvent(u)}isEventForConsumer(u,h){const m=null===h.eventId||!!u.eventId&&u.eventId===h.eventId;return h.filter.includes(u.type)&&m}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rC(u))}saveEventToCache(u){this.cachedEventUids.add(rC(u)),this.lastProcessedEventTime=Date.now()}}function rC(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function iC({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function Fl(p){return uv.apply(this,arguments)}function uv(){return(uv=(0,S.Z)(function*(p,u={}){return X(p,"GET","/v1/projects",u)})).apply(this,arguments)}const Wk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cr=/^https?/;function Oa(){return(Oa=(0,S.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield Fl(p);for(const h of u)try{if(sC(h))return}catch{}mt(p,"unauthorized-domain")})).apply(this,arguments)}function sC(p){const u=Mn(),{protocol:h,hostname:m}=new URL(u);if(p.startsWith("chrome-extension://")){const k=new URL(p);return""===k.hostname&&""===m?"chrome-extension:"===h&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===h&&k.hostname===m}if(!cr.test(h))return!1;if(Wk.test(p))return m===p;const y=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+y+"|"+y+")$","i").test(m)}const rs=new pi(3e4,6e4);function qo(){const p=ln().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let Na=null;const oC=new pi(5e3,15e3),Gk="__/auth/iframe",aC="emulator/auth/iframe",qk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $p(p){const u=p.config;ne(u.authDomain,p,"auth-domain-config-required");const h=u.emulator?po(u,aC):`https://${p.config.authDomain}/${Gk}`,m={apiKey:u.apiKey,appName:p.name,v:O.SDK_VERSION},y=Vi.get(p.config.apiHost);y&&(m.eid=y);const I=p._getFrameworks();return I.length&&(m.fw=I.join(",")),`${h}?${(0,Y.xO)(m).slice(1)}`}function hv(){return hv=(0,S.Z)(function*(p){const u=yield function ru(p){return Na=Na||function dv(p){return new Promise((u,h)=>{var m,y,I;function k(){qo(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{qo(),h(Gt(p,"network-request-failed"))},timeout:rs.get()})}if(null!==(y=null===(m=ln().gapi)||void 0===m?void 0:m.iframes)&&void 0!==y&&y.Iframe)u(gapi.iframes.getContext());else{if(null===(I=ln().gapi)||void 0===I||!I.load){const W=my("iframefcb");return ln()[W]=()=>{gapi.load?k():h(Gt(p,"network-request-failed"))},py(`https://apis.google.com/js/api.js?onload=${W}`).catch(ee=>h(ee))}k()}}).catch(u=>{throw Na=null,u})}(p),Na}(p),h=ln().gapi;return ne(h,p,"internal-error"),u.open({where:document.body,url:$p(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qk,dontclear:!0},m=>new Promise(function(){var y=(0,S.Z)(function*(I,k){yield m.restyle({setHideOnLeave:!1});const W=Gt(p,"network-request-failed"),ee=ln().setTimeout(()=>{k(W)},oC.get());function Se(){ln().clearTimeout(ee),I(m)}m.ping(Se).then(Se,()=>{k(W)})});return function(I,k){return y.apply(this,arguments)}}()))}),hv.apply(this,arguments)}const fv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lC=500,cC=600,uC="_blank",dC="http://localhost";class pv{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qd="__/auth/handler",Xd="emulator/auth/handler",Ir=encodeURIComponent("fac");function Jd(p,u,h,m,y,I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,S.Z)(function*(p,u,h,m,y,I){ne(p.config.authDomain,p,"auth-domain-config-required"),ne(p.config.apiKey,p,"invalid-api-key");const k={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:m,v:O.SDK_VERSION,eventId:y};if(u instanceof go){u.setDefaultLanguage(p.languageCode),k.providerId=u.providerId||"",(0,Y.xb)(u.getCustomParameters())||(k.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Ve,Rt]of Object.entries(I||{}))k[Ve]=Rt}if(u instanceof Ot){const Ve=u.getScopes().filter(Rt=>""!==Rt);Ve.length>0&&(k.scopes=Ve.join(","))}p.tenantId&&(k.tid=p.tenantId);const W=k;for(const Ve of Object.keys(W))void 0===W[Ve]&&delete W[Ve];const ee=yield p._getAppCheckToken(),Se=ee?`#${Ir}=${encodeURIComponent(ee)}`:"";return`${function fC({config:p}){return p.emulator?po(p,Xd):`https://${p.authDomain}/${Qd}`}(p)}?${(0,Y.xO)(W).slice(1)}${Se}`})).apply(this,arguments)}const eh="webStorageSupport",su=class iu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$y,this._completeRedirectFn=Hp,this._overrideRedirectResult=ka}_openPopup(u,h,m,y){var I=this;return(0,S.Z)(function*(){var k;rn(null===(k=I.eventManagers[u._key()])||void 0===k?void 0:k.manager,"_initialize() not called before _openPopup()");const W=yield Jd(u,h,m,Mn(),y);return function hC(p,u,h,m=lC,y=cC){const I=Math.max((window.screen.availHeight-y)/2,0).toString(),k=Math.max((window.screen.availWidth-m)/2,0).toString();let W="";const ee=Object.assign(Object.assign({},fv),{width:m.toString(),height:y.toString(),top:I,left:k}),Se=(0,Y.z$)().toLowerCase();h&&(W=vr(Se)?uC:h),me(Se)&&(u=u||dC,ee.scrollbars="yes");const Ve=Object.entries(ee).reduce((Bi,[La,nh])=>`${Bi}${La}=${nh},`,"");if(function pt(p=(0,Y.z$)()){var u;return re(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Se)&&"_self"!==W)return function Wp(p,u){const h=document.createElement("a");h.href=p,h.target=u;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(m)}(u||"",W),new pv(null);const Rt=window.open(u||"",W,Ve);ne(Rt,p,"popup-blocked");try{Rt.focus()}catch{}return new pv(Rt)}(u,W,Li())})()}_openRedirect(u,h,m,y){var I=this;return(0,S.Z)(function*(){return yield I._originValidation(u),function yo(p){ln().location.href=p}(yield Jd(u,h,m,Mn(),y)),new Promise(()=>{})})()}_initialize(u){const h=u._key();if(this.eventManagers[h]){const{manager:y,promise:I}=this.eventManagers[h];return y?Promise.resolve(y):(rn(I,"If manager is not set, promise should be"),I)}const m=this.initAndGetManager(u);return this.eventManagers[h]={promise:m},m.catch(()=>{delete this.eventManagers[h]}),m}initAndGetManager(u){var h=this;return(0,S.Z)(function*(){const m=yield function Ll(p){return hv.apply(this,arguments)}(u),y=new nC(u);return m.register("authEvent",I=>(ne(I?.authEvent,u,"invalid-auth-event"),{status:y.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[u._key()]={manager:y},h.iframes[u._key()]=m,y})()}_isIframeWebStorageSupported(u,h){this.iframes[u._key()].send(eh,{type:eh},y=>{var I;const k=null===(I=y?.[0])||void 0===I?void 0:I[eh];void 0!==k&&h(!!k),mt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const h=u._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function zp(p){return Oa.apply(this,arguments)}(u)),this.originValidationPromises[h]}get _shouldInitProactively(){return br()||et()||re()}};class mv{constructor(u){this.factorId=u}_process(u,h,m){switch(h.type){case"enroll":return this._finalizeEnroll(u,h.credential,m);case"signin":return this._finalizeSignIn(u,h.credential);default:return Ct("unexpected MultiFactorSessionType")}}}class Gp extends mv{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Gp(u)}_finalizeEnroll(u,h,m){return function LI(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:finalize",z(p,u))}(u,{idToken:h,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,h){return function Np(p,u){return X(p,"POST","/v2/accounts/mfaSignIn:finalize",z(p,u))}(u,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pC=(()=>{class p{constructor(){}static assertion(h){return Gp._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var Kp="@firebase/auth";class Kk{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var h=this;return(0,S.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const h=this.auth.onIdTokenChanged(m=>{u(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,h),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const h=this.internalListeners.get(u);h&&(this.internalListeners.delete(u),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Y.Pz)("authIdTokenMaxAge"),function gC(p){(0,O._registerComponent)(new hn.wA("auth",(u,{options:h})=>{const m=u.getProvider("app").getImmediate(),y=u.getProvider("heartbeat"),I=u.getProvider("app-check-internal"),{apiKey:k,authDomain:W}=m.options;ne(k&&!k.includes(":"),"invalid-api-key",{appName:m.name});const ee={apiKey:k,authDomain:W,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(p)},Se=new Ck(m,y,I,ee);return function yy(p,u){const h=u?.persistence||[],m=(Array.isArray(h)?h:[h]).map(H);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(m,u?.popupRedirectResolver)}(Se,h),Se},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,h,m)=>{u.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new hn.wA("auth-internal",u=>{const h=On(u.getProvider("auth").getImmediate());return new Kk(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Kp,"1.4.0",function mC(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,O.registerVersion)(Kp,"1.4.0","esm2017")}("Browser")},90:(Bs,rr,Be)=>{Be.d(rr,{BH:()=>Ri,DV:()=>yr,Dv:()=>gi,GJ:()=>Qn,L:()=>Dt,LL:()=>Z,P0:()=>In,Pz:()=>Gt,Sg:()=>Zn,UG:()=>Ct,UI:()=>qi,US:()=>hn,Wj:()=>mn,Wl:()=>Oe,Yr:()=>pi,ZB:()=>De,ZR:()=>X,aH:()=>mt,b$:()=>Pn,cI:()=>ce,dS:()=>_s,eu:()=>q,g5:()=>O,gK:()=>kn,gQ:()=>Rr,h$:()=>Xt,hl:()=>$,hu:()=>Y,jU:()=>rn,lb:()=>Cn,m9:()=>zs,ne:()=>Mi,p$:()=>oe,pd:()=>gs,r3:()=>sr,ru:()=>Mn,tV:()=>Q,uI:()=>ne,ug:()=>Ki,vZ:()=>Us,w1:()=>ps,w9:()=>pn,xO:()=>Hs,xb:()=>mi,z$:()=>lt,zd:()=>ms});const S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Y=function(M,x){if(!M)throw O(x)},O=function(M){return new Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+M)},Me=function(M){const x=[];let E=0;for(let C=0;C<M.length;C++){let b=M.charCodeAt(C);b<128?x[E++]=b:b<2048?(x[E++]=b>>6|192,x[E++]=63&b|128):55296==(64512&b)&&C+1<M.length&&56320==(64512&M.charCodeAt(C+1))?(b=65536+((1023&b)<<10)+(1023&M.charCodeAt(++C)),x[E++]=b>>18|240,x[E++]=b>>12&63|128,x[E++]=b>>6&63|128,x[E++]=63&b|128):(x[E++]=b>>12|224,x[E++]=b>>6&63|128,x[E++]=63&b|128)}return x},hn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(M,x){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let b=0;b<M.length;b+=3){const F=M[b],H=b+1<M.length,Ie=H?M[b+1]:0,_e=b+2<M.length,ze=_e?M[b+2]:0;let me=(15&Ie)<<2|ze>>6,et=63&ze;_e||(et=64,H||(me=64)),C.push(E[F>>2],E[(3&F)<<4|Ie>>4],E[me],E[et])}return C.join("")},encodeString(M,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(M):this.encodeByteArray(Me(M),x)},decodeString(M,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(M):function(M){const x=[];let E=0,C=0;for(;E<M.length;){const b=M[E++];if(b<128)x[C++]=String.fromCharCode(b);else if(b>191&&b<224){const F=M[E++];x[C++]=String.fromCharCode((31&b)<<6|63&F)}else if(b>239&&b<365){const _e=((7&b)<<18|(63&M[E++])<<12|(63&M[E++])<<6|63&M[E++])-65536;x[C++]=String.fromCharCode(55296+(_e>>10)),x[C++]=String.fromCharCode(56320+(1023&_e))}else{const F=M[E++],H=M[E++];x[C++]=String.fromCharCode((15&b)<<12|(63&F)<<6|63&H)}}return x.join("")}(this.decodeStringToByteArray(M,x))},decodeStringToByteArray(M,x){this.init_();const E=x?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let b=0;b<M.length;){const F=E[M.charAt(b++)],Ie=b<M.length?E[M.charAt(b)]:0;++b;const ze=b<M.length?E[M.charAt(b)]:64;++b;const ve=b<M.length?E[M.charAt(b)]:64;if(++b,null==F||null==Ie||null==ze||null==ve)throw new jn;C.push(F<<2|Ie>>4),64!==ze&&(C.push(Ie<<4&240|ze>>2),64!==ve&&C.push(ze<<6&192|ve))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class jn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xt=function(M){const x=Me(M);return hn.encodeByteArray(x,!0)},Dt=function(M){return Xt(M).replace(/\./g,"")},Q=function(M){try{return hn.decodeString(M,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function oe(M){return De(void 0,M)}function De(M,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===M&&(M={});break;case Array:M=[];break;default:return x}for(const E in x)!x.hasOwnProperty(E)||!Je(E)||(M[E]=De(M[E],x[E]));return M}function Je(M){return"__proto__"!==M}const Ze=()=>{try{return function kt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const M=process.env.__FIREBASE_DEFAULTS__;return M?JSON.parse(M):void 0})()||(()=>{if(typeof document>"u")return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=M&&Q(M[1]);return x&&JSON.parse(x)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},In=M=>{const x=(M=>{var x,E;return null===(E=null===(x=Ze())||void 0===x?void 0:x.emulatorHosts)||void 0===E?void 0:E[M]})(M);if(!x)return;const E=x.lastIndexOf(":");if(E<=0||E+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const C=parseInt(x.substring(E+1),10);return"["===x[0]?[x.substring(1,E-1),C]:[x.substring(0,E),C]},mt=()=>{var M;return null===(M=Ze())||void 0===M?void 0:M.config},Gt=M=>{var x;return null===(x=Ze())||void 0===x?void 0:x[`_${M}`]};class Ri{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,E)=>{this.resolve=x,this.reject=E})}wrapCallback(x){return(E,C)=>{E?this.reject(E):this.resolve(C),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(E):x(E,C))}}}function Zn(M,x){if(M.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const C=x||"demo-project",b=M.iat||0,F=M.sub||M.user_id;if(!F)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const H=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:b,exp:b+3600,auth_time:b,sub:F,user_id:F,firebase:{sign_in_provider:"custom",identities:{}}},M);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(H)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Ct(){var M;const x=null===(M=Ze())||void 0===M?void 0:M.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rn(){return"object"==typeof self&&self.self===self}function Mn(){const M="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof M&&void 0!==M.id}function Pn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ps(){const M=lt();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function pi(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN}function $(){try{return"object"==typeof indexedDB}catch{return!1}}function q(){return new Promise((M,x)=>{try{let E=!0;const C="validate-browser-context-for-indexeddb-analytics-module",b=self.indexedDB.open(C);b.onsuccess=()=>{b.result.close(),E||self.indexedDB.deleteDatabase(C),M(!0)},b.onupgradeneeded=()=>{E=!1},b.onerror=()=>{var F;x((null===(F=b.error)||void 0===F?void 0:F.message)||"")}}catch(E){x(E)}})}class X extends Error{constructor(x,E,C){super(E),this.code=x,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(x,E,C){this.service=x,this.serviceName=E,this.errors=C}create(x,...E){const C=E[0]||{},b=`${this.service}/${x}`,F=this.errors[x],H=F?function he(M,x){return M.replace(ft,(E,C)=>{const b=x[C];return null!=b?String(b):`<${C}?>`})}(F,C):"Error";return new X(b,`${this.serviceName}: ${H} (${b}).`,C)}}const ft=/\{\$([^}]+)}/g;function ce(M){return JSON.parse(M)}function Oe(M){return JSON.stringify(M)}const Tt=function(M){let x={},E={},C={},b="";try{const F=M.split(".");x=ce(Q(F[0])||""),E=ce(Q(F[1])||""),b=F[2],C=E.d||{},delete E.d}catch{}return{header:x,claims:E,data:C,signature:b}},pn=function(M){const E=Tt(M).claims;return!!E&&"object"==typeof E&&E.hasOwnProperty("iat")},Qn=function(M){const x=Tt(M).claims;return"object"==typeof x&&!0===x.admin};function sr(M,x){return Object.prototype.hasOwnProperty.call(M,x)}function yr(M,x){if(Object.prototype.hasOwnProperty.call(M,x))return M[x]}function mi(M){for(const x in M)if(Object.prototype.hasOwnProperty.call(M,x))return!1;return!0}function qi(M,x,E){const C={};for(const b in M)Object.prototype.hasOwnProperty.call(M,b)&&(C[b]=x.call(E,M[b],b,M));return C}function Us(M,x){if(M===x)return!0;const E=Object.keys(M),C=Object.keys(x);for(const b of E){if(!C.includes(b))return!1;const F=M[b],H=x[b];if(ut(F)&&ut(H)){if(!Us(F,H))return!1}else if(F!==H)return!1}for(const b of C)if(!E.includes(b))return!1;return!0}function ut(M){return null!==M&&"object"==typeof M}function Hs(M){const x=[];for(const[E,C]of Object.entries(M))Array.isArray(C)?C.forEach(b=>{x.push(encodeURIComponent(E)+"="+encodeURIComponent(b))}):x.push(encodeURIComponent(E)+"="+encodeURIComponent(C));return x.length?"&"+x.join("&"):""}function ms(M){const x={};return M.replace(/^\?/,"").split("&").forEach(C=>{if(C){const[b,F]=C.split("=");x[decodeURIComponent(b)]=decodeURIComponent(F)}}),x}function gs(M){const x=M.indexOf("?");if(!x)return"";const E=M.indexOf("#",x);return M.substring(x,E>0?E:void 0)}class Rr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let x=1;x<this.blockSize;++x)this.pad_[x]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(x,E){E||(E=0);const C=this.W_;if("string"==typeof x)for(let ve=0;ve<16;ve++)C[ve]=x.charCodeAt(E)<<24|x.charCodeAt(E+1)<<16|x.charCodeAt(E+2)<<8|x.charCodeAt(E+3),E+=4;else for(let ve=0;ve<16;ve++)C[ve]=x[E]<<24|x[E+1]<<16|x[E+2]<<8|x[E+3],E+=4;for(let ve=16;ve<80;ve++){const me=C[ve-3]^C[ve-8]^C[ve-14]^C[ve-16];C[ve]=4294967295&(me<<1|me>>>31)}let ze,xt,b=this.chain_[0],F=this.chain_[1],H=this.chain_[2],Ie=this.chain_[3],_e=this.chain_[4];for(let ve=0;ve<80;ve++){ve<40?ve<20?(ze=Ie^F&(H^Ie),xt=1518500249):(ze=F^H^Ie,xt=1859775393):ve<60?(ze=F&H|Ie&(F|H),xt=2400959708):(ze=F^H^Ie,xt=3395469782);const me=(b<<5|b>>>27)+ze+_e+xt+C[ve]&4294967295;_e=Ie,Ie=H,H=4294967295&(F<<30|F>>>2),F=b,b=me}this.chain_[0]=this.chain_[0]+b&4294967295,this.chain_[1]=this.chain_[1]+F&4294967295,this.chain_[2]=this.chain_[2]+H&4294967295,this.chain_[3]=this.chain_[3]+Ie&4294967295,this.chain_[4]=this.chain_[4]+_e&4294967295}update(x,E){if(null==x)return;void 0===E&&(E=x.length);const C=E-this.blockSize;let b=0;const F=this.buf_;let H=this.inbuf_;for(;b<E;){if(0===H)for(;b<=C;)this.compress_(x,b),b+=this.blockSize;if("string"==typeof x){for(;b<E;)if(F[H]=x.charCodeAt(b),++H,++b,H===this.blockSize){this.compress_(F),H=0;break}}else for(;b<E;)if(F[H]=x[b],++H,++b,H===this.blockSize){this.compress_(F),H=0;break}}this.inbuf_=H,this.total_+=E}digest(){const x=[];let E=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let b=this.blockSize-1;b>=56;b--)this.buf_[b]=255&E,E/=256;this.compress_(this.buf_);let C=0;for(let b=0;b<5;b++)for(let F=24;F>=0;F-=8)x[C]=this.chain_[b]>>F&255,++C;return x}}function Mi(M,x){const E=new Pi(M,x);return E.subscribe.bind(E)}class Pi{constructor(x,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{x(this)}).catch(C=>{this.error(C)})}next(x){this.forEachObserver(E=>{E.next(x)})}error(x){this.forEachObserver(E=>{E.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,E,C){let b;if(void 0===x&&void 0===E&&void 0===C)throw new Error("Missing Observer.");b=function Mr(M,x){if("object"!=typeof M||null===M)return!1;for(const E of x)if(E in M&&"function"==typeof M[E])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:E,complete:C},void 0===b.next&&(b.next=Lt),void 0===b.error&&(b.error=Lt),void 0===b.complete&&(b.complete=Lt);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch{}}),this.observers.push(b),F}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,x)}sendOne(x,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{E(this.observers[x])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lt(){}const gi=function(M,x,E,C){let b;if(C<x?b="at least "+x:C>E&&(b=0===E?"none":"no more than "+E),b)throw new Error(M+" failed: Was called with "+C+(1===C?" argument.":" arguments.")+" Expects "+b+".")};function kn(M,x){return`${M} failed: ${x} argument `}function mn(M,x,E,C){if((!C||E)&&"function"!=typeof E)throw new Error(kn(M,x)+"must be a valid function.")}function Cn(M,x,E,C){if((!C||E)&&("object"!=typeof E||null===E))throw new Error(kn(M,x)+"must be a valid context object.")}const _s=function(M){const x=[];let E=0;for(let C=0;C<M.length;C++){let b=M.charCodeAt(C);if(b>=55296&&b<=56319){const F=b-55296;C++,Y(C<M.length,"Surrogate pair missing trail surrogate."),b=65536+(F<<10)+(M.charCodeAt(C)-56320)}b<128?x[E++]=b:b<2048?(x[E++]=b>>6|192,x[E++]=63&b|128):b<65536?(x[E++]=b>>12|224,x[E++]=b>>6&63|128,x[E++]=63&b|128):(x[E++]=b>>18|240,x[E++]=b>>12&63|128,x[E++]=b>>6&63|128,x[E++]=63&b|128)}return x},Ki=function(M){let x=0;for(let E=0;E<M.length;E++){const C=M.charCodeAt(E);C<128?x++:C<2048?x+=2:C>=55296&&C<=56319?(x+=4,E++):x+=3}return x};function zs(M){return M&&M._delegate?M._delegate:M}},389:(Bs,rr,Be)=>{function S(n){return"function"==typeof n}function Y(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const O=Y(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Me(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(S(r))try{r()}catch(s){e=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Xt(s)}catch(o){e=e??[],o instanceof O?e=[...e,...o.errors]:e.push(o)}}if(e)throw new O(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Xt(e);else{if(e instanceof rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Me(t,e)}remove(e){const{_finalizers:t}=this;t&&Me(t,e),e instanceof rt&&e._removeParent(this)}}rt.EMPTY=(()=>{const n=new rt;return n.closed=!0,n})();const hn=rt.EMPTY;function jn(n){return n instanceof rt||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function Xt(n){S(n)?n():n.unsubscribe()}const Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Q={setTimeout(n,e,...t){const{delegate:r}=Q;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Q;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oe(n){Q.setTimeout(()=>{const{onUnhandledError:e}=Dt;if(!e)throw n;e(n)})}function De(){}const Je=vt("C",void 0,void 0);function vt(n,e,t){return{kind:n,value:e,error:t}}let Ye=null;function Ze(n){if(Dt.useDeprecatedSynchronousErrorHandling){const e=!Ye;if(e&&(Ye={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ye;if(Ye=null,t)throw r}}else n()}class In extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jn(e)&&e.add(this)):this.destination=rn}static create(e,t,r){return new Zn(e,t,r)}next(e){this.isStopped?Ct(function ir(n){return vt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ct(function kt(n){return vt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ct(Je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function Gt(n,e){return mt.call(n,e)}class Ri{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){lt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){lt(r)}else lt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){lt(t)}}}class Zn extends In{constructor(e,t,r){let i;if(super(),S(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Dt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gt(e.next,s),error:e.error&&Gt(e.error,s),complete:e.complete&&Gt(e.complete,s)}):i=e}this.destination=new Ri(i)}}function lt(n){Dt.useDeprecatedSynchronousErrorHandling?function _r(n){Dt.useDeprecatedSynchronousErrorHandling&&Ye&&(Ye.errorThrown=!0,Ye.error=n)}(n):oe(n)}function Ct(n,e){const{onStoppedNotification:t}=Dt;t&&Q.setTimeout(()=>t(n,e))}const rn={closed:!0,next:De,error:function ne(n){throw n},complete:De},Mn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pn(n){return n}function ps(n){return 0===n.length?Pn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let He=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function $(n){return n&&n instanceof In||function po(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&jn(n)}(t)?t:new Zn(t,r,i);return Ze(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=pi(r))((i,s)=>{const o=new Zn({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Mn](){return this}pipe(...t){return ps(t)(this)}toPromise(t){return new(t=pi(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function pi(n){var e;return null!==(e=n??Dt.Promise)&&void 0!==e?e:Promise}const q=Y(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let B=(()=>{class n extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new z(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new q}next(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?hn:(this.currentObservers=null,s.push(t),new rt(()=>{this.currentObservers=null,Me(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new He;return t.source=this,t}}return n.create=(e,t)=>new z(e,t),n})();class z extends B{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:hn}}function X(n){return S(n?.lift)}function Z(n){return e=>{if(X(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new ft(n,e,t,r,i)}class ft extends In{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(n,e){return Z((t,r)=>{let i=0;t.subscribe(he(r,s=>{r.next(n.call(e,s,i++))}))})}var Oe=Be(582);const Tt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fn(n){return S(n?.then)}function Jt(n){return S(n[Mn])}function pn(n){return Symbol.asyncIterator&&S(n?.[Symbol.asyncIterator])}function Qn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yr=function sr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mi(n){return S(n?.[yr])}function qi(n){return(0,Oe.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Oe.qq)(t.read());if(i)return yield(0,Oe.qq)(void 0);yield yield(0,Oe.qq)(r)}}finally{t.releaseLock()}})}function Us(n){return S(n?.getReader)}function ut(n){if(n instanceof He)return n;if(null!=n){if(Jt(n))return function js(n){return new He(e=>{const t=n[Mn]();if(S(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Tt(n))return function Hs(n){return new He(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(fn(n))return function ms(n){return new He(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oe)})}(n);if(pn(n))return Rr(n);if(mi(n))return function gs(n){return new He(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Us(n))return function Mi(n){return Rr(qi(n))}(n)}throw Qn(n)}function Rr(n){return new He(e=>{(function Pi(n,e){var t,r,i,s;return(0,Oe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Oe.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ki(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Lt(n,e,t=1/0){return S(e)?Lt((r,i)=>ce((s,o)=>e(r,s,i,o))(ut(n(r,i))),t):("number"==typeof e&&(t=e),Z((r,i)=>function Mr(n,e,t,r,i,s,o,a){const l=[];let c=0,d=0,f=!1;const g=()=>{f&&!l.length&&!c&&e.complete()},_=w=>c<r?v(w):l.push(w),v=w=>{s&&e.next(w),c++;let T=!1;ut(t(w,d++)).subscribe(he(e,P=>{i?.(P),s?_(P):e.next(P)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<r;){const P=l.shift();o?ki(e,o,()=>v(P)):v(P)}g()}catch(P){e.error(P)}}))};return n.subscribe(he(e,_,()=>{f=!0,g()})),()=>{a?.()}}(r,i,n,t)))}function gi(n=1/0){return Lt(Pn,n)}const kn=new He(n=>n.complete());function Cn(n){return n&&S(n.schedule)}function _s(n){return n[n.length-1]}function Ki(n){return S(_s(n))?n.pop():void 0}function ys(n){return Cn(_s(n))?n.pop():void 0}function Xn(n,e=0){return Z((t,r)=>{t.subscribe(he(r,i=>ki(r,n,()=>r.next(i),e),()=>ki(r,n,()=>r.complete(),e),i=>ki(r,n,()=>r.error(i),e)))})}function jr(n,e=0){return Z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zs(n,e){if(!n)throw new Error("Iterable cannot be null");return new He(t=>{ki(t,e,()=>{const r=n[Symbol.asyncIterator]();ki(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function E(n,e){return e?function x(n,e){if(null!=n){if(Jt(n))return function Oi(n,e){return ut(n).pipe(jr(e),Xn(e))}(n,e);if(Tt(n))return function Fo(n,e){return new He(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(fn(n))return function fl(n,e){return ut(n).pipe(jr(e),Xn(e))}(n,e);if(pn(n))return zs(n,e);if(mi(n))return function Ea(n,e){return new He(t=>{let r;return ki(t,e,()=>{r=n[yr](),ki(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}(n,e);if(Us(n))return function M(n,e){return zs(qi(n),e)}(n,e)}throw Qn(n)}(n,e):ut(n)}function C(...n){const e=ys(n),t=function or(n,e){return"number"==typeof _s(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ut(r[0]):gi(t)(E(r,e)):kn}function b(n={}){const{connector:e=(()=>new B),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,d=!1,f=!1;const g=()=>{a?.unsubscribe(),a=void 0},_=()=>{g(),o=l=void 0,d=f=!1},v=()=>{const w=o;_(),w?.unsubscribe()};return Z((w,T)=>{c++,!f&&!d&&g();const P=l=l??e();T.add(()=>{c--,0===c&&!f&&!d&&(a=F(v,i))}),P.subscribe(T),!o&&c>0&&(o=new Zn({next:N=>P.next(N),error:N=>{f=!0,g(),a=F(_,t,N),P.error(N)},complete:()=>{d=!0,g(),a=F(_,r),P.complete()}}),ut(w).subscribe(o))})(s)}}function F(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Zn({next:()=>{r.unsubscribe(),n()}});return ut(e(...t)).subscribe(r)}function H(n){for(let e in n)if(n[e]===H)return e;throw Error("Could not find renamed property on target object.")}function Ie(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function _e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ze(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const xt=H({__forward_ref__:H});function ve(n){return n.__forward_ref__=ve,n.toString=function(){return _e(this())},n}function me(n){return et(n)?n():n}function et(n){return"function"==typeof n&&n.hasOwnProperty(xt)&&n.__forward_ref__===ve}function vr(n){return n&&!!n.\u0275providers}const K="https://g.co/ng/security#xss";class D extends Error{constructor(e,t){super(te(e,t)),this.code=e}}function te(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function Tn(n,e){throw new D(-201,!1)}function Yi(n,e){null==n&&function jt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function de(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ml(n){return yy(n,Ed)||yy(n,by)}function yy(n,e){return n.hasOwnProperty(e)?n[e]:null}function hp(n){return n&&(n.hasOwnProperty(wd)||n.hasOwnProperty(gl))?n[wd]:null}const Ed=H({\u0275prov:H}),wd=H({\u0275inj:H}),by=H({ngInjectableDef:H}),gl=H({ngInjectorDef:H});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let zc;function _i(n){const e=zc;return zc=n,e}function Ey(n,e,t){const r=ml(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&je.Optional?null:void 0!==e?e:void Tn(_e(n))}const sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vo={},$c="__NG_DI_FLAG__",Id="ngTempTokenPath",fp="ngTokenPath",TI=/\n/gm,pp="\u0275",Ty="__source";let wa;function _l(n){const e=wa;return wa=n,e}function mp(n,e=je.Default){if(void 0===wa)throw new D(-203,!1);return null===wa?Ey(n,void 0,e):wa.get(n,e&je.Optional?null:void 0,e)}function U(n,e=je.Default){return(function CI(){return zc}()||mp)(me(n),e)}function We(n,e=je.Default){return U(n,yl(e))}function yl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ia(n){const e=[];for(let t=0;t<n.length;t++){const r=me(n[t]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=je.Default;for(let o=0;o<r.length;o++){const a=r[o],l=gp(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function Ni(n,e){return n[$c]=e,n.prototype[$c]=e,n}function gp(n){return n[$c]}function mo(n){return{toString:n}.toString()}var Zi=(()=>((Zi=Zi||{})[Zi.OnPush=0]="OnPush",Zi[Zi.Default=1]="Default",Zi))(),vs=(()=>{return(n=vs||(vs={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",vs;var n})();const bs={},Bt=[],vl=H({\u0275cmp:H}),_p=H({\u0275dir:H}),yp=H({\u0275pipe:H}),Td=H({\u0275mod:H}),Xr=H({\u0275fac:H}),Wc=H({__NG_ELEMENT_ID__:H});let AI=0;function Nn(n){return mo(()=>{const e=bp(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Zi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||vs.Emulated,id:"c"+AI++,styles:n.styles||Bt,_:null,schemas:n.schemas||null,tView:null};Sd(t);const r=n.dependencies;return t.directiveDefs=Jr(r,!1),t.pipeDefs=Jr(r,!0),t})}function vp(n){return Ht(n)||zn(n)}function go(n){return null!==n}function Ot(n){return mo(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Sy(n,e){if(null==n)return bs;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Le(n){return mo(()=>{const e=bp(n);return Sd(e),e})}function yi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ht(n){return n[vl]||null}function zn(n){return n[_p]||null}function vi(n){return n[yp]||null}function Fi(n,e){const t=n[Td]||null;if(!t&&!0===e)throw new Error(`Type ${_e(n)} does not have '\u0275mod' property.`);return t}function bp(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sy(n.inputs,e),outputs:Sy(n.outputs)}}function Sd(n){n.features?.forEach(e=>e(n))}function Jr(n,e){if(!n)return null;const t=e?vi:vp;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(go)}const Ws=0,we=1,tt=2,on=3,Qi=4,Bo=5,Hr=6,Uo=7,Sn=8,bl=9,Ca=10,it=11,Ad=12,Ta=13,Ep=14,jo=15,ar=16,Sa=17,Aa=18,Xi=19,El=20,Dd=21,an=22,wp=1,xd=2,Ho=7,wl=8,zo=9,Er=10;function ei(n){return Array.isArray(n)&&"object"==typeof n[wp]}function Es(n){return Array.isArray(n)&&!0===n[wp]}function qc(n){return 0!=(4&n.flags)}function Kc(n){return n.componentOffset>-1}function Il(n){return 1==(1&n.flags)}function ws(n){return!!n.template}function Ip(n){return 0!=(256&n[tt])}function Da(n,e){return n.hasOwnProperty(Xr)?n[Xr]:null}class Tp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ji(){return Md}function Md(n){return n.type.prototype.ngOnChanges&&(n.setInput=MI),RI}function RI(){const n=Pd(this),e=n?.current;if(e){const t=n.previous;if(t===bs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MI(n,e,t,r){const i=this.declaredInputs[t],s=Pd(n)||function PI(n,e){return n[Sp]=e}(n,{previous:bs,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Tp(l&&l.currentValue,e,a===bs),n[r]=e}Ji.ngInherit=!0;const Sp="__ngSimpleChanges__";function Pd(n){return n[Sp]||null}const es=function(n,e,t){},Vy="svg";function Pr(n){for(;Array.isArray(n);)n=n[Ws];return n}function Ap(n,e){return Pr(e[n])}function ts(n,e){return Pr(e[n.index])}function kd(n,e){return n.data[e]}function Cl(n,e){return n[e]}function bi(n,e){const t=e[n];return ei(t)?t:t[Ws]}function Dp(n){return 64==(64&n[tt])}function xa(n,e){return null==e?null:n[e]}function OI(n){n[Aa]=0}function Uy(n,e){n[Bo]+=e;let t=n,r=n[on];for(;null!==r&&(1===e&&1===t[Bo]||-1===e&&0===t[Bo]);)r[Bo]+=e,t=r,r=r[on]}const Qe={lFrame:Fd(null),bindingsEnabled:!0};function VI(){return Qe.bindingsEnabled}function J(){return Qe.lFrame.lView}function bt(){return Qe.lFrame.tView}function Ra(n){return Qe.lFrame.contextLView=n,n[Sn]}function Gs(n){return Qe.lFrame.contextLView=null,n}function wr(){let n=Hy();for(;null!==n&&64===n.type;)n=n.parent;return n}function Hy(){return Qe.lFrame.currentTNode}function qs(n,e){const t=Qe.lFrame;t.currentTNode=n,t.isParent=e}function zy(){return Qe.lFrame.isParent}function Od(){Qe.lFrame.isParent=!1}function ti(){const n=Qe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ln(){return Qe.lFrame.bindingIndex++}function yo(n){const e=Qe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Rp(n,e){const t=Qe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mp(e)}function Mp(n){Qe.lFrame.currentDirectiveIndex=n}function Nd(n){const e=Qe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Ky(){return Qe.lFrame.currentQueryIndex}function Tl(n){Qe.lFrame.currentQueryIndex=n}function Yy(n){const e=n[we];return 2===e.type?e.declTNode:1===e.type?n[Hr]:null}function Sl(n,e,t){if(t&je.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&je.Host||(i=Yy(s),null===i||(s=s[jo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Qe.lFrame=Zy();return r.currentTNode=e,r.lView=n,!0}function Al(n){const e=Zy(),t=n[we];Qe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Zy(){const n=Qe.lFrame,e=null===n?null:n.child;return null===e?Fd(n):e}function Fd(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Pp(){const n=Qe.lFrame;return Qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ld=Pp;function kp(){const n=Pp();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ni(){return Qe.lFrame.selectedIndex}function Ma(n){Qe.lFrame.selectedIndex=n}function Fn(){const n=Qe.lFrame;return kd(n.tView,n.selectedIndex)}function Dl(){Qe.lFrame.currentNamespace=Vy}function Np(){!function zI(){Qe.lFrame.currentNamespace=null}()}function Pa(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=d&&(n.destroyHooks??(n.destroyHooks=[])).push(t,d)}}function Vd(n,e,t){Ud(n,e,3,t)}function Bd(n,e,t,r){(3&n[tt])===t&&Ud(n,e,t,r)}function Fp(n,e){let t=n[tt];(3&t)===e&&(t&=2047,t+=1,n[tt]=t)}function Ud(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[Aa]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[Aa]+=65536),(a<s||-1==s)&&(GI(n,t,e,l),n[Aa]=(4294901760&n[Aa])+l+2),l++}function GI(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[tt]>>11<n[Aa]>>16&&(3&n[tt])===e){n[tt]+=2048,es(4,a,s);try{s.call(a)}finally{es(5,a,s)}}}else{es(4,a,s);try{s.call(a)}finally{es(5,a,s)}}}const xl=-1;class Zc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Qc(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Hd(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Jy(n){return 3===n||4===n||6===n}function Hd(n){return 64===n.charCodeAt(0)}function Xc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||zd(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function zd(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Jc(n){return n!==xl}function Rl(n){return 32767&n}function Ml(n,e){let t=function ZI(n){return n>>16}(n),r=e;for(;t>0;)r=r[jo],t--;return r}let Lp=!0;function Ks(n){const e=Lp;return Lp=n,e}const tv=255,nv=5;let QI=0;const ns={};function $d(n,e){const t=Wd(n,e);if(-1!==t)return t;const r=e[we];r.firstCreatePass&&(n.injectorIndex=e.length,Vp(r.data,n),Vp(e,null),Vp(r.blueprint,null));const i=Bp(n,e),s=n.injectorIndex;if(Jc(i)){const o=Rl(i),a=Ml(i,e),l=a[we].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Vp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Wd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Bp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Zd(i),null===r)return xl;if(t++,i=i[jo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return xl}function eu(n,e,t){!function rv(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Wc)&&(r=t[Wc]),null==r&&(r=t[Wc]=QI++);const i=r&tv;e.data[n+(i>>nv)]|=1<<i}(n,e,t)}function Gd(n,e,t){if(t&je.Optional||void 0!==n)return n;Tn()}function qd(n,e,t,r){if(t&je.Optional&&void 0===r&&(r=null),!(t&(je.Self|je.Host))){const i=n[bl],s=_i(void 0);try{return i?i.get(e,r,t&je.Optional):Ey(e,r,t&je.Optional)}finally{_i(s)}}return Gd(r,0,t)}function iv(n,e,t,r=je.Default,i){if(null!==n){if(1024&e[tt]){const o=function eC(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[tt]&&!(256&o[tt]);){const a=Pl(s,o,t,r|je.Self,ns);if(a!==ns)return a;let l=s.parent;if(!l){const c=o[Dd];if(c){const d=c.get(t,ns,r);if(d!==ns)return d}l=Zd(o),o=o[jo]}s=l}return i}(n,e,t,r,ns);if(o!==ns)return o}const s=Pl(n,e,t,r,ns);if(s!==ns)return s}return qd(e,t,r,i)}function Pl(n,e,t,r,i){const s=function Up(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Wc)?n[Wc]:void 0;return"number"==typeof e?e>=0?e&tv:ov:e}(t);if("function"==typeof s){if(!Sl(e,n,r))return r&je.Host?Gd(i,0,r):qd(e,t,r,i);try{const o=s(r);if(null!=o||r&je.Optional)return o;Tn()}finally{Ld()}}else if("number"==typeof s){let o=null,a=Wd(n,e),l=xl,c=r&je.Host?e[ar][Hr]:null;for((-1===a||r&je.SkipSelf)&&(l=-1===a?Bp(n,e):e[a+8],l!==xl&&sv(r,!1)?(o=e[we],a=Rl(l),e=Ml(l,e)):a=-1);-1!==a;){const d=e[we];if(Yd(s,a,d.data)){const f=JI(a,e,t,o,r,c);if(f!==ns)return f}l=e[a+8],l!==xl&&sv(r,e[we].data[a+8]===c)&&Yd(s,a,e)?(o=d,a=Rl(l),e=Ml(l,e)):a=-1}}return i}function JI(n,e,t,r,i,s){const o=e[we],a=o.data[n+8],d=Kd(a,o,t,null==r?Kc(a)&&Lp:r!=o&&0!=(3&a.type),i&je.Host&&s===a);return null!==d?vo(e,o,d,a):ns}function Kd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,d=s>>20,g=i?a+d:n.directiveEnd;for(let _=r?a:a+d;_<g;_++){const v=o[_];if(_<l&&t===v||_>=l&&v.type===t)return _}if(i){const _=o[l];if(_&&ws(_)&&_.type===t)return l}return null}function vo(n,e,t,r){let i=n[t];const s=e.data;if(function qI(n){return n instanceof Zc}(i)){const o=i;o.resolving&&function pt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}(s[t]));const a=Ks(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?_i(o.injectImpl):null;Sl(n,r,je.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function WI(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Md(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&_i(l),Ks(a),o.resolving=!1,Ld()}}return i}function Yd(n,e,t){return!!(t[e+(n>>nv)]&1<<n)}function sv(n,e){return!(n&je.Self||n&je.Host&&e)}class ka{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return iv(this._tNode,this._lView,e,yl(r),t)}}function ov(){return new ka(wr(),J())}function lr(n){return mo(()=>{const e=n.prototype.constructor,t=e[Xr]||jp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Xr]||jp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function jp(n){return et(n)?()=>{const e=jp(me(n));return e&&e()}:Da(n)}function Zd(n){const e=n[we],t=e.type;return 2===t?e.declTNode:1===t?n[Hr]:null}const Go="__parameters__";function Nl(n,e,t){return mo(()=>{const r=function nu(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,d){const f=l.hasOwnProperty(Go)?l[Go]:Object.defineProperty(l,Go,{value:[]})[Go];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ae{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=de({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qo(n,e){n.forEach(t=>Array.isArray(t)?qo(t,e):e(t))}function dv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Na(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ru(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Vi(n,e,t){let r=Ll(n,e);return r>=0?n[1|r]=t:(r=~r,function aC(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function $p(n,e){const t=Ll(n,e);if(t>=0)return n[1|t]}function Ll(n,e){return function fv(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Xd=Ni(Nl("Inject",n=>({token:n})),-1),Ir=Ni(Nl("Optional"),8),Ko=Ni(Nl("SkipSelf"),4);var ri=(()=>((ri=ri||{})[ri.Important=1]="Important",ri[ri.DashCase=2]="DashCase",ri))();const lu=new Map;let bC=0;const wC="__ngContext__";function Ei(n,e){ei(e)?(n[wC]=e[El],function r5(n){lu.set(n[El],n)}(e)):n[wC]=e}let IC;function CC(n,e){return IC(n,e)}function tm(n){const e=n[on];return Es(e)?e[on]:e}function TC(n){return nO(n[Ta])}function SC(n){return nO(n[Qi])}function nO(n){for(;null!==n&&!Es(n);)n=n[Qi];return n}function ih(n,e,t,r,i){if(null!=r){let s,o=!1;Es(r)?s=r:ei(r)&&(o=!0,r=r[Ws]);const a=Pr(r);0===n&&null!==t?null==i?lO(e,t,a):cu(e,t,a,i||null,!0):1===n&&null!==t?cu(e,t,a,i||null,!0):2===n?function kC(n,e,t){const r=Ev(n,e);r&&function C5(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function A5(n,e,t,r,i){const s=t[Ho];s!==Pr(t)&&ih(e,n,r,s,i);for(let a=Er;a<t.length;a++){const l=t[a];nm(l[we],l,n,e,r,s)}}(e,n,s,t,i)}}function DC(n,e,t){return n.createElement(e,t)}function iO(n,e){const t=n[zo],r=t.indexOf(e),i=e[on];512&e[tt]&&(e[tt]&=-513,Uy(i,-1)),t.splice(r,1)}function xC(n,e){if(n.length<=Er)return;const t=Er+e,r=n[t];if(r){const i=r[Sa];null!==i&&i!==n&&iO(i,r),e>0&&(n[t-1][Qi]=r[Qi]);const s=Na(n,Er+e);!function g5(n,e){nm(n,e,e[it],2,null,null),e[Ws]=null,e[Hr]=null}(r[we],r);const o=s[Xi];null!==o&&o.detachView(s[we]),r[on]=null,r[Qi]=null,r[tt]&=-65}return r}function sO(n,e){if(!(128&e[tt])){const t=e[it];t.destroyNode&&nm(n,e,t,3,null,null),function v5(n){let e=n[Ta];if(!e)return RC(n[we],n);for(;e;){let t=null;if(ei(e))t=e[Ta];else{const r=e[Er];r&&(t=r)}if(!t){for(;e&&!e[Qi]&&e!==n;)ei(e)&&RC(e[we],e),e=e[on];null===e&&(e=n),ei(e)&&RC(e[we],e),t=e&&e[Qi]}e=t}}(e)}}function RC(n,e){if(!(128&e[tt])){e[tt]&=-65,e[tt]|=128,function I5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Zc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];es(4,a,l);try{l.call(a)}finally{es(5,a,l)}}else{es(4,i,s);try{s.call(i)}finally{es(5,i,s)}}}}}(n,e),function w5(n,e){const t=n.cleanup,r=e[Uo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Uo]=null}}(n,e),1===e[we].type&&e[it].destroy();const t=e[Sa];if(null!==t&&Es(e[on])){t!==e[on]&&iO(t,e);const r=e[Xi];null!==r&&r.detachView(n)}!function s5(n){lu.delete(n[El])}(e)}}function oO(n,e,t){return function aO(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Ws];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===vs.None||s===vs.Emulated)return null}return ts(r,t)}}(n,e.parent,t)}function cu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lO(n,e,t){n.appendChild(e,t)}function cO(n,e,t,r,i){null!==r?cu(n,e,t,r,i):lO(n,e,t)}function Ev(n,e){return n.parentNode(e)}function uO(n,e,t){return hO(n,e,t)}let MC,Cv,FC,Tv,hO=function dO(n,e,t){return 40&n.type?ts(n,t):null};function wv(n,e,t,r){const i=oO(n,r,e),s=e[it],a=uO(r.parent||e[Hr],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)cO(s,i,t[l],a,!1);else cO(s,i,t,a,!1);void 0!==MC&&MC(s,r,e,t,i)}function Iv(n,e){if(null!==e){const t=e.type;if(3&t)return ts(e,n);if(4&t)return PC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Iv(n,r);{const i=n[e.index];return Es(i)?PC(-1,i):Pr(i)}}if(32&t)return CC(e,n)()||Pr(n[e.index]);{const r=pO(n,e);return null!==r?Array.isArray(r)?r[0]:Iv(tm(n[ar]),r):Iv(n,e.next)}}return null}function pO(n,e){return null!==e?n[ar][Hr].projection[e.projection]:null}function PC(n,e){const t=Er+n+1;if(t<e.length){const r=e[t],i=r[we].firstChild;if(null!==i)return Iv(r,i)}return e[Ho]}function OC(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Ei(Pr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)OC(n,e,t.child,r,i,s,!1),ih(e,n,i,a,s);else if(32&l){const c=CC(t,r);let d;for(;d=c();)ih(e,n,i,d,s);ih(e,n,i,a,s)}else 16&l?mO(n,e,r,t,i,s):ih(e,n,i,a,s);t=o?t.projectionNext:t.next}}function nm(n,e,t,r,i,s){OC(t,r,n.firstChild,e,i,s,!1)}function mO(n,e,t,r,i,s){const o=t[ar],l=o[Hr].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ih(e,n,i,l[c],s);else OC(n,e,l,o[on],i,s,!0)}function gO(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _O(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Qc(n,e,r),null!==i&&gO(n,e,i),null!==s&&function x5(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function sh(n){return function NC(){if(void 0===Cv&&(Cv=null,sn.trustedTypes))try{Cv=sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cv}()?.createHTML(n)||n}function vO(n){return function LC(){if(void 0===Tv&&(Tv=null,sn.trustedTypes))try{Tv=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tv}()?.createHTML(n)||n}class uu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${K})`}}class O5 extends uu{getTypeName(){return"HTML"}}class N5 extends uu{getTypeName(){return"Style"}}class F5 extends uu{getTypeName(){return"Script"}}class L5 extends uu{getTypeName(){return"URL"}}class V5 extends uu{getTypeName(){return"ResourceURL"}}function Is(n){return n instanceof uu?n.changingThisBreaksApplicationSecurity:n}function Yo(n,e){const t=function B5(n){return n instanceof uu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${K})`)}return t===e}class W5{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(sh(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class G5{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=sh(e),t}}const K5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sv(n){return(n=String(n)).match(K5)?n:"unsafe:"+n}function Va(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function rm(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const IO=Va("area,br,col,hr,img,wbr"),CO=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),TO=Va("rp,rt"),VC=rm(IO,rm(CO,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rm(TO,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rm(TO,CO)),BC=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SO=rm(BC,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y5=Va("script,style,template");class Z5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!VC.hasOwnProperty(t))return this.sanitizedSomething=!0,!Y5.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!SO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;BC[a]&&(l=Sv(l)),this.buf.push(" ",o,'="',AO(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();VC.hasOwnProperty(t)&&!IO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(AO(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Q5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,X5=/([^\#-~ |!])/g;function AO(n){return n.replace(/&/g,"&amp;").replace(Q5,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(X5,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Av;function DO(n,e){let t=null;try{Av=Av||function wO(n){const e=new G5(n);return function q5(){try{return!!(new window.DOMParser).parseFromString(sh(""),"text/html")}catch{return!1}}()?new W5(e):e}(n);let r=e?String(e):"";t=Av.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Av.getInertBodyElement(r)}while(r!==s);return sh((new Z5).sanitizeChildren(UC(t)||t))}finally{if(t){const r=UC(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function UC(n){return"content"in n&&function J5(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zt=(()=>((zt=zt||{})[zt.NONE=0]="NONE",zt[zt.HTML=1]="HTML",zt[zt.STYLE=2]="STYLE",zt[zt.SCRIPT=3]="SCRIPT",zt[zt.URL=4]="URL",zt[zt.RESOURCE_URL=5]="RESOURCE_URL",zt))();function jC(n){const e=function im(){const n=J();return n&&n[Ad]}();return e?vO(e.sanitize(zt.HTML,n)||""):Yo(n,"HTML")?vO(Is(n)):DO(function yO(){return void 0!==FC?FC:typeof document<"u"?document:void 0}(),re(n))}const Dv=new ae("ENVIRONMENT_INITIALIZER"),PO=new ae("INJECTOR",-1),kO=new ae("INJECTOR_DEF_TYPES");class OO{get(e,t=Vo){if(t===Vo){const r=new Error(`NullInjectorError: No provider for ${_e(e)}!`);throw r.name="NullInjectorError",r}return t}}function o8(...n){return{\u0275providers:NO(0,n),\u0275fromNgModule:!0}}function NO(n,...e){const t=[],r=new Set;let i;return qo(e,s=>{const o=s;HC(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&FO(i,t),t}function FO(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];zC(i,s=>{e.push(s)})}}function HC(n,e,t,r){if(!(n=me(n)))return!1;let i=null,s=hp(n);const o=!s&&Ht(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=hp(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)HC(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{qo(s.imports,d=>{HC(d,e,t,r)&&(c||(c=[]),c.push(d))})}finally{}void 0!==c&&FO(c,e)}if(!a){const c=Da(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Bt},{provide:kO,useValue:i,multi:!0},{provide:Dv,useValue:()=>U(i),multi:!0})}const l=s.providers;null==l||a||zC(l,d=>{e.push(d)})}}return i!==n&&void 0!==n.providers}function zC(n,e){for(let t of n)vr(t)&&(t=t.\u0275providers),Array.isArray(t)?zC(t,e):e(t)}const a8=H({provide:String,useValue:H});function $C(n){return null!==n&&"object"==typeof n&&a8 in n}function du(n){return"function"==typeof n}const WC=new ae("Set Injector scope."),xv={},c8={};let GC;function Rv(){return void 0===GC&&(GC=new OO),GC}class Ba{}class BO extends Ba{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,KC(e,o=>this.processProvider(o)),this.records.set(PO,oh(void 0,this)),i.has("environment")&&this.records.set(Ba,oh(void 0,this));const s=this.records.get(WC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kO.multi,Bt,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=_l(this),r=_i(void 0);try{return e()}finally{_l(t),_i(r)}}get(e,t=Vo,r=je.Default){this.assertNotDestroyed(),r=yl(r);const i=_l(this),s=_i(void 0);try{if(!(r&je.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function p8(n){return"function"==typeof n||"object"==typeof n&&n instanceof ae}(e)&&ml(e);a=l&&this.injectableDefInScope(l)?oh(qC(e),xv):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&je.Self?Rv():this.parent).get(e,t=r&je.Optional&&t===Vo?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Id]=o[Id]||[]).unshift(_e(e)),i)throw o;return function SI(n,e,t,r){const i=n[Id];throw e[Ty]&&i.unshift(e[Ty]),n.message=function $s(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==pp?n.slice(2):n;let i=_e(e);if(Array.isArray(e))i=e.map(_e).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):_e(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(TI,"\n  ")}`}("\n"+n.message,i,t,r),n[fp]=i,n[Id]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{_i(s),_l(i)}}resolveInjectorInitializers(){const e=_l(this),t=_i(void 0);try{const r=this.get(Dv.multi,Bt,je.Self);for(const i of r)i()}finally{_l(e),_i(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(_e(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=du(e=me(e))?e:me(e&&e.provide);const r=function d8(n){return $C(n)?oh(void 0,n.useValue):oh(UO(n),xv)}(e);if(du(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=oh(void 0,xv,!0),i.factory=()=>Ia(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===xv&&(t.value=c8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function f8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=me(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function qC(n){const e=ml(n),t=null!==e?e.factory:Da(n);if(null!==t)return t;if(n instanceof ae)throw new D(204,!1);if(n instanceof Function)return function u8(n){const e=n.length;if(e>0)throw ru(e,"?"),new D(204,!1);const t=function vy(n){return n&&(n[Ed]||n[by])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function UO(n,e,t){let r;if(du(n)){const i=me(n);return Da(i)||qC(i)}if($C(n))r=()=>me(n.useValue);else if(function VO(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ia(n.deps||[]));else if(function LO(n){return!(!n||!n.useExisting)}(n))r=()=>U(me(n.useExisting));else{const i=me(n&&(n.useClass||n.provide));if(!function h8(n){return!!n.deps}(n))return Da(i)||qC(i);r=()=>new i(...Ia(n.deps))}return r}function oh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function KC(n,e){for(const t of n)Array.isArray(t)?KC(t,e):t&&vr(t)?KC(t.\u0275providers,e):e(t)}class m8{}class jO{}class _8{resolveComponentFactory(e){throw function g8(n){const e=Error(`No component factory found for ${_e(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let hu=(()=>{class n{}return n.NULL=new _8,n})();function y8(){return ah(wr(),J())}function ah(n,e){return new cn(ts(n,e))}let cn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=y8,n})();function v8(n){return n instanceof cn?n.nativeElement:n}class sm{}let Ua=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function b8(){const n=J(),t=bi(wr().index,n);return(ei(t)?t:n)[it]}(),n})(),E8=(()=>{class n{}return n.\u0275prov=de({token:n,providedIn:"root",factory:()=>null}),n})();class Vl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zO=new Vl("15.2.10"),YC={},ZC="ngOriginalError";function QC(n){return n[ZC]}class ja{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&QC(e);for(;t&&QC(t);)t=QC(t);return t||null}}function Ha(n){return n instanceof Function?n():n}function WO(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const GO="ng-template";function P8(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==WO(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function qO(n){return 4===n.type&&n.value!==GO}function k8(n,e,t){return e===(4!==n.type||t?n.value:GO)}function O8(n,e,t){let r=4;const i=n.attrs||[],s=function L8(n){for(let e=0;e<n.length;e++)if(Jy(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!k8(n,l,t)||""===l&&1===e.length){if(bo(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!P8(n.attrs,c,t)){if(bo(r))return!1;o=!0}continue}const f=N8(8&r?"class":l,i,qO(n),t);if(-1===f){if(bo(r))return!1;o=!0;continue}if(""!==c){let g;g=f>s?"":i[f+1].toLowerCase();const _=8&r?g:null;if(_&&-1!==WO(_,c,0)||2&r&&c!==g){if(bo(r))return!1;o=!0}}}}else{if(!o&&!bo(r)&&!bo(l))return!1;if(o&&bo(l))continue;o=!1,r=l|1&r}}return bo(r)||o}function bo(n){return 0==(1&n)}function N8(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function V8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function KO(n,e,t=!1){for(let r=0;r<e.length;r++)if(O8(n,e[r],t))return!0;return!1}function B8(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function YO(n,e){return n?":not("+e.trim()+")":e}function U8(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!bo(o)&&(e+=YO(s,i),i=""),r=o,s=s||!bo(r);t++}return""!==i&&(e+=YO(s,i)),e}const st={};function Ut(n){ZO(bt(),J(),ni()+n,!1)}function ZO(n,e,t,r){if(!r)if(3==(3&e[tt])){const s=n.preOrderCheckHooks;null!==s&&Vd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Bd(e,s,0,t)}Ma(t)}function eN(n,e=null,t=null,r){const i=tN(n,e,t,r);return i.resolveInjectorInitializers(),i}function tN(n,e=null,t=null,r,i=new Set){const s=[t||Bt,o8(n)];return r=r||("object"==typeof n?void 0:_e(n)),new BO(s,e||Rv(),r||null,i)}let zr=(()=>{class n{static create(t,r){if(Array.isArray(t))return eN({name:""},r,t,"");{const i=t.name??"";return eN({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Vo,n.NULL=new OO,n.\u0275prov=de({token:n,providedIn:"any",factory:()=>U(PO)}),n.__NG_ELEMENT_ID__=-1,n})();function V(n,e=je.Default){const t=J();return null===t?U(n,e):iv(wr(),t,me(n),e)}function nT(){throw new Error("invalid")}function lN(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Tl(t[r]),o.contentQueries(2,e[s],s)}}}function Pv(n,e,t,r,i,s,o,a,l,c,d){const f=e.blueprint.slice();return f[Ws]=i,f[tt]=76|r,(null!==d||n&&1024&n[tt])&&(f[tt]|=1024),OI(f),f[on]=f[jo]=n,f[Sn]=t,f[Ca]=o||n&&n[Ca],f[it]=a||n&&n[it],f[Ad]=l||n&&n[Ad]||null,f[bl]=c||n&&n[bl]||null,f[Hr]=s,f[El]=function n5(){return bC++}(),f[Dd]=d,f[ar]=2==e.type?n[ar]:f,f}function uh(n,e,t,r,i){let s=n.data[e];if(null===s)s=function rT(n,e,t,r,i){const s=Hy(),o=zy(),l=n.data[e]=function h6(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function xp(){return Qe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Yc(){const n=Qe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return qs(s,!0),s}function om(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function iT(n,e,t){Al(e);try{const r=n.viewQuery;null!==r&&fT(1,r,t);const i=n.template;null!==i&&cN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lN(n,e),n.staticViewQueries&&fT(2,n.viewQuery,t);const s=n.components;null!==s&&function c6(n,e){for(let t=0;t<e.length;t++)P6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[tt]&=-5,kp()}}function kv(n,e,t,r){const i=e[tt];if(128!=(128&i)){Al(e);try{OI(e),function Gy(n){return Qe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&cN(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Vd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Bd(e,c,0,null),Fp(e,0)}if(function R6(n){for(let e=TC(n);null!==e;e=SC(e)){if(!e[xd])continue;const t=e[zo];for(let r=0;r<t.length;r++){const i=t[r];512&i[tt]||Uy(i[on],1),i[tt]|=512}}}(e),function x6(n){for(let e=TC(n);null!==e;e=SC(e))for(let t=Er;t<e.length;t++){const r=e[t],i=r[we];Dp(r)&&kv(i,r,i.template,r[Sn])}}(e),null!==n.contentQueries&&lN(n,e),o){const c=n.contentCheckHooks;null!==c&&Vd(e,c)}else{const c=n.contentHooks;null!==c&&Bd(e,c,1),Fp(e,1)}!function a6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ma(~i);else{const s=i,o=t[++r],a=t[++r];Rp(o,s),a(2,e[s])}}}finally{Ma(-1)}}(n,e);const a=n.components;null!==a&&function l6(n,e){for(let t=0;t<e.length;t++)M6(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&fT(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Vd(e,c)}else{const c=n.viewHooks;null!==c&&Bd(e,c,2),Fp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[tt]&=-41,512&e[tt]&&(e[tt]&=-513,Uy(e[on],-1))}finally{kp()}}}function cN(n,e,t,r,i){const s=ni(),o=2&r;try{Ma(-1),o&&e.length>an&&ZO(n,e,an,!1),es(o?2:0,i),t(r,i)}finally{Ma(s),es(o?3:1,i)}}function sT(n,e,t){if(qc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function oT(n,e,t){VI()&&(function v6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Kc(t)&&function S6(n,e,t){const r=ts(e,n),i=uN(t),s=n[Ca],o=Ov(n,Pv(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||$d(t,e),Ei(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=vo(e,n,a,t);Ei(c,e),null!==o&&A6(0,a-i,c,l,0,o),ws(l)&&(bi(t.index,e)[Sn]=vo(e,n,a,t))}}(n,e,t,ts(t,e)),64==(64&t.flags)&&mN(n,e,t))}function aT(n,e,t=ts){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function uN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=lT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function lT(n,e,t,r,i,s,o,a,l,c){const d=an+r,f=d+i,g=function u6(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:st);return t}(d,f),_="function"==typeof c?c():c;return g[we]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1}}function dN(n,e,t,r){const i=_N(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&yN(n).push(r,i.length-1))}function hN(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?fN(t,e,i,s):r.hasOwnProperty(i)&&fN(t,e,r[i],s)}return t}function fN(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Cs(n,e,t,r,i,s,o,a){const l=ts(e,t);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(pT(n,t,d,r,i),Kc(e)&&function m6(n,e){const t=bi(e,n);16&t[tt]||(t[tt]|=32)}(t,e.index)):3&e.type&&(r=function p6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function cT(n,e,t,r){if(VI()){const i=null===r?null:{"":-1},s=function E6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(KO(e,o.selectors,!1))if(r||(r=[]),ws(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),uT(n,e,a.length)}else r.unshift(o),uT(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&pN(n,e,t,o,i,a),i&&function w6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Xc(t.mergedAttrs,t.attrs)}function pN(n,e,t,r,i,s){for(let c=0;c<r.length;c++)eu($d(t,e),n,r[c].type);!function C6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=om(n,e,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];t.mergedAttrs=Xc(t.mergedAttrs,d.hostAttrs),T6(n,t,e,l,d),I6(l,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function f6(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let d=e.directiveStart;d<i;d++){const f=s[d],g=t?t.get(f):null,v=g?g.outputs:null;l=hN(f.inputs,d,l,g?g.inputs:null),c=hN(f.outputs,d,c,v);const w=null===l||null===o||qO(e)?null:D6(l,d,o);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function mN(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function jI(){return Qe.lFrame.currentDirectiveIndex}();try{Ma(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Mp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&b6(l,c)}}finally{Ma(-1),Mp(o)}}function b6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function uT(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function I6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ws(e)&&(t[""]=n)}}function T6(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Da(i.type)),o=new Zc(s,ws(i),V);n.blueprint[r]=o,t[r]=o,function _6(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function y6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,om(n,t,i.hostVars,st),i)}function Zo(n,e,t,r,i,s){const o=ts(n,e);!function dT(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?re(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[it],o,s,n.value,t,r,i)}function A6(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],d=o[l++],f=o[l++];null!==a?r.setInput(t,f,c,d):t[d]=f}}}function D6(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gN(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function M6(n,e){const t=bi(e,n);if(Dp(t)){const r=t[we];48&t[tt]?kv(r,t,r.template,t[Sn]):t[Bo]>0&&hT(t)}}function hT(n){for(let r=TC(n);null!==r;r=SC(r))for(let i=Er;i<r.length;i++){const s=r[i];if(Dp(s))if(512&s[tt]){const o=s[we];kv(o,s,o.template,s[Sn])}else s[Bo]>0&&hT(s)}const t=n[we].components;if(null!==t)for(let r=0;r<t.length;r++){const i=bi(t[r],n);Dp(i)&&i[Bo]>0&&hT(i)}}function P6(n,e){const t=bi(e,n),r=t[we];(function k6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),iT(r,t,t[Sn])}function Ov(n,e){return n[Ta]?n[Ep][Qi]=e:n[Ta]=e,n[Ep]=e,e}function Nv(n){for(;n;){n[tt]|=32;const e=tm(n);if(Ip(n)&&!e)return n;n=e}return null}function Fv(n,e,t,r=!0){const i=e[Ca];i.begin&&i.begin();try{kv(n,e,n.template,t)}catch(o){throw r&&bN(e,o),o}finally{i.end&&i.end()}}function fT(n,e,t){Tl(0),e(n,t)}function _N(n){return n[Uo]||(n[Uo]=[])}function yN(n){return n.cleanup||(n.cleanup=[])}function bN(n,e){const t=n[bl],r=t?t.get(ja,null):null;r&&r.handleError(e)}function pT(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Lv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ze(i,a):2==s&&(r=ze(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Vv(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Pr(s)),Es(s))for(let a=Er;a<s.length;a++){const l=s[a],c=l[we].firstChild;null!==c&&Vv(l[we],l,c,r)}const o=t.type;if(8&o)Vv(n,e,t.child,r);else if(32&o){const a=CC(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=pO(e,t);if(Array.isArray(a))r.push(...a);else{const l=tm(e[ar]);Vv(l[we],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class am{get rootNodes(){const e=this._lView,t=e[we];return Vv(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return 128==(128&this._lView[tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[on];if(Es(e)){const t=e[wl],r=t?t.indexOf(this):-1;r>-1&&(xC(e,r),Na(t,r))}this._attachedToViewContainer=!1}sO(this._lView[we],this._lView)}onDestroy(e){dN(this._lView[we],this._lView,null,e)}markForCheck(){Nv(this._cdRefInjectingView||this._lView)}detach(){this._lView[tt]&=-65}reattach(){this._lView[tt]|=64}detectChanges(){Fv(this._lView[we],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function y5(n,e){nm(n,e,e[it],2,null,null)}(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class O6 extends am{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Fv(e[we],e,e[Sn],!1)}checkNoChanges(){}get context(){return null}}class EN extends hu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ht(e);return new lm(t,this.ngModule)}}function wN(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class F6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yl(r);const i=this.injector.get(e,YC,r);return i!==YC||t===YC?i:this.parentInjector.get(e,t,r)}}class lm extends jO{get inputs(){return wN(this.componentDef.inputs)}get outputs(){return wN(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function j8(n){return n.map(U8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ba?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new F6(e,s):e,a=o.get(sm,null);if(null===a)throw new D(407,!1);const l=o.get(E8,null),c=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=r?function d6(n,e,t){return n.selectRootElement(e,t===vs.ShadowDom)}(c,r,this.componentDef.encapsulation):DC(c,d,function N6(n){const e=n.toLowerCase();return"svg"===e?Vy:"math"===e?"math":null}(d)),g=this.componentDef.onPush?288:272,_=lT(0,null,null,1,0,null,null,null,null,null),v=Pv(null,_,null,g,null,null,a,c,l,o,null);let w,T;Al(v);try{const P=this.componentDef;let N,R=null;P.findHostDirectiveDefs?(N=[],R=new Map,P.findHostDirectiveDefs(P,N,R),N.push(P)):N=[P];const j=function V6(n,e){const t=n[we],r=an;return n[r]=e,uh(t,r,2,"#host",null)}(v,f),le=function B6(n,e,t,r,i,s,o,a){const l=i[we];!function U6(n,e,t,r){for(const i of n)e.mergedAttrs=Xc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Lv(e,e.mergedAttrs,!0),null!==t&&_O(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),d=Pv(i,uN(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&uT(l,n,r.length-1),Ov(i,d),i[n.index]=d}(j,f,P,N,v,a,c);T=kd(_,an),f&&function H6(n,e,t,r){if(r)Qc(n,t,["ng-version",zO.full]);else{const{attrs:i,classes:s}=function H8(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!bo(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Qc(n,t,i),s&&s.length>0&&gO(n,t,s.join(" "))}}(c,P,f,r),void 0!==t&&function z6(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(T,this.ngContentSelectors,t),w=function j6(n,e,t,r,i,s){const o=wr(),a=i[we],l=ts(o,i);pN(a,i,o,t,null,r);for(let d=0;d<t.length;d++)Ei(vo(i,a,o.directiveStart+d,o),i);mN(a,i,o),l&&Ei(l,i);const c=vo(i,a,o.directiveStart+o.componentOffset,o);if(n[Sn]=i[Sn]=c,null!==s)for(const d of s)d(c,e);return sT(a,o,n),c}(le,P,N,R,v,[$6]),iT(_,v,null)}finally{kp()}return new L6(this.componentType,w,ah(T,v),v,T)}}class L6 extends m8{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new O6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;pT(s[we],s,i,e,t),Nv(bi(this._tNode.index,s))}}get injector(){return new ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function $6(){const n=wr();Pa(J()[we],n)}function St(n){let e=function IN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ws(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=mT(n.inputs),o.declaredInputs=mT(n.declaredInputs),o.outputs=mT(n.outputs);const a=i.hostBindings;a&&K6(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&G6(n,l),c&&q6(n,c),Ie(n.inputs,i.inputs),Ie(n.declaredInputs,i.declaredInputs),Ie(n.outputs,i.outputs),ws(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===St&&(t=!1)}}e=Object.getPrototypeOf(e)}!function W6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xc(i.hostAttrs,t=Xc(t,i.hostAttrs))}}(r)}function mT(n){return n===bs?{}:n===Bt?[]:n}function G6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function q6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function K6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Bv(n){return!!gT(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function gT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qo(n,e,t){return n[e]=t}function wi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Uv(n,e,t,r,i){const s=function fu(n,e,t,r){const i=wi(n,e,t);return wi(n,e+1,r)||i}(n,e,t,r);return wi(n,e+2,i)||s}function Cr(n,e,t,r){const i=J();return wi(i,ln(),e)&&(bt(),Zo(Fn(),i,n,e,t,r)),Cr}function $r(n,e,t,r,i,s,o,a){const l=J(),c=bt(),d=n+an,f=c.firstCreatePass?function i9(n,e,t,r,i,s,o,a,l){const c=e.consts,d=uh(e,n,4,o||null,xa(c,a));cT(e,t,d,xa(c,l)),Pa(e,d);const f=d.tView=lT(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}(d,c,l,e,t,r,i,s,o):c.data[d];qs(f,!1);const g=l[it].createComment("");wv(c,l,g,f),Ei(g,l),Ov(l,l[d]=gN(g,l,g,f)),Il(f)&&oT(c,l,f),null!=o&&aT(l,f,a)}function _T(n){return Cl(function Bk(){return Qe.lFrame.contextLView}(),an+n)}function gn(n,e,t){const r=J();return wi(r,ln(),e)&&Cs(bt(),Fn(),r,n,e,r[it],t,!1),gn}function yT(n,e,t,r,i){const o=i?"class":"style";pT(n,t,e.inputs[o],o,r)}function Ce(n,e,t,r){const i=J(),s=bt(),o=an+n,a=i[it],l=s.firstCreatePass?function o9(n,e,t,r,i,s){const o=e.consts,l=uh(e,n,2,r,xa(o,i));return cT(e,t,l,xa(o,s)),null!==l.attrs&&Lv(l,l.attrs,!1),null!==l.mergedAttrs&&Lv(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=i[o]=DC(a,e,function $I(){return Qe.lFrame.currentNamespace}()),d=Il(l);return qs(l,!0),_O(a,c,l),32!=(32&l.flags)&&wv(s,i,c,l),0===function NI(){return Qe.lFrame.elementDepthCount}()&&Ei(c,i),function FI(){Qe.lFrame.elementDepthCount++}(),d&&(oT(s,i,l),sT(s,l,i)),null!==r&&aT(i,l),Ce}function Re(){let n=wr();zy()?Od():(n=n.parent,qs(n,!1));const e=n;!function LI(){Qe.lFrame.elementDepthCount--}();const t=bt();return t.firstCreatePass&&(Pa(t,n),qc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function KI(n){return 0!=(8&n.flags)}(e)&&yT(t,e,J(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function YI(n){return 0!=(16&n.flags)}(e)&&yT(t,e,J(),e.stylesWithoutHost,!1),Re}function An(n,e,t,r){return Ce(n,e,t,r),Re(),An}function um(n,e,t){const r=J(),i=bt(),s=n+an,o=i.firstCreatePass?function a9(n,e,t,r,i){const s=e.consts,o=xa(s,r),a=uh(e,n,8,"ng-container",o);return null!==o&&Lv(a,o,!0),cT(e,t,a,xa(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];qs(o,!0);const a=r[s]=r[it].createComment("");return wv(i,r,a,o),Ei(a,r),Il(o)&&(oT(i,r,o),sT(i,o,r)),null!=t&&aT(r,o),um}function dm(){let n=wr();const e=bt();return zy()?Od():(n=n.parent,qs(n,!1)),e.firstCreatePass&&(Pa(e,n),qc(n)&&e.queries.elementEnd(n)),dm}function jv(){return J()}function hm(n){return!!n&&"function"==typeof n.then}function LN(n){return!!n&&"function"==typeof n.subscribe}const vT=LN;function Jn(n,e,t,r){const i=J(),s=bt(),o=wr();return function BN(n,e,t,r,i,s,o){const a=Il(r),c=n.firstCreatePass&&yN(n),d=e[Sn],f=_N(e);let g=!0;if(3&r.type||o){const w=ts(r,e),T=o?o(w):w,P=f.length,N=o?j=>o(Pr(j[r.index])):r.index;let R=null;if(!o&&a&&(R=function l9(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Uo],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,g=!1;else{s=jN(r,e,d,s,!1);const j=t.listen(T,i,s);f.push(s,j),c&&c.push(i,N,P,P+1)}}else s=jN(r,e,d,s,!1);const _=r.outputs;let v;if(g&&null!==_&&(v=_[i])){const w=v.length;if(w)for(let T=0;T<w;T+=2){const le=e[v[T]][v[T+1]].subscribe(s),ue=f.length;f.push(s,le),c&&c.push(i,r.index,ue,-(ue+1))}}}(s,i,i[it],o,n,e,r),Jn}function UN(n,e,t,r){try{return es(6,e,t),!1!==t(r)}catch(i){return bN(n,i),!1}finally{es(7,e,t)}}function jN(n,e,t,r,i){return function s(o){if(o===Function)return r;Nv(n.componentOffset>-1?bi(n.index,e):e);let l=UN(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=UN(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function kr(n=1){return function Op(n){return(Qe.lFrame.contextLView=function Qy(n,e){for(;n>0;)e=e[jo],n--;return e}(n,Qe.lFrame.contextLView))[Sn]}(n)}function c9(n,e){let t=null;const r=function F8(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?KO(n,s,!0):B8(r,s))return i}else t=i}return t}function bh(n){const e=J()[ar][Hr];if(!e.projection){const r=e.projection=ru(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?c9(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function pu(n,e=0,t){const r=J(),i=bt(),s=uh(i,an+n,16,null,t||null);null===s.projection&&(s.projection=e),Od(),32!=(32&s.flags)&&function S5(n,e,t){mO(e[it],0,e,t,oO(n,t,e),uO(t.parent||e[Hr],t,e))}(i,r,s)}function Hv(n,e){return n<<17|e<<2}function Bl(n){return n>>17&32767}function ET(n){return 2|n}function mu(n){return(131068&n)>>2}function wT(n,e){return-131069&n|e<<2}function IT(n){return 1|n}function QN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Bl(s):mu(s),l=!1;for(;0!==a&&(!1===l||o);){const d=n[a+1];m9(n[a],e)&&(l=!0,n[a+1]=r?IT(d):ET(d)),a=r?Bl(d):mu(d)}l&&(n[t+1]=r?ET(s):IT(s))}function m9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ll(n,e)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XN(n){return n.substring(Or.key,Or.keyEnd)}function JN(n,e){const t=Or.textEnd;return t===e?-1:(e=Or.keyEnd=function v9(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Or.key=e,t),Eh(n,e,t))}function Eh(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function gu(n,e,t){return Eo(n,e,t,!1),gu}function $a(n,e){return Eo(n,e,null,!0),$a}function Wa(n){!function wo(n,e,t,r){const i=bt(),s=yo(2);i.firstUpdatePass&&o1(i,null,s,r);const o=J();if(t!==st&&wi(o,s,t)){const a=i.data[ni()];if(u1(a,r)&&!s1(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=ze(l,t||"")),yT(i,a,o,t,r)}else!function x9(n,e,t,r,i,s,o,a){i===st&&(i=Bt);let l=0,c=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==d||null!==f;){const g=l<i.length?i[l+1]:void 0,_=c<s.length?s[c+1]:void 0;let w,v=null;d===f?(l+=2,c+=2,g!==_&&(v=f,w=_)):null===f||null!==d&&d<f?(l+=2,v=d):(c+=2,v=f,w=_),null!==v&&l1(n,e,t,r,v,w,o,a),d=l<i.length?i[l]:null,f=c<s.length?s[c]:null}}(i,a,o,o[it],o[s+1],o[s+1]=function A9(n,e,t){if(null==t||""===t)return Bt;const r=[],i=Is(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(D9,Jo,n,!0)}function Jo(n,e){for(let t=function _9(n){return function t1(n){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=n.length}(n),JN(n,Eh(n,0,Or.textEnd))}(e);t>=0;t=JN(e,t))Vi(n,XN(e),!0)}function Eo(n,e,t,r){const i=J(),s=bt(),o=yo(2);s.firstUpdatePass&&o1(s,n,o,r),e!==st&&wi(i,o,e)&&l1(s,s.data[ni()],i,i[it],n,i[o+1]=function R9(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=_e(Is(n)))),n}(e,t),r,o)}function s1(n,e){return e>=n.expandoStartIndex}function o1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[ni()],o=s1(n,t);u1(s,r)&&null===e&&!o&&(e=!1),e=function I9(n,e,t,r){const i=Nd(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fm(t=CT(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=CT(i,n,e,t,r),null===s){let l=function C9(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==mu(r))return n[Bl(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=CT(null,n,e,l[1],r),l=fm(l,e.attrs,r),function T9(n,e,t,r){n[Bl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function S9(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fm(r,n[s].hostAttrs,t);return fm(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function f9(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Bl(o),l=mu(o);n[r]=t;let d,c=!1;if(Array.isArray(t)?(d=t[1],(null===d||Ll(t,d)>0)&&(c=!0)):d=t,i)if(0!==l){const g=Bl(n[a+1]);n[r+1]=Hv(g,a),0!==g&&(n[g+1]=wT(n[g+1],r)),n[a+1]=function d9(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Hv(a,0),0!==a&&(n[a+1]=wT(n[a+1],r)),a=r;else n[r+1]=Hv(l,0),0===a?a=r:n[l+1]=wT(n[l+1],r),l=r;c&&(n[r+1]=ET(n[r+1])),QN(n,d,r,!0),QN(n,d,r,!1),function p9(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ll(s,e)>=0&&(t[r+1]=IT(t[r+1]))}(e,d,n,r,s),o=Hv(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function CT(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=fm(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fm(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Vi(n,o,!!t||e[++s]))}return void 0===n?null:n}function D9(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Vi(n,r,t)}function l1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],d=function h9(n){return 1==(1&n)}(c)?c1(l,e,t,i,mu(c),o):void 0;zv(d)||(zv(s)||function u9(n){return 2==(2&n)}(c)&&(s=c1(l,null,t,i,a,o)),function D5(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ri.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ri.Important),n.setStyle(t,r,i,s))}}(r,o,Ap(ni(),t),i,s))}function c1(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),d=c?l[1]:l,f=null===d;let g=t[i+1];g===st&&(g=f?Bt:void 0);let _=f?$p(g,r):d===r?g:void 0;if(c&&!zv(_)&&(_=$p(l,r)),zv(_)&&(a=_,o))return a;const v=n[i+1];i=o?Bl(v):mu(v)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=$p(l,r))}return a}function zv(n){return void 0!==n}function u1(n,e){return 0!=(n.flags&(e?8:16))}function Ge(n,e=""){const t=J(),r=bt(),i=n+an,s=r.firstCreatePass?uh(r,i,1,e,null):r.data[i],o=t[i]=function AC(n,e){return n.createText(e)}(t[it],e);wv(r,t,o,s),qs(s,!1)}function Ts(n,e,t){const r=J(),i=function hh(n,e,t,r){return wi(n,ln(),t)?e+re(t)+r:st}(r,n,e,t);return i!==st&&function za(n,e,t){const r=Ap(e,n);!function rO(n,e,t){n.setValue(e,t)}(n[it],r,t)}(r,ni(),i),Ts}function TT(n,e,t){const r=J();if(wi(r,ln(),e)){const s=bt(),o=Fn();Cs(s,o,r,n,e,function vN(n,e,t){return(null===n||ws(n))&&(t=function kI(n){for(;Array.isArray(n);){if("object"==typeof n[wp])return n;n=n[Ws]}return null}(t[e.index])),t[it]}(Nd(s.data),o,r),t,!0)}return TT}const _u=void 0;var Z9=["en",[["a","p"],["AM","PM"],_u],[["AM","PM"],_u,_u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_u,"{1} 'at' {0}",_u],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Y9(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let wh={};function Ui(n){const e=function X9(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=M1(e);if(t)return t;const r=e.split("-")[0];if(t=M1(r),t)return t;if("en"===r)return Z9;throw new D(701,!1)}function M1(n){return n in wh||(wh[n]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[n]),wh[n]}var Ee=(()=>((Ee=Ee||{})[Ee.LocaleId=0]="LocaleId",Ee[Ee.DayPeriodsFormat=1]="DayPeriodsFormat",Ee[Ee.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ee[Ee.DaysFormat=3]="DaysFormat",Ee[Ee.DaysStandalone=4]="DaysStandalone",Ee[Ee.MonthsFormat=5]="MonthsFormat",Ee[Ee.MonthsStandalone=6]="MonthsStandalone",Ee[Ee.Eras=7]="Eras",Ee[Ee.FirstDayOfWeek=8]="FirstDayOfWeek",Ee[Ee.WeekendRange=9]="WeekendRange",Ee[Ee.DateFormat=10]="DateFormat",Ee[Ee.TimeFormat=11]="TimeFormat",Ee[Ee.DateTimeFormat=12]="DateTimeFormat",Ee[Ee.NumberSymbols=13]="NumberSymbols",Ee[Ee.NumberFormats=14]="NumberFormats",Ee[Ee.CurrencyCode=15]="CurrencyCode",Ee[Ee.CurrencySymbol=16]="CurrencySymbol",Ee[Ee.CurrencyName=17]="CurrencyName",Ee[Ee.Currencies=18]="Currencies",Ee[Ee.Directionality=19]="Directionality",Ee[Ee.PluralCase=20]="PluralCase",Ee[Ee.ExtraData=21]="ExtraData",Ee))();const Ih="en-US";let P1=Ih;function DT(n,e,t,r,i){if(n=me(n),Array.isArray(n))for(let s=0;s<n.length;s++)DT(n[s],e,t,r,i);else{const s=bt(),o=J();let a=du(n)?n:me(n.provide),l=UO(n);const c=wr(),d=1048575&c.providerIndexes,f=c.directiveStart,g=c.providerIndexes>>20;if(du(n)||!n.multi){const _=new Zc(l,i,V),v=RT(a,e,i?d:d+g,f);-1===v?(eu($d(c,o),s,a),xT(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(_),o.push(_)):(t[v]=_,o[v]=_)}else{const _=RT(a,e,d+g,f),v=RT(a,e,d,d+g),T=v>=0&&t[v];if(i&&!T||!i&&!(_>=0&&t[_])){eu($d(c,o),s,a);const P=function YK(n,e,t,r,i){const s=new Zc(n,t,V);return s.multi=[],s.index=e,s.componentProviders=0,rF(s,i,r&&!t),s}(i?KK:qK,t.length,i,r,l);!i&&T&&(t[v].providerFactory=P),xT(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(P),o.push(P)}else xT(s,n,_>-1?_:v,rF(t[i?v:_],l,!i&&r));!i&&r&&T&&t[v].componentProviders++}}}function xT(n,e,t,r){const i=du(e),s=function l8(n){return!!n.useClass}(e);if(i||s){const l=(s?me(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function rF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function RT(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qK(n,e,t,r){return MT(this.multi,[])}function KK(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=vo(t,t[we],this.providerFactory.index,r);s=a.slice(0,o),MT(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],MT(i,s);return s}function MT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function un(n,e=[]){return t=>{t.providersResolver=(r,i)=>function GK(n,e,t){const r=bt();if(r.firstCreatePass){const i=ws(n);DT(t,r.data,r.blueprint,i,!0),DT(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ch{}class iF{}class sF extends Ch{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EN(this);const r=Fi(e);this._bootstrapComponents=Ha(r.bootstrap),this._r3Injector=tN(e,t,[{provide:Ch,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],_e(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class PT extends iF{constructor(e){super(),this.moduleType=e}create(e){return new sF(this.moduleType,e)}}class QK extends Ch{constructor(e,t,r){super(),this.componentFactoryResolver=new EN(this),this.instance=null;const i=new BO([...e,{provide:Ch,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],t||Rv(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Kv(n,e,t=null){return new QK(n,e,t).injector}let XK=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=NO(0,t.type),i=r.length>0?Kv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=de({token:n,providedIn:"environment",factory:()=>new n(U(Ba))}),n})();function vm(n){n.getStandaloneInjector=e=>e.get(XK).getOrCreateStandaloneInjector(n)}function bm(n,e){const t=n[e];return t===st?void 0:t}function Yv(n,e){const t=bt();let r;const i=n+an;t.firstCreatePass?(r=function g7(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Da(r.type)),o=_i(V);try{const a=Ks(!1),l=s();return Ks(a),function s9(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,J(),i,l),l}finally{_i(o)}}function yF(n,e,t){const r=n+an,i=J(),s=Cl(i,r);return Em(i,r)?function fF(n,e,t,r,i,s){const o=e+t;return wi(n,o,i)?Qo(n,o+1,s?r.call(s,i):r(i)):bm(n,o+1)}(i,ti(),e,s.transform,t,s):s.transform(t)}function OT(n,e,t,r,i){const s=n+an,o=J(),a=Cl(o,s);return Em(o,s)?function mF(n,e,t,r,i,s,o,a){const l=e+t;return Uv(n,l,i,s,o)?Qo(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):bm(n,l+3)}(o,ti(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function Em(n,e){return n[we].data[e].pure}function NT(n){return e=>{setTimeout(n,void 0,e)}}const _n=class b7 extends B{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=NT(s),i&&(i=NT(i)),o&&(o=NT(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof rt&&e.add(a),a}};function E7(){return this._results[Symbol.iterator]()}class Th{get changes(){return this._changes||(this._changes=new _n)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Th.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=E7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function rs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function sC(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ea=(()=>{class n{}return n.__NG_ELEMENT_ID__=C7,n})();const w7=ea,I7=class extends w7{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=Pv(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Sa]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Xi];return null!==o&&(i[Xi]=o.createEmbeddedView(r)),iT(r,i,e),new am(i)}};function C7(){return Zv(wr(),J())}function Zv(n,e){return 4&n.type?new I7(e,n,ah(n,e)):null}let Zs=(()=>{class n{}return n.__NG_ELEMENT_ID__=T7,n})();function T7(){return EF(wr(),J())}const S7=Zs,vF=class extends S7{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new ka(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bp(this._hostTNode,this._hostLView);if(Jc(e)){const t=Ml(e,this._hostLView),r=Rl(e);return new ka(t[we].data[r+8],t)}return new ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=bF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Oa(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const f=t||{};a=f.index,r=f.injector,i=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const l=o?e:new lm(Ht(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(Ba,null);g&&(s=g)}const d=l.create(c,i,void 0,s);return this.insert(d.hostView,a),d}insert(e,t){const r=e._lView,i=r[we];if(function Vk(n){return Es(n[on])}(r)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const f=r[on],g=new vF(f,f[Hr],f[on]);g.detach(g.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function b5(n,e,t,r){const i=Er+r,s=t.length;r>0&&(t[i-1][Qi]=e),r<s-Er?(e[Qi]=t[i],dv(t,Er+r,e)):(t.push(e),e[Qi]=null),e[on]=t;const o=e[Sa];null!==o&&t!==o&&function E5(n,e){const t=n[zo];e[ar]!==e[on][on][ar]&&(n[xd]=!0),null===t?n[zo]=[e]:t.push(e)}(o,e);const a=e[Xi];null!==a&&a.insertView(n),e[tt]|=64}(i,r,o,s);const a=PC(s,o),l=r[it],c=Ev(l,o[Ho]);return null!==c&&function _5(n,e,t,r,i,s){r[Ws]=i,r[Hr]=e,nm(n,r,t,1,i,s)}(i,o[Hr],l,r,c,a),e.attachToViewContainerRef(),dv(FT(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=bF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=xC(this._lContainer,t);r&&(Na(FT(this._lContainer),t),sO(r[we],r))}detach(e){const t=this._adjustIndex(e,-1),r=xC(this._lContainer,t);return r&&null!=Na(FT(this._lContainer),t)?new am(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function bF(n){return n[wl]}function FT(n){return n[wl]||(n[wl]=[])}function EF(n,e){let t;const r=e[n.index];if(Es(r))t=r;else{let i;if(8&n.type)i=Pr(r);else{const s=e[it];i=s.createComment("");const o=ts(n,e);cu(s,Ev(s,o),i,function T5(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=gN(r,e,i,n),Ov(e,t)}return new vF(t,n,e)}class LT{constructor(e){this.queryList=e,this.matches=null}clone(){return new LT(this.queryList)}setDirty(){this.queryList.setDirty()}}class VT{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new VT(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==SF(e,t).matches&&this.queries[t].setDirty()}}class wF{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class BT{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new BT(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class UT{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new UT(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,A7(t,s)),this.matchTNodeWithReadOption(e,t,Kd(t,e,s,!1,!1))}else r===ea?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===cn||i===Zs||i===ea&&4&t.type)this.addMatch(t.index,-2);else{const s=Kd(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function A7(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function x7(n,e,t,r){return-1===t?function D7(n,e){return 11&n.type?ah(n,e):4&n.type?Zv(n,e):null}(e,n):-2===t?function R7(n,e,t){return t===cn?ah(e,n):t===ea?Zv(e,n):t===Zs?EF(e,n):void 0}(n,e,r):vo(n,n[we],t,e)}function IF(n,e,t,r){const i=e[Xi].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:x7(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function jT(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=IF(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],d=e[-l];for(let f=Er;f<d.length;f++){const g=d[f];g[Sa]===g[on]&&jT(g[we],g,c,r)}if(null!==d[zo]){const f=d[zo];for(let g=0;g<f.length;g++){const _=f[g];jT(_[we],_,c,r)}}}}}return r}function Ul(n){const e=J(),t=bt(),r=Ky();Tl(r+1);const i=SF(t,r);if(n.dirty&&function Lk(n){return 4==(4&n[tt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?jT(t,e,r,[]):IF(t,e,i,r);n.reset(s,v8),n.notifyOnChanges()}return!0}return!1}function Qv(n,e,t){const r=bt();r.firstCreatePass&&(TF(r,new wF(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),CF(r,J(),e)}function wm(n,e,t,r){const i=bt();if(i.firstCreatePass){const s=wr();TF(i,new wF(e,t,r),s.index),function P7(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}CF(i,J(),t)}function jl(){return function M7(n,e){return n[Xi].queries[e].queryList}(J(),Ky())}function CF(n,e,t){const r=new Th(4==(4&t));dN(n,e,r,r.destroy),null===e[Xi]&&(e[Xi]=new VT),e[Xi].queries.push(new LT(r))}function TF(n,e,t){null===n.queries&&(n.queries=new BT),n.queries.track(new UT(e,t))}function SF(n,e){return n.queries.getByIndex(e)}function AF(n,e){return Zv(n,e)}function Jv(...n){}const Cm=new ae("Application Initializer");let eb=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Jv,this.reject=Jv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(hm(s))t.push(s);else if(vT(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(U(Cm,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tm=new ae("AppId",{providedIn:"root",factory:function WF(){return`${qT()}${qT()}${qT()}`}});function qT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const GF=new ae("Platform Initializer"),Hl=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sm=new ae("AnimationModuleType");let X7=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Io=new ae("LocaleId",{providedIn:"root",factory:()=>We(Io,je.Optional|je.SkipSelf)||function J7(){return typeof $localize<"u"&&$localize.locale||Ih}()});class tY{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let qF=(()=>{class n{compileModuleSync(t){return new PT(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ha(Fi(t).declarations).reduce((o,a)=>{const l=Ht(a);return l&&o.push(new lm(l)),o},[]);return new tY(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iY=(()=>Promise.resolve(0))();function KT(n){typeof Zone>"u"?iY.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class qe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _n(!1),this.onMicrotaskEmpty=new _n(!1),this.onStable=new _n(!1),this.onError=new _n(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function sY(){let n=sn.requestAnimationFrame,e=sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function lY(n){const e=()=>{!function aY(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ZT(n),n.isCheckStableRunning=!0,YT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ZT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return ZF(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),QF(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return ZF(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),QF(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ZT(n),YT(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,oY,Jv,Jv);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const oY={};function YT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ZT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ZF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function QF(n){n._nesting--,YT(n)}class cY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _n,this.onMicrotaskEmpty=new _n,this.onStable=new _n,this.onError=new _n}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const XF=new ae(""),tb=new ae("");let JT,QT=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,JT||(function uY(n){JT=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),KT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())KT(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(U(qe),U(XT),U(tb))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})(),XT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return JT?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ga=!1;let zl=null;const JF=new ae("AllowMultipleToken"),eS=new ae("PlatformDestroyListeners"),eL=new ae("appBootstrapListener");class tL{constructor(e,t){this.name=e,this.token=t}}function rL(n,e,t=[]){const r=`Platform: ${e}`,i=new ae(r);return(s=[])=>{let o=tS();if(!o||o.injector.get(JF,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function fY(n){if(zl&&!zl.get(JF,!1))throw new D(400,!1);zl=n;const e=n.get(sL);(function nL(n){const e=n.get(GF,null);e&&e.forEach(t=>t())})(n)}(function iL(n=[],e){return zr.create({name:e,providers:[{provide:WC,useValue:"platform"},{provide:eS,useValue:new Set([()=>zl=null])},...n]})}(a,r))}return function mY(n){const e=tS();if(!e)throw new D(401,!1);return e}()}}function tS(){return zl?.get(sL)??null}let sL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function aL(n,e){let t;return t="noop"===n?new cY:("zone.js"===n?void 0:n)||new qe(e),t}(r?.ngZone,function oL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:qe,useValue:i}];return i.run(()=>{const o=zr.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(ja,null);if(!l)throw new D(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:d=>{l.handleError(d)}});a.onDestroy(()=>{nb(this._modules,a),c.unsubscribe()})}),function lL(n,e,t){try{const r=t();return hm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(eb);return c.runInitializers(),c.donePromise.then(()=>(function k1(n){Yi(n,"Expected localeId to be defined"),"string"==typeof n&&(P1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Io,Ih)||Ih),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=cL({},r);return function dY(n,e,t){const r=new PT(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(qa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new D(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(eS,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(U(zr))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function cL(n,e){return Array.isArray(e)?e.reduce(cL,n):{...n,...e}}let qa=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new He(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new He(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),KT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=C(s,o.pipe(b()))}bootstrap(t,r){const i=t instanceof jO;if(!this._injector.get(eb).done){!i&&function _o(n){const e=Ht(n)||zn(n)||vi(n);return null!==e&&e.standalone}(t);throw new D(405,Ga)}let o;o=i?t:this._injector.get(hu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function hY(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ch),c=o.create(zr.NULL,[],r||o.selector,a),d=c.location.nativeElement,f=c.injector.get(XF,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),nb(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;nb(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(eL,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>nb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(U(qe),U(Ba),U(ja))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ka=(()=>{class n{}return n.__NG_ELEMENT_ID__=_Y,n})();function _Y(n){return function yY(n,e,t){if(Kc(n)&&!t){const r=bi(n.index,e);return new am(r,r)}return 47&n.type?new am(e[ar],e):null}(wr(),J(),16==(16&n))}class pL{constructor(){}supports(e){return Bv(e)}create(e){return new CY(e)}}const IY=(n,e)=>e;class CY{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||IY}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<gL(r,i,s)?t:r,a=gL(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,d=l-i;if(c!=d){for(let g=0;g<c;g++){const _=g<s.length?s[g]:s[g]=0,v=_+g;d<=v&&v<c&&(s[g]=_+1)}s[o.previousIndex]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Bv(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function t9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new TY(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new mL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class TY{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class mL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new SY,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class _L{constructor(){}supports(e){return e instanceof Map||gT(e)}create(){return new AY}}class AY{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||gT(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new DY(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class DY{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yL(){return new sb([new pL])}let sb=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||yL()),deps:[[n,new Ko,new Ir]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new D(901,!1)}}return n.\u0275prov=de({token:n,providedIn:"root",factory:yL}),n})();function vL(){return new Dh([new _L])}let Dh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||vL()),deps:[[n,new Ko,new Ir]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new D(901,!1)}}return n.\u0275prov=de({token:n,providedIn:"root",factory:vL}),n})();const MY=rL(null,"core",[]);let PY=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(U(qa))},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({}),n})();function xh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let aS=null;function Ya(){return aS}class NY{}const Et=new ae("DocumentToken");let lS=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(){return function FY(){return U(bL)}()},providedIn:"platform"}),n})();const LY=new ae("Location Initialized");let bL=(()=>{class n extends lS{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ya().getBaseHref(this._doc)}onPopState(t){const r=Ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){EL()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){EL()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(U(Et))},n.\u0275prov=de({token:n,factory:function(){return function VY(){return new bL(U(Et))}()},providedIn:"platform"}),n})();function EL(){return!!window.history.pushState}function cS(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function wL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Za(n){return n&&"?"!==n[0]?"?"+n:n}let vu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(){return We(CL)},providedIn:"root"}),n})();const IL=new ae("appBaseHref");let CL=(()=>{class n extends vu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??We(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cS(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Za(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Za(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Za(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(U(lS),U(IL,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BY=(()=>{class n extends vu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=cS(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Za(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Za(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(U(lS),U(IL,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})(),ob=(()=>{class n{constructor(t){this._subject=new _n,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function HY(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(wL(TL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Za(r))}normalize(t){return n.stripTrailingSlash(function jY(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,TL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Za(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Za(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Za,n.joinWithSlash=cS,n.stripTrailingSlash=wL,n.\u0275fac=function(t){return new(t||n)(U(vu))},n.\u0275prov=de({token:n,factory:function(){return function UY(){return new ob(U(vu))}()},providedIn:"root"}),n})();function TL(n){return n.replace(/\/index.html$/,"")}var ss=(()=>((ss=ss||{})[ss.Decimal=0]="Decimal",ss[ss.Percent=1]="Percent",ss[ss.Currency=2]="Currency",ss[ss.Scientific=3]="Scientific",ss))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function Qs(n,e){const t=Ui(n),r=t[Ee.NumberSymbols][e];if(typeof r>"u"){if(e===$e.CurrencyDecimal)return t[Ee.NumberSymbols][$e.Decimal];if(e===$e.CurrencyGroup)return t[Ee.NumberSymbols][$e.Group]}return r}const pZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ML=22,mb=".",Dm="0",mZ=";",gZ=",",pS="#";function _S(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const vS=/\s+/,OL=[];let bS=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=OL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(vS):OL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(vS):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(vS).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(V(sb),V(Dh),V(cn),V(Ua))},n.\u0275dir=Le({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class DZ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let LL=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new DZ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),VL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{VL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(V(Zs),V(ea),V(sb))},n.\u0275dir=Le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function VL(n,e){n.context.$implicit=e.item}let xm=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new RZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){BL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){BL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(V(Zs),V(ea))},n.\u0275dir=Le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class RZ{constructor(){this.$implicit=null,this.ngIf=null}}function BL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${_e(e)}'.`)}function So(n,e){return new D(2100,!1)}class kZ{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class OZ{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const NZ=new OZ,FZ=new kZ;let jL=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(hm(t))return NZ;if(LN(t))return FZ;throw So()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(V(Ka,16))},n.\u0275pipe=yi({name:"async",type:n,pure:!1,standalone:!0}),n})(),gb=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function IS(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function bZ(n,e,t){return function mS(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function wZ(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(mb))>-1&&(e=e.replace(mb,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Dm;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Dm;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>ML&&(r=r.splice(0,ML-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function EZ(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(s){const N=s.match(pZ);if(null===N)throw new Error(`${s} is not a valid digit info`);const R=N[1],j=N[3],le=N[5];null!=R&&(d=_S(R)),null!=j&&(f=_S(j)),null!=le?g=_S(le):null!=j&&f>g&&(g=f)}!function IZ(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,d=r.reduceRight(function(f,g,_,v){return v[_]=(g+=f)<10?g:g-10,l&&(0===v[_]&&_>=c?v.pop():l=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}(c,f,g);let _=c.digits,v=c.integerLen;const w=c.exponent;let T=[];for(l=_.every(N=>!N);v<d;v++)_.unshift(0);for(;v<0;v++)_.unshift(0);v>0?T=_.splice(v,_.length):(T=_,_=[0]);const P=[];for(_.length>=e.lgSize&&P.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)P.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&P.unshift(_.join("")),a=P.join(Qs(t,r)),T.length&&(a+=Qs(t,i)+T.join("")),w&&(a+=Qs(t,$e.Exponential)+"+"+w)}else a=Qs(t,$e.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function gS(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(mZ),i=r[0],s=r[1],o=-1!==i.indexOf(mb)?i.split(mb):[i.substring(0,i.lastIndexOf(Dm)+1),i.substring(i.lastIndexOf(Dm)+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf(pS));for(let d=0;d<l.length;d++){const f=l.charAt(d);f===Dm?t.minFrac=t.maxFrac=d+1:f===pS?t.maxFrac=d+1:t.posSuf+=f}const c=a.split(gZ);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const d=i.length-t.posPre.length-t.posSuf.length,f=s.indexOf(pS);t.negPre=s.substring(0,f).replace(/'/g,""),t.negSuf=s.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function uS(n,e){return Ui(n)[Ee.NumberFormats][e]}(e,ss.Decimal),Qs(e,$e.MinusSign)),e,$e.Group,$e.Decimal,t)}(function CS(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw So()}}}return n.\u0275fac=function(t){return new(t||n)(V(Io,16))},n.\u0275pipe=yi({name:"number",type:n,pure:!0,standalone:!0}),n})();let TS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({}),n})();const zL="browser";function SS(n){return n===zL}let rQ=(()=>{class n{}return n.\u0275prov=de({token:n,providedIn:"root",factory:()=>new iQ(U(Et),window)}),n})();class iQ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function sQ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$L(this.window.history)||$L(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $L(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kQ extends NY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xS extends kQ{static makeCurrent(){!function OY(n){aS||(aS=n)}(new xS)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function OQ(){return Mm=Mm||document.querySelector("base"),Mm?Mm.getAttribute("href"):null}();return null==t?null:function NQ(n){vb=vb||document.createElement("a"),vb.setAttribute("href",n);const e=vb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Mm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function SZ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let vb,Mm=null;const YL=new ae("TRANSITION_ID"),LQ=[{provide:Cm,useFactory:function FQ(n,e,t){return()=>{t.get(eb).donePromise.then(()=>{const r=Ya(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[YL,Et,zr],multi:!0}];let BQ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();const bb=new ae("EventManagerPlugins");let Eb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(U(bb),U(qe))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();class ZL{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ya().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let QL=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})(),Pm=(()=>{class n extends QL{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(U(Et))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();const RS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},MS=/%COMP%/g,eV=new ae("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function tV(n,e){return e.flat(100).map(t=>t.replace(MS,n))}function nV(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wb=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new PS(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof sV?i.applyToHost(t):i instanceof kS&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case vs.Emulated:s=new sV(o,a,r,this.appId,l);break;case vs.ShadowDom:return new GQ(o,a,t,r);default:s=new kS(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(U(Eb),U(Pm),U(Tm),U(eV))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();class PS{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(RS[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(iV(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(iV(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=RS[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=RS[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ri.DashCase|ri.Important)?e.style.setProperty(t,r,i&ri.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ri.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nV(r)):this.eventManager.addEventListener(e,t,nV(r))}}function iV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class GQ extends PS{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=tV(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kS extends PS{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=tV(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class sV extends kS{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function zQ(n){return"_ngcontent-%COMP%".replace(MS,n)}(o),this.hostAttr=function $Q(n){return"_nghost-%COMP%".replace(MS,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let qQ=(()=>{class n extends ZL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(U(Et))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();const oV=["alt","control","meta","shift"],KQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ZQ=(()=>{class n extends ZL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ya().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),oV.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=KQ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oV.forEach(o=>{o!==i&&(0,YQ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(U(Et))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();const lV=[{provide:Hl,useValue:zL},{provide:GF,useValue:function QQ(){xS.makeCurrent()},multi:!0},{provide:Et,useFactory:function JQ(){return function k5(n){FC=n}(document),document},deps:[]}],eX=rL(MY,"browser",lV),cV=new ae(""),uV=[{provide:tb,useClass:class VQ{addToWindow(e){sn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},sn.getAllAngularTestabilities=()=>e.getAllTestabilities(),sn.getAllAngularRootElements=()=>e.getAllRootElements(),sn.frameworkStabilizers||(sn.frameworkStabilizers=[]),sn.frameworkStabilizers.push(r=>{const i=sn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ya().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:XF,useClass:QT,deps:[qe,XT,tb]},{provide:QT,useClass:QT,deps:[qe,XT,tb]}],dV=[{provide:WC,useValue:"root"},{provide:ja,useFactory:function XQ(){return new ja},deps:[]},{provide:bb,useClass:qQ,multi:!0,deps:[Et,qe,Hl]},{provide:bb,useClass:ZQ,multi:!0,deps:[Et]},{provide:wb,useClass:wb,deps:[Eb,Pm,Tm,eV]},{provide:sm,useExisting:wb},{provide:QL,useExisting:Pm},{provide:Pm,useClass:Pm,deps:[Et]},{provide:Eb,useClass:Eb,deps:[bb,qe]},{provide:class oQ{},useClass:BQ,deps:[]},[]];let hV=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Tm,useValue:t.appId},{provide:YL,useExisting:Tm},LQ]}}}return n.\u0275fac=function(t){return new(t||n)(U(cV,12))},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({providers:[...dV,...uV],imports:[TS,PY]}),n})(),fV=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(U(Et))},n.\u0275prov=de({token:n,factory:function(t){let r=null;return r=t?new t:function nX(){return new fV(U(Et))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ib=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(t){let r=null;return r=t?new(t||n):U(gV),r},providedIn:"root"}),n})(),gV=(()=>{class n extends Ib{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case zt.NONE:return r;case zt.HTML:return Yo(r,"HTML")?Is(r):DO(this._doc,String(r)).toString();case zt.STYLE:return Yo(r,"Style")?Is(r):r;case zt.SCRIPT:if(Yo(r,"Script"))return Is(r);throw new Error("unsafe value used in a script context");case zt.URL:return Yo(r,"URL")?Is(r):Sv(String(r));case zt.RESOURCE_URL:if(Yo(r,"ResourceURL"))return Is(r);throw new Error(`unsafe value used in a resource URL context (see ${K})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${K})`)}}bypassSecurityTrustHtml(t){return function U5(n){return new O5(n)}(t)}bypassSecurityTrustStyle(t){return function j5(n){return new N5(n)}(t)}bypassSecurityTrustScript(t){return function H5(n){return new F5(n)}(t)}bypassSecurityTrustUrl(t){return function z5(n){return new L5(n)}(t)}bypassSecurityTrustResourceUrl(t){return function $5(n){return new V5(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(U(Et))},n.\u0275prov=de({token:n,factory:function(t){let r=null;return r=t?new t:function aX(n){return new gV(n.get(Et))}(U(zr)),r},providedIn:"root"}),n})();function Te(...n){return E(n,ys(n))}class Js extends B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Cb=Y(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:lX}=Array,{getPrototypeOf:cX,prototype:uX,keys:dX}=Object;function _V(n){if(1===n.length){const e=n[0];if(lX(e))return{args:e,keys:null};if(function hX(n){return n&&"object"==typeof n&&cX(n)===uX}(e)){const t=dX(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:fX}=Array;function FS(n){return ce(e=>function pX(n,e){return fX(e)?n(...e):n(e)}(n,e))}function yV(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function LS(...n){const e=ys(n),t=Ki(n),{args:r,keys:i}=_V(n);if(0===r.length)return E([],e);const s=new He(function mX(n,e,t=Pn){return r=>{vV(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)vV(e,()=>{const c=E(n[l],e);let d=!1;c.subscribe(he(r,f=>{s[l]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>yV(i,o):Pn));return t?s.pipe(FS(t)):s}function vV(n,e,t){n?ki(t,n,e):e()}function Rh(...n){return function gX(){return gi(1)}()(E(n,ys(n)))}function Tb(n){return new He(e=>{ut(n()).subscribe(e)})}function bu(n,e){const t=S(n)?n:()=>n,r=i=>i.error(t());return new He(e?i=>e.schedule(r,0,i):r)}function VS(){return Z((n,e)=>{let t=null;n._refCount++;const r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class BS extends He{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,X(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;const t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return VS()(this)}}function Dn(n,e){return Z((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(he(r,l=>{i?.unsubscribe();let c=0;const d=s++;ut(n(l,d)).subscribe(i=he(r,f=>r.next(e?e(l,f,d,c++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ar(n){return n<=0?()=>kn:Z((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mh(...n){const e=ys(n);return Z((t,r)=>{(e?Rh(n,t,e):Rh(n,t)).subscribe(r)})}function Ln(n,e){return Z((t,r)=>{let i=0;t.subscribe(he(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Sb(n){return Z((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function bV(n=_X){return Z((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _X(){return new Cb}function Xa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):Pn,Ar(1),t?Sb(e):bV(()=>new Cb))}function Wl(n,e){return S(e)?Lt(n,e,1):Lt(n,1)}function Wn(n,e,t){const r=S(n)||e||t?{next:n,error:e,complete:t}:n;return r?Z((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(he(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Pn}function ta(n){return Z((e,t)=>{let s,r=null,i=!1;r=e.subscribe(he(t,void 0,void 0,o=>{s=ut(n(o,ta(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ab(n,e){return Z(function yX(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(he(o,d=>{const f=c++;l=a?n(l,d,f):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function US(n){return n<=0?()=>kn:Z((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function EV(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):Pn,US(1),t?Sb(e):bV(()=>new Cb))}function wV(n){return ce(()=>n)}function Db(n){return Z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ot="primary",km=Symbol("RouteTitle");class bX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ph(n){return new bX(n)}function EX(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function na(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!IV(n[i],e[i]))return!1;return!0}function IV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function CV(n){return Array.prototype.concat.apply([],n)}function TV(n){return n.length>0?n[n.length-1]:null}function ii(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gl(n){return vT(n)?n:hm(n)?E(Promise.resolve(n)):Te(n)}const xb=!1,IX={exact:function DV(n,e,t){if(!Eu(n.segments,e.segments)||!Rb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!DV(n.children[r],e.children[r],t))return!1;return!0},subset:xV},SV={exact:function CX(n,e){return na(n,e)},subset:function TX(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IV(n[t],e[t]))},ignored:()=>!0};function AV(n,e,t){return IX[t.paths](n.root,e.root,t.matrixParams)&&SV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xV(n,e,t){return RV(n,e,e.segments,t)}function RV(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Eu(i,t)||e.hasChildren()||!Rb(i,t,r))}if(n.segments.length===t.length){if(!Eu(n.segments,t)||!Rb(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!xV(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Eu(n.segments,i)&&Rb(n.segments,i,r)&&n.children[ot])&&RV(n.children[ot],e,s,r)}}function Rb(n,e,t){return e.every((r,i)=>SV[t](n[i].parameters,r.parameters))}class ql{constructor(e=new gt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return DX.serialize(this)}}class gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ii(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mb(this)}}class Om{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ph(this.parameters)),this._parameterMap}toString(){return kV(this)}}function Eu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Nm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(){return new jS},providedIn:"root"}),n})();class jS{parse(e){const t=new LX(e);return new ql(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fm(e.root,!0)}`,r=function MX(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Pb(t)}=${Pb(i)}`).join("&"):`${Pb(t)}=${Pb(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function xX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const DX=new jS;function Mb(n){return n.segments.map(e=>kV(e)).join("/")}function Fm(n,e){if(!n.hasChildren())return Mb(n);if(e){const t=n.children[ot]?Fm(n.children[ot],!1):"",r=[];return ii(n.children,(i,s)=>{s!==ot&&r.push(`${s}:${Fm(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function AX(n,e){let t=[];return ii(n.children,(r,i)=>{i===ot&&(t=t.concat(e(r,i)))}),ii(n.children,(r,i)=>{i!==ot&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ot?[Fm(n.children[ot],!1)]:[`${i}:${Fm(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ot]?`${Mb(n)}/${t[0]}`:`${Mb(n)}/(${t.join("//")})`}}function MV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pb(n){return MV(n).replace(/%3B/gi,";")}function HS(n){return MV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kb(n){return decodeURIComponent(n)}function PV(n){return kb(n.replace(/\+/g,"%20"))}function kV(n){return`${HS(n.path)}${function RX(n){return Object.keys(n).map(e=>`;${HS(e)}=${HS(n[e])}`).join("")}(n.parameters)}`}const PX=/^[^\/()?;=#]+/;function Ob(n){const e=n.match(PX);return e?e[0]:""}const kX=/^[^=?&#]+/,NX=/^[^&#]+/;class LX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ot]=new gt(e,t)),r}parseSegment(){const e=Ob(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,xb);return this.capture(e),new Om(kb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ob(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ob(this.remaining);i&&(r=i,this.capture(r))}e[kb(t)]=kb(r)}parseQueryParam(e){const t=function OX(n){const e=n.match(kX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function FX(n){const e=n.match(NX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=PV(t),s=PV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ob(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,xb);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ot);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ot]:new gt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,xb)}}function zS(n){return n.segments.length>0?new gt([],{[ot]:n}):n}function Nb(n){const e={};for(const r of Object.keys(n.children)){const s=Nb(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function VX(n){if(1===n.numberOfChildren&&n.children[ot]){const e=n.children[ot];return new gt(n.segments.concat(e.segments),e.children)}return n}(new gt(n.segments,e))}function wu(n){return n instanceof ql}const $S=!1;function BX(n,e,t,r,i){if(0===t.length)return kh(e.root,e.root,e.root,r,i);const s=function VV(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new LV(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return ii(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new LV(t,e,r)}(t);return s.toRoot()?kh(e.root,e.root,new gt([],{}),r,i):function o(l){const c=function jX(n,e,t,r){if(n.isAbsolute)return new Oh(e.root,!0,0);if(-1===r)return new Oh(t,t===e.root,0);return function BV(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,$S&&"Invalid number of '../'");i=r.segments.length}return new Oh(r,!1,i-s)}(t,r+(Lm(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),d=c.processChildren?Nh(c.segmentGroup,c.index,s.commands):WS(c.segmentGroup,c.index,s.commands);return kh(e.root,c.segmentGroup,d,r,i)}(n.snapshot?._lastPathIndex)}function Lm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vm(n){return"object"==typeof n&&null!=n&&n.outlets}function kh(n,e,t,r,i){let o,s={};r&&ii(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),o=n===e?t:FV(n,e,t);const a=zS(Nb(o));return new ql(a,s,i)}function FV(n,e,t){const r={};return ii(n.children,(i,s)=>{r[s]=i===e?t:FV(i,e,t)}),new gt(n.segments,r)}class LV{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Lm(r[0]))throw new D(4003,$S&&"Root segment cannot have matrix parameters");const i=r.find(Vm);if(i&&i!==TV(r))throw new D(4004,$S&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function WS(n,e,t){if(n||(n=new gt([],{})),0===n.segments.length&&n.hasChildren())return Nh(n,e,t);const r=function zX(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Vm(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!jV(l,c,o))return s;r+=2}else{if(!jV(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new gt(n.segments.slice(0,r.pathIndex),{});return s.children[ot]=new gt(n.segments.slice(r.pathIndex),n.children),Nh(s,0,i)}return r.match&&0===i.length?new gt(n.segments,{}):r.match&&!n.hasChildren()?GS(n,e,t):r.match?Nh(n,0,i):GS(n,e,t)}function Nh(n,e,t){if(0===t.length)return new gt(n.segments,{});{const r=function HX(n){return Vm(n[0])?n[0].outlets:{[ot]:n}}(t),i={};if(!r[ot]&&n.children[ot]&&1===n.numberOfChildren&&0===n.children[ot].segments.length){const s=Nh(n.children[ot],e,t);return new gt(n.segments,s.children)}return ii(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=WS(n.children[o],e,s))}),ii(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new gt(n.segments,i)}}function GS(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Vm(s)){const l=$X(s.outlets);return new gt(r,l)}if(0===i&&Lm(t[0])){r.push(new Om(n.segments[e].path,UV(t[0]))),i++;continue}const o=Vm(s)?s.outlets[ot]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Lm(a)?(r.push(new Om(o,UV(a))),i+=2):(r.push(new Om(o,{})),i++)}return new gt(r,{})}function $X(n){const e={};return ii(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=GS(new gt([],{}),0,t))}),e}function UV(n){const e={};return ii(n,(t,r)=>e[r]=`${t}`),e}function jV(n,e,t){return n==t.path&&na(e,t.parameters)}const Bm="imperative";class ra{constructor(e,t){this.id=e,this.url=t}}class qS extends ra{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Iu extends ra{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fb extends ra{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lb extends ra{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class KS extends ra{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WX extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GX extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qX extends ra{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KX extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YX extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HV{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let iJ=(()=>{class n{createUrlTree(t,r,i,s,o,a){return BX(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})(),oJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(e){return iJ.\u0275fac(e)},providedIn:"root"}),n})();class zV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=YS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=YS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ZS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ZS(e,this._root).map(t=>t.value)}}function YS(n,e){if(n===e.value)return e;for(const t of e.children){const r=YS(n,t);if(r)return r}return null}function ZS(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ZS(n,t);if(r.length)return r.unshift(e),r}return[]}class Ja{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $V extends zV{constructor(e,t){super(e),this.snapshot=t,QS(this,e)}toString(){return this.snapshot.toString()}}function WV(n,e){const t=function aJ(n,e){const o=new Vb([],{},{},"",{},ot,e,null,n.root,-1,{});return new qV("",new Ja(o,[]))}(n,e),r=new Js([new Om("",{})]),i=new Js({}),s=new Js({}),o=new Js({}),a=new Js(""),l=new Lh(r,i,o,a,s,ot,e,t.root);return l.snapshot=t.root,new $V(new Ja(l,[]),t)}class Lh{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ce(c=>c[km]))??Te(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>Ph(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>Ph(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GV(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function lJ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vb{get title(){return this.data?.[km]}constructor(e,t,r,i,s,o,a,l,c,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ph(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qV extends zV{constructor(e,t){super(t),this.url=e,QS(this,t)}toString(){return KV(this._root)}}function QS(n,e){e.value._routerState=n,e.children.forEach(t=>QS(n,t))}function KV(n){const e=n.children.length>0?` { ${n.children.map(KV).join(", ")} } `:"";return`${n.value}${e}`}function XS(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,na(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),na(e.params,t.params)||n.params.next(t.params),function wX(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!na(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),na(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function JS(n,e){const t=na(n.params,e.params)&&function SX(n,e){return Eu(n,e)&&n.every((t,r)=>na(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||JS(n.parent,e.parent))}function Um(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function uJ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Um(n,r,i);return Um(n,r)})}(n,e,t);return new Ja(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Um(n,a)),o}}const r=function dJ(n){return new Lh(new Js(n.url),new Js(n.params),new Js(n.queryParams),new Js(n.fragment),new Js(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Um(n,s));return new Ja(r,i)}}const eA="ngNavigationCancelingError";function YV(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=wu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZV(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ZV(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[eA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function QV(n){return XV(n)&&wu(n.url)}function XV(n){return n&&n[eA]}class hJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new jm,this.attachRef=null}}let jm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hJ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bb=!1;let JV=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new _n,this.deactivateEvents=new _n,this.attachEvents=new _n,this.detachEvents=new _n,this.parentContexts=We(jm),this.location=We(Zs),this.changeDetector=We(Ka),this.environmentInjector=We(Ba)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,Bb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,Bb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,Bb);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,Bb);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new fJ(t,a,i.injector);if(r&&function pJ(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ji]}),n})();class fJ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Lh?this.route:e===jm?this.childContexts:this.parent.get(e,t)}}let tA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Nn({type:n,selectors:[["ng-component"]],standalone:!0,features:[vm],decls:1,vars:0,template:function(t,r){1&t&&An(0,"router-outlet")},dependencies:[JV],encapsulation:2}),n})();function e2(n,e){return n.providers&&!n._injector&&(n._injector=Kv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rA(n){const e=n.children&&n.children.map(rA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ot&&(t.component=tA),t}function eo(n){return n.outlet||ot}function t2(n,e){const t=n.filter(r=>eo(r)===e);return t.push(...n.filter(r=>eo(r)!==e)),t}function Hm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class vJ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),XS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Fh(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),ii(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Fh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Fh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Fh(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new JX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(XS(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),XS(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Hm(i.snapshot),l=a?.get(hu)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class n2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ub{constructor(e,t){this.component=e,this.route=t}}function bJ(n,e,t){const r=n._root;return zm(r,e?e._root:null,t,[r.value])}function Vh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function II(n){return null!==ml(n)}(n)?e.get(n):n:r}function zm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fh(e);return n.children.forEach(o=>{(function wJ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function IJ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Eu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Eu(n.url,e.url)||!na(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!JS(n,e)||!na(n.queryParams,e.queryParams);default:return!JS(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new n2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),zm(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ub(a.outlet.component,o))}else o&&$m(e,a,i),i.canActivateChecks.push(new n2(r)),zm(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),ii(s,(o,a)=>$m(o,t.getContext(a),i)),i}function $m(n,e,t){const r=Fh(n),i=n.value;ii(r,(s,o)=>{$m(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Ub(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Wm(n){return"function"==typeof n}function iA(n){return n instanceof Cb||"EmptyError"===n?.name}const jb=Symbol("INITIAL_VALUE");function Bh(){return Dn(n=>LS(n.map(e=>e.pipe(Ar(1),Mh(jb)))).pipe(ce(e=>{for(const t of e)if(!0!==t){if(t===jb)return jb;if(!1===t||t instanceof ql)return t}return!0}),Ln(e=>e!==jb),Ar(1)))}function r2(n){return function fs(...n){return ps(n)}(Wn(e=>{if(wu(e))throw YV(0,e)}),ce(e=>!0===e))}const sA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s2(n,e,t,r,i){const s=oA(n,e,t);return s.matched?function UJ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Te(i.map(o=>{const a=Vh(o,n);return Gl(function xJ(n){return n&&Wm(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Bh(),r2()):Te(!0)}(r=e2(e,r),e,t).pipe(ce(o=>!0===o?s:{...sA})):Te(s)}function oA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||EX)(t,n,e);if(!i)return{...sA};const s={};ii(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Hb(n,e,t,r){if(t.length>0&&function zJ(n,e,t){return t.some(r=>zb(n,e,r)&&eo(r)!==ot)}(n,t,r)){const s=new gt(e,function HJ(n,e,t,r){const i={};i[ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&eo(s)!==ot){const o=new gt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[eo(s)]=o}return i}(n,e,r,new gt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function $J(n,e,t){return t.some(r=>zb(n,e,r))}(n,t,r)){const s=new gt(n.segments,function jJ(n,e,t,r,i){const s={};for(const o of r)if(zb(n,t,o)&&!i[eo(o)]){const a=new gt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[eo(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new gt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function zb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function o2(n,e,t,r){return!!(eo(n)===r||r!==ot&&zb(e,t,n))&&("**"===n.path||oA(e,n,t).matched)}function a2(n,e,t){return 0===e.length&&!n.children[t]}const $b=!1;class Wb{constructor(e){this.segmentGroup=e||null}}class l2{constructor(e){this.urlTree=e}}function Gm(n){return bu(new Wb(n))}function c2(n){return bu(new l2(n))}class KJ{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Hb(this.urlTree.root,[],[],this.config).segmentGroup,t=new gt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ot).pipe(ce(s=>this.createUrlTree(Nb(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ta(s=>{if(s instanceof l2)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Wb?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ot).pipe(ce(i=>this.createUrlTree(Nb(i),e.queryParams,e.fragment))).pipe(ta(i=>{throw i instanceof Wb?this.noMatchError(i):i}))}noMatchError(e){return new D(4002,$b)}createUrlTree(e,t,r){const i=zS(e);return new ql(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ce(s=>new gt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return E(i).pipe(Wl(s=>{const o=r.children[s],a=t2(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ce(l=>({segment:l,outlet:s})))}),Ab((s,o)=>(s[o.outlet]=o.segment,s),{}),EV())}expandSegment(e,t,r,i,s,o){return E(r).pipe(Wl(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ta(c=>{if(c instanceof Wb)return Te(null);throw c}))),Xa(a=>!!a),ta((a,l)=>{if(iA(a))return a2(t,i,s)?Te(new gt([],{})):Gm(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return o2(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Gm(t):Gm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?c2(s):this.lineralizeSegments(r,s).pipe(Lt(o=>{const a=new gt(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=oA(t,i,s);if(!a)return Gm(t);const f=this.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?c2(f):this.lineralizeSegments(i,f).pipe(Lt(g=>this.expandSegment(e,t,r,g.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=e2(r,e),r.loadChildren?(r._loadedRoutes?Te({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new gt(i,{})))):Te(new gt(i,{}))):s2(t,r,i,e).pipe(Dn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Lt(d=>{const f=d.injector??e,g=d.routes,{segmentGroup:_,slicedSegments:v}=Hb(t,a,l,g),w=new gt(_.segments,_.children);if(0===v.length&&w.hasChildren())return this.expandChildren(f,g,w).pipe(ce(R=>new gt(a,R)));if(0===g.length&&0===v.length)return Te(new gt(a,{}));const T=eo(r)===s;return this.expandSegment(f,w,g,v,T?ot:s,!0).pipe(ce(N=>new gt(a.concat(N.segments),N.children)))})):Gm(t)))}getChildConfig(e,t,r){return t.children?Te({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Te({routes:t._loadedRoutes,injector:t._loadedInjector}):function BJ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Te(!0):Te(i.map(o=>{const a=Vh(o,n);return Gl(function TJ(n){return n&&Wm(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Bh(),r2())}(e,t,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,t).pipe(Wn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function GJ(n){return bu(ZV($b,3))}())):Te({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Te(r);if(i.numberOfChildren>1||!i.children[ot])return e.redirectTo,bu(new D(4e3,$b));i=i.children[ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ql(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ii(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return ii(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new gt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new D(4001,$b);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class ZJ{}class JJ{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Hb(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ot).pipe(ce(t=>{if(null===t)return null;const r=new Vb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ja(r,t),s=new qV(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=GV(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return E(Object.keys(r.children)).pipe(Wl(i=>{const s=r.children[i],o=t2(t,i);return this.processSegmentGroup(e,o,s,i)}),Ab((i,s)=>i&&s?(i.push(...s),i):null),function vX(n,e=!1){return Z((t,r)=>{let i=0;t.subscribe(he(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Sb(null),EV(),ce(i=>{if(null===i)return null;const s=d2(i);return function eee(n){n.sort((e,t)=>e.value.outlet===ot?-1:t.value.outlet===ot?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return E(t).pipe(Wl(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Xa(o=>!!o),ta(o=>{if(iA(o))return a2(r,i,s)?Te([]):Te(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!o2(t,r,i,s))return Te(null);let o;if("**"===t.path){const a=i.length>0?TV(i).parameters:{},l=f2(r)+i.length;o=Te({snapshot:new Vb(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p2(t),eo(t),t.component??t._loadedComponent??null,t,h2(r),l,m2(t)),consumedSegments:[],remainingSegments:[]})}else o=s2(r,t,i,e).pipe(ce(({matched:a,consumedSegments:l,remainingSegments:c,parameters:d})=>{if(!a)return null;const f=f2(r)+l.length;return{snapshot:new Vb(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p2(t),eo(t),t.component??t._loadedComponent??null,t,h2(r),f,m2(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Dn(a=>{if(null===a)return Te(null);const{snapshot:l,consumedSegments:c,remainingSegments:d}=a;e=t._injector??e;const f=t._loadedInjector??e,g=function tee(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:_,slicedSegments:v}=Hb(r,c,d,g.filter(T=>void 0===T.redirectTo));if(0===v.length&&_.hasChildren())return this.processChildren(f,g,_).pipe(ce(T=>null===T?null:[new Ja(l,T)]));if(0===g.length&&0===v.length)return Te([new Ja(l,[])]);const w=eo(t)===s;return this.processSegment(f,g,_,v,w?ot:s).pipe(ce(T=>null===T?null:[new Ja(l,T)]))}))}}function nee(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function d2(n){const e=[],t=new Set;for(const r of n){if(!nee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=d2(r.children);e.push(new Ja(r.value,i))}return e.filter(r=>!t.has(r))}function h2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function f2(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function p2(n){return n.data||{}}function m2(n){return n.resolve||{}}function g2(n){return"string"==typeof n.title||null===n.title}function aA(n){return Dn(e=>{const t=n(e);return t?E(t).pipe(ce(()=>e)):Te(e)})}const Uh=new ae("ROUTES");let lA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=We(qF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Gl(t.loadComponent()).pipe(ce(y2),Wn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Db(()=>{this.componentLoaders.delete(t)})),i=new BS(r,()=>new B).pipe(VS());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,d=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=CV(l.get(Uh,[],je.Self|je.Optional)));return{routes:c.map(rA),injector:l}}),Db(()=>{this.childrenLoaders.delete(r)})),o=new BS(s,()=>new B).pipe(VS());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Gl(t()).pipe(ce(y2),Lt(r=>r instanceof iF||Array.isArray(r)?Te(r):E(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y2(n){return function uee(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new B,this.configLoader=We(lA),this.environmentInjector=We(Ba),this.urlSerializer=We(Nm),this.rootContexts=We(jm),this.navigationId=0,this.afterPreactivation=()=>Te(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new QX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ZX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Js({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bm,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(r=>0!==r.id),ce(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Dn(r=>{let i=!1,s=!1;return Te(r).pipe(Wn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Dn(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Lb(o.id,t.serializeUrl(r.rawUrl),d,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),kn}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return v2(o.source)&&(t.browserUrlTree=o.extractedUrl),Te(o).pipe(Dn(d=>{const f=this.transitions?.getValue();return this.events.next(new qS(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?kn:Promise.resolve(d)}),function YJ(n,e,t,r){return Dn(i=>function qJ(n,e,t,r,i){return new KJ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ce(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Wn(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function iee(n,e,t,r,i){return Lt(s=>function XJ(n,e,t,r,i,s,o="emptyOnly"){return new JJ(n,e,t,r,i,o,s).recognize().pipe(Dn(a=>null===a?function QJ(n){return new He(e=>e.error(n))}(new ZJ):Te(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ce(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Wn(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!d.extras.skipLocationChange){const g=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);t.setBrowserUrl(g,d)}t.browserUrlTree=d.urlAfterRedirects}const f=new WX(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:f,source:g,restoredState:_,extras:v}=o,w=new qS(d,this.urlSerializer.serialize(f),g,_);this.events.next(w);const T=WV(f,this.rootComponentType).snapshot;return Te(r={...o,targetSnapshot:T,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new Lb(o.id,t.serializeUrl(r.extractedUrl),d,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),kn}}),Wn(o=>{const a=new GX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ce(o=>r={...o,guards:bJ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function MJ(n,e){return Lt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Te({...t,guardsResult:!0}):function PJ(n,e,t,r){return E(n).pipe(Lt(i=>function VJ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Te(s.map(a=>{const l=Hm(e)??i,c=Vh(a,l);return Gl(function DJ(n){return n&&Wm(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Xa())})).pipe(Bh()):Te(!0)}(i.component,i.route,t,e,r)),Xa(i=>!0!==i,!0))}(o,r,i,n).pipe(Lt(a=>a&&function CJ(n){return"boolean"==typeof n}(a)?function kJ(n,e,t,r){return E(e).pipe(Wl(i=>Rh(function NJ(n,e){return null!==n&&e&&e(new XX(n)),Te(!0)}(i.route.parent,r),function OJ(n,e){return null!==n&&e&&e(new eJ(n)),Te(!0)}(i.route,r),function LJ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function EJ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Tb(()=>Te(o.guards.map(l=>{const c=Hm(o.node)??t,d=Vh(l,c);return Gl(function AJ(n){return n&&Wm(n.canActivateChild)}(d)?d.canActivateChild(r,n):c.runInContext(()=>d(r,n))).pipe(Xa())})).pipe(Bh())));return Te(s).pipe(Bh())}(n,i.path,t),function FJ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Te(!0);const i=r.map(s=>Tb(()=>{const o=Hm(e)??t,a=Vh(s,o);return Gl(function SJ(n){return n&&Wm(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Xa())}));return Te(i).pipe(Bh())}(n,i.route,t))),Xa(i=>!0!==i,!0))}(r,s,n,e):Te(a)),ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Wn(o=>{if(r.guardsResult=o.guardsResult,wu(o.guardsResult))throw YV(0,o.guardsResult);const a=new qX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ln(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),aA(o=>{if(o.guards.canActivateChecks.length)return Te(o).pipe(Wn(a=>{const l=new KX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Dn(a=>{let l=!1;return Te(a).pipe(function see(n,e){return Lt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Te(t);let s=0;return E(i).pipe(Wl(o=>function oee(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!g2(i)&&(s[km]=i.title),function aee(n,e,t,r){const i=function lee(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Te({});const s={};return E(i).pipe(Lt(o=>function cee(n,e,t,r){const i=Hm(e)??r,s=Vh(n,i);return Gl(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Xa(),Wn(a=>{s[o]=a}))),US(1),wV(s),ta(o=>iA(o)?kn:bu(o)))}(s,n,e,r).pipe(ce(o=>(n._resolvedData=o,n.data=GV(n,t).resolve,i&&g2(i)&&(n.data[km]=i.title),null)))}(o.route,r,n,e)),Wn(()=>s++),US(1),Lt(o=>s===i.length?Te(t):kn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Wn({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Wn(a=>{const l=new YX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),aA(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Wn(d=>{l.component=d}),ce(()=>{})));for(const d of l.children)c.push(...a(d));return c};return LS(a(o.targetSnapshot.root)).pipe(Sb(),Ar(1))}),aA(()=>this.afterPreactivation()),ce(o=>{const a=function cJ(n,e,t){const r=Um(n,e._root,t?t._root:void 0);return new $V(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Wn(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ce(r=>(new vJ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Ar(1),Wn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Iu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Db(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ta(o=>{if(s=!0,XV(o)){QV(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Fb(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),QV(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||v2(r.source)};t.scheduleNavigation(l,Bm,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new KS(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return kn}))}))}cancelNavigationTransition(t,r,i){const s=new Fb(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v2(n){return n!==Bm}let b2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ot);return r}getResolvedTitleForRoute(t){return t.data[km]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(){return We(dee)},providedIn:"root"}),n})(),dee=(()=>{class n extends b2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(U(fV))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(){return We(pee)},providedIn:"root"}),n})();class fee{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let pee=(()=>{class n extends fee{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kb=new ae("",{providedIn:"root",factory:()=>({})});let gee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:function(){return We(_ee)},providedIn:"root"}),n})(),_ee=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yee(n){throw n}function vee(n,e,t){return e.parse("/")}const bee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Eee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ss=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=We(X7),this.isNgZoneEnabled=!1,this.options=We(Kb,{optional:!0})||{},this.errorHandler=this.options.errorHandler||yee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vee,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=We(gee),this.routeReuseStrategy=We(hee),this.urlCreationStrategy=We(oJ),this.titleStrategy=We(b2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=CV(We(Uh,{optional:!0})??[]),this.navigationTransitions=We(qb),this.urlSerializer=We(Nm),this.location=We(ob),this.isNgZoneEnabled=We(qe)instanceof qe&&qe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ql,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WV(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(rA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=wu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Bm,null,r)}navigate(t,r={skipLocationChange:!1}){return function wee(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...bee}:!1===r?{...Eee}:r,wu(t))return AV(this.currentUrlTree,t,i);const s=this.parseUrl(t);return AV(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,d;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((f,g)=>{a=f,l=g}),d="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class E2{}let Tee=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof Iu),Wl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Kv(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return E(i).pipe(gi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Te(null);const s=i.pipe(Lt(o=>null===o?Te(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?E([s,this.loader.loadComponent(r)]).pipe(gi()):s})}}return n.\u0275fac=function(t){return new(t||n)(U(Ss),U(qF),U(Ba),U(E2),U(lA))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dA=new ae("");let w2=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Iu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof HV&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new HV(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){nT()},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();var As=(()=>((As=As||{})[As.COMPLETE=0]="COMPLETE",As[As.FAILED=1]="FAILED",As[As.REDIRECTING=2]="REDIRECTING",As))();const jh=!1;function Kl(n,e){return{\u0275kind:n,\u0275providers:e}}const hA=new ae("",{providedIn:"root",factory:()=>!1});function C2(){const n=We(zr);return e=>{const t=n.get(qa);if(e!==t.components[0])return;const r=n.get(Ss),i=n.get(T2);1===n.get(fA)&&r.initialNavigation(),n.get(S2,null,je.Optional)?.setUpPreloading(),n.get(dA,null,je.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const T2=new ae(jh?"bootstrap done indicator":"",{factory:()=>new B}),fA=new ae(jh?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ree(){let n=[];return n=jh?[{provide:Dv,multi:!0,useFactory:()=>{const e=We(Ss);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function nJ(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Kl(1,n)}const S2=new ae(jh?"router preloader":"");function Mee(n){return Kl(0,[{provide:S2,useExisting:Tee},{provide:E2,useExisting:n}])}const qm=!1,A2=new ae(qm?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Pee=[ob,{provide:Nm,useClass:jS},Ss,jm,{provide:Lh,useFactory:function I2(n){return n.routerState.root},deps:[Ss]},lA,qm?{provide:hA,useValue:!0}:[]];function kee(){return new tL("Router",Ss)}let D2=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Pee,qm&&r?.enableTracing?Ree().\u0275providers:[],{provide:Uh,multi:!0,useValue:t},{provide:A2,useFactory:Lee,deps:[[Ss,new Ir,new Ko]]},{provide:Kb,useValue:r||{}},r?.useHash?{provide:vu,useClass:BY}:{provide:vu,useClass:CL},{provide:dA,useFactory:()=>{const n=We(rQ),e=We(qe),t=We(Kb),r=We(qb),i=We(Nm);return t.scrollOffset&&n.setOffset(t.scrollOffset),new w2(i,r,n,e,t)}},r?.preloadingStrategy?Mee(r.preloadingStrategy).\u0275providers:[],{provide:tL,multi:!0,useFactory:kee},r?.initialNavigation?Vee(r):[],[{provide:x2,useFactory:C2},{provide:eL,multi:!0,useExisting:x2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Uh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(U(A2,8))},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[tA]}),n})();function Lee(n){if(qm&&n)throw new D(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vee(n){return["disabled"===n.initialNavigation?Kl(3,[{provide:Cm,multi:!0,useFactory:()=>{const e=We(Ss);return()=>{e.setUpLocationChangeListener()}}},{provide:fA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Kl(2,[{provide:fA,useValue:0},{provide:Cm,multi:!0,deps:[zr],useFactory:e=>{const t=e.get(LY,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ss),s=e.get(T2);(function See(n,e){n.events.pipe(Ln(t=>t instanceof Iu||t instanceof Fb||t instanceof KS||t instanceof Lb),ce(t=>t instanceof Iu||t instanceof Lb?As.COMPLETE:t instanceof Fb&&(0===t.code||1===t.code)?As.REDIRECTING:As.FAILED),Ln(t=>t!==As.REDIRECTING),Ar(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(qb).afterPreactivation=()=>(r(!0),s.closed?Te(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const x2=new ae(qm?"Router Initializer":""),Uee=[];let jee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=qt({imports:[D2.forRoot(Uee),D2]})}return n})();var Hee=function(){function n(e,t){void 0===t&&(t=[]),this._eventType=e,this._eventFunctions=t}return n.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(t){typeof window<"u"&&window.addEventListener(e._eventType,t)})},n}();const zee=Hee;var $ee=function(){function n(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{}}}return n.prototype.addInstance=function(e,t,r,i){if(void 0===i&&(i=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;!this._instances[e][r]||i?(i&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r||this._generateRandomId()]=t):console.warn("Flowbite: Instance with ID ".concat(r," already exists."))},n.prototype.getAllInstances=function(){return this._instances},n.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},n.prototype.getInstance=function(e,t){if(this._componentAndInstanceCheck(e,t))return this._instances[e][t]?this._instances[e][t]:void console.warn("Flowbite: Instance with ID ".concat(t," does not exist."))},n.prototype.destroyAndRemoveInstance=function(e,t){this._componentAndInstanceCheck(e,t)&&(this.destroyInstanceObject(e,t),this.removeInstance(e,t))},n.prototype.removeInstance=function(e,t){this._componentAndInstanceCheck(e,t)&&delete this._instances[e][t]},n.prototype.destroyInstanceObject=function(e,t){this._componentAndInstanceCheck(e,t)&&this._instances[e][t].destroy()},n.prototype.instanceExists=function(e,t){return!(!this._instances[e]||!this._instances[e][t])},n.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},n.prototype._componentAndInstanceCheck=function(e,t){return this._instances[e]?!!this._instances[e][t]||(console.warn("Flowbite: Instance with ID ".concat(t," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},n}(),R2=new $ee;const Kt=R2;typeof window<"u"&&(window.FlowbiteInstances=R2);var Yb=function(){return Yb=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Yb.apply(this,arguments)},Zb={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},Wee={id:null,override:!0},M2=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=Zb),void 0===i&&(i=Wee),this._instanceId=i.id?i.id:e.id,this._accordionEl=e,this._items=t,this._options=Yb(Yb({},Zb),r),this._initialized=!1,this.init(),Kt.addInstance("Accordion",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(t){t.active&&e.open(t.id);var r=function(){e.toggle(t.id)};t.triggerEl.addEventListener("click",r),t.clickHandler=r}),this._initialized=!0)},n.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},n.prototype.removeInstance=function(){Kt.removeInstance("Accordion",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.getItem=function(e){return this._items.filter(function(t){return t.id===e})[0]},n.prototype.open=function(e){var t,r,i=this,s=this.getItem(e);this._options.alwaysOpen||this._items.map(function(o){var a,l;o!==s&&((a=o.triggerEl.classList).remove.apply(a,i._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,i._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"))}),(t=s.triggerEl.classList).add.apply(t,this._options.activeClasses.split(" ")),(r=s.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.add("rotate-180"),this._options.onOpen(this,s)},n.prototype.toggle=function(e){var t=this.getItem(e);t.active?this.close(e):this.open(e),this._options.onToggle(this,t)},n.prototype.close=function(e){var t,r,i=this.getItem(e);(t=i.triggerEl.classList).remove.apply(t,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.remove("rotate-180"),this._options.onClose(this,i)},n}();function pA(){document.querySelectorAll("[data-accordion]").forEach(function(n){var e=n.getAttribute("data-accordion"),t=n.getAttribute("data-active-classes"),r=n.getAttribute("data-inactive-classes"),i=[];n.querySelectorAll("[data-accordion-target]").forEach(function(s){if(s.closest("[data-accordion]")===n){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:"true"===s.getAttribute("aria-expanded")};i.push(o)}}),new M2(n,i,{alwaysOpen:"open"===e,activeClasses:t||Zb.activeClasses,inactiveClasses:r||Zb.inactiveClasses})})}typeof window<"u"&&(window.Accordion=M2,window.initAccordions=pA);var Qb=function(){return Qb=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Qb.apply(this,arguments)},P2={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},Gee={id:null,override:!0},mA=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=P2),void 0===i&&(i=Gee),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Qb(Qb({},P2),r),this._visible=!1,this._initialized=!1,this.init(),Kt.addInstance("Collapse",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._visible=this._triggerEl.hasAttribute("aria-expanded")?"true"===this._triggerEl.getAttribute("aria-expanded"):!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},n.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},n.prototype.removeInstance=function(){Kt.removeInstance("Collapse",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},n.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},n.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},n}();function gA(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(n){var e=n.getAttribute("data-collapse-toggle"),t=document.getElementById(e);t?Kt.instanceExists("Collapse",t.getAttribute("id"))?new mA(t,n,{},{id:t.getAttribute("id")+"_"+Kt._generateRandomId()}):new mA(t,n):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=mA,window.initCollapses=gA);var Cu=function(){return Cu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Cu.apply(this,arguments)},Xb={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},qee={id:null,override:!0},k2=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=Xb),void 0===i&&(i=qee),this._instanceId=i.id?i.id:e.id,this._carouselEl=e,this._items=t,this._options=Cu(Cu(Cu({},Xb),r),{indicators:Cu(Cu({},Xb.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Kt.addInstance("Carousel",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(t){t.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(t,r){t.el.addEventListener("click",function(){e.slideTo(r)})}),this._initialized=!0)},n.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},n.prototype.removeInstance=function(){Kt.removeInstance("Carousel",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.getItem=function(e){return this._items[e]},n.prototype.slideTo=function(e){var t=this._items[e];this._rotate({left:0===t.position?this._items[this._items.length-1]:this._items[t.position-1],middle:t,right:t.position===this._items.length-1?this._items[0]:this._items[t.position+1]}),this._setActiveItem(t),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},n.prototype.next=function(){var e=this._getActiveItem();this.slideTo((e.position===this._items.length-1?this._items[0]:this._items[e.position+1]).position),this._options.onNext(this)},n.prototype.prev=function(){var e=this._getActiveItem();this.slideTo((0===e.position?this._items[this._items.length-1]:this._items[e.position-1]).position),this._options.onPrev(this)},n.prototype._rotate=function(e){this._items.map(function(t){t.el.classList.add("hidden")}),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")},n.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},n.prototype.pause=function(){clearInterval(this._intervalInstance)},n.prototype._getActiveItem=function(){return this._activeItem},n.prototype._setActiveItem=function(e){var t,r,i=this;this._activeItem=e;var s=e.position;this._indicators.length&&(this._indicators.map(function(o){var a,l;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,i._options.indicators.activeClasses.split(" ")),(l=o.el.classList).add.apply(l,i._options.indicators.inactiveClasses.split(" "))}),(t=this._indicators[s].el.classList).add.apply(t,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[s].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},n}();function _A(){document.querySelectorAll("[data-carousel]").forEach(function(n){var e=n.getAttribute("data-carousel-interval"),t="slide"===n.getAttribute("data-carousel"),r=[],i=0;n.querySelectorAll("[data-carousel-item]").length&&Array.from(n.querySelectorAll("[data-carousel-item]")).map(function(c,d){r.push({position:d,el:c}),"active"===c.getAttribute("data-carousel-item")&&(i=d)});var s=[];n.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(n.querySelectorAll("[data-carousel-slide-to]")).map(function(c){s.push({position:parseInt(c.getAttribute("data-carousel-slide-to")),el:c})});var o=new k2(n,r,{defaultPosition:i,indicators:{items:s},interval:e||Xb.interval});t&&o.cycle();var a=n.querySelector("[data-carousel-next]"),l=n.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),l&&l.addEventListener("click",function(){o.prev()})})}typeof window<"u"&&(window.Carousel=k2,window.initCarousels=_A);var Jb=function(){return Jb=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Jb.apply(this,arguments)},O2={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Kee={id:null,override:!0},N2=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=O2),void 0===i&&(i=Kee),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Jb(Jb({},O2),r),this._initialized=!1,this.init(),Kt.addInstance("Dismiss",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},n.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},n.prototype.removeInstance=function(){Kt.removeInstance("Dismiss",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},n}();function yA(){document.querySelectorAll("[data-dismiss-target]").forEach(function(n){var e=n.getAttribute("data-dismiss-target"),t=document.querySelector(e);t?new N2(t,n):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}function Ds(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Tu(n){return n instanceof Ds(n).Element||n instanceof Element}function to(n){return n instanceof Ds(n).HTMLElement||n instanceof HTMLElement}function vA(n){return!(typeof ShadowRoot>"u")&&(n instanceof Ds(n).ShadowRoot||n instanceof ShadowRoot)}typeof window<"u"&&(window.Dismiss=N2,window.initDismisses=yA);var Su=Math.max,eE=Math.min,Hh=Math.round;function bA(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function F2(){return!/^((?!chrome|android).)*safari/i.test(bA())}function zh(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&to(n)&&(i=n.offsetWidth>0&&Hh(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Hh(r.height)/n.offsetHeight||1);var a=(Tu(n)?Ds(n):window).visualViewport,l=!F2()&&t,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,g=r.height/s;return{width:f,height:g,top:d,right:c+f,bottom:d+g,left:c,x:c,y:d}}function EA(n){var e=Ds(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ia(n){return n?(n.nodeName||"").toLowerCase():null}function Yl(n){return((Tu(n)?n.ownerDocument:n.document)||window.document).documentElement}function wA(n){return zh(Yl(n)).left+EA(n).scrollLeft}function el(n){return Ds(n).getComputedStyle(n)}function IA(n){var e=el(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function Xee(n,e,t){void 0===t&&(t=!1);var r=to(e),i=to(e)&&function Qee(n){var e=n.getBoundingClientRect(),t=Hh(e.width)/n.offsetWidth||1,r=Hh(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),s=Yl(e),o=zh(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&(("body"!==ia(e)||IA(s))&&(a=function Zee(n){return n!==Ds(n)&&to(n)?function Yee(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):EA(n)}(e)),to(e)?((l=zh(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=wA(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function CA(n){var e=zh(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function tE(n){return"html"===ia(n)?n:n.assignedSlot||n.parentNode||(vA(n)?n.host:null)||Yl(n)}function L2(n){return["html","body","#document"].indexOf(ia(n))>=0?n.ownerDocument.body:to(n)&&IA(n)?n:L2(tE(n))}function Km(n,e){var t;void 0===e&&(e=[]);var r=L2(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),s=Ds(r),o=i?[s].concat(s.visualViewport||[],IA(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Km(tE(o)))}function Jee(n){return["table","td","th"].indexOf(ia(n))>=0}function V2(n){return to(n)&&"fixed"!==el(n).position?n.offsetParent:null}function Ym(n){for(var e=Ds(n),t=V2(n);t&&Jee(t)&&"static"===el(t).position;)t=V2(t);return t&&("html"===ia(t)||"body"===ia(t)&&"static"===el(t).position)?e:t||function ete(n){var e=/firefox/i.test(bA());if(/Trident/i.test(bA())&&to(n)&&"fixed"===el(n).position)return null;var i=tE(n);for(vA(i)&&(i=i.host);to(i)&&["html","body"].indexOf(ia(i))<0;){var s=el(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(n)||e}var os="top",no="bottom",ro="right",as="left",TA="auto",Zm=[os,no,ro,as],$h="start",Qm="end",tte="clippingParents",B2="viewport",Xm="popper",nte="reference",U2=Zm.reduce(function(n,e){return n.concat([e+"-"+$h,e+"-"+Qm])},[]),j2=[].concat(Zm,[TA]).reduce(function(n,e){return n.concat([e,e+"-"+$h,e+"-"+Qm])},[]),hte=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fte(n){var e=new Map,t=new Set,r=[];function i(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){e.set(s.name,s)}),n.forEach(function(s){t.has(s.name)||i(s)}),r}function mte(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var H2={placement:"bottom",modifiers:[],strategy:"absolute"};function z2(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function _te(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,s=void 0===i?H2:i;return function(a,l,c){void 0===c&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},H2,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],g=!1,_={state:d,setOptions:function(P){var N="function"==typeof P?P(d.options):P;w(),d.options=Object.assign({},s,d.options,N),d.scrollParents={reference:Tu(a)?Km(a):a.contextElement?Km(a.contextElement):[],popper:Km(l)};var R=function pte(n){var e=fte(n);return hte.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function gte(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,d.options.modifiers)));return d.orderedModifiers=R.filter(function(j){return j.enabled}),function v(){d.orderedModifiers.forEach(function(T){var N=T.options,j=T.effect;if("function"==typeof j){var le=j({state:d,name:T.name,instance:_,options:void 0===N?{}:N});f.push(le||function(){})}})}(),_.update()},forceUpdate:function(){if(!g){var P=d.elements,N=P.reference,R=P.popper;if(z2(N,R)){d.rects={reference:Xee(N,Ym(R),"fixed"===d.options.strategy),popper:CA(R)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Wt){return d.modifiersData[Wt.name]=Object.assign({},Wt.data)});for(var j=0;j<d.orderedModifiers.length;j++)if(!0!==d.reset){var le=d.orderedModifiers[j],ue=le.fn,Fe=le.options;"function"==typeof ue&&(d=ue({state:d,options:void 0===Fe?{}:Fe,name:le.name,instance:_})||d)}else d.reset=!1,j=-1}}},update:mte(function(){return new Promise(function(T){_.forceUpdate(),T(d)})}),destroy:function(){w(),g=!0}};if(!z2(a,l))return _;function w(){f.forEach(function(T){return T()}),f=[]}return _.setOptions(c).then(function(T){!g&&c.onFirstUpdate&&c.onFirstUpdate(T)}),_}}var nE={passive:!0};const vte={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function yte(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=Ds(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",t.update,nE)}),a&&l.addEventListener("resize",t.update,nE),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",t.update,nE)}),a&&l.removeEventListener("resize",t.update,nE)}},data:{}};function sa(n){return n.split("-")[0]}function Wh(n){return n.split("-")[1]}function SA(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function $2(n){var l,e=n.reference,t=n.element,r=n.placement,i=r?sa(r):null,s=r?Wh(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2;switch(i){case os:l={x:o,y:e.y-t.height};break;case no:l={x:o,y:e.y+e.height};break;case ro:l={x:e.x+e.width,y:a};break;case as:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?SA(i):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case $h:l[c]=l[c]-(e[d]/2-t[d]/2);break;case Qm:l[c]=l[c]+(e[d]/2-t[d]/2)}}return l}const Ete={name:"popperOffsets",enabled:!0,phase:"read",fn:function bte(n){var e=n.state;e.modifiersData[n.name]=$2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var wte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W2(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,f=n.isFixed,g=o.x,_=void 0===g?0:g,v=o.y,w=void 0===v?0:v,T="function"==typeof d?d({x:_,y:w}):{x:_,y:w};_=T.x,w=T.y;var P=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),R=as,j=os,le=window;if(c){var ue=Ym(t),Fe="clientHeight",It="clientWidth";ue===Ds(t)&&"static"!==el(ue=Yl(t)).position&&"absolute"===a&&(Fe="scrollHeight",It="scrollWidth"),(i===os||(i===as||i===ro)&&s===Qm)&&(j=no,w-=(f&&ue===le&&le.visualViewport?le.visualViewport.height:ue[Fe])-r.height,w*=l?1:-1),i!==as&&(i!==os&&i!==no||s!==Qm)||(R=ro,_-=(f&&ue===le&&le.visualViewport?le.visualViewport.width:ue[It])-r.width,_*=l?1:-1)}var Kn,Br=Object.assign({position:a},c&&wte),fi=!0===d?function Ite(n,e){var r=n.y,i=e.devicePixelRatio||1;return{x:Hh(n.x*i)/i||0,y:Hh(r*i)/i||0}}({x:_,y:w},Ds(t)):{x:_,y:w};return _=fi.x,w=fi.y,Object.assign({},Br,l?((Kn={})[j]=N?"0":"",Kn[R]=P?"0":"",Kn.transform=(le.devicePixelRatio||1)<=1?"translate("+_+"px, "+w+"px)":"translate3d("+_+"px, "+w+"px, 0)",Kn):((e={})[j]=N?w+"px":"",e[R]=P?_+"px":"",e.transform="",e))}const Tte={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Cte(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,s=t.adaptive,o=void 0===s||s,a=t.roundOffsets,l=void 0===a||a,c={placement:sa(e.placement),variation:Wh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,W2(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,W2(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Dte={name:"applyStyles",enabled:!0,phase:"write",fn:function Ste(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!to(s)||!ia(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];!1===a?s.removeAttribute(o):s.setAttribute(o,!0===a?"":a)}))})},effect:function Ate(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(l,c){return l[c]="",l},{});!to(i)||!ia(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}},requires:["computeStyles"]},Mte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Rte(n){var e=n.state,r=n.name,i=n.options.offset,s=void 0===i?[0,0]:i,o=j2.reduce(function(d,f){return d[f]=function xte(n,e,t){var r=sa(n),i=[as,os].indexOf(r)>=0?-1:1,s="function"==typeof t?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[as,ro].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(f,e.rects,s),d},{}),a=o[e.placement],c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a.x,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}};var Pte={left:"right",right:"left",bottom:"top",top:"bottom"};function rE(n){return n.replace(/left|right|bottom|top/g,function(e){return Pte[e]})}var kte={start:"end",end:"start"};function G2(n){return n.replace(/start|end/g,function(e){return kte[e]})}function q2(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&vA(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function AA(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function K2(n,e,t){return e===B2?AA(function Ote(n,e){var t=Ds(n),r=Yl(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=F2();(c||!c&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+wA(n),y:l}}(n,t)):Tu(e)?function Fte(n,e){var t=zh(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):AA(function Nte(n){var e,t=Yl(n),r=EA(n),i=null==(e=n.ownerDocument)?void 0:e.body,s=Su(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Su(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+wA(n),l=-r.scrollTop;return"rtl"===el(i||t).direction&&(a+=Su(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(Yl(n)))}function Z2(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function Q2(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function Jm(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,s=e.strategy,o=void 0===s?n.strategy:s,a=e.boundary,l=void 0===a?tte:a,c=e.rootBoundary,d=void 0===c?B2:c,f=e.elementContext,g=void 0===f?Xm:f,_=e.altBoundary,v=void 0!==_&&_,w=e.padding,T=void 0===w?0:w,P=Z2("number"!=typeof T?T:Q2(T,Zm)),R=n.rects.popper,j=n.elements[v?g===Xm?nte:Xm:g],le=function Vte(n,e,t,r){var i="clippingParents"===e?function Lte(n){var e=Km(tE(n)),r=["absolute","fixed"].indexOf(el(n).position)>=0&&to(n)?Ym(n):n;return Tu(r)?e.filter(function(i){return Tu(i)&&q2(i,r)&&"body"!==ia(i)}):[]}(n):[].concat(e),s=[].concat(i,[t]),a=s.reduce(function(l,c){var d=K2(n,c,r);return l.top=Su(d.top,l.top),l.right=eE(d.right,l.right),l.bottom=eE(d.bottom,l.bottom),l.left=Su(d.left,l.left),l},K2(n,s[0],r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Tu(j)?j:j.contextElement||Yl(n.elements.popper),l,d,o),ue=zh(n.elements.reference),Fe=$2({reference:ue,element:R,strategy:"absolute",placement:i}),It=AA(Object.assign({},R,Fe)),Zt=g===Xm?It:ue,Wt={top:le.top-Zt.top+P.top,bottom:Zt.bottom-le.bottom+P.bottom,left:le.left-Zt.left+P.left,right:Zt.right-le.right+P.right},Br=n.modifiersData.offset;if(g===Xm&&Br){var fi=Br[i];Object.keys(Wt).forEach(function(Kn){var va=[ro,no].indexOf(Kn)>=0?1:-1,ba=[os,no].indexOf(Kn)>=0?"y":"x";Wt[Kn]+=fi[ba]*va})}return Wt}const Hte={name:"flip",enabled:!0,phase:"main",fn:function jte(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=void 0===i||i,o=t.altAxis,a=void 0===o||o,l=t.fallbackPlacements,c=t.padding,d=t.boundary,f=t.rootBoundary,g=t.altBoundary,_=t.flipVariations,v=void 0===_||_,w=t.allowedAutoPlacements,T=e.options.placement,P=sa(T),R=l||(P!==T&&v?function Ute(n){if(sa(n)===TA)return[];var e=rE(n);return[G2(n),e,G2(e)]}(T):[rE(T)]),j=[T].concat(R).reduce(function(Qt,No){return Qt.concat(sa(No)===TA?function Bte(n,e){void 0===e&&(e={});var i=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=void 0===l?j2:l,d=Wh(e.placement),f=d?a?U2:U2.filter(function(v){return Wh(v)===d}):Zm,g=f.filter(function(v){return c.indexOf(v)>=0});0===g.length&&(g=f);var _=g.reduce(function(v,w){return v[w]=Jm(n,{placement:w,boundary:i,rootBoundary:s,padding:o})[sa(w)],v},{});return Object.keys(_).sort(function(v,w){return _[v]-_[w]})}(e,{placement:No,boundary:d,rootBoundary:f,padding:c,flipVariations:v,allowedAutoPlacements:w}):No)},[]),le=e.rects.reference,ue=e.rects.popper,Fe=new Map,It=!0,Zt=j[0],Wt=0;Wt<j.length;Wt++){var Br=j[Wt],fi=sa(Br),Kn=Wh(Br)===$h,va=[os,no].indexOf(fi)>=0,ba=va?"width":"height",ge=Jm(e,{placement:Br,boundary:d,rootBoundary:f,altBoundary:g,padding:c}),xe=va?Kn?ro:as:Kn?no:os;le[ba]>ue[ba]&&(xe=rE(xe));var Ue=rE(xe),ht=[];if(s&&ht.push(ge[fi]<=0),a&&ht.push(ge[xe]<=0,ge[Ue]<=0),ht.every(function(Qt){return Qt})){Zt=Br,It=!1;break}Fe.set(Br,ht)}if(It)for(var hs=function(No){var _d=j.find(function(gr){var Gi=Fe.get(gr);if(Gi)return Gi.slice(0,No).every(function(xi){return xi})});if(_d)return Zt=_d,"break"},Ur=v?3:1;Ur>0&&"break"!==hs(Ur);Ur--);e.placement!==Zt&&(e.modifiersData[r]._skip=!0,e.placement=Zt,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function eg(n,e,t){return Su(n,eE(e,t))}const Gte={name:"preventOverflow",enabled:!0,phase:"main",fn:function Wte(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=void 0===i||i,o=t.altAxis,a=void 0!==o&&o,g=t.tether,_=void 0===g||g,v=t.tetherOffset,w=void 0===v?0:v,T=Jm(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),P=sa(e.placement),N=Wh(e.placement),R=!N,j=SA(P),le=function zte(n){return"x"===n?"y":"x"}(j),ue=e.modifiersData.popperOffsets,Fe=e.rects.reference,It=e.rects.popper,Zt="function"==typeof w?w(Object.assign({},e.rects,{placement:e.placement})):w,Wt="number"==typeof Zt?{mainAxis:Zt,altAxis:Zt}:Object.assign({mainAxis:0,altAxis:0},Zt),Br=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,fi={x:0,y:0};if(ue){if(s){var Kn,va="y"===j?os:as,ba="y"===j?no:ro,ge="y"===j?"height":"width",xe=ue[j],Ue=xe+T[va],ht=xe-T[ba],Yn=_?-It[ge]/2:0,hs=N===$h?Fe[ge]:It[ge],Ur=N===$h?-It[ge]:-Fe[ge],Vs=e.elements.arrow,Qt=_&&Vs?CA(Vs):{width:0,height:0},No=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_d=No[va],gr=No[ba],Gi=eg(0,Fe[ge],Qt[ge]),xi=R?Fe[ge]/2-Yn-Gi-_d-Wt.mainAxis:hs-Gi-_d-Wt.mainAxis,dp=R?-Fe[ge]/2+Yn+Gi+gr+Wt.mainAxis:Ur+Gi+gr+Wt.mainAxis,yd=e.elements.arrow&&Ym(e.elements.arrow),qq=null!=(Kn=Br?.[j])?Kn:0,tve=xe+dp-qq,Kq=eg(_?eE(Ue,xe+xi-qq-(yd?"y"===j?yd.clientTop||0:yd.clientLeft||0:0)):Ue,xe,_?Su(ht,tve):ht);ue[j]=Kq,fi[j]=Kq-xe}if(a){var Yq,vd=ue[le],_I="y"===le?"height":"width",Zq=vd+T["x"===j?os:as],Qq=vd-T["x"===j?no:ro],wk=-1!==[os,as].indexOf(P),Xq=null!=(Yq=Br?.[le])?Yq:0,Jq=wk?Zq:vd-Fe[_I]-It[_I]-Xq+Wt.altAxis,e5=wk?vd+Fe[_I]+It[_I]-Xq-Wt.altAxis:Qq,t5=_&&wk?function $te(n,e,t){var r=eg(n,e,t);return r>t?t:r}(Jq,vd,e5):eg(_?Jq:Zq,vd,_?e5:Qq);ue[le]=t5,fi[le]=t5-vd}e.modifiersData[r]=fi}},requiresIfExists:["offset"]};const Zte={name:"arrow",enabled:!0,phase:"main",fn:function Kte(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=sa(t.placement),l=SA(a),d=[as,ro].indexOf(a)>=0?"height":"width";if(s&&o){var f=function(e,t){return Z2("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Q2(e,Zm))}(i.padding,t),g=CA(s),_="y"===l?os:as,v="y"===l?no:ro,w=t.rects.reference[d]+t.rects.reference[l]-o[l]-t.rects.popper[d],T=o[l]-t.rects.reference[l],P=Ym(s),N=P?"y"===l?P.clientHeight||0:P.clientWidth||0:0,ue=N/2-g[d]/2+(w/2-T/2),Fe=eg(f[_],ue,N-g[d]-f[v]);t.modifiersData[r]=((e={})[l]=Fe,e.centerOffset=Fe-ue,e)}},effect:function Yte(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||q2(e.elements.popper,i)&&(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function X2(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function J2(n){return[os,ro,no,as].some(function(e){return n[e]>=0})}var Xte=[vte,Ete,Tte,Dte,Mte,Hte,Gte,Zte,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Qte(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Jm(e,{elementContext:"reference"}),a=Jm(e,{altBoundary:!0}),l=X2(o,r),c=X2(a,i,s),d=J2(l),f=J2(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}}],DA=_te({defaultModifiers:Xte}),Zl=function(){return Zl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Zl.apply(this,arguments)},iE=function(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Ql={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},Jte={id:null,override:!0},eB=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=Ql),void 0===i&&(i=Jte),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Zl(Zl({},Ql),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Kt.addInstance("Dropdown",this,this._instanceId,i.override)}return n.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},n.prototype.destroy=function(){var e=this,t=this._getTriggerEvents();"click"===this._options.triggerType&&t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._clickHandler)}),"hover"===this._options.triggerType&&(t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(r,e._hoverShowTargetElHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverHideHandler),e._targetEl.removeEventListener(r,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},n.prototype.removeInstance=function(){Kt.removeInstance("Dropdown",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},"click"===this._options.triggerType&&t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._clickHandler)}),this._hoverShowTriggerElHandler=function(r){"click"===r.type?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},"hover"===this._options.triggerType&&(t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(r,e._hoverShowTargetElHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverHideHandler),e._targetEl.addEventListener(r,e._hoverHideHandler)}))},n.prototype._createPopperInstance=function(){return DA(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},n.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._handleClickOutside=function(e,t){var r=e.target,i=this._options.ignoreClickOutsideClass,s=!1;i&&document.querySelectorAll(".".concat(i)).forEach(function(a){a.contains(r)&&(s=!0)}),r!==t&&!t.contains(r)&&!this._triggerEl.contains(r)&&!s&&this.isVisible()&&this.hide()},n.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},n.prototype.isVisible=function(){return this._visible},n.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return Zl(Zl({},e),{modifiers:iE(iE([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},n.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return Zl(Zl({},e),{modifiers:iE(iE([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},n}();function xA(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(n){var e=n.getAttribute("data-dropdown-toggle"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-dropdown-placement"),i=n.getAttribute("data-dropdown-offset-skidding"),s=n.getAttribute("data-dropdown-offset-distance"),o=n.getAttribute("data-dropdown-trigger"),a=n.getAttribute("data-dropdown-delay"),l=n.getAttribute("data-dropdown-ignore-click-outside-class");new eB(t,n,{placement:r||Ql.placement,triggerType:o||Ql.triggerType,offsetSkidding:i?parseInt(i):Ql.offsetSkidding,offsetDistance:s?parseInt(s):Ql.offsetDistance,delay:a?parseInt(a):Ql.delay,ignoreClickOutsideClass:l||Ql.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=eB,window.initDropdowns=xA);var sE=function(){return sE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},sE.apply(this,arguments)},oE={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},ene={id:null,override:!0},tB=function(){function n(e,t,r){void 0===e&&(e=null),void 0===t&&(t=oE),void 0===r&&(r=ene),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=sE(sE({},oE),t),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Kt.addInstance("Modal",this,this._instanceId,r.override)}return n.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(t){e._targetEl.classList.add(t)}),this._initialized=!0)},n.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},n.prototype.removeInstance=function(){Kt.removeInstance("Modal",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._createBackdrop=function(){var e;if(this._isHidden){var t=document.createElement("div");t.setAttribute("modal-backdrop",""),(e=t.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(t),this._backdropEl=t}},n.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},n.prototype._setupModalCloseEventListeners=function(){var e=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(t){e._handleOutsideClick(t.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},n.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},n.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},n.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},n.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},n.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},n.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},n.prototype.isVisible=function(){return!this._isHidden},n.prototype.isHidden=function(){return this._isHidden},n.prototype.addEventListenerInstance=function(e,t,r){this._eventListenerInstances.push({element:e,type:t,handler:r})},n.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},n.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},n}();function RA(){document.querySelectorAll("[data-modal-target]").forEach(function(n){var e=n.getAttribute("data-modal-target"),t=document.getElementById(e);if(t){var r=t.getAttribute("data-modal-placement"),i=t.getAttribute("data-modal-backdrop");new tB(t,{placement:r||oE.placement,backdrop:i||oE.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(n){var e=n.getAttribute("data-modal-toggle");if(document.getElementById(e)){var r=Kt.getInstance("Modal",e);if(r){var i=function(){r.toggle()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(n){var e=n.getAttribute("data-modal-show");if(document.getElementById(e)){var r=Kt.getInstance("Modal",e);if(r){var i=function(){r.show()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(n){var e=n.getAttribute("data-modal-hide");if(document.getElementById(e)){var r=Kt.getInstance("Modal",e);if(r){var i=function(){r.hide()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=tB,window.initModals=RA);var aE=function(){return aE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},aE.apply(this,arguments)},Au={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},tne={id:null,override:!0},nB=function(){function n(e,t,r){void 0===e&&(e=null),void 0===t&&(t=Au),void 0===r&&(r=tne),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=aE(aE({},Au),t),this._visible=!1,this._initialized=!1,this.init(),Kt.addInstance("Drawer",this,this._instanceId,r.override)}return n.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(t){e._targetEl.classList.add(t)}),this._handleEscapeKey=function(t){"Escape"===t.key&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},n.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},n.prototype.removeInstance=function(){Kt.removeInstance("Drawer",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(t){e._targetEl.classList.remove(t)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(t){e._targetEl.classList.add(t)})):(this._getPlacementClasses(this._options.placement).active.map(function(t){e._targetEl.classList.remove(t)}),this._getPlacementClasses(this._options.placement).inactive.map(function(t){e._targetEl.classList.add(t)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},n.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(t){e._targetEl.classList.add(t)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(t){e._targetEl.classList.remove(t)})):(this._getPlacementClasses(this._options.placement).active.map(function(t){e._targetEl.classList.add(t)}),this._getPlacementClasses(this._options.placement).inactive.map(function(t){e._targetEl.classList.remove(t)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},n.prototype._createBackdrop=function(){var e,t=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){t.hide()})}},n.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},n.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},n.prototype.isHidden=function(){return!this._visible},n.prototype.isVisible=function(){return this._visible},n.prototype.addEventListenerInstance=function(e,t,r){this._eventListenerInstances.push({element:e,type:t,handler:r})},n.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},n.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},n}();function MA(){document.querySelectorAll("[data-drawer-target]").forEach(function(n){var e=n.getAttribute("data-drawer-target"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-drawer-placement"),i=n.getAttribute("data-drawer-body-scrolling"),s=n.getAttribute("data-drawer-backdrop"),o=n.getAttribute("data-drawer-edge"),a=n.getAttribute("data-drawer-edge-offset");new nB(t,{placement:r||Au.placement,bodyScrolling:i?"true"===i:Au.bodyScrolling,backdrop:s?"true"===s:Au.backdrop,edge:o?"true"===o:Au.edge,edgeOffset:a||Au.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(n){var e=n.getAttribute("data-drawer-toggle");if(document.getElementById(e)){var r=Kt.getInstance("Drawer",e);if(r){var i=function(){r.toggle()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(n){var e=n.getAttribute("data-drawer-dismiss")?n.getAttribute("data-drawer-dismiss"):n.getAttribute("data-drawer-hide");if(document.getElementById(e)){var r=Kt.getInstance("Drawer",e);if(r){var i=function(){r.hide()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(n){var e=n.getAttribute("data-drawer-show");if(document.getElementById(e)){var r=Kt.getInstance("Drawer",e);if(r){var i=function(){r.show()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=nB,window.initDrawers=MA);var lE=function(){return lE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},lE.apply(this,arguments)},rB={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},nne={id:null,override:!0},iB=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=rB),void 0===i&&(i=nne),this._instanceId=i.id?i.id:e.id,this._tabsEl=e,this._items=t,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=lE(lE({},rB),r),this._initialized=!1,this.init(),Kt.addInstance("Tabs",this,this._tabsEl.id,!0),Kt.addInstance("Tabs",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(t){t.triggerEl.addEventListener("click",function(){e.show(t.id)})}))},n.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},n.prototype.removeInstance=function(){this.destroy(),Kt.removeInstance("Tabs",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.getActiveTab=function(){return this._activeTab},n.prototype.setActiveTab=function(e){this._activeTab=e},n.prototype.getTab=function(e){return this._items.filter(function(t){return t.id===e})[0]},n.prototype.show=function(e,t){var r,i,s=this;void 0===t&&(t=!1);var o=this.getTab(e);o===this._activeTab&&!t||(this._items.map(function(a){var l,c;a!==o&&((l=a.triggerEl.classList).remove.apply(l,s._options.activeClasses.split(" ")),(c=a.triggerEl.classList).add.apply(c,s._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(r=o.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=o.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},n}();function PA(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(n){var e=[],t=null;n.querySelectorAll('[role="tab"]').forEach(function(r){var i="true"===r.getAttribute("aria-selected"),s={id:r.getAttribute("data-tabs-target"),triggerEl:r,targetEl:document.querySelector(r.getAttribute("data-tabs-target"))};e.push(s),i&&(t=s.id)}),new iB(n,e,{defaultTabId:t})})}typeof window<"u"&&(window.Tabs=iB,window.initTabs=PA);var Xl=function(){return Xl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Xl.apply(this,arguments)},cE=function(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},uE={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},rne={id:null,override:!0},sB=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=uE),void 0===i&&(i=rne),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Xl(Xl({},uE),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Kt.addInstance("Tooltip",this,this._instanceId,i.override)}return n.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},n.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEvents();t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},n.prototype.removeInstance=function(){Kt.removeInstance("Tooltip",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler)})},n.prototype._createPopperInstance=function(){return DA(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},n.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},n.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},n.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},n.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._handleClickOutside=function(e,t){var r=e.target;r!==t&&!t.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},n.prototype.isVisible=function(){return this._visible},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},n.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Xl(Xl({},e),{modifiers:cE(cE([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},n.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Xl(Xl({},e),{modifiers:cE(cE([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},n}();function kA(){document.querySelectorAll("[data-tooltip-target]").forEach(function(n){var e=n.getAttribute("data-tooltip-target"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-tooltip-trigger"),i=n.getAttribute("data-tooltip-placement");new sB(t,n,{placement:i||uE.placement,triggerType:r||uE.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=sB,window.initTooltips=kA);var Jl=function(){return Jl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Jl.apply(this,arguments)},dE=function(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},tg={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},ine={id:null,override:!0},oB=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=tg),void 0===i&&(i=ine),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Jl(Jl({},tg),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Kt.addInstance("Popover",this,i.id?i.id:this._targetEl.id,i.override)}return n.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},n.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEvents();t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler),e._targetEl.removeEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler),e._targetEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},n.prototype.removeInstance=function(){Kt.removeInstance("Popover",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler),e._targetEl.addEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler),e._targetEl.addEventListener(r,e._hideHandler)})},n.prototype._createPopperInstance=function(){return DA(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},n.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},n.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},n.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},n.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._handleClickOutside=function(e,t){var r=e.target;r!==t&&!t.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},n.prototype.isVisible=function(){return this._visible},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},n.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Jl(Jl({},e),{modifiers:dE(dE([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},n.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Jl(Jl({},e),{modifiers:dE(dE([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},n}();function OA(){document.querySelectorAll("[data-popover-target]").forEach(function(n){var e=n.getAttribute("data-popover-target"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-popover-trigger"),i=n.getAttribute("data-popover-placement"),s=n.getAttribute("data-popover-offset");new oB(t,n,{placement:i||tg.placement,offset:s?parseInt(s):tg.offset,triggerType:r||tg.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=oB,window.initPopovers=OA);var hE=function(){return hE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},hE.apply(this,arguments)},NA={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},sne={id:null,override:!0},aB=function(){function n(e,t,r,i,s){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),void 0===i&&(i=NA),void 0===s&&(s=sne),this._instanceId=s.id?s.id:r.id,this._parentEl=e,this._triggerEl=t,this._targetEl=r,this._options=hE(hE({},NA),i),this._visible=!1,this._initialized=!1,this.init(),Kt.addInstance("Dial",this,this._instanceId,s.override)}return n.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var t=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showEventHandler),e._targetEl.addEventListener(r,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},t.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,e._hideEventHandler)}),this._initialized=!0}},n.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEventTypes(this._options.triggerType);t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showEventHandler),e._targetEl.removeEventListener(r,e._showEventHandler)}),t.hideEvents.forEach(function(r){e._parentEl.removeEventListener(r,e._hideEventHandler)}),this._initialized=!1}},n.prototype.removeInstance=function(){Kt.removeInstance("Dial",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},n.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},n.prototype.toggle=function(){this._visible?this.hide():this.show()},n.prototype.isHidden=function(){return!this._visible},n.prototype.isVisible=function(){return this._visible},n.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},n}();function FA(){document.querySelectorAll("[data-dial-init]").forEach(function(n){var e=n.querySelector("[data-dial-toggle]");if(e){var t=e.getAttribute("data-dial-toggle"),r=document.getElementById(t);if(r){var i=e.getAttribute("data-dial-trigger");new aB(n,e,r,{triggerType:i||NA.triggerType})}else console.error("Dial with id ".concat(t," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(n.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}function lB(){pA(),gA(),_A(),yA(),xA(),RA(),MA(),PA(),kA(),OA(),FA()}typeof window<"u"&&(window.Dial=aB,window.initDials=FA),typeof window<"u"&&(window.initFlowbite=lB),new zee("load",[pA,gA,_A,yA,xA,RA,MA,PA,kA,OA,FA]).init();let ane=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-sidebar"]],decls:9,vars:0,consts:[[1,"navbarLateral"],[1,"cardIconesLateral"],["role","button",1,"material-symbols-outlined"]],template:function(r,i){1&r&&(Ce(0,"nav",0)(1,"div",1)(2,"ul")(3,"li")(4,"span",2),Ge(5,"home"),Re()(),Ce(6,"li")(7,"span",2),Ge(8,"settings"),Re()()()()())},styles:[".navbarLateral[_ngcontent-%COMP%]{width:5rem;height:100vh;background-color:var(--sidebar);font-family:Roboto;color:#fff}.cardIconesLateral[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center;line-height:5rem;color:azure;cursor:pointer}span[_ngcontent-%COMP%]:hover{background-color:var(--hover-icons)}@media (max-width: 450px){.navbarLateral[_ngcontent-%COMP%]{display:none}}"]})}return n})();var Fr=Be(881);(0,Fr.registerVersion)("firebase","10.6.0","app");class une extends rt{constructor(e,t){super()}schedule(e,t=0){return this}}const fE={setInterval(n,e,...t){const{delegate:r}=fE;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=fE;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class pE extends une{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return fE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&fE.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Me(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const LA={now:()=>(LA.delegate||Date).now(),delegate:void 0};class ng{constructor(e,t=ng.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ng.now=LA.now;class mE extends ng{constructor(e,t=ng.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const fne=new class hne extends mE{}(class dne extends pE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Gh=new mE(pE),pne=Gh,gE=new Vl("ANGULARFIRE2_VERSION");const VA=(n,e)=>{const t=e?[e]:(0,Fr.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class BA{constructor(){return VA(mne)}}const mne="app-check";function qh(){}class uB{zone;delegate;constructor(e,t=fne){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class gne{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qh,{},qh,qh)),t.pipe(Wn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _E=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new uB(Zone.current)),this.insideAngular=t.run(()=>new uB(Zone.current,Gh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(U(qe))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Du(n){return Kh().ngZone.run(()=>n())}function ec(n){return function yne(n){return function(t){return(t=t.lift(new gne(n.ngZone))).pipe(jr(n.outsideAngular),Xn(n.insideAngular))}}(Kh())(n)}const vne=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Du(()=>n.apply(void 0,r))},yE=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=Du(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qh,{},qh,qh))),r[s]=vne(r[s],t));const i=function _ne(n){return Kh().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof He){const s=Kh();return i.pipe(jr(s.outsideAngular),Xn(s.insideAngular))}return Du(()=>i)}return i instanceof He?i.pipe(ec):i instanceof Promise?Du(()=>new Promise((s,o)=>i.then(a=>Du(()=>s(a)),a=>Du(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Du(()=>i)};class rg{constructor(e){return e}}class dB{constructor(){return(0,Fr.getApps)()}}const UA=new ae("angularfire2._apps"),Ene={provide:rg,useFactory:function bne(n){return n&&1===n.length?n[0]:new rg((0,Fr.getApp)())},deps:[[new Ir,UA]]},wne={provide:dB,deps:[[new Ir,UA]]};function Ine(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new rg(r)}}let Cne=(()=>{class n{constructor(t){(0,Fr.registerVersion)("angularfire",gE.full,"core"),(0,Fr.registerVersion)("angularfire",gE.full,"app"),(0,Fr.registerVersion)("angular",zO.full,t.toString())}static \u0275fac=function(r){return new(r||n)(U(Hl))};static \u0275mod=Ot({type:n});static \u0275inj=qt({providers:[Ene,wne]})}return n})();function Tne(n,...e){return{ngModule:Cne,providers:[{provide:UA,useFactory:Ine(n),multi:!0,deps:[qe,zr,_E,...e]}]}}const Sne=yE(Fr.initializeApp,!0);Be(808);var A=Be(90),io=Be(877),tc=Be(859);class fB{constructor(){return VA("auth")}}var ye,Pe=Be(861),Rne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ao={},zA=zA||{},nt=Rne||self;function vE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ig(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $A="closure_uid_"+(1e9*Math.random()>>>0),Pne=0;function kne(n,e,t){return n.call.apply(n.bind,arguments)}function One(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ii(n,e,t){return(Ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kne:One).apply(null,arguments)}function bE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Wr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function nc(){this.s=this.s,this.o=this.o}nc.prototype.s=!1,nc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Mne(n){Object.prototype.hasOwnProperty.call(n,$A)&&n[$A]||(n[$A]=++Pne)}(this)},nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function WA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mB(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vE(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var Fne=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{nt.addEventListener("test",()=>{},e),nt.removeEventListener("test",()=>{},e)}catch{}return n}();function sg(n){return/^[\s\xa0]*$/.test(n)}function EE(){var n=nt.navigator;return n&&(n=n.userAgent)?n:""}function oa(n){return-1!=EE().indexOf(n)}function GA(n){return GA[" "](n),n}GA[" "]=function(){};var KA,n,Vne=oa("Opera"),Yh=oa("Trident")||oa("MSIE"),gB=oa("Edge"),qA=gB||Yh,_B=oa("Gecko")&&!(-1!=EE().toLowerCase().indexOf("webkit")&&!oa("Edge"))&&!(oa("Trident")||oa("MSIE"))&&!oa("Edge"),Bne=-1!=EE().toLowerCase().indexOf("webkit")&&!oa("Edge");function yB(){var n=nt.document;return n?n.documentMode:void 0}e:{var YA="",ZA=(n=EE(),_B?/rv:([^\);]+)(\)|;)/.exec(n):gB?/Edge\/([\d\.]+)/.exec(n):Yh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bne?/WebKit\/(\S+)/.exec(n):Vne?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ZA&&(YA=ZA?ZA[1]:""),Yh){var QA=yB();if(null!=QA&&QA>parseFloat(YA)){KA=String(QA);break e}}KA=YA}var Une=nt.document&&Yh&&(yB()||parseInt(KA,10))||void 0;function og(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_B){e:{try{GA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&og.$.h.call(this)}}Wr(og,Ci);var jne={2:"touch",3:"pen",4:"mouse"};og.prototype.h=function(){og.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ag="closure_listenable_"+(1e6*Math.random()|0),Hne=0;function zne(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Hne,this.fa=this.ia=!1}function wE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function JA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bB(n){const e={};for(const t in n)e[t]=n[t];return e}const EB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<EB.length;s++)t=EB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function IE(n){this.src=n,this.g={},this.h=0}function eD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=pB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}IE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=tD(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new zne(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var nD="closure_lm_"+(1e6*Math.random()|0),rD={};function IB(n,e,t,r,i){if(r&&r.once)return TB(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IB(n,e[s],t,r,i);return null}return t=aD(t),n&&n[ag]?n.O(e,t,ig(r)?!!r.capture:!!r,i):CB(n,e,t,!1,r,i)}function CB(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=ig(i)?!!i.capture:!!i,a=sD(n);if(a||(n[nD]=a=new IE(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Wne(){const e=Gne;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Fne||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(AB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function TB(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TB(n,e[s],t,r,i);return null}return t=aD(t),n&&n[ag]?n.P(e,t,ig(r)?!!r.capture:!!r,i):CB(n,e,t,!0,r,i)}function SB(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)SB(n,e[s],t,r,i);else r=ig(r)?!!r.capture:!!r,t=aD(t),n&&n[ag]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tD(s=n.g[e],t,r,i))&&(wE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=sD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tD(e,t,r,i)),(t=-1<n?e[n]:null)&&iD(t))}function iD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ag])eD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(AB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=sD(e))?(eD(t,n),0==t.h&&(t.src=null,e[nD]=null)):wE(n)}}}function AB(n){return n in rD?rD[n]:rD[n]="on"+n}function Gne(n,e){if(n.fa)n=!0;else{e=new og(e,this);var t=n.listener,r=n.la||n.src;n.ia&&iD(n),n=t.call(r,e)}return n}function sD(n){return(n=n[nD])instanceof IE?n:null}var oD="__closure_events_fn_"+(1e9*Math.random()>>>0);function aD(n){return"function"==typeof n?n:(n[oD]||(n[oD]=function(e){return n.handleEvent(e)}),n[oD])}function Gr(){nc.call(this),this.i=new IE(this),this.S=this,this.J=null}function si(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var i=e;wB(e=new Ci(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=CE(o,r,!0,e)&&i}if(i=CE(o=e.g=n,r,!0,e)&&i,i=CE(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=CE(o=e.g=t[s],r,!1,e)&&i}function CE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&eD(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Wr(Gr,nc),Gr.prototype[ag]=!0,Gr.prototype.removeEventListener=function(n,e,t,r){SB(this,n,e,t,r)},Gr.prototype.N=function(){if(Gr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wE(t[r]);delete n.g[e],n.h--}}this.J=null},Gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lD=nt.JSON.stringify;function Kne(){var n=cD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var DB=new class qne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zne,n=>n.reset());class Zne{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qne(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Xne(n){nt.setTimeout(()=>{throw n},0)}let lg,cg=!1,cD=new class Yne{constructor(){this.h=this.g=null}add(e,t){const r=DB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},xB=()=>{const n=nt.Promise.resolve(void 0);lg=()=>{n.then(Jne)}};var Jne=()=>{for(var n;n=Kne();){try{n.h.call(n.g)}catch(t){Xne(t)}var e=DB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cg=!1};function TE(n,e){Gr.call(this),this.h=n||1,this.g=e||nt,this.j=Ii(this.qb,this),this.l=Date.now()}function uD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function dD(n,e,t){if("function"==typeof n)t&&(n=Ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:nt.setTimeout(n,e||0)}function RB(n){n.g=dD(()=>{n.g=null,n.i&&(n.i=!1,RB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wr(TE,Gr),(ye=TE.prototype).ga=!1,ye.T=null,ye.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),si(this,"tick"),this.ga&&(uD(this),this.start()))}},ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.N=function(){TE.$.N.call(this),uD(this),delete this.g};class ere extends nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RB(this)}N(){super.N(),this.g&&(nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ug(n){nc.call(this),this.h=n,this.g={}}Wr(ug,nc);var MB=[];function PB(n,e,t,r){Array.isArray(t)||(t&&(MB[0]=t.toString()),t=MB);for(var i=0;i<t.length;i++){var s=IB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function kB(n){JA(n.g,function(e,t){this.g.hasOwnProperty(t)&&iD(e)},n),n.g={}}function SE(){this.g=!0}function Zh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ire(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return lD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ug.prototype.N=function(){ug.$.N.call(this),kB(this)},ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},SE.prototype.Ea=function(){this.g=!1},SE.prototype.info=function(){};var xu={},OB=null;function AE(){return OB=OB||new Gr}function NB(n){Ci.call(this,xu.Ta,n)}function dg(n){const e=AE();si(e,new NB(e))}function FB(n,e){Ci.call(this,xu.STAT_EVENT,n),this.stat=e}function Hi(n){const e=AE();si(e,new FB(e,n))}function LB(n,e){Ci.call(this,xu.Ua,n),this.size=e}function hg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return nt.setTimeout(function(){n()},e)}xu.Ta="serverreachability",Wr(NB,Ci),xu.STAT_EVENT="statevent",Wr(FB,Ci),xu.Ua="timingevent",Wr(LB,Ci);var DE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hD(){}function UB(){}hD.prototype.h=null;var mD,fg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fD(){Ci.call(this,"d")}function pD(){Ci.call(this,"c")}function xE(){}function pg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ug(this),this.P=sre,this.V=new TE(n=qA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jB}function jB(){this.i=null,this.g="",this.h=!1}Wr(fD,Ci),Wr(pD,Ci),Wr(xE,hD),xE.prototype.g=function(){return new XMLHttpRequest},xE.prototype.i=function(){return{}},mD=new xE;var sre=45e3,gD={},RE={};function _D(n,e,t){n.L=1,n.v=OE(tl(e)),n.s=t,n.S=!0,HB(n,null)}function HB(n,e){n.G=Date.now(),mg(n),n.A=tl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),XB(t.i,"t",r),n.C=0,t=n.l.J,n.h=new jB,n.g=wU(n.l,t?e:null,!n.s),0<n.O&&(n.M=new ere(Ii(n.Pa,n,n.g),n.O)),PB(n.U,n.g,"readystatechange",n.nb),e=n.I?bB(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),dg(),function tre(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var f=d.split("_");o=2<=f.length&&"type"==f[1]?o+(d+"=")+c+"&":o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function zB(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function $B(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=ore(n,t),i==RE){4==e&&(n.o=4,Hi(14),r=!1),Zh(n.j,n.m,null,"[Incomplete Response]");break}if(i==gD){n.o=4,Hi(15),Zh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Zh(n.j,n.m,i,null),yD(n,i)}zB(n)&&i!=RE&&i!=gD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),TD(e),e.M=!0,Hi(11))):(Zh(n.j,n.m,t,"[Invalid Chunked Response]"),Ru(n),gg(n))}function ore(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?RE:(t=Number(e.substring(t,r)),isNaN(t)?gD:(r+=1)+t>e.length?RE:(e=e.slice(r,r+t),n.C=r+t,e))}function mg(n){n.Y=Date.now()+n.P,WB(n,n.P)}function WB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hg(Ii(n.lb,n),e)}function ME(n){n.B&&(nt.clearTimeout(n.B),n.B=null)}function gg(n){0==n.l.H||n.J||yU(n.l,n)}function Ru(n){ME(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,uD(n.V),kB(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vD(t.i,n)))if(!n.K&&vD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;UE(t),VE(t)}CD(t),Hi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=hg(Ii(t.ib,t),6e3));if(1>=tU(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Pu(t,11)}else if((n.K||t.g==n)&&UE(t),!sg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const d=c[3];null!=d&&(t.ra=d,t.l.info("VER="+t.ra));const f=c[4];null!=f&&(t.Ga=f,t.l.info("SVER="+t.Ga));const g=c[5];null!=g&&"number"==typeof g&&0<g&&(t.L=r=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const _=n.g;if(_){const v=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||-1==v.indexOf("spdy")&&-1==v.indexOf("quic")&&-1==v.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bD(s,s.h),s.h=null))}if(r.F){const w=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,xn(r.I,r.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=EU(r,r.J?r.pa:null,r.Y),o.K){nU(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(ME(a),mg(a)),r.g=o}else gU(r);0<t.j.length&&BE(t)}else"stop"!=c[0]&&"close"!=c[0]||Pu(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Pu(t,7):ID(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}dg()}catch{}}function GB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lre(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function are(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(ye=pg.prototype).setTimeout=function(n){this.P=n},ye.nb=function(n){n=n.target;const e=this.M;e&&3==aa(n)?e.l():this.Pa(n)},ye.Pa=function(n){try{if(n==this.g)e:{const d=aa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||qA||this.g&&(this.h.h||this.g.ja()||uU(this.g)))){this.J||4!=d||7==e||dg(),ME(this);var t=this.g.da();this.ca=t;t:if(zB(this)){var r=uU(this.g);n="";var i=r.length,s=4==aa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ru(this),gg(this);var o="";break t}this.h.i=new nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function nre(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,d,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sg(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Hi(12),Ru(this),gg(this);break e}Zh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yD(this,t)}this.S?($B(this,d,o),qA&&this.i&&3==d&&(PB(this.U,this.V,"tick",this.mb),this.V.start())):(Zh(this.j,this.m,o,null),yD(this,o)),4==d&&Ru(this),this.i&&!this.J&&(4==d?yU(this.l,this):(this.i=!1,mg(this)))}else(function Sre(n){const e={};n=(n.g&&2<=aa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(sg(n[r]))continue;var t=Qne(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function $ne(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),Ru(this),gg(this)}}}catch{}},ye.mb=function(){if(this.g){var n=aa(this.g),e=this.g.ja();this.C<e.length&&(ME(this),$B(this,n,e),this.i&&4!=n&&mg(this))}},ye.cancel=function(){this.J=!0,Ru(this)},ye.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rre(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dg(),Hi(17)),Ru(this),this.o=2,gg(this)):WB(this,this.Y-n)};var qB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Mu){this.h=n.h,PE(this,n.j),this.s=n.s,this.g=n.g,kE(this,n.m),this.l=n.l;var e=n.i,t=new vg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),KB(this,t),this.o=n.o}else n&&(e=String(n).match(qB))?(this.h=!1,PE(this,e[1]||"",!0),this.s=_g(e[2]||""),this.g=_g(e[3]||"",!0),kE(this,e[4]),this.l=_g(e[5]||"",!0),KB(this,e[6]||"",!0),this.o=_g(e[7]||"")):(this.h=!1,this.i=new vg(null,this.h))}function tl(n){return new Mu(n)}function PE(n,e,t){n.j=t?_g(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function KB(n,e,t){e instanceof vg?(n.i=e,function mre(n,e){e&&!n.j&&(rc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ZB(this,r),XB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=yg(e,fre)),n.i=new vg(e,n.h))}function xn(n,e,t){n.i.set(e,t)}function OE(n){return xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _g(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ure),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ure(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yg(e,YB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yg(e,YB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(yg(t,"/"==t.charAt(0)?hre:dre,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yg(t,pre)),n.join("")};var YB=/[#\/\?@]/g,dre=/[#\?:]/g,hre=/[#\?]/g,fre=/[#\?@]/g,pre=/#/g;function vg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function cre(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ZB(n,e){rc(n),e=Qh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function QB(n,e){return rc(n),e=Qh(n,e),n.g.has(e)}function XB(n,e,t){ZB(n,e),0<t.length&&(n.i=null,n.g.set(Qh(n,e),WA(t)),n.h+=t.length)}function Qh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function JB(n){this.l=n||_re,n=nt.PerformanceNavigationTiming?0<(n=nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(nt.g&&nt.g.Ka&&nt.g.Ka()&&nt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ye=vg.prototype).add=function(n,e){rc(this),this.i=null,n=Qh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ye.forEach=function(n,e){rc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ye.ta=function(){rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},ye.Z=function(n){rc(this);let e=[];if("string"==typeof n)QB(this,n)&&(e=e.concat(this.g.get(Qh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ye.set=function(n,e){return rc(this),this.i=null,QB(this,n=Qh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ye.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var _re=10;function eU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function tU(n){return n.h?1:n.g?n.g.size:0}function vD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bD(n,e){n.g?n.g.add(e):n.h=e}function nU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function rU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return WA(n.i)}JB.prototype.cancel=function(){if(this.i=rU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var yre=class{stringify(n){return nt.JSON.stringify(n,void 0)}parse(n){return nt.JSON.parse(n,void 0)}};function vre(){this.g=new yre}function bre(n,e,t){const r=t||"";try{GB(n,function(i,s){let o=i;ig(i)&&(o=lD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function NE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bg(n){this.l=n.ec||null,this.j=n.ob||!1}function FE(n,e){Gr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ED,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wr(bg,hD),bg.prototype.g=function(){return new FE(this.l,this.j)},bg.prototype.i=function(n){return function(){return n}}({}),Wr(FE,Gr);var ED=0;function iU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Eg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wg(n)}function wg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ye=FE.prototype).open=function(n,e){if(this.readyState!=ED)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wg(this)},ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eg(this)),this.readyState=ED},ye.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wg(this)),this.g&&(this.readyState=3,wg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ye.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Eg(this):wg(this),3==this.readyState&&iU(this)}},ye.Za=function(n){this.g&&(this.response=this.responseText=n,Eg(this))},ye.Ya=function(n){this.g&&(this.response=n,Eg(this))},ye.ka=function(){this.g&&Eg(this)},ye.setRequestHeader=function(n,e){this.v.append(n,e)},ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(FE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wre=nt.JSON.parse;function tr(n){Gr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sU,this.L=this.M=!1}Wr(tr,Gr);var sU="",Ire=/^https?$/i,Cre=["POST","PUT"];function oU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,aU(n),LE(n)}function aU(n){n.F||(n.F=!0,si(n,"complete"),si(n,"error"))}function lU(n){if(n.h&&typeof zA<"u"&&(!n.C[1]||4!=aa(n)||2!=n.da()))if(n.v&&4==aa(n))dD(n.La,0,n);else if(si(n,"readystatechange"),4==aa(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(qB)[1]||null;!i&&nt.self&&nt.self.location&&(i=nt.self.location.protocol.slice(0,-1)),r=!Ire.test(i?i.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var s=2<aa(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",aU(n)}}finally{LE(n)}}}function LE(n,e){if(n.g){cU(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch{}}}function cU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(nt.clearTimeout(n.A),n.A=null)}function aa(n){return n.g?n.g.readyState:0}function uU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function dU(n){let e="";return JA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function wD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=dU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xn(n,e,t))}function Ig(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hU(n){this.Ga=0,this.j=[],this.l=new SE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ig("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ig("baseRetryDelayMs",5e3,n),this.hb=Ig("retryDelaySeedMs",1e4,n),this.eb=Ig("forwardChannelMaxRetries",2,n),this.xa=Ig("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new JB(n&&n.concurrentRequestLimit),this.Ja=new vre,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ID(n){if(fU(n),3==n.H){var e=n.W++,t=tl(n.I);if(xn(t,"SID",n.K),xn(t,"RID",e),xn(t,"TYPE","terminate"),Cg(n,t),(e=new pg(n,n.l,e)).L=2,e.v=OE(tl(t)),t=!1,nt.navigator&&nt.navigator.sendBeacon)try{t=nt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=wU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mg(e)}bU(n)}function VE(n){n.g&&(TD(n),n.g.cancel(),n.g=null)}function fU(n){VE(n),n.u&&(nt.clearTimeout(n.u),n.u=null),UE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&nt.clearTimeout(n.m),n.m=null)}function BE(n){if(!eU(n.i)&&!n.m){n.m=!0;var e=n.Na;lg||xB(),cg||(lg(),cg=!0),cD.add(e,n),n.C=0}}function pU(n,e){var t;t=e?e.m:n.W++;const r=tl(n.I);xn(r,"SID",n.K),xn(r,"RID",t),xn(r,"AID",n.V),Cg(n,r),n.o&&n.s&&wD(r,n.o,n.s),t=new pg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=mU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bD(n.i,t),_D(t,r,e)}function Cg(n,e){n.na&&JA(n.na,function(t,r){xn(e,r,t)}),n.h&&GB({},function(t,r){xn(e,r,t)})}function mU(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ii(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{bre(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function gU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;lg||xB(),cg||(lg(),cg=!0),cD.add(e,n),n.A=0}}function CD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hg(Ii(n.Ma,n),vU(n,n.A)),n.A++,0))}function TD(n){null!=n.B&&(nt.clearTimeout(n.B),n.B=null)}function _U(n){n.g=new pg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=tl(n.wa);xn(e,"RID","rpc"),xn(e,"SID",n.K),xn(e,"AID",n.V),xn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&xn(e,"TO",n.qa),xn(e,"TYPE","xmlhttp"),Cg(n,e),n.o&&n.s&&wD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=OE(tl(e)),t.s=null,t.S=!0,HB(t,n)}function UE(n){null!=n.v&&(nt.clearTimeout(n.v),n.v=null)}function yU(n,e){var t=null;if(n.g==e){UE(n),TD(n),n.g=null;var r=2}else{if(!vD(n.i,e))return;t=e.F,nU(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;si(r=AE(),new LB(r,t)),BE(n)}else gU(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Are(n,e){return!(tU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hg(Ii(n.Na,n,e),vU(n,n.C)),n.C++,0)))}(n,e)||2==r&&CD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Pu(n,5);break;case 4:Pu(n,10);break;case 3:Pu(n,6);break;default:Pu(n,2)}}function vU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Pu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ii(n.pb,n);t||(t=new Mu("//www.google.com/images/cleardot.gif"),nt.location&&"http"==nt.location.protocol||PE(t,"https"),OE(t)),function Ere(n,e){const t=new SE;if(nt.Image){const r=new Image;r.onload=bE(NE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bE(NE,t,r,"TestLoadImage: error",!1,e),r.onabort=bE(NE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bE(NE,t,r,"TestLoadImage: timeout",!1,e),nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hi(2);n.H=0,n.h&&n.h.za(e),bU(n),fU(n)}function bU(n){if(n.H=0,n.ma=[],n.h){const e=rU(n.i);(0!=e.length||0!=n.j.length)&&(mB(n.ma,e),mB(n.ma,n.j),n.i.i.length=0,WA(n.j),n.j.length=0),n.h.ya()}}function EU(n,e,t){var r=t instanceof Mu?tl(t):new Mu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),kE(r,r.m);else{var i=nt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Mu(null);r&&PE(s,r),e&&(s.g=e),i&&kE(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&xn(r,t,e),xn(r,"VER",n.ra),Cg(n,r),r}function wU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tr(t&&n.Ha&&!n.va?new bg({ob:!0}):n.va)).Oa(n.J),e}function IU(){}function jE(){if(Yh&&!(10<=Number(Une)))throw Error("Environmental error: no available transport.")}function xs(n,e){Gr.call(this),this.g=new hU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xh(this)}function CU(n){fD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function TU(){pD.call(this),this.status=1}function Xh(n){this.g=n}function Do(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function SD(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function en(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(ye=tr.prototype).Oa=function(n){this.M=n},ye.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mD.g(),this.C=function BB(n){return n.h||(n.h=n.i())}(this.u?this.u:mD),this.g.onreadystatechange=Ii(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void oU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=nt.FormData&&n instanceof nt.FormData,!(0<=pB(Cre,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cU(this),0<this.B&&((this.L=function Tre(n){return Yh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.ua,this)):this.A=dD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){oU(this,s)}},ye.ua=function(){typeof zA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),LE(this))},ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),LE(this,!0)),tr.$.N.call(this)},ye.La=function(){this.s||(this.G||this.v||this.l?lU(this):this.kb())},ye.kb=function(){lU(this)},ye.isActive=function(){return!!this.g},ye.da=function(){try{return 2<aa(this)?this.g.status:-1}catch{return-1}},ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ye.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),wre(e)}},ye.Ia=function(){return this.m},ye.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=hU.prototype).ra=8,ye.H=1,ye.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new pg(this,this.l,n);let s=this.s;if(this.U&&(s?(s=bB(s),wB(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mU(this,i,e),xn(t=tl(this.I),"RID",n),xn(t,"CVER",22),this.F&&xn(t,"X-HTTP-Session-Id",this.F),Cg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(dU(s)))+"&"+e:this.o&&wD(t,this.o,s)),bD(this.i,i),this.bb&&xn(t,"TYPE","init"),this.P?(xn(t,"$req",e),xn(t,"SID","null"),i.aa=!0,_D(i,t,null)):_D(i,t,e),this.H=2}}else 3==this.H&&(n?pU(this,n):0==this.j.length||eU(this.i)||pU(this))},ye.Ma=function(){if(this.u=null,_U(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=hg(Ii(this.jb,this),n)}},ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hi(10),VE(this),_U(this))},ye.ib=function(){null!=this.v&&(this.v=null,VE(this),CD(this),Hi(19))},ye.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Hi(2)):(this.l.info("Failed to ping google.com"),Hi(1))},ye.isActive=function(){return!!this.h&&this.h.isActive(this)},(ye=IU.prototype).Ba=function(){},ye.Aa=function(){},ye.za=function(){},ye.ya=function(){},ye.isActive=function(){return!0},ye.Va=function(){},jE.prototype.g=function(n,e){return new xs(n,e)},Wr(xs,Gr),xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Hi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=EU(n,null,n.Y),BE(n)},xs.prototype.close=function(){ID(this.g)},xs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&BE(e)},xs.prototype.N=function(){this.g.h=null,delete this.j,ID(this.g),delete this.g,xs.$.N.call(this)},Wr(CU,fD),Wr(TU,pD),Wr(Xh,IU),Xh.prototype.Ba=function(){si(this.g,"a")},Xh.prototype.Aa=function(n){si(this.g,new CU(n))},Xh.prototype.za=function(n){si(this.g,new TU)},Xh.prototype.ya=function(){si(this.g,"b")},Wr(Do,function Dre(){this.blockSize=-1}),Do.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Do.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)SD(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){SD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){SD(this,r),i=0;break}}this.h=i,this.i+=e},Do.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var xre={};function AD(n){return-128<=n&&128>n?function Lne(n,e){var t=xre;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new en([0|e],0>e?-1:0)}):new en([0|n],0>n?-1:0)}function la(n){if(isNaN(n)||!isFinite(n))return Jh;if(0>n)return oi(la(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=DD;return new en(e,0)}var DD=4294967296,Jh=AD(0),xD=AD(1),AU=AD(16777216);function nl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function so(n){return-1==n.h}function oi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new en(t,~n.h).add(xD)}function HE(n,e){return n.add(oi(e))}function zE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Tg(n,e){this.g=n,this.h=e}function $E(n,e){if(nl(e))throw Error("division by zero");if(nl(n))return new Tg(Jh,Jh);if(so(n))return e=$E(oi(n),e),new Tg(oi(e.g),oi(e.h));if(so(e))return e=$E(n,oi(e)),new Tg(oi(e.g),e.h);if(30<n.g.length){if(so(n)||so(e))throw Error("slowDivide_ only works with positive integers.");for(var t=xD,r=e;0>=r.X(n);)t=DU(t),r=DU(r);var i=ef(t,1),s=ef(r,1);for(r=ef(r,2),t=ef(t,2);!nl(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=ef(r,1),t=ef(t,1)}return e=HE(n,i.R(e)),new Tg(i,e)}for(i=Jh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=la(t)).R(e);so(o)||0<o.X(n);)o=(s=la(t-=r)).R(e);nl(s)&&(s=xD),i=i.add(s),n=HE(n,o)}return new Tg(i,n)}function DU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new en(t,n.h)}function ef(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new en(i,n.h)}(ye=en.prototype).ea=function(){if(so(this))return-oi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:DD+r)*e,e*=DD}return n},ye.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(nl(this))return"0";if(so(this))return"-"+oi(this).toString(n);for(var e=la(Math.pow(n,6)),t=this,r="";;){var i=$E(t,e).g,s=((0<(t=HE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(nl(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ye.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ye.X=function(n){return so(n=HE(this,n))?-1:nl(n)?0:1},ye.abs=function(){return so(this)?oi(this):this},ye.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new en(t,-2147483648&t[t.length-1]?-1:0)},ye.R=function(n){if(nl(this)||nl(n))return Jh;if(so(this))return so(n)?oi(this).R(oi(n)):oi(oi(this).R(n));if(so(n))return oi(this.R(oi(n)));if(0>this.X(AU)&&0>n.X(AU))return la(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,zE(t,2*r+2*i),t[2*r+2*i+1]+=s*l,zE(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,zE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,zE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new en(t,0)},ye.gb=function(n){return $E(this,n).h},ye.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new en(t,this.h&n.h)},ye.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new en(t,this.h|n.h)},ye.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new en(t,this.h^n.h)},jE.prototype.createWebChannel=jE.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,DE.NO_ERROR=0,DE.TIMEOUT=8,DE.HTTP_ERROR=6,VB.COMPLETE="complete",UB.EventType=fg,fg.OPEN="a",fg.CLOSE="b",fg.ERROR="c",fg.MESSAGE="d",Gr.prototype.listen=Gr.prototype.O,tr.prototype.listenOnce=tr.prototype.P,tr.prototype.getLastError=tr.prototype.Sa,tr.prototype.getLastErrorCode=tr.prototype.Ia,tr.prototype.getStatus=tr.prototype.da,tr.prototype.getResponseJson=tr.prototype.Wa,tr.prototype.getResponseText=tr.prototype.ja,tr.prototype.send=tr.prototype.ha,tr.prototype.setWithCredentials=tr.prototype.Oa,Do.prototype.digest=Do.prototype.l,Do.prototype.reset=Do.prototype.reset,Do.prototype.update=Do.prototype.j,en.prototype.add=en.prototype.add,en.prototype.multiply=en.prototype.R,en.prototype.modulo=en.prototype.gb,en.prototype.compare=en.prototype.X,en.prototype.toNumber=en.prototype.ea,en.prototype.toString=en.prototype.toString,en.prototype.getBits=en.prototype.D,en.fromNumber=la,en.fromString=function SU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return oi(SU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=la(Math.pow(e,8)),r=Jh,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=la(Math.pow(e,s)),r=r.R(s).add(la(o))):r=(r=r.R(t)).add(la(o))}return r};var Rre=Ao.createWebChannelTransport=function(){return new jE},Mre=Ao.getStatEventTarget=function(){return AE()},RD=Ao.ErrorCode=DE,Pre=Ao.EventType=VB,kre=Ao.Event=xu,xU=Ao.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ore=Ao.FetchXmlHttpFactory=bg,WE=Ao.WebChannel=UB,Nre=Ao.XhrIo=tr,Fre=Ao.Md5=Do,tf=Ao.Integer=en;const RU="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let nf="10.5.2";const ic=new io.Yd("@firebase/firestore");function rf(){return ic.logLevel}function ie(n,...e){if(ic.logLevel<=io.in.DEBUG){const t=e.map(MD);ic.debug(`Firestore (${nf}): ${n}`,...t)}}function hr(n,...e){if(ic.logLevel<=io.in.ERROR){const t=e.map(MD);ic.error(`Firestore (${nf}): ${n}`,...t)}}function Rs(n,...e){if(ic.logLevel<=io.in.WARN){const t=e.map(MD);ic.warn(`Firestore (${nf}): ${n}`,...t)}}function MD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ae(n="Unexpected state"){const e=`FIRESTORE (${nf}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function ke(n,e){n||Ae()}function fe(n,e){return n}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends A.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class MU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qr.UNAUTHENTICATED))}shutdown(){}}class Vre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bre{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable((0,Pe.Z)(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke("string"==typeof r.accessToken),new MU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new qr(e)}}class Ure{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jre{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ure(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke("string"==typeof t.token),this.R=t.token,new PU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zre(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kU{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function sf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Gn(0,0))}static max(){return new Ne(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ae(),void 0===r?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Sg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nt extends Sg{construct(e,t,r){return new Nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const $re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Sg{construct(e,t,r){return new Vn(e,t,r)}static isValidIdentifier(e){return $re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(t)}static emptyPath(){return new Vn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Nt.fromString(e))}static fromName(e){return new pe(Nt.fromString(e).popFirst(5))}static empty(){return new pe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Nt(e.slice()))}}function FU(n){return new Ms(n.readTime,n.key,-1)}class Ms{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ms(Ne.min(),pe.empty(),-1)}static max(){return new Ms(Ne.max(),pe.empty(),-1)}}function kD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Xe(n.largestBatchId,e.largestBatchId))}const LU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sc(n){return OD.apply(this,arguments)}function OD(){return OD=(0,Pe.Z)(function*(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==LU)throw n;ie("LocalStore","Unexpectedly lost primary lease")}),OD.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,r)=>{t(e)})}static reject(e){return new L((t,r)=>{r(e)})}static waitFor(e){return new L((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=L.resolve(!1);for(const r of e)t=t.next(i=>i?L.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new L((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function oc(n){return"IndexedDbTransactionError"===n.name}let Ps=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Dg(n){return null==n}function xg(n){return 0===n&&1/n==-1/0}function GU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ac(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vn{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new KE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new KE(this.root,e,this.comparator,!1)}getReverseIterator(){return new KE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new KE(this.root,e,this.comparator,!0)}}class KE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ai.RED,this.left=i??ai.EMPTY,this.right=s??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ai(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KU(this.data.getIterator())}getIteratorFrom(e){return new KU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class KU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ls{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new ls([])}unionWith(e){let t=new nn(Vn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class YU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YU("Invalid base64 string: "+s):s}}(e);return new Vr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const gie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(n){if(ke(!!n),"string"==typeof n){let e=0;const t=gie.exec(n);if(ke(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nr(n.seconds),nanos:nr(n.nanos)}}function nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function rl(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function YE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ZE(n){const e=n.mapValue.fields.__previous_value__;return YE(e)?ZE(e):e}function Rg(n){const e=lc(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class _ie{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}const cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?YE(n)?4:JU(n)?9007199254740991:10:Ae()}function ua(n,e){if(n===e)return!0;const t=uc(n);if(t!==uc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rg(n).isEqual(Rg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=lc(i.timestampValue),a=lc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,rl(n.bytesValue).isEqual(rl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return nr(i.geoPointValue.latitude)===nr(s.geoPointValue.latitude)&&nr(i.geoPointValue.longitude)===nr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nr(i.integerValue)===nr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nr(i.doubleValue),a=nr(s.doubleValue);return o===a?xg(o)===xg(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return sf(n.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(GU(o)!==GU(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!ua(o[l],a[l])))return!1;return!0}(n,e);default:return Ae()}var s}function Mg(n,e){return void 0!==(n.values||[]).find(t=>ua(t,e))}function dc(n,e){if(n===e)return 0;const t=uc(n),r=uc(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=nr(s.integerValue||s.doubleValue),l=nr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return ZU(n.timestampValue,e.timestampValue);case 4:return ZU(Rg(n),Rg(e));case 5:return Xe(n.stringValue,e.stringValue);case 6:return function(s,o){const a=rl(s),l=rl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Xe(a[c],l[c]);if(0!==d)return d}return Xe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Xe(nr(s.latitude),nr(o.latitude));return 0!==a?a:Xe(nr(s.longitude),nr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=dc(a[c],l[c]);if(d)return d}return Xe(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===cc.mapValue&&o===cc.mapValue)return 0;if(s===cc.mapValue)return 1;if(o===cc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=Xe(l[f],d[f]);if(0!==g)return g;const _=dc(a[l[f]],c[d[f]]);if(0!==_)return _}return Xe(l.length,d.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function ZU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xe(n,e);const t=lc(n),r=lc(e),i=Xe(t.seconds,r.seconds);return 0!==i?i:Xe(t.nanos,r.nanos)}function uf(n){return LD(n)}function LD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=lc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?rl(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=LD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${LD(t.fields[o])}`;return i+"}"}(n.mapValue):Ae()}function VD(n){return!!n&&"integerValue"in n}function Pg(n){return!!n&&"arrayValue"in n}function QU(n){return!!n&&"nullValue"in n}function XU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function JE(n){return!!n&&"mapValue"in n}function kg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ac(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!JE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kg(t)}setAll(e){let t=Vn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=kg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());JE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];JE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ac(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new li(kg(this.value))}}function nj(n){const e=[];return ac(n.fields,(t,r)=>{const i=new Vn([t]);if(JE(r)){const s=nj(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ls(e)}class Rn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rn(e,0,Ne.min(),Ne.min(),Ne.min(),li.empty(),0)}static newFoundDocument(e,t,r,i){return new Rn(e,1,t,Ne.min(),r,i,0)}static newNoDocument(e,t){return new Rn(e,2,t,Ne.min(),Ne.min(),li.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Ne.min(),Ne.min(),li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hc{constructor(e,t){this.position=e,this.inclusive=t}}function rj(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?pe.comparator(pe.fromName(o.referenceValue),t.key):dc(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ij(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ua(n.position[t],e.position[t]))return!1;return!0}class Og{constructor(e,t="asc"){this.field=e,this.dir=t}}function bie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class sj{}class Mt extends sj{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Eie(e,t,r):"array-contains"===t?new Cie(e,r):"in"===t?new dj(e,r):"not-in"===t?new Tie(e,r):"array-contains-any"===t?new Sie(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wie(e,r):new Iie(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dc(t,this.value)):null!==t&&uc(this.value)===uc(t)&&this.matchesComparison(dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tn extends sj{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new tn(e,t)}matches(e){return df(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function df(n){return"and"===n.op}function UD(n){return function oj(n){for(const e of n.filters)if(e instanceof tn)return!1;return!0}(n)&&df(n)}function jD(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+uf(n.value);if(UD(n))return n.filters.map(e=>jD(e)).join(",");{const e=n.filters.map(t=>jD(t)).join(",");return`${n.op}(${e})`}}function aj(n,e){return n instanceof Mt?(r=n,(i=e)instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&ua(r.value,i.value)):n instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&aj(o,i.filters[a]),!0)}(n,e):void Ae();var r,i}function cj(n){return n instanceof Mt?`${(t=n).field.canonicalString()} ${t.op} ${uf(t.value)}`:n instanceof tn?function(t){return t.op.toString()+" {"+t.getFilters().map(cj).join(" ,")+"}"}(n):"Filter";var t}class Eie extends Mt{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class wie extends Mt{constructor(e,t){super(e,"in",t),this.keys=uj(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Iie extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=uj(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uj(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pe.fromName(r.referenceValue))}class Cie extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pg(t)&&Mg(t.arrayValue,this.value)}}class dj extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mg(this.value.arrayValue,t)}}class Tie extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mg(this.value.arrayValue,t)}}class Sie extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mg(this.value.arrayValue,r))}}class Aie{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function HD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Aie(n,e,t,r,i,s,o)}function Vu(n){const e=fe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Dg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uf(r)).join(",")),e.ce=t}return e.ce}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ij(n.startAt,e.startAt)&&ij(n.endAt,e.endAt)}function ew(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class il{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function hf(n){return new il(n)}function mj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ff(n){const e=fe(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nn(Vn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Og(s,r))}),t.has(Vn.keyField().canonicalString())||e.le.push(new Og(Vn.keyField(),r))}return e.le}function zi(n){const e=fe(n);return e.he||(e.he=function gj(n,e){if("F"===n.limitType)return HD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Og(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new hc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hc(n.startAt.position,n.startAt.inclusive):null;return HD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ff(n))),e.he}function nw(n,e,t){return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fg(n,e){return Ng(zi(n),zi(e))&&n.limitType===e.limitType}function _j(n){return`${Vu(zi(n))}|lt:${n.limitType}`}function pf(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cj(i)).join(", ")}]`),Dg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>uf(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>uf(i)).join(",")),`Target(${r})`}(zi(n))}; limitType=${n.limitType})`}function Lg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ff(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const c=rj(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ff(r),i)||r.endAt&&!function(o,a,l){const c=rj(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ff(r),i)));var r,i}function vj(n){return(e,t)=>{let r=!1;for(const i of ff(n)){const s=Die(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Die(n,e,t){const r=n.field.isKeyField()?pe.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?dc(l,c):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qU(this.inner)}size(){return this.innerSize}}const xie=new vn(pe.comparator);function cs(){return xie}const bj=new vn(pe.comparator);function Vg(...n){let e=bj;for(const t of n)e=e.insert(t.key,t);return e}function Ej(n){let e=bj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function da(){return Bg()}function wj(){return Bg()}function Bg(){return new sl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Rie=new vn(pe.comparator),Mie=new nn(pe.comparator);function ct(...n){let e=Mie;for(const t of n)e=e.add(t);return e}const Pie=new nn(Xe);function Ij(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(e)?"-0":e}}function Cj(n){return{integerValue:""+n}}function Tj(n,e){return function BU(n){return"number"==typeof n&&Number.isInteger(n)&&!xg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Cj(e):Ij(n,e)}class rw{constructor(){this._=void 0}}function kie(n,e,t){return n instanceof mf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&YE(s)&&(s=ZE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Bu?Aj(n,e):n instanceof Uu?Dj(n,e):function(i,s){const o=Sj(i,s),a=xj(o)+xj(i.Ie);return VD(o)&&VD(i.Ie)?Cj(a):Ij(i.serializer,a)}(n,e)}function Oie(n,e,t){return n instanceof Bu?Aj(n,e):n instanceof Uu?Dj(n,e):t}function Sj(n,e){return n instanceof gf?VD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class mf extends rw{}class Bu extends rw{constructor(e){super(),this.elements=e}}function Aj(n,e){const t=Rj(e);for(const r of n.elements)t.some(i=>ua(i,r))||t.push(r);return{arrayValue:{values:t}}}class Uu extends rw{constructor(e){super(),this.elements=e}}function Dj(n,e){let t=Rj(e);for(const r of n.elements)t=t.filter(i=>!ua(i,r));return{arrayValue:{values:t}}}class gf extends rw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function xj(n){return nr(n.integerValue||n.doubleValue)}function Rj(n){return Pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fie{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sw{}function Mj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new yf(n.key,Bn.none()):new _f(n.key,n.data,Bn.none());{const t=n.data,r=li.empty();let i=new nn(Vn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ol(n.key,r,new ls(i.toArray()),Bn.none())}}function Lie(n,e,t){n instanceof _f?function(i,s,o){const a=i.value.clone(),l=Oj(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ol?function(i,s,o){if(!iw(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Oj(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(kj(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jg(n,e,t,r){return n instanceof _f?function(s,o,a,l){if(!iw(s.precondition,o))return a;const c=s.value.clone(),d=Nj(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof ol?function(s,o,a,l){if(!iw(s.precondition,o))return a;const c=Nj(s.fieldTransforms,l,o),d=o.data;return d.setAll(kj(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):(a=t,iw(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Vie(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Sj(r.transform,i||null);null!=s&&(null===t&&(t=li.empty()),t.set(r.field,s))}return t||null}function Pj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&sf(r,i,(s,o)=>function Nie(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Bu&&i instanceof Bu||r instanceof Uu&&i instanceof Uu?sf(r.elements,i.elements,ua):r instanceof gf&&i instanceof gf?ua(r.Ie,i.Ie):r instanceof mf&&i instanceof mf);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class _f extends sw{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ol extends sw{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Oj(n,e,t){const r=new Map;ke(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Oie(o,a,t[i]))}return r}function Nj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,kie(s,o,e))}return r}class yf extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Lie(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=Mj(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(t,r)=>Pj(t,r))&&sf(this.baseMutations,e.baseMutations,(t,r)=>Pj(t,r))}}class KD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ke(e.mutations.length===r.length);let i=Rie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new KD(e,t,r,i)}}class YD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uie{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dr,Ft;function Lj(n){if(void 0===n)return hr("GRPC error has no .code"),G.UNKNOWN;switch(n){case Dr.OK:return G.OK;case Dr.CANCELLED:return G.CANCELLED;case Dr.UNKNOWN:return G.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return G.INTERNAL;case Dr.UNAVAILABLE:return G.UNAVAILABLE;case Dr.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Dr.NOT_FOUND:return G.NOT_FOUND;case Dr.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Dr.ABORTED:return G.ABORTED;case Dr.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Dr.DATA_LOSS:return G.DATA_LOSS;default:return Ae()}}(Ft=Dr||(Dr={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";const jie=new tf([4294967295,4294967295],0);function Bj(n){const e=function Vj(){return new TextEncoder}().encode(n),t=new Fre;return t.update(e),new Uint8Array(t.digest())}function Uj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tf([t,r],0),new tf([i,s],0)]}class ZD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hg(`Invalid padding: ${t}`);if(r<0)throw new Hg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Hg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Hg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=tf.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(tf.fromNumber(r)));return 1===i.compare(jie)&&(i=new tf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Bj(e),[r,i]=Uj(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ZD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=Bj(e),[r,i]=Uj(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Hg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,$g.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zg(Ne.min(),i,new vn(Xe),cs(),ct())}}class $g{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $g(r,t,ct(),ct(),ct())}}class aw{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class jj{constructor(e,t){this.targetId=e,this.fe=t}}class Hj{constructor(e,t,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zj{constructor(){this.ge=0,this.pe=Wj(),this.ye=Vr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ct(),t=ct(),r=ct();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new $g(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=Wj()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Hie{constructor(e){this.Le=e,this.ke=new Map,this.qe=cs(),this.Qe=$j(),this.Ke=new vn(Xe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(ew(s))if(0===r){const o=new pe(s.path);this.We(t,o,Rn.newNoDocument(o,Ne.min()))}else ke(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=rl(r).toUint8Array()}catch(l){if(l instanceof YU)return Rs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ZD(o,i,s)}catch(l){return Rs(l instanceof Hg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ew(a.target)){const l=new pe(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,Rn.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=ct();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new zg(e,t,this.Ke,this.qe,r);return this.qe=cs(),this.Qe=$j(),this.Ke=new vn(Xe),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new zj,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new nn(Xe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ie("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zj),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function $j(){return new vn(pe.comparator)}function Wj(){return new vn(pe.comparator)}const zie={asc:"ASCENDING",desc:"DESCENDING"},$ie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wie={and:"AND",or:"OR"};class Gie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function QD(n,e){return n.useProto3Json||Dg(e)?e:{value:e}}function vf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qie(n,e){return vf(n,e.toTimestamp())}function fr(n){return ke(!!n),Ne.fromTimestamp(function(t){const r=lc(t);return new Gn(r.seconds,r.nanos)}(n))}function XD(n,e){return(r=n,new Nt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function qj(n){const e=Nt.fromString(n);return ke(nH(e)),e}function Wg(n,e){return XD(n.databaseId,e.path)}function ha(n,e){const t=qj(e);if(t.get(1)!==n.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(Yj(t))}function JD(n,e){return XD(n.databaseId,e)}function Gg(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yj(n){return ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Zj(n,e,t){return{name:Wg(n,e),fields:t.value.mapValue.fields}}function Xj(n,e){return{documents:[JD(n,e.path)]}}function tx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=JD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=JD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return tH(tn.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:fc((f=c).field),direction:Xie(f.dir)};var f})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=QD(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function Jj(n){let e=function Kj(n){const e=qj(n);return 4===e.length?Nt.emptyPath():Yj(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ke(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){const g=eH(f);return g instanceof tn&&UD(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(g=>{return new Og(bf((v=g).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;t.limit&&(a=function(f){let g;return g="object"==typeof f?f.value:f,Dg(g)?null:g}(t.limit));let l=null;var f;t.startAt&&(l=new hc((f=t.startAt).values||[],!!f.before));let c=null;return t.endAt&&(c=function(f){return new hc(f.values||[],!f.before)}(t.endAt)),function pj(n,e,t,r,i,s,o,a){return new il(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function eH(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=bf(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bf(t.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bf(t.unaryFilter.field);return Mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bf(t.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):void 0!==n.fieldFilter?Mt.create(bf((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return tn.create(t.compositeFilter.filters.map(r=>eH(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae();var t}function Xie(n){return zie[n]}function Jie(n){return $ie[n]}function ese(n){return Wie[n]}function fc(n){return{fieldPath:n.canonicalString()}}function bf(n){return Vn.fromServerFormat(n.fieldPath)}function tH(n){return n instanceof Mt?function(t){if("=="===t.op){if(XU(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NAN"}};if(QU(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(XU(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NOT_NAN"}};if(QU(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(t.field),op:Jie(t.op),value:t.value}}}(n):n instanceof tn?function(t){const r=t.getFilters().map(i=>tH(i));return 1===r.length?r[0]:{compositeFilter:{op:ese(t.op),filters:r}}}(n):Ae()}function tse(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class al{constructor(e,t,r,i,s=Ne.min(),o=Ne.min(),a=Vr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rH{constructor(e){this.ut=e}}function nx(n){const e=Jj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nw(e,e.limit,"L"):e}class $u{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(nr(e.integerValue));else if("doubleValue"in e){const r=nr(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),xg(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(rl(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?JU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ae()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),pe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}$u.St=new $u;class cse{constructor(){this.on=new lx}addToCollectionParentIndex(e,t){return this.on.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Ms.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class lx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new nn(Nt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(Nt.comparator)).toArray()}}new Uint8Array(0);class Si{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(41943040,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);class Gu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Gu(0)}static Nn(){return new Gu(-1)}}class mse{constructor(){this.changes=new sl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yse{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RH{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&jg(r.mutation,i,ls.empty(),Gn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ct()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ct()){const i=da();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Vg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=da();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ct()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=cs();const o=Bg(),a=Bg();return t.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof ol)?s=s.insert(c.key,c):void 0!==d?(o.set(c.key,d.mutation.getFieldMask()),jg(d.mutation,c,d.mutation.getFieldMask(),Gn.now())):o.set(c.key,ls.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var f;return a.set(c,new yse(d,null!==(f=o.get(c))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Bg();let i=new vn((o,a)=>o-a),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let d=r.get(l)||ls.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||ct()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=wj();d.forEach(g=>{if(!s.has(g)){const _=Mj(t.get(g),r.get(g));null!==_&&f.set(g,_),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return pe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function zD(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):L.resolve(da());let a=-1,l=s;return o.next(c=>L.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ct())).next(d=>({batchId:a,changes:Ej(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(r=>{let i=Vg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Vg();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const c=(f=t,g=l.child(s),new il(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,g;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();null===o.get(d)&&(o=o.insert(d,Rn.newInvalidDocument(d)))});let a=Vg();return o.forEach((l,c)=>{const d=s.get(l);void 0!==d&&jg(d.mutation,c,ls.empty(),Gn.now()),Lg(t,c)&&(a=a.insert(l,c))}),a})}}class vse{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return L.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:fr(i.createTime)}),L.resolve();var i}getNamedQuery(e,t){return L.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:nx(i.bundledQuery),readTime:fr(i.readTime)}),L.resolve();var i}}class bse{constructor(){this.overlays=new vn(pe.comparator),this.lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const r=da();return L.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),L.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){const i=da(),s=t.length+1,o=new pe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new vn((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=s.get(c.largestBatchId);null===d&&(d=da(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=da(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return L.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YD(t,r));let s=this.lr.get(t);void 0===s&&(s=ct(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class cx{constructor(){this.hr=new nn(Yr.Pr),this.Ir=new nn(Yr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Yr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new pe(new Nt([])),r=new Yr(t,e),i=new Yr(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pe(new Nt([])),r=new Yr(t,e),i=new Yr(t,e+1);let s=ct();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Yr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pe.comparator(e.key,t.key)||Xe(e.gr,t.gr)}static Tr(e,t){return Xe(e.gr,t.gr)||pe.comparator(e.key,t.key)}}class Ese{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new nn(Yr.Pr)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new qD(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Yr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,t){return L.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nn(Xe);return t.forEach(i=>{const s=new Yr(i,0),o=new Yr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),L.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Yr(new pe(s),0);let a=new nn(Xe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),L.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return L.forEach(t.mutations,i=>{const s=new Yr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Yr(t,0),i=this.yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return L.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wse{constructor(e){this.Cr=e,this.docs=new vn(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=cs();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=cs();const o=t.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kD(FU(d),r)<=0||(i.has(d.key)||Lg(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ae()}vr(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ise(this)}getSize(e){return L.resolve(this.size)}}class Ise extends mse{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Cse{constructor(e){this.persistence=e,this.Fr=new sl(t=>Vu(t),Ng),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new cx,this.targetCount=0,this.Nr=Gu.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),L.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Gu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.kn(t),L.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.Or.containsKey(t))}}class ux{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Ps(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Cse(this),this.indexManager=new cse,this.remoteDocumentCache=new wse(r=>this.referenceDelegate.Qr(r)),this.serializer=new rH(t),this.Kr=new vse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bse,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Ese(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ie("MemoryPersistence","Starting transaction:",e);const i=new Tse(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class Tse extends qre{constructor(e){super(),this.currentSequenceNumber=e}}class mw{constructor(e){this.persistence=e,this.Gr=new cx,this.zr=null}static jr(e){return new mw(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,r=>{const i=pe.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,Ne.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return L.or([()=>L.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class px{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ct(),i=ct();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new px(e,t.fromCache,r,i)}}class Ase{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PH{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ase;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(rf()<=io.in.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",pf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(rf()<=io.in.DEBUG&&ie("QueryEngine","Query:",pf(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(rf()<=io.in.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",pf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(t))):L.resolve())}zi(e,t){if(mj(t))return L.resolve(null);let r=zi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=nw(t,null,"F"),r=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ct(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,o,l.readTime)?this.zi(e,nw(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,r,i){return mj(t)||i.isEqual(Ne.min())?L.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?L.resolve(null):(rf()<=io.in.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pf(t)),this.Xi(e,o,t,function NU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new Ms(i,pe.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new nn(vj(e));return t.forEach((i,s)=>{Lg(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return rf()<=io.in.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",pf(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ms.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Dse{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new vn(Xe),this.ns=new sl(s=>Vu(s),Ng),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RH(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function OH(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,Pe.Z)(function*(n,e){const t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ct();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),mx.apply(this,arguments)}function NH(n){const e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Mse(n,e){const t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sf(n,e,t){return gx.apply(this,arguments)}function gx(){return gx=(0,Pe.Z)(function*(n,e,t){const r=fe(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!oc(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),gx.apply(this,arguments)}function yw(n,e,t){const r=fe(n);let i=Ne.min(),s=ct();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=fe(l),g=f.ns.get(d);return void 0!==g?L.resolve(f.ts.get(g)):f.qr.getTargetData(c,d)}(r,o,zi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:Ne.min(),t?s:ct())).next(a=>(function BH(n,e,t){let r=n.rs.get(e)||Ne.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function yj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class Ex{constructor(){this.activeTargetIds=function WD(){return Pie}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HH{constructor(){this.eo=new Ex,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ex,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ose{ro(e){}shutdown(){}}class zH{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ew=null;function Ix(){return null===Ew?Ew=268435456+Math.round(2147483648*Math.random()):Ew++,"0x"+Ew.toString(16)}const Nse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fse{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ai="WebChannelConnection";class Lse extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=Ix(),l=this.So(t,r);ie("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(t,l,c,i).then(d=>(ie("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Rs("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+nf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${Nse[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=Ix();return new Promise((o,a)=>{const l=new Nre;l.setWithCredentials(!0),l.listenOnce(Pre.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case RD.NO_ERROR:const d=l.getResponseJson();ie(Ai,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case RD.TIMEOUT:ie(Ai,`RPC '${e}' ${s} timed out`),a(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case RD.HTTP_ERROR:const f=l.getStatus();if(ie(Ai,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const v=function(T){const P=T.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(P)>=0?P:G.UNKNOWN}(_.status);a(new se(v,_.message))}else a(new se(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(G.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ie(Ai,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ie(Ai,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}vo(e,t,r){const i=Ix(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rre(),a=Mre(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Ore({})),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ie(Ai,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let g=!1,_=!1;const v=new Fse({co:T=>{_?ie(Ai,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(g||(ie(Ai,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),ie(Ai,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},lo:()=>f.close()}),w=(T,P,N)=>{T.listen(P,R=>{try{N(R)}catch(j){setTimeout(()=>{throw j},0)}})};return w(f,WE.EventType.OPEN,()=>{_||ie(Ai,`RPC '${e}' stream ${i} transport opened.`)}),w(f,WE.EventType.CLOSE,()=>{_||(_=!0,ie(Ai,`RPC '${e}' stream ${i} transport closed`),v.Ro())}),w(f,WE.EventType.ERROR,T=>{_||(_=!0,Rs(Ai,`RPC '${e}' stream ${i} transport errored:`,T),v.Ro(new se(G.UNAVAILABLE,"The operation could not be completed")))}),w(f,WE.EventType.MESSAGE,T=>{var P;if(!_){const N=T.data[0];ke(!!N);const j=N.error||(null===(P=N[0])||void 0===P?void 0:P.error);if(j){ie(Ai,`RPC '${e}' stream ${i} received error:`,j);const le=j.status;let ue=function(Zt){const Wt=Dr[Zt];if(void 0!==Wt)return Lj(Wt)}(le),Fe=j.message;void 0===ue&&(ue=G.INTERNAL,Fe="Unknown error status: "+le+" with message "+j.message),_=!0,v.Ro(new se(ue,Fe)),f.close()}else ie(Ai,`RPC '${e}' stream ${i} received:`,N),v.Vo(N)}}),w(a,kre.STAT_EVENT,T=>{T.stat===xU.PROXY?ie(Ai,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===xU.NOPROXY&&ie(Ai,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function ww(){return typeof document<"u"?document:null}function t_(n){return new Gie(n,!0)}class Cx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class WH{constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Cx(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Pe.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Pe.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,Pe.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===G.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new se(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Pe.Z)(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vse extends WH{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Yie(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Ae(),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ke(void 0===d||"string"==typeof d),Vr.fromBase64String(d||"")):(ke(void 0===d||d instanceof Uint8Array),Vr.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=void 0===c.code?G.UNKNOWN:Lj(c.code);return new se(d,c.message||"")}(o);t=new Hj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ha(n,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):Ne.min(),a=new li({mapValue:{fields:r.document.fields}}),l=Rn.newFoundDocument(i,s,o,a);t=new aw(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ha(n,r.document),s=r.readTime?fr(r.readTime):Ne.min(),o=Rn.newNoDocument(i,s);t=new aw([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ha(n,r.document);t=new aw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Uie(i,s);t=new jj(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?fr(o.readTime):Ne.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Gg(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=ew(l)?{documents:Xj(s,l)}:{query:tx(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Gj(s,o.resumeToken);const c=QD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=vf(s,o.snapshotVersion.toTimestamp());const c=QD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Qie(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Gg(this.serializer),t.removeTarget=e,this.e_(t)}}class Bse extends WH{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Zie(n,e){return n&&n.length>0?(ke(void 0!==e),n.map(t=>function(i,s){let o=fr(i.updateTime?i.updateTime:s);return o.isEqual(Ne.min())&&(o=fr(s)),new Fie(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.I_(r,t)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Gg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function qg(n,e){let t;if(e instanceof _f)t={update:Zj(n,e.key,e.value)};else if(e instanceof yf)t={delete:Wg(n,e.key)};else if(e instanceof ol)t={update:Zj(n,e.key,e.data),updateMask:tse(e.fieldMask)};else{if(!(e instanceof GD))return Ae();t={verify:Wg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:qie(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ae()),t;var s}(this.serializer,r))};this.e_(t)}}class Use extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(G.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(G.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Hse{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(hr(t),this.f_=!1):ie("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class zse{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Pe.Z)(function*(){var l;_c(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Pe.Z)(function*(d){const f=fe(d);f.C_.add(4),yield Af(f),f.M_.set("Unknown"),f.C_.delete(4),yield n_(f)}),function c(d){return l.apply(this,arguments)})(o))}))}),this.M_=new Hse(r,i)}}function n_(n){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,Pe.Z)(function*(n){if(_c(n))for(const e of n.v_)yield e(!0)}),Sx.apply(this,arguments)}function Af(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Pe.Z)(function*(n){for(const e of n.v_)yield e(!1)}),Ax.apply(this,arguments)}function Iw(n,e){const t=fe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),Rx(t)?xx(t):xf(t).Ho()&&Dx(t,e))}function r_(n,e){const t=fe(n),r=xf(t);t.D_.delete(e),r.Ho()&&GH(t,e),0===t.D_.size&&(r.Ho()?r.Zo():_c(t)&&t.M_.set("Unknown"))}function Dx(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xf(n).u_(e)}function GH(n,e){n.x_.Oe(e),xf(n).c_(e)}function xx(n){n.x_=new Hie({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),xf(n).start(),n.M_.g_()}function Rx(n){return _c(n)&&!xf(n).jo()&&n.D_.size>0}function _c(n){return 0===fe(n).C_.size}function qH(n){n.x_=void 0}function $se(n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Pe.Z)(function*(n){n.D_.forEach((e,t)=>{Dx(n,e)})}),Mx.apply(this,arguments)}function Wse(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,Pe.Z)(function*(n,e){qH(n),Rx(n)?(n.M_.w_(e),xx(n)):n.M_.set("Unknown")}),Px.apply(this,arguments)}function Gse(n,e,t){return kx.apply(this,arguments)}function kx(){return kx=(0,Pe.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof Hj&&2===e.state&&e.cause)try{yield(r=(0,Pe.Z)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cw(n,r)}else if(e instanceof aw?n.x_.$e(e):e instanceof jj?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Ne.min()))try{const r=yield NH(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(c);d&&s.D_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(Vr.EMPTY_BYTE_STRING,d.snapshotVersion)),GH(s,l);const f=new al(d.target,l,c,d.sequenceNumber);Dx(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield Cw(n,r)}var r}),kx.apply(this,arguments)}function Cw(n,e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Pe.Z)(function*(n,e,t){if(!oc(e))throw e;n.C_.add(1),yield Af(n),n.M_.set("Offline"),t||(t=()=>NH(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield n_(n)}))}),Ox.apply(this,arguments)}function KH(n,e){return e().catch(t=>Cw(n,t,e))}function Df(n){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,Pe.Z)(function*(n){const e=fe(n),t=yc(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;qse(e);)try{const i=yield Mse(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Kse(e,i)}catch(i){yield Cw(e,i)}YH(e)&&ZH(e)}),Nx.apply(this,arguments)}function qse(n){return _c(n)&&n.b_.length<10}function Kse(n,e){n.b_.push(e);const t=yc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function YH(n){return _c(n)&&!yc(n).jo()&&n.b_.length>0}function ZH(n){yc(n).start()}function Yse(n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Pe.Z)(function*(n){yc(n).E_()}),Fx.apply(this,arguments)}function Zse(n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Pe.Z)(function*(n){const e=yc(n);for(const t of n.b_)e.P_(t.mutations)}),Lx.apply(this,arguments)}function Qse(n,e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Pe.Z)(function*(n,e,t){const r=n.b_.shift(),i=KD.from(r,e,t);yield KH(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Df(n)}),Vx.apply(this,arguments)}function Xse(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Pe.Z)(function*(n,e){var t;e&&yc(n).h_&&(yield(t=(0,Pe.Z)(function*(i,s){if(function Fj(n){switch(n){default:return Ae();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}(a=s.code)&&a!==G.ABORTED){const o=i.b_.shift();yc(i).Yo(),yield KH(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Df(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),YH(n)&&ZH(n)}),Bx.apply(this,arguments)}function QH(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Pe.Z)(function*(n,e){const t=fe(n);t.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=_c(t);t.C_.add(3),yield Af(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield n_(t)}),Ux.apply(this,arguments)}function Hx(){return Hx=(0,Pe.Z)(function*(n,e){const t=fe(n);e?(t.C_.delete(2),yield n_(t)):e||(t.C_.add(2),yield Af(t),t.M_.set("Unknown"))}),Hx.apply(this,arguments)}function xf(n){return n.O_||(n.O_=function(t,r,i){const s=fe(t);return s.A_(),new Vse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:$se.bind(null,n),Io:Wse.bind(null,n),a_:Gse.bind(null,n)}),n.v_.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.O_.Yo(),Rx(n)?xx(n):n.M_.set("Unknown")):(yield n.O_.stop(),qH(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function yc(n){return n.N_||(n.N_=function(t,r,i){const s=fe(t);return s.A_(),new Bse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Yse.bind(null,n),Io:Xse.bind(null,n),T_:Zse.bind(null,n),I_:Qse.bind(null,n)}),n.v_.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.N_.Yo(),yield Df(n)):(yield n.N_.stop(),n.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class zx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new zx(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rf(n,e){if(hr("AsyncQueue",`${e}: ${n}`),oc(n))return new se(G.UNAVAILABLE,`${e}: ${n}`);throw n}class Mf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=Vg(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new Mf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Mf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XH{constructor(){this.B_=new vn(pe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pf{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Pf(e,t,Mf.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Jse{constructor(){this.k_=void 0,this.listeners=[]}}class eoe{constructor(){this.queries=new sl(e=>_j(e),Fg),this.onlineState="Unknown",this.q_=new Set}}function Wx(){return Wx=(0,Pe.Z)(function*(n,e){const t=fe(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Jse),i)try{s.k_=yield t.onListen(r)}catch(o){const a=Rf(o,`Initialization of query '${pf(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&Kx(t)}),Wx.apply(this,arguments)}function qx(){return qx=(0,Pe.Z)(function*(n,e){const t=fe(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),qx.apply(this,arguments)}function toe(n,e){const t=fe(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Kx(t)}function noe(n,e,t){const r=fe(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Kx(n){n.q_.forEach(e=>{e.next()})}class Yx{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class tz{constructor(e){this.key=e}}class nz{constructor(e){this.key=e}}class rz{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ct(),this.mutatedKeys=ct(),this._a=vj(e),this.aa=new Mf(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new XH,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),_=Lg(this.query,f)?f:null,v=!!g&&this.mutatedKeys.has(g.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;g&&_?g.data.isEqual(_.data)?v!==w&&(r.track({type:3,doc:_}),T=!0):this.ha(g,_)||(r.track({type:2,doc:_}),T=!0,(l&&this._a(_,l)>0||c&&this._a(_,c)<0)&&(a=!0)):!g&&_?(r.track({type:0,doc:_}),T=!0):g&&!_&&(r.track({type:1,doc:g}),T=!0,(l||c)&&(a=!0)),T&&(_?(o=o.add(_),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((c,d)=>function(g,_){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return v(g)-v(_)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new Pf(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new XH,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ct(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new nz(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new tz(r))}),t}da(e){this.ia=e.ls,this.oa=ct();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Pf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class soe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ooe{constructor(e){this.key=e,this.Ra=!1}}class aoe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new sl(a=>_j(a),Fg),this.fa=new Map,this.ga=new Set,this.pa=new vn(pe.comparator),this.ya=new Map,this.wa=new cx,this.Sa={},this.ba=new Map,this.Da=Gu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function loe(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Pe.Z)(function*(n,e){const t=function vR(n){const e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_oe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=doe.bind(null,e),e.Va.a_=toe.bind(null,e.eventManager),e.Va.Fa=noe.bind(null,e.eventManager),e}(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function Tf(n,e){const t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new al(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,zi(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Qx(n,e,t,r,i){return Xx.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Iw(t.remoteStore,o)}return i}),Zx.apply(this,arguments)}function Xx(){return Xx=(0,Pe.Z)(function*(n,e,t,r,i){n.va=(f,g,_)=>{return(v=(0,Pe.Z)(function*(T,P,N,R){let j=P.view.ca(N);j.Zi&&(j=yield yw(T.localStore,P.query,!1).then(({documents:Fe})=>P.view.ca(Fe,j)));const le=R&&R.targetChanges.get(P.targetId),ue=P.view.applyChanges(j,T.isPrimaryClient,le);return lR(T,P.targetId,ue.Ta),ue.snapshot}),function w(T,P,N,R){return v.apply(this,arguments)})(n,f,g,_);var v};const s=yield yw(n.localStore,e,!0),o=new rz(e,s.ls),a=o.ca(s.documents),l=$g.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);lR(n,t,c.Ta);const d=new soe(e,t,o);return n.ma.set(e,d),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),Xx.apply(this,arguments)}function coe(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Pe.Z)(function*(n,e){const t=fe(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!Fg(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),r_(t.remoteStore,r.targetId),kf(t,r.targetId)}).catch(sc))):(kf(t,r.targetId),yield Sf(t.localStore,r.targetId,!0))}),Jx.apply(this,arguments)}function eR(){return eR=(0,Pe.Z)(function*(n,e,t){const r=function bR(n){const e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=foe.bind(null,e),e}(n);try{const i=yield function(o,a){const l=fe(o),c=Gn.now(),d=a.reduce((_,v)=>_.add(v.key),ct());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=cs(),w=ct();return l.ss.getEntries(_,d).next(T=>{v=T,v.forEach((P,N)=>{N.isValidDocument()||(w=w.add(P))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,v)).next(T=>{f=T;const P=[];for(const N of a){const R=Vie(N,f.get(N.key).overlayedDocument);null!=R&&P.push(new ol(N.key,R,nj(R.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(_,c,P,a)}).next(T=>{g=T;const P=T.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(_,T.batchId,P)})}).then(()=>({batchId:g.batchId,changes:Ej(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new vn(Xe)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield ll(r,i.changes),yield Df(r.remoteStore)}catch(i){const s=Rf(i,"Failed to persist write");t.reject(s)}}),eR.apply(this,arguments)}function iz(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,Pe.Z)(function*(n,e){const t=fe(n);try{const r=yield function Rse(n,e){const t=fe(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(t.qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.qr.addMatchingKeys(s,d.addedDocuments,f)));let _=g.withSequenceNumber(s.currentSequenceNumber);var w,T,P;null!==e.targetMismatches.get(f)?_=_.withResumeToken(Vr.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),T=_,P=d,(0===(w=g).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,_))});let l=cs(),c=ct();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(function FH(n,e,t){let r=ct(),i=ct();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=cs();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(d=>{l=d.us,c=d.cs})),!r.isEqual(Ne.min())){const d=t.qr.getLastRemoteSnapshotVersion(s).next(f=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ke(o.Ra):i.removedDocuments.size>0&&(ke(o.Ra),o.Ra=!1))}),yield ll(t,r,e)}catch(r){yield sc(r)}}),tR.apply(this,arguments)}function sz(n,e,t){const r=fe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const g of f.listeners)g.Q_(a)&&(c=!0)}),c&&Kx(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function doe(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=(0,Pe.Z)(function*(n,e,t){const r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new vn(pe.comparator);o=o.insert(s,Rn.newNoDocument(s,Ne.min()));const a=ct().add(s),l=new zg(Ne.min(),new Map,new vn(Xe),o,a);yield iz(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),cR(r)}else yield Sf(r.localStore,e,!1).then(()=>kf(r,e,t)).catch(sc)}),nR.apply(this,arguments)}function hoe(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,Pe.Z)(function*(n,e){const t=fe(n),r=e.batch.batchId;try{const i=yield function xse(n,e){const t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,g=f.keys();let _=L.resolve();return g.forEach(v=>{_=_.next(()=>d.getEntry(l,v)).next(w=>{const T=c.docVersions.get(v);ke(null!==T),w.version.compareTo(T)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ct();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);aR(t,r,null),oR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ll(t,i)}catch(i){yield sc(i)}}),rR.apply(this,arguments)}function foe(n,e,t){return iR.apply(this,arguments)}function iR(){return iR=(0,Pe.Z)(function*(n,e,t){const r=fe(n);try{const i=yield function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ke(null!==f),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);aR(r,e,t),oR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ll(r,i)}catch(i){yield sc(i)}}),iR.apply(this,arguments)}function oR(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function aR(n,e,t){const r=fe(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function kf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||oz(n,r)})}function oz(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(r_(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),cR(n))}function lR(n,e,t){for(const r of t)r instanceof tz?(n.wa.addReference(r.key,e),moe(n,r)):r instanceof nz?(ie("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||oz(n,r.key)):Ae()}function moe(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(ie("SyncEngine","New document in limbo: "+t),n.ga.add(r),cR(n))}function cR(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new pe(Nt.fromString(e)),r=n.Da.next();n.ya.set(r,new ooe(t)),n.pa=n.pa.insert(t,r),Iw(n.remoteStore,new al(zi(hf(t.path)),r,"TargetPurposeLimboResolution",Ps._e))}}function ll(n,e,t){return uR.apply(this,arguments)}function uR(){return uR=(0,Pe.Z)(function*(n,e,t){const r=fe(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const d=px.Qi(l.targetId,c);s.push(d)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Pe.Z)(function*(c,d){const f=fe(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,_=>L.forEach(_.ki,v=>f.persistence.referenceDelegate.addReference(g,_.targetId,v)).next(()=>L.forEach(_.qi,v=>f.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))}catch(g){if(!oc(g))throw g;ie("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const _=g.targetId;if(!g.fromCache){const v=f.ts.get(_),T=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);f.ts=f.ts.insert(_,T)}}}),function l(c,d){return a.apply(this,arguments)})(r.localStore,s))}),uR.apply(this,arguments)}function goe(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,Pe.Z)(function*(n,e){const t=fe(n);if(!t.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield OH(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new se(G.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ll(t,r._s)}var s}),dR.apply(this,arguments)}function _oe(n,e){const t=fe(n),r=t.ya.get(e);if(r&&r.Ra)return ct().add(r.key);{let i=ct();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Tw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.serializer=t_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function kH(n,e,t,r){return new Dse(n,e,t,r)}(this.persistence,new PH,e.initialUser,this.serializer)}createPersistence(e){return new ux(mw.jr,this.serializer)}createSharedClientState(e){return new HH}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Of{initialize(e,t){var r=this;return(0,Pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=goe.bind(null,r.syncEngine),yield function jx(n,e){return Hx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eoe}createDatastore(e){const t=t_(e.databaseInfo.databaseId),r=new Lse(e.databaseInfo);return new Use(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>sz(this.syncEngine,t,0),a=zH.D()?new zH:new Ose,new zse(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,c,d){const f=new aoe(i,s,o,a,l,c);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(r){const i=fe(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Af(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Sw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Roe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=kU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Pe.Z)(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Rf(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Aw(n,e){return ER.apply(this,arguments)}function ER(){return ER=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Pe.Z)(function*(s){r.isEqual(s)||(yield OH(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ER.apply(this,arguments)}function wR(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function CR(n){return TR.apply(this,arguments)}(n);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>QH(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>QH(e.remoteStore,s)),n._onlineComponents=e}),IR.apply(this,arguments)}function TR(){return TR=(0,Pe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Aw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function hz(n){return"FirebaseError"===n.name?n.code===G.FAILED_PRECONDITION||n.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Rs("Error using user provided cache. Falling back to memory cache: "+t),yield Aw(n,new Tw)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield Aw(n,new Tw);return n._offlineComponents}),TR.apply(this,arguments)}function Dw(n){return SR.apply(this,arguments)}function SR(){return SR=(0,Pe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield wR(n,n._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield wR(n,new Of))),n._onlineComponents}),SR.apply(this,arguments)}function Ff(n){return DR.apply(this,arguments)}function DR(){return DR=(0,Pe.Z)(function*(n){const e=yield Dw(n),t=e.eventManager;return t.onListen=loe.bind(null,e.syncEngine),t.onUnlisten=coe.bind(null,e.syncEngine),t}),DR.apply(this,arguments)}function yz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const vz=new Map;function xR(n,e,t){if(!t)throw new se(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bz(n){if(!pe.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ez(n){if(pe.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ae()}function Pt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xw(n);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Iz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function joe(n,e,t,r){if(!0===e&&!0===r)throw new se(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class i_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iz(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Lre;switch(r.type){case"firstParty":return new jre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=vz.get(t);r&&(ie("ComponentProvider","Removing Datastore"),vz.delete(t),r.terminate())}(this),Promise.resolve()}}class ci{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class fa extends ci{constructor(e,t,r){super(e,t,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new pe(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function zoe(n,e,...t){if(n=(0,A.m9)(n),xR("collection","path",e),n instanceof i_){const r=Nt.fromString(e,...t);return Ez(r),new fa(n,null,r)}{if(!(n instanceof pr||n instanceof fa))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return Ez(r),new fa(n.firestore,null,r)}}class Woe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Cx(this,"async_queue_retry"),this.iu=()=>{const t=ww();t&&ie("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=ww();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=ww();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Lr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!oc(t))throw t;ie("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,hr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=zx.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}uu(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function RR(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class bn extends i_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Woe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tz(this),this._firestoreClient.terminate()}}function mr(n){return n._firestoreClient||Tz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Tz(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _ie(n._databaseId,l,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yz(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;n._firestoreClient=new Roe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ku(Vr.fromBase64String(e))}catch(t){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ku(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dz{constructor(e){this._methodName=e}}class MR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}const Yoe=/^__.*__$/;class Zoe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new _f(e,this.data,t,this.fieldTransforms)}}function Rz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Rw{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Rw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Pw(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Rz(this.Iu)&&Yoe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Qoe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||t_(e)}pu(e,t,r,i=!1){return new Rw({Iu:e,methodName:t,gu:r,path:Vn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(n){const e=n._freezeSettings(),t=t_(n._databaseId);return new Qoe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PR(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);OR("Data must be an object, but it was:",o,r);const a=Nz(r,o);let l,c;if(s.merge)l=new ls(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=a_(e,f,t);if(!o.contains(g))throw new se(G.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Lz(d,g)||d.push(g)}l=new ls(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Zoe(new li(a),l,c)}function Yu(n,e){if(Fz(n=(0,A.m9)(n)))return OR("Unsupported field value:",e,n),Nz(n,e);if(n instanceof Dz)return function(r,i){if(!Rz(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Yu(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,A.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Tj(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Gn.fromDate(r);return{timestampValue:vf(i.serializer,s)}}if(r instanceof Gn){const s=new Gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vf(i.serializer,s)}}if(r instanceof MR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ku)return{bytesValue:Gj(i.serializer,r._byteString)};if(r instanceof pr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:XD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${xw(r)}`)}(n,e)}function Nz(n,e){const t={};return qU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(n,(r,i)=>{const s=Yu(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Fz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof MR||n instanceof Ku||n instanceof pr||n instanceof Dz)}function OR(n,e,t){if(!Fz(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=xw(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function a_(n,e,t){if((e=(0,A.m9)(e))instanceof Lf)return e._internalPath;if("string"==typeof e)return Mw(n,e);throw Pw("Field path arguments must be of type string or ",n,!1,void 0,t)}const tae=new RegExp("[~\\*/\\[\\]]");function Mw(n,e,t){if(e.search(tae)>=0)throw Pw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lf(...e.split("."))._internalPath}catch{throw Pw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pw(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(G.INVALID_ARGUMENT,a+n+l)}function Lz(n,e){return n.some(t=>t.isEqual(e))}class NR{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nae extends NR{data(){return super.data()}}function kw(n,e){return"string"==typeof e?Mw(n,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}class iae{convertValue(e,t="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ac(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new MR(nr(e.latitude),nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ZE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}convertTimestamp(e){const t=lc(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nt.fromString(e);ke(nH(r));const i=new Fu(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(t)||hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uf extends NR{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Lw extends Uf{data(e={}){return super.data(e)}}class jf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Lw(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Lw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Lw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:oae(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oae(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class vc extends iae{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function aae(n,e){const t=Pt(n.firestore,bn),r=function $oe(n,e,...t){if(n=(0,A.m9)(n),1===arguments.length&&(e=kU.newId()),xR("doc","path",e),n instanceof i_){const r=Nt.fromString(e,...t);return bz(r),new pr(n,null,new pe(r))}{if(!(n instanceof pr||n instanceof fa))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return bz(r),new pr(n.firestore,n instanceof fa?n.converter:null,new pe(r))}}(n),i=function LR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function c_(n,e){return function(r,i){const s=new Lr;return r.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function uoe(n,e,t){return eR.apply(this,arguments)}(yield function AR(n){return Dw(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(mr(n),e)}(t,[PR(Vf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}!function(e,t=!0){nf=Fr.SDK_VERSION,(0,Fr._registerComponent)(new tc.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bn(new Bre(r.getProvider("auth-internal")),new Hre(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Fr.registerVersion)(RU,"4.3.2",e),(0,Fr.registerVersion)(RU,"4.3.2","esm2017")}();var Uw=function(){return Uw=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Uw.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Eae={includeMetadataChanges:!1};function jR(n,e){return void 0===e&&(e=Eae),new He(function(t){var r=function lae(n,...e){var t,r,i;n=(0,A.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||RR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(RR(e[o])){const f=e[o];e[o]=null===(t=f.next)||void 0===t?void 0:t.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let l,c,d;if(n instanceof pr)c=Pt(n.firestore,bn),d=hf(n._key.path),l={next:f=>{e[o]&&e[o](function VR(n,e,t){const r=t.docs.get(e._key),i=new vc(n);return new Uf(n,i,e._key,r,new Zu(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,f))},error:e[o+1],complete:e[o+2]};else{const f=Pt(n,ci);c=Pt(f.firestore,bn),d=f._query;const g=new vc(c);l={next:_=>{e[o]&&e[o](new jf(c,g,f,_))},error:e[o+1],complete:e[o+2]},function Vz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(g,_,v,w){const T=new Sw(w),P=new Yx(_,T,v);return g.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function $x(n,e){return Wx.apply(this,arguments)}(yield Ff(g),P)})),()=>{T.Na(),g.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function Gx(n,e){return qx.apply(this,arguments)}(yield Ff(g),P)}))}}(mr(c),d,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Dae(n,e){return void 0===e&&(e={}),function Aae(n){return jR(n,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}(n).pipe(ce(function(t){return t.map(function(r){return function qz(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?Uw(Uw({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class jw{constructor(e){return e}}const Qz="firestore",$R=new ae("angularfire2.firestore-instances");function Pae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jw(r)}}const kae={provide:class Rae{constructor(){return VA(Qz)}},deps:[[new Ir,$R]]},Oae={provide:jw,useFactory:function Mae(n,e){const t=function cB(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Qz,n,e);return t&&new jw(t)},deps:[[new Ir,$R],rg]};let Nae=(()=>{class n{constructor(){(0,Fr.registerVersion)("angularfire",gE.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ot({type:n});static \u0275inj=qt({providers:[Oae,kae]})}return n})();function Fae(n,...e){return{ngModule:Nae,providers:[{provide:$R,useFactory:Pae(n),multi:!0,deps:[qe,zr,_E,dB,[new Ir,fB],[new Ir,BA],...e]}]}}const Lae=yE(Dae,!0),Vae=yE(aae,!0),Xz=yE(zoe,!0);let WR,Hw=(()=>{class n{constructor(t){this.firestore=t}obterTransacoes(){const t=Xz(this.firestore,"transacoes");return Lae(t)}novaTransacao(t){const r=Xz(this.firestore,"transacoes");return E(Vae(r,t)).pipe(ce(i=>{Wn(console.log);const s=i.id;return{...t,idTransacao:s}}),ta(i=>{throw console.error("Erro ao adicionar transa\xe7\xe3o:",i),i}))}static#e=this.\u0275fac=function(r){return new(r||n)(U(jw))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bae=(()=>{class n{constructor(t){this.transacoesService=t,this.qtdTransacoes=[],this.total=0}ngOnInit(){this.verificaQtdTransacoes()}verificaQtdTransacoes(){return this.transacoesService.obterTransacoes().subscribe(t=>{this.qtdTransacoes=t,this.obterSomaTransacoes(this.qtdTransacoes)}),this.qtdTransacoes}somaTransacoes(t,r){return t+r.valor}obterSomaTransacoes(t){this.total=t.reduce(this.somaTransacoes,0)}static#e=this.\u0275fac=function(r){return new(r||n)(V(Hw))};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-card-fatura-atual"]],decls:7,vars:5,consts:[[1,"bg-[#161616]","border","border-slate-300","border-opacity-20","p-10","shadow-md","rounded-lg"],[1,"text-md","mb-4","text-white"],[1,"text-3xl","mt-3","text-white"]],template:function(r,i){1&r&&(Ce(0,"div",0)(1,"span",1),Ge(2,"Fatura atual"),Re(),An(3,"hr"),Ce(4,"h1",2),Ge(5),Yv(6,"number"),Re()()),2&r&&(Ut(5),Ts("R$ ",OT(6,1,i.total,"1.2-2","pt-BR")," "))},dependencies:[gb]})}return n})(),Uae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-card-fatura-total-liquido"]],decls:6,vars:0,consts:[[1,"bg-[#161616]","border","border-slate-300","border-opacity-20","p-10","shadow-md","rounded-lg","hidden","sm:block"],[1,"text-md","mb-4","text-white"],[1,"text-3xl","mt-3","text-white"]],template:function(r,i){1&r&&(Ce(0,"div",0)(1,"span",1),Ge(2,"Total l\xedquido"),Re(),An(3,"hr"),Ce(4,"h1",2),Ge(5,"R$ 235 "),Re()())}})}return n})(),jae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-card-fatura-proxima-fatura"]],decls:6,vars:0,consts:[[1,"bg-[#161616]","border","border-slate-300","border-opacity-20","p-10","shadow-md","rounded-lg","hidden","sm:block"],[1,"text-md","mb-4","text-white"],[1,"text-3xl","mt-3","text-white"]],template:function(r,i){1&r&&(Ce(0,"div",0)(1,"span",1),Ge(2,"Pr\xf3xima fatura"),Re(),An(3,"hr"),Ce(4,"h1",2),Ge(5,"R$ 12345 "),Re()())}})}return n})(),Hae=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-card-faturas"]],decls:5,vars:0,consts:[[1,"w-full","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-5","h-36"]],template:function(r,i){1&r&&(Ce(0,"div",0)(1,"div",1),An(2,"app-card-fatura-atual")(3,"app-card-fatura-total-liquido")(4,"app-card-fatura-proxima-fatura"),Re()())},dependencies:[Bae,Uae,jae],styles:[".titulo-card[_ngcontent-%COMP%]{font-family:Roboto;color:#0b0b09;font-size:10pt;font-weight:400}@media (max-width: 450px){.cards[_ngcontent-%COMP%]{width:100%;height:7rem;border-radius:25px}.cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:32pt}.titulo-card[_ngcontent-%COMP%]{font-size:12pt;font-weight:400}}"]})}return n})();try{WR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{WR=!1}let u_,zw,Qu,GR,oo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?SS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(U(Hl))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d_(n){return function zae(){if(null==u_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>u_=!0}))}finally{u_=u_||!1}return u_}()?n:!!n.capture}function e$(){if(null==Qu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qu=!1,Qu;if("scrollBehavior"in document.documentElement.style)Qu=!0;else{const n=Element.prototype.scrollTo;Qu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qu}function h_(){if("object"!=typeof document||!document)return 0;if(null==zw){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),zw=0,0===n.scrollLeft&&(n.scrollLeft=1,zw=0===n.scrollLeft?1:2),n.remove()}return zw}function bc(n){return n.composedPath?n.composedPath()[0]:n.target}function qR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function r$(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function i$(n,e=Gh){return Z((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,d=e.now();if(d<c)return i=this.schedule(void 0,c-d),void r.add(i);a()}t.subscribe(he(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function s$(n){return Ln((e,t)=>n<=t)}function o$(n,e=Pn){return n=n??cle,Z((t,r)=>{let i,s=!0;t.subscribe(he(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function cle(n,e){return n===e}function Ec(n){return Z((e,t)=>{ut(n).subscribe(he(t,()=>t.complete(),De)),!t.closed&&e.subscribe(t)})}function zf(n){return null!=n&&"false"!=`${n}`}function $w(n){return Array.isArray(n)?n:[n]}function xr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $f(n){return n instanceof cn?n.nativeElement:n}const a$=new Set;let Wf,dle=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fle}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function hle(n){if(!a$.has(n))try{Wf||(Wf=document.createElement("style"),Wf.setAttribute("type","text/css"),document.head.appendChild(Wf)),Wf.sheet&&(Wf.sheet.insertRule(`@media ${n} {body{ }}`,0),a$.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(U(oo))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fle(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ple=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return l$($w(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=LS(l$($w(t)).map(o=>this._registerQuery(o).observable));return s=Rh(s.pipe(Ar(1)),s.pipe(s$(1),i$(0))),s.pipe(ce(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new He(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Mh(r),ce(({matches:o})=>({query:t,matches:o})),Ec(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(U(dle),U(qe))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l$(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class _le{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new B,this._typeaheadSubscription=rt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new B,this.change=new B,e instanceof Th&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Wn(t=>this._pressedLetters.push(t)),i$(e),Ln(()=>this._pressedLetters.length>0),ce(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((i||r$(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Th?this._items.toArray():this._items}}class yle extends _le{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function ZR(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function QR(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Cle=new ae("cdk-input-modality-detector-options"),Tle={ignoreKeys:[18,17,224,91,16]},Gf=d_({passive:!0,capture:!0});let Sle=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Js(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bc(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZR(o)?"keyboard":"mouse"),this._mostRecentTarget=bc(o))},this._onTouchstart=o=>{QR(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bc(o))},this._options={...Tle,...s},this.modalityDetected=this._modality.pipe(s$(1)),this.modalityChanged=this.modalityDetected.pipe(o$()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Gf),i.addEventListener("mousedown",this._onMousedown,Gf),i.addEventListener("touchstart",this._onTouchstart,Gf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gf),document.removeEventListener("mousedown",this._onMousedown,Gf),document.removeEventListener("touchstart",this._onTouchstart,Gf))}}return n.\u0275fac=function(t){return new(t||n)(U(oo),U(qe),U(Et),U(Cle,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dle=new ae("cdk-focus-monitor-default-options"),Ww=d_({passive:!0,capture:!0});let XR=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B,this._rootNodeFocusAndBlurListener=a=>{for(let c=bc(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=$f(t);if(!this._platform.isBrowser||1!==i.nodeType)return Te(null);const s=function Wae(n){if(function $ae(){if(null==GR){const n=typeof document<"u"?document.head:null;GR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return GR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new B,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=$f(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=$f(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=bc(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ww),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ww)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ec(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ww),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ww),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(U(qe),U(oo),U(Sle),U(Et,8),U(Dle,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f$="cdk-high-contrast-black-on-white",p$="cdk-high-contrast-white-on-black",JR="cdk-high-contrast-active";let xle=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=We(ple).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(JR,f$,p$),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(JR,f$):2===r&&t.add(JR,p$)}}}return n.\u0275fac=function(t){return new(t||n)(U(oo),U(Et))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rle=new ae("cdk-dir-doc",{providedIn:"root",factory:function Mle(){return We(Et)}}),Ple=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let f_=(()=>{class n{constructor(t){this.value="ltr",this.change=new _n,t&&(this.value=function kle(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Ple.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(U(Rle,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({}),n})();const Nle=new ae("mat-sanity-checks",{providedIn:"root",factory:function Ole(){return!0}});let wc=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!qR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(U(xle),U(Nle,8),U(Et))},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[p_,p_]}),n})();function _$(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=zf(e)}constructor(...e){super(...e),this._disabled=!1}}}function y$(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function v$(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=zf(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class Lle{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const b$=d_({passive:!0,capture:!0});class Vle{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=bc(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,b$)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,b$)))}}const E$={enterDuration:225,exitDuration:150},w$=d_({passive:!0,capture:!0}),I$=["mousedown","touchstart"],C$=["mouseup","mouseleave","touchend","touchcancel"];class g_{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=$f(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...E$,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function Ule(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-o+"px",d.style.top=l-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=r.color&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const f=window.getComputedStyle(d),_=f.transitionDuration,v="none"===f.transitionProperty||"0s"===_||"0s, 0s"===_||0===i.width&&0===i.height,w=new Lle(this,d,r,v);d.style.transform="scale3d(1, 1, 1)",w.state=0,r.persistent||(this._mostRecentTransientRipple=w);let T=null;return!v&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const P=()=>this._finishRippleTransition(w),N=()=>this._destroyRipple(w);d.addEventListener("transitionend",P),d.addEventListener("transitioncancel",N),T={onTransitionEnd:P,onTransitionCancel:N}}),this._activeRipples.set(w,T),(v||!c)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...E$,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=$f(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,I$.forEach(r=>{g_._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{C$.forEach(t=>{this._triggerElement.addEventListener(t,this,w$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=ZR(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!QR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(I$.forEach(t=>g_._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&C$.forEach(t=>e.removeEventListener(t,this,w$)))}}g_._eventManager=new Vle;const jle=new ae("mat-ripple-global-options");let eM=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new g_(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(qe),V(oo),V(jle,8),V(Sm,8))},n.\u0275dir=Le({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&$a("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[wc,wc]}),n})();function S$(...n){const e=Ki(n),{args:t,keys:r}=_V(n),i=new He(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let d=0;d<o;d++){let f=!1;ut(t[d]).subscribe(he(s,g=>{f||(f=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!f)&&(c||s.next(r?yV(r,a):a),s.complete())}))}});return e?i.pipe(FS(e)):i}class tM{}class Ic{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ic?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ic;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ic?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Hle{encodeKey(e){return D$(e)}encodeValue(e){return D$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $le=/%(\d[a-f0-9])/gi,Wle={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D$(n){return encodeURIComponent(n).replace($le,(e,t)=>Wle[t]??e)}function Gw(n){return`${n}`}class Cc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hle,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zle(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Gw):[Gw(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Cc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Gw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Gw(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Gle{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function x$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function R$(n){return typeof Blob<"u"&&n instanceof Blob}function M$(n){return typeof FormData<"u"&&n instanceof FormData}class __{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qle(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ic),this.context||(this.context=new Gle),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Cc,this.urlWithParams=t}serializeBody(){return null===this.body?null:x$(this.body)||R$(this.body)||M$(this.body)||function Kle(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||M$(this.body)?null:R$(this.body)?this.body.type||null:x$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((f,g)=>f.set(g,e.setHeaders[g]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((f,g)=>f.set(g,e.setParams[g]),c)),new __(t,r,s,{params:c,headers:l,context:d,reportProgress:a,responseType:i,withCredentials:o})}}var ui=(()=>((ui=ui||{})[ui.Sent=0]="Sent",ui[ui.UploadProgress=1]="UploadProgress",ui[ui.ResponseHeader=2]="ResponseHeader",ui[ui.DownloadProgress=3]="DownloadProgress",ui[ui.Response=4]="Response",ui[ui.User=5]="User",ui))();class Yle{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ic,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class nM extends Yle{constructor(e={}){super(e),this.type=ui.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function rM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iM=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof __)s=t;else{let l,c;l=i.headers instanceof Ic?i.headers:new Ic(i.headers),i.params&&(c=i.params instanceof Cc?i.params:new Cc({fromObject:i.params})),s=new __(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Te(s).pipe(Wl(l=>this.handler.handle(l)));if(t instanceof __||"events"===i.observe)return o;const a=o.pipe(Ln(l=>l instanceof nM));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ce(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ce(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ce(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ce(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Cc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,rM(i,r))}post(t,r,i={}){return this.request("POST",t,rM(i,r))}put(t,r,i={}){return this.request("PUT",t,rM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(U(tM))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();const lce=["*"];let Kw;function y_(n){return function cce(){if(void 0===Kw&&(Kw=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Kw=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Kw}()?.createHTML(n)||n}function B$(n){return Error(`Unable to find icon with the name "${n}"`)}function U$(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function j$(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Xu{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Yw=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Xu(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(zt.HTML,i);if(!o)throw j$(i);const a=y_(o);return this._addSvgIconConfig(t,r,new Xu("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Xu(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(zt.HTML,r);if(!s)throw j$(r);const o=y_(s);return this._addSvgIconSetConfig(t,new Xu("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(zt.RESOURCE_URL,t);if(!r)throw U$(t);const i=this._cachedIconsByUrl.get(r);return i?Te(Zw(i)):this._loadSvgIconFromConfig(new Xu(t,null)).pipe(Wn(s=>this._cachedIconsByUrl.set(r,s)),ce(s=>Zw(s)))}getNamedSvgIcon(t,r=""){const i=H$(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):bu(B$(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Te(Zw(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ce(r=>Zw(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Te(i):S$(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(ta(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(zt.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Te(null)})))).pipe(ce(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw B$(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Wn(r=>t.svgText=r),ce(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Te(null):this._fetchIcon(t).pipe(Wn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(y_("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(y_("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function uce(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize(zt.RESOURCE_URL,r);if(!o)throw U$(r);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(ce(c=>y_(c)),Db(()=>this._inProgressUrlFetches.delete(o)),b());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(H$(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return hce(s)?new Xu(s.url,null,s.options):new Xu(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(U(iM,8),U(Ib),U(Et,8),U(ja))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zw(n){return n.cloneNode(!0)}function H$(n,e){return n+":"+e}function hce(n){return!(!n.url||!n.options)}const fce=y$(class{constructor(n){this._elementRef=n}}),pce=new ae("MAT_ICON_DEFAULT_OPTIONS"),mce=new ae("mat-icon-location",{providedIn:"root",factory:function gce(){const n=We(Et),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),z$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_ce=z$.map(n=>`[${n}]`).join(", "),yce=/^url\(['"]?#(.*?)['"]?\)$/;let oM,vce=(()=>{class n extends fce{get inline(){return this._inline}set inline(t){this._inline=zf(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,o,a){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=rt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(_ce),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)z$.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(yce):null;if(c){let d=i.get(a);d||(d=[],i.set(a,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ar(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(Yw),function tu(n){return function XI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Jy(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(wr(),n)}("aria-hidden"),V(mce),V(ja),V(pce,8))},n.\u0275cmp=Nn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(Cr("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),$a("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[St],ngContentSelectors:lce,decls:1,vars:0,template:function(t,r){1&t&&(bh(),pu(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),bce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[wc,wc]}),n})(),Ece=1;const Qw={};function $$(n){return n in Qw&&(delete Qw[n],!0)}const wce={setImmediate(n){const e=Ece++;return Qw[e]=!0,oM||(oM=Promise.resolve()),oM.then(()=>$$(e)&&n()),e},clearImmediate(n){$$(n)}},{setImmediate:Ice,clearImmediate:Cce}=wce,Xw={setImmediate(...n){const{delegate:e}=Xw;return(e?.setImmediate||Ice)(...n)},clearImmediate(n){const{delegate:e}=Xw;return(e?.clearImmediate||Cce)(n)},delegate:void 0},aM=new class Sce extends mE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Tce extends pE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Xw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Xw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function W$(n,e){return e?t=>Rh(e.pipe(Ar(1),function Ace(){return Z((n,e)=>{n.subscribe(he(e,De))})}()),t.pipe(W$(n))):Lt((t,r)=>ut(n(t,r)).pipe(Ar(1),wV(t)))}function G$(n=0,e,t=pne){let r=-1;return null!=e&&(Cn(e)?t=e:r=e),new He(i=>{let s=function Dce(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function lM(n,e=Gh){const t=G$(n,e);return W$(()=>t)}class cM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class xce extends cM{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class q$ extends cM{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Rce extends cM{constructor(e){super(),this.element=e instanceof cn?e.nativeElement:e}}class Mce{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof xce?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof q$?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Rce?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Pce extends Mce{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||zr.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let kce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({}),n})();class K${}class Oce{}const cl="*";function uM(n,e){return{type:7,name:n,definitions:e,options:{}}}function v_(n,e=null){return{type:4,styles:e,timings:n}}function Y$(n,e=null){return{type:2,steps:n,options:e}}function pa(n){return{type:6,styles:n,offset:null}}function b_(n,e,t){return{type:0,name:n,styles:e,options:t}}function E_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Z$(n){Promise.resolve().then(n)}class w_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Z$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Q${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Z$(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const dM="!",Nce=["addListener","removeListener"],Fce=["addEventListener","removeEventListener"],Lce=["on","off"];function Yf(n,e,t,r){if(S(t)&&(r=t,t=void 0),r)return Yf(n,e,t).pipe(FS(r));const[i,s]=function Uce(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?Fce.map(o=>a=>n[o](e,a,t)):function Vce(n){return S(n.addListener)&&S(n.removeListener)}(n)?Nce.map(X$(n,e)):function Bce(n){return S(n.on)&&S(n.off)}(n)?Lce.map(X$(n,e)):[];if(!i&&Tt(n))return Lt(o=>Yf(o,e,t))(ut(n));if(!i)throw new TypeError("Invalid event target");return new He(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function X$(n,e){return t=>r=>n[t](e,r)}const I_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=I_;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new rt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=I_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=I_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},zce=new class Hce extends mE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class jce extends pE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=I_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(I_.cancelAnimationFrame(t),e._scheduled=void 0)}});function hM(n,e=Gh){return function $ce(n){return Z((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(he(t,c=>{r=!0,i=c,s||ut(n(c)).subscribe(s=he(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>G$(n,e))}const Wce=["contentWrapper"],Gce=["*"],qce=new ae("VIRTUAL_SCROLL_STRATEGY");let Jw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new He(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(hM(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ln(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=$f(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Yf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(U(qe),U(oo),U(Et,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J$=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new B,this._elementScrolled=new He(o=>this.ngZone.runOutsideAngular(()=>Yf(this.elementRef.nativeElement,"scroll").pipe(Ec(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=h_()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==h_()?t.left=t.right:1==h_()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;e$()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==h_()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==h_()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(Jw),V(qe),V(f_,8))},n.\u0275dir=Le({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),fM=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new B,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(hM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(U(oo),U(qe),U(Et,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eW=new ae("VIRTUAL_SCROLLABLE");let Zce=(()=>{class n extends J${constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(Jw),V(qe),V(f_,8))},n.\u0275dir=Le({type:n,features:[St]}),n})();const Xce=typeof requestAnimationFrame<"u"?zce:aM;let Jce=(()=>{class n extends Zce{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=zf(t)}constructor(t,r,i,s,o,a,l,c){super(t,a,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=c,this._platform=We(oo),this._detachedSubject=new B,this._renderedRangeSubject=new B,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new He(d=>this._scrollStrategy.scrolledIndexChange.subscribe(f=>Promise.resolve().then(()=>this.ngZone.run(()=>d.next(f))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=rt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Mh(null),hM(0,Xce)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ec(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Qce(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",o="rtl"==this.dir?.value;r="start"==t?o?s:i:"end"==t?o?i:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(Ka),V(qe),V(qce,8),V(f_,8),V(Jw),V(fM),V(eW,8))},n.\u0275cmp=Nn({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&Qv(Wce,7),2&t){let i;Ul(i=jl())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&$a("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[un([{provide:J$,useFactory:(e,t)=>e||t,deps:[[new Ir,new Xd(eW)],n]}]),St,vm],ngContentSelectors:Gce,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(bh(),Ce(0,"div",0,1),pu(2),Re(),An(3,"div",2)),2&t&&(Ut(3),gu("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),pM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({}),n})(),tW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[p_,pM,Jce,p_,pM]}),n})();const nW=e$();class eue{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=xr(-this._previousScrollPosition.left),e.style.top=xr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),nW&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nW&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class tue{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ln(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rW{enable(){}disable(){}attach(){}}function mM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function iW(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class nue{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();mM(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rue=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new rW,this.close=o=>new tue(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new eue(this._viewportRuler,this._document),this.reposition=o=>new nue(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(U(Jw),U(fM),U(qe),U(Et))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sW{constructor(e){if(this.scrollStrategy=new rW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class iue{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let oW=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(U(Et))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sue=(()=>{class n extends oW{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(U(Et),U(qe,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oue=(()=>{class n extends oW{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=bc(s)},this._clickListener=s=>{const o=bc(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(a))break;const f=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(s)):f.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(U(Et),U(oo),U(qe,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aW=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||qR()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),qR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(U(Et),U(oo))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aue{constructor(e,t,r,i,s,o,a,l,c,d=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new B,this._attachments=new B,this._detachments=new B,this._locationChanges=rt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new B,this._outsidePointerEvents=new B,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ar(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=xr(this._config.width),e.height=xr(this._config.height),e.minWidth=xr(this._config.minWidth),e.minHeight=xr(this._config.minHeight),e.maxWidth=xr(this._config.maxWidth),e.maxHeight=xr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=$w(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ec(C(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const lW="cdk-overlay-connected-position-bounding-box",lue=/([A-Za-z%]+)$/;class cue{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B,this._resizeSubscription=rt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(lW),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),d=this._getOverlayFit(c,t,r,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ju(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=uW(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let g=0-a,_=a+s.height-r.height,v=this._subtractOverflows(s.width,0-o,o+s.width-r.width),w=this._subtractOverflows(s.height,g,_),T=v*w;return{visibleArea:T,isCompletelyWithinViewport:s.width*s.height===T,fitsInViewportVertically:w===s.height,fitsInViewportHorizontally:v==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=cW(this._overlayRef.getConfig().minHeight),a=cW(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=uW(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let d=0,f=0;return d=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,f=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new iue(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,d,f,g;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const _=Math.min(r.bottom-e.y+r.top,e.y),v=this._lastBoundingBoxSize.height;s=2*_,o=e.y-_,s>v&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-v/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)g=r.width-e.x+this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)f=e.x,d=r.right-e.x;else{const _=Math.min(r.right-e.x+r.left,e.x),v=this._lastBoundingBoxSize.width;d=2*_,f=e.x-_,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-v/2)}return{top:o,left:f,bottom:a,right:g,width:d,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=xr(r.height),i.top=xr(r.top),i.bottom=xr(r.bottom),i.width=xr(r.width),i.left=xr(r.left),i.right=xr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=xr(s)),o&&(i.maxWidth=xr(o))}this._lastBoundingBoxSize=r,Ju(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ju(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ju(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const d=this._viewportRuler.getViewportScrollPosition();Ju(r,this._getExactOverlayY(t,e,d)),Ju(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=xr(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=xr(o.maxWidth):s&&(r.maxWidth="")),Ju(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=xr(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=xr(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iW(e,r),isOriginOutsideView:mM(e,r),isOverlayClipped:iW(t,r),isOverlayOutsideView:mM(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&$w(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof cn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ju(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function cW(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(lue);return t&&"px"!==t?null:parseFloat(e)}return n||null}function uW(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const dW="cdk-global-overlay-wrapper";class uue{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(dW),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,f=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let _="",v="",w="";l?w="flex-start":"center"===d?(w="center",g?v=f:_=f):g?"left"===d||"end"===d?(w="flex-end",_=f):("right"===d||"start"===d)&&(w="flex-start",v=f):"left"===d||"start"===d?(w="flex-start",_=f):("right"===d||"end"===d)&&(w="flex-end",v=f),e.position=this._cssPosition,e.marginLeft=l?"0":_,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":v,t.justifyContent=w,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(dW),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let due=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new uue}flexibleConnectedTo(t){return new cue(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(U(fM),U(Et),U(oo),U(aW))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hue=0,e0=(()=>{class n{constructor(t,r,i,s,o,a,l,c,d,f,g,_){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=f,this._outsideClickDispatcher=g,this._animationsModuleType=_}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new sW(t);return o.direction=o.direction||this._directionality.value,new aue(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+hue++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(qa)),new Pce(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(U(rue),U(aW),U(hu),U(due),U(sue),U(zr),U(qe),U(Et),U(f_),U(ob),U(oue),U(Sm,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mue={provide:new ae("cdk-connected-overlay-scroll-strategy"),deps:[e0],useFactory:function pue(n){return()=>n.scrollStrategies.reposition()}};let gue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({providers:[e0,mue],imports:[p_,kce,tW,tW]}),n})();const _ue=["mat-menu-item",""];function yue(n,e){1&n&&(Dl(),Ce(0,"svg",3),An(1,"polygon",4),Re())}const vue=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],bue=["mat-icon, [matMenuItemIcon]","*"];function Eue(n,e){if(1&n){const t=jv();Ce(0,"div",0),Jn("keydown",function(i){return Ra(t),Gs(kr()._handleKeydown(i))})("click",function(){return Ra(t),Gs(kr().closed.emit("click"))})("@transformMenu.start",function(i){return Ra(t),Gs(kr()._onAnimationStart(i))})("@transformMenu.done",function(i){return Ra(t),Gs(kr()._onAnimationDone(i))}),Ce(1,"div",1),pu(2),Re()()}if(2&n){const t=kr();gn("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Cr("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const wue=["*"],gM=new ae("MAT_MENU_PANEL"),Iue=v$(_$(class{}));let t0=(()=>{class n extends Iue{constructor(t,r,i,s,o){super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new B,this._focused=new B,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(Et),V(XR),V(gM,8),V(Ka))},n.\u0275cmp=Nn({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(t,r){1&t&&Jn("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(Cr("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),$a("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[St],attrs:_ue,ngContentSelectors:bue,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(bh(vue),pu(0),Ce(1,"span",0),pu(2,1),Re(),An(3,"div",1),$r(4,yue,2,0,"svg",2)),2&t&&(Ut(3),gn("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Ut(1),gn("ngIf",r._triggersSubmenu))},dependencies:[xm,eM],encapsulation:2,changeDetection:0}),n})();const Cue=new ae("MatMenuContent"),n0={transformMenu:uM("transformMenu",[b_("void",pa({opacity:0,transform:"scale(0.8)"})),E_("void => enter",v_("120ms cubic-bezier(0, 0, 0.2, 1)",pa({opacity:1,transform:"scale(1)"}))),E_("* => void",v_("100ms 25ms linear",pa({opacity:0})))]),fadeInItems:uM("fadeInItems",[b_("showing",pa({opacity:1})),E_("void => *",[pa({opacity:0}),v_("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Tue=0;const hW=new ae("mat-menu-default-options",{providedIn:"root",factory:function Sue(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let C_=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=zf(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=zf(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,r,i,s){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Th,this._classList={},this._panelAnimationState="void",this._animationDone=new B,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new _n,this.close=this.closed,this.panelId="mat-menu-panel-"+Tue++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yle(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Mh(this._directDescendantItems),Dn(t=>C(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=t.toArray(),s=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[s]&&!i[s].disabled?r.setActiveItem(s):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Mh(this._directDescendantItems),Dn(r=>C(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:r$(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Ar(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Mh(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(qe),V(hW),V(Ka))},n.\u0275dir=Le({type:n,contentQueries:function(t,r,i){if(1&t&&(wm(i,Cue,5),wm(i,t0,5),wm(i,t0,4)),2&t){let s;Ul(s=jl())&&(r.lazyContent=s.first),Ul(s=jl())&&(r._allItems=s),Ul(s=jl())&&(r.items=s)}},viewQuery:function(t,r){if(1&t&&Qv(ea,5),2&t){let i;Ul(i=jl())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Aue=(()=>{class n extends C_{constructor(t,r,i,s){super(t,r,i,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(qe),V(hW),V(Ka))},n.\u0275cmp=Nn({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&Cr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[un([{provide:gM,useExisting:n}]),St],ngContentSelectors:wue,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(t,r){1&t&&(bh(),$r(0,Eue,3,6,"ng-template"))},dependencies:[bS],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[n0.transformMenu,n0.fadeInItems]},changeDetection:0}),n})();const fW=new ae("mat-menu-scroll-strategy"),xue={provide:fW,deps:[e0],useFactory:function Due(n){return()=>n.scrollStrategies.reposition()}},pW=d_({passive:!0});let Rue=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,r,i,s,o,a,l,c,d){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=d,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=rt.EMPTY,this._hoverSubscription=rt.EMPTY,this._menuCloseSubscription=rt.EMPTY,this._changeDetectorRef=We(Ka),this._handleTouchStart=f=>{QR(f)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new _n,this.onMenuOpen=this.menuOpened,this.menuClosed=new _n,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof C_?o:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,pW)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,pW),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),s=i.positionStrategy;this._setPosition(t,s),i.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof C_&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ec(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof C_?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Ln(i=>"void"===i.toState),Ar(1),Ec(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new sW({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const s="start"===i.connectionPair.overlayX?"after":"before",o="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,o)):t.setPositionClasses(s,o)})}_setPosition(t,r){let[i,s]="before"===t.xPosition?["end","start"]:["start","end"],[o,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[o,a],[d,f]=[i,s],g=0;if(this.triggersSubmenu()){if(f=i="before"===t.xPosition?"start":"end",s=d="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const _=this._parentMaterialMenu.items.first;this._parentInnerPadding=_?_._getHostElement().offsetTop:0}g="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===o?"bottom":"top",c="top"===a?"bottom":"top");r.withPositions([{originX:i,originY:l,overlayX:d,overlayY:o,offsetY:g},{originX:s,originY:l,overlayX:f,overlayY:o,offsetY:g},{originX:i,originY:c,overlayX:d,overlayY:a,offsetY:-g},{originX:s,originY:c,overlayX:f,overlayY:a,offsetY:-g}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return C(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Te(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ln(o=>o!==this._menuItemInstance),Ln(()=>this._menuOpen)):Te(),r)}_handleMousedown(t){ZR(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ln(t=>t===this._menuItemInstance&&!t.disabled),lM(0,aM)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof C_&&this.menu._isAnimating?this.menu._animationDone.pipe(Ar(1),lM(0,aM),Ec(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new q$(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(V(e0),V(cn),V(Zs),V(fW),V(gM,8),V(t0,10),V(f_,8),V(XR),V(qe))},n.\u0275dir=Le({type:n,hostVars:3,hostBindings:function(t,r){1&t&&Jn("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&t&&Cr("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Mue=(()=>{class n extends Rue{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[St]}),n})(),Pue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({providers:[xue],imports:[TS,T$,wc,gue,pM,wc]}),n})();const Oue=["mat-icon-button",""],Nue=["*"],Fue=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Lue=y$(_$(v$(class{constructor(n){this._elementRef=n}})));let Vue=(()=>{class n extends Lue{constructor(t,r,i,s){super(t),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=We(XR),this._isFab=!1;const o=t.nativeElement.classList;for(const a of Fue)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){nT()},n.\u0275dir=Le({type:n,viewQuery:function(t,r){if(1&t&&Qv(eM,5),2&t){let i;Ul(i=jl())&&(r.ripple=i.first)}},features:[St]}),n})(),jue=(()=>{class n extends Vue{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(oo),V(qe),V(Sm,8))},n.\u0275cmp=Nn({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(Cr("disabled",r.disabled||null),$a("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[St],attrs:Oue,ngContentSelectors:Nue,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(bh(),An(0,"span",0),pu(1),An(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(Ut(3),gn("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[eM],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Hue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[wc,T$,wc]}),n})();function zue(n,e){if(1&n&&(Ce(0,"tr",9)(1,"td",10),Ge(2),Re(),Ce(3,"td",11),Ge(4," 28/04/2024 09:53:00 "),Re(),Ce(5,"td",12)(6,"span",13),Ge(7),Re()(),Ce(8,"td",14),Ge(9),Yv(10,"number"),Re(),Ce(11,"td",14)(12,"button",15)(13,"mat-icon"),Ge(14,"more_vert"),Re()(),Ce(15,"mat-menu",16,17)(17,"button",18)(18,"span",19),Ge(19,"Editar transa\xe7\xe3o"),Re()(),Ce(20,"button",18)(21,"span",19),Ge(22,"Excluir transa\xe7\xe3o"),Re()()()()()),2&n){const t=e.$implicit,r=_T(16);Ut(2),Ts(" ",t.nomeTransacao," "),Ut(4),gn("ngClass","Pg"===t.status?"text-[#42845b] font-medium border border-[#42845b] border-opacity-20":"text-[#ce7e3c] font-medium border border-[#ce7e3c] border-opacity-20"),Ut(1),Ts(" ","Pg"===t.status?"Pago":"Pendente"," "),Ut(2),Ts(" R$ ",OT(10,5,t.valor,"1.2-2","pt-BR")," "),Ut(3),gn("matMenuTriggerFor",r)}}function $ue(n,e){if(1&n&&(Ce(0,"div")(1,"div",4)(2,"table",5)(3,"thead",6)(4,"tr")(5,"th",7),Ge(6," Descri\xe7\xe3o "),Re(),Ce(7,"th",7),Ge(8," Hor\xe1rio "),Re(),Ce(9,"th",7),Ge(10," Status "),Re(),Ce(11,"th",7),Ge(12," Valor R$ "),Re(),Ce(13,"th",7),Ge(14," A\xe7\xe3o "),Re()()(),Ce(15,"tbody"),$r(16,zue,23,9,"tr",8),Yv(17,"async"),Re()()()()),2&n){const t=kr();Ut(16),gn("ngForOf",yF(17,1,t.transacoes$))}}function Wue(n,e){1&n&&(Ce(0,"span",20),Ge(1,"N\xe3o h\xe1 transa\xe7\xf5es"),Re())}let Gue=(()=>{class n{constructor(t){this.transacoesService=t,this.qtdTransacoes=[]}ngOnInit(){this.transacoes$=this.transacoesService.obterTransacoes(),this.verificaQtdTransacoes()}verificaQtdTransacoes(){return this.transacoesService.obterTransacoes().subscribe(t=>{this.qtdTransacoes=t}),this.qtdTransacoes}static#e=this.\u0275fac=function(r){return new(r||n)(V(Hw))};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-card-transacoes"]],decls:6,vars:2,consts:[[1,"flex","items-center","justify-between","mt-12"],[1,"text-md","font-medium","leading-none","text-gray-300"],[4,"ngIf","ngIfElse"],["semTransacoes",""],[1,"relative","overflow-x-auto","mt-2"],[1,"w-full","text-sm","text-left","capitalize","text-gray-200","text-opacity-100","border","border-gray-200","border-opacity-20"],[1,"text-xs"],["scope","col",1,"px-6","py-4"],["class","bg-[#111112] border-b border-gray-200 border-opacity-20 hover:bg-[#1b1b1d] active:bg-[#141416] cursor-pointer",4,"ngFor","ngForOf"],[1,"bg-[#111112]","border-b","border-gray-200","border-opacity-20","hover:bg-[#1b1b1d]","active:bg-[#141416]","cursor-pointer"],["scope","row",1,"px-6","py-4","font-medium","text-gray-300"],[1,"px-6","py-4","font-medium","text-gray-300"],[1,"px-6","py-4","text-center"],[3,"ngClass"],[1,"px-6","py-4","text-white"],["mat-icon-button","","aria-label","Menu de bot\xf5es com a\xe7\xf5es editar e excluir",3,"matMenuTriggerFor"],[1,"bg-[#111112]"],["menu","matMenu"],["mat-menu-item","",1,"hover:bg-[#1b1b1d]"],[1,"text-white"],["id","descSemTransacao"]],template:function(r,i){if(1&r&&(Ce(0,"div",0)(1,"h5",1),Ge(2,"Transa\xe7\xf5es"),Re()(),$r(3,$ue,18,3,"div",2),$r(4,Wue,2,0,"ng-template",null,3,AF)),2&r){const s=_T(5);Ut(3),gn("ngIf",i.qtdTransacoes.length)("ngIfElse",s)}},dependencies:[bS,LL,xm,vce,Aue,t0,Mue,jue,jL,gb],styles:[".cabecalho-card-transacoes[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:var(--background-secondary);padding:1rem;font-family:Roboto;color:#b1b1b1;border-radius:10px;margin-bottom:.5rem}.card-transacoes[_ngcontent-%COMP%]{display:flex;background-color:var(--background-secondary);padding:1rem;border-radius:10px;margin-bottom:2px}.card-transacoes[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;font-family:Roboto;font-size:10pt}.transacoes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d5d5d5}.transacoes[_ngcontent-%COMP%]:hover{background-color:#2e354866;cursor:pointer}#descSemTransacao[_ngcontent-%COMP%]{font-size:17pt;color:#fff;text-align:center;margin-top:2rem}"]})}return n})(),mW=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(V(Ua),V(cn))},n.\u0275dir=Le({type:n}),n})(),ed=(()=>{class n extends mW{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=Le({type:n,features:[St]}),n})();const Ro=new ae("NgValueAccessor"),Kue={provide:Ro,useExisting:ve(()=>r0),multi:!0},Zue=new ae("CompositionEventMode");let r0=(()=>{class n extends mW{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yue(){const n=Ya()?Ya().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Ua),V(cn),V(Zue,8))},n.\u0275dir=Le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Jn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[un([Kue]),St]}),n})();const Que=!1;function Tc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _W(n){return null!=n&&"number"==typeof n.length}const di=new ae("NgValidators"),Sc=new ae("NgAsyncValidators"),Xue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class T_{static min(e){return function yW(n){return e=>{if(Tc(e.value)||Tc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function vW(n){return e=>{if(Tc(e.value)||Tc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return bW(e)}static requiredTrue(e){return function EW(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function wW(n){return Tc(n.value)||Xue.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function IW(n){return e=>Tc(e.value)||!_W(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function CW(n){return e=>_W(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return TW(e)}static nullValidator(e){return null}static compose(e){return MW(e)}static composeAsync(e){return PW(e)}}function bW(n){return Tc(n.value)?{required:!0}:null}function TW(n){if(!n)return s0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Tc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function s0(n){return null}function SW(n){return null!=n}function AW(n){const e=hm(n)?E(n):n;if(Que&&!vT(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new D(-1101,t)}return e}function DW(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function xW(n,e){return e.map(t=>t(n))}function RW(n){return n.map(e=>function Jue(n){return!n.validate}(e)?e:t=>e.validate(t))}function MW(n){if(!n)return null;const e=n.filter(SW);return 0==e.length?null:function(t){return DW(xW(t,e))}}function _M(n){return null!=n?MW(RW(n)):null}function PW(n){if(!n)return null;const e=n.filter(SW);return 0==e.length?null:function(t){return S$(xW(t,e).map(AW)).pipe(ce(DW))}}function yM(n){return null!=n?PW(RW(n)):null}function kW(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function OW(n){return n._rawValidators}function NW(n){return n._rawAsyncValidators}function vM(n){return n?Array.isArray(n)?n:[n]:[]}function o0(n,e){return Array.isArray(n)?n.includes(e):n===e}function FW(n,e){const t=vM(e);return vM(n).forEach(i=>{o0(t,i)||t.push(i)}),t}function LW(n,e){return vM(e).filter(t=>!o0(n,t))}class VW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_M(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class $i extends VW{get formDirective(){return null}get path(){return null}}class Ac extends VW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let UW=(()=>{class n extends BW{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Ac,2))},n.\u0275dir=Le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&$a("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[St]}),n})(),jW=(()=>{class n extends BW{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(V($i,10))},n.\u0275dir=Le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&$a("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[St]}),n})();function HW(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const wM=!1,S_="VALID",l0="INVALID",Zf="PENDING",A_="DISABLED";function IM(n){return(c0(n)?n.validators:n)||null}function CM(n,e){return(c0(e)?e.asyncValidators:n)||null}function c0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function zW(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,wM?function rde(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new D(1001,wM?function ide(n,e){return`Cannot find form control ${HW(n,e)}`}(e,t):"")}function $W(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new D(1002,wM?function sde(n,e){return`Must supply a value for form control ${HW(n,e)}`}(e,i):"")})}class u0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===S_}get invalid(){return this.status===l0}get pending(){return this.status==Zf}get disabled(){return this.status===A_}get enabled(){return this.status!==A_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(FW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(LW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(LW(e,this._rawAsyncValidators))}hasValidator(e){return o0(this._rawValidators,e)}hasAsyncValidator(e){return o0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=S_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===S_||this.status===Zf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?A_:S_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zf,this._hasOwnPendingAsyncValidator=!0;const t=AW(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _n,this.statusChanges=new _n}_calculateStatus(){return this._allControlsDisabled()?A_:this.errors?l0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zf)?Zf:this._anyControlsHaveStatus(l0)?l0:S_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){c0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ode(n){return Array.isArray(n)?_M(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ade(n){return Array.isArray(n)?yM(n):n||null}(this._rawAsyncValidators)}}class D_ extends u0{constructor(e,t,r){super(IM(t),CM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$W(this,!0,e),Object.keys(e).forEach(r=>{zW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class WW extends D_{}const td=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>x_}),x_="always";function R_(n,e,t=x_){TM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function cde(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&GW(n,e)})}(n,e),function dde(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ude(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&GW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function lde(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function h0(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),p0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function f0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function TM(n,e){const t=OW(n);null!==e.validator?n.setValidators(kW(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=NW(n);null!==e.asyncValidator?n.setAsyncValidators(kW(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();f0(e._rawValidators,i),f0(e._rawAsyncValidators,i)}function p0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=OW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=NW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return f0(e._rawValidators,r),f0(e._rawAsyncValidators,r),t}function GW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function YW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Qf=class extends u0{constructor(e=null,t,r){super(IM(t),CM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),c0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ZW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let t4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),r4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({}),n})();const RM=new ae("NgModelWithFormControlWarning"),Tde={provide:$i,useExisting:ve(()=>m0)};let m0=(()=>{class n extends $i{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _n,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(p0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return R_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){h0(t.control||null,t,!1),function mde(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function KW(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(h0(r||null,t),(n=>n instanceof Qf)(i)&&(R_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function qW(n,e){TM(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function hde(n,e){return p0(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TM(this.form,this),this._oldForm&&p0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(V(di,10),V(Sc,10),V(td,8))},n.\u0275dir=Le({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Jn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[un([Tde]),St,Ji]}),n})();const Dde={provide:Ac,useExisting:ve(()=>kM)};let kM=(()=>{class n extends Ac{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new _n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function DM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===r0?t=s:function pde(n){return Object.getPrototypeOf(n.constructor)===ed}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function AM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function d0(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(V($i,13),V(di,10),V(Sc,10),V(Ro,10),V(RM,8))},n.\u0275dir=Le({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[un([Dde]),St,Ji]}),n})();const xde={provide:Ro,useExisting:ve(()=>g0),multi:!0};function l4(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let g0=(()=>{class n extends ed{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=l4(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Rde(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&Jn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[un([xde]),St]}),n})(),c4=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(l4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(Ua),V(g0,9))},n.\u0275dir=Le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Mde={provide:Ro,useExisting:ve(()=>OM),multi:!0};function u4(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let OM=(()=>{class n extends ed{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Pde(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&Jn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[un([Mde]),St]}),n})(),d4=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(u4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(u4(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(V(cn),V(Ua),V(OM,9))},n.\u0275dir=Le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),nd=(()=>{class n{constructor(){this._validator=s0}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):s0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n,features:[Ji]}),n})();const Nde={provide:di,useExisting:ve(()=>_0),multi:!0};let _0=(()=>{class n extends nd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xh,this.createValidator=t=>bW}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Cr("required",r._enabled?"":null)},inputs:{required:"required"},features:[un([Nde]),St]}),n})();const Ude={provide:di,useExisting:ve(()=>NM),multi:!0};let NM=(()=>{class n extends nd{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>TW(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Cr("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[un([Ude]),St]}),n})(),b4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[r4]}),n})();class E4 extends u0{constructor(e,t,r){super(IM(t),CM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$W(this,!1,e),e.forEach((r,i)=>{zW(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function w4(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let jde=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return w4(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new D_(i,s)}record(t,r=null){const i=this._reduceControls(t);return new WW(i,r)}control(t,r,i){let s={};return this.useNonNullable?(w4(r)?s=r:(s.validators=r,s.asyncValidators=i),new Qf(t,{...s,nonNullable:!0})):new Qf(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new E4(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Qf||t instanceof u0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:td,useValue:t.callSetDisabledState??x_}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[b4]}),n})(),Hde=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:RM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:td,useValue:t.callSetDisabledState??x_}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[b4]}),n})();const C4=["toast-component",""];function zde(n,e){if(1&n){const t=jv();Ce(0,"button",5),Jn("click",function(){return Ra(t),Gs(kr().remove())}),Ce(1,"span",6),Ge(2,"\xd7"),Re()()}}function $de(n,e){if(1&n&&(um(0),Ge(1),dm()),2&n){const t=kr(2);Ut(1),Ts("[",t.duplicatesCount+1,"]")}}function Wde(n,e){if(1&n&&(Ce(0,"div"),Ge(1),$r(2,$de,2,1,"ng-container",4),Re()),2&n){const t=kr();Wa(t.options.titleClass),Cr("aria-label",t.title),Ut(1),Ts(" ",t.title," "),Ut(1),gn("ngIf",t.duplicatesCount)}}function Gde(n,e){if(1&n&&An(0,"div",7),2&n){const t=kr();Wa(t.options.messageClass),gn("innerHTML",t.message,jC)}}function qde(n,e){if(1&n&&(Ce(0,"div",8),Ge(1),Re()),2&n){const t=kr();Wa(t.options.messageClass),Cr("aria-label",t.message),Ut(1),Ts(" ",t.message," ")}}function Kde(n,e){if(1&n&&(Ce(0,"div"),An(1,"div",9),Re()),2&n){const t=kr();Ut(1),gu("width",t.width+"%")}}class the{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nhe{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class rhe{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new B,this._activate=new B,this._manualClose=new B,this._resetTimeout=new B,this._countDuplicate=new B}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class y0{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new B,this._onAction=new B,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const S4=new ae("ToastConfig");class ihe extends nhe{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let she=(()=>{class n{constructor(){this._document=We(Et)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ohe{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let ahe=(()=>{class n{constructor(){this._overlayContainer=We(she),this._componentFactoryResolver=We(hu),this._appRef=We(qa),this._document=We(Et),this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new ihe(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ohe(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FM=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(zt.HTML,r));const d=new rhe(l),f=new y0(this.index,s,c,i,t,d),_=zr.create({providers:[{provide:y0,useValue:f}],parent:this._injector}),v=new the(s.toastComponent,_),w=l.attach(v,s.newestOnTop);d.componentInstance=w.instance;const T={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:w};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{T.toastRef.activate()})),this.toasts.push(T),T}}return n.\u0275fac=function(t){return new(t||n)(U(S4),U(ahe),U(zr),U(Ib),U(qe))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A4=(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(V(FM),V(y0),V(qe))},n.\u0275cmp=Nn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&Jn("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(TT("@flyInOut",r.state),Wa(r.toastClasses),gu("display",r.displayStyle))},standalone:!0,features:[vm],attrs:C4,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&($r(0,zde,3,0,"button",0),$r(1,Wde,3,5,"div",1),$r(2,Gde,1,3,"div",2),$r(3,qde,2,4,"div",3),$r(4,Kde,2,2,"div",4)),2&t&&(gn("ngIf",r.options.closeButton),Ut(1),gn("ngIf",r.title),Ut(1),gn("ngIf",r.message&&r.options.enableHtml),Ut(1),gn("ngIf",r.message&&!r.options.enableHtml),Ut(1),gn("ngIf",r.options.progressBar))},dependencies:[xm],encapsulation:2,data:{animation:[uM("flyInOut",[b_("inactive",pa({opacity:0})),b_("active",pa({opacity:1})),b_("removed",pa({opacity:0})),E_("inactive => active",v_("{{ easeTime }}ms {{ easing }}")),E_("active => removed",v_("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const lhe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:A4},che=(n={})=>function s8(n){return{\u0275providers:n}}([{provide:S4,useValue:{default:lhe,config:n}}]);let uhe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[che(t)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[A4]}),n})(),dhe=new ae("currency.mask.config");class hhe{constructor(e){this.htmlInputElement=e}setCursorAt(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}updateValueAndCursor(e,t,r){this.rawValue=e,this.setCursorAt(r-=t-e.length)}get canInputMoreNumbers(){let e=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,r=this.inputSelection.selectionEnd,i=!(t==r||!this.htmlInputElement.value.substring(t,r).match(/\d/)),s="0"==this.htmlInputElement.value.substring(0,1);return e||i||s}get inputSelection(){let e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let r=document.getSelection().anchorNode;if(r&&r.firstChild==this.htmlInputElement){let i=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange(),a=this.htmlInputElement.createTextRange();a.collapse(!1),o.compareEndPoints("StartToEnd",a)>-1?e=t=i:(e=-o.moveStart("character",-i),e+=s.slice(0,e).split("\n").length-1,o.compareEndPoints("EndToEnd",a)>-1?t=i:(t=-o.moveEnd("character",-i),t+=s.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}get storedRawValue(){return this._storedRawValue}}class fhe{constructor(e,t){this.htmlInputElement=e,this.options=t,this.inputManager=new hhe(e)}addNumber(e){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let t=String.fromCharCode(e),r=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,r)+t+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(r+1)}applyMask(e,t){let{allowNegative:r,decimal:i,precision:s,prefix:o,suffix:a,thousands:l}=this.options,c=(t=e?new Number(t).toFixed(s):t).replace(/[^0-9]/g,"");if(!c)return"";let d=c.slice(0,c.length-s).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,l);""==d&&(d="0");let f=d,g=c.slice(c.length-s);s>0&&(g="0".repeat(s-g.length)+g,f+=i+g);let _=0==parseInt(d)&&(0==parseInt(g)||""==g);return(t.indexOf("-")>-1&&r&&!_?"-":"")+o+f+a}clearMask(e){if(null==e||""==e)return null;let t=e.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),parseFloat(t)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let e=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(e+1)}}changeToPositive(){let e=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(e-1)}fixCursorPosition(e){let t=this.inputSelection.selectionStart;t>this.getRawValueWithoutSuffixEndPosition()||e?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):t<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(e){let{decimal:t,thousands:r}=this.options,i=this.inputSelection.selectionEnd,s=this.inputSelection.selectionStart;s>this.rawValue.length-this.options.suffix.length&&(i=this.rawValue.length-this.options.suffix.length,s=this.rawValue.length-this.options.suffix.length),i==s&&((46==e||63272==e)&&/^\d+$/.test(this.rawValue.substring(s,i+1))&&(i+=1),(46==e||63272==e)&&(this.rawValue.substring(s,i+1)==t||this.rawValue.substring(s,i+1)==r)&&(i+=2,s+=1),8==e&&/^\d+$/.test(this.rawValue.substring(s-1,i))&&(s-=1),8==e&&(this.rawValue.substring(s-1,i)==t||this.rawValue.substring(s-1,i)==r)&&(s-=2,i-=1)),this.rawValue=this.rawValue.substring(0,s)+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(s)}updateFieldValue(e){let t=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(t,this.rawValue.length,e=e??this.rawValue.length)}updateOptions(e){let t=this.value;this.options=e,this.value=t}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(e){this.inputManager.rawValue=e}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(e){this.rawValue=this.applyMask(!0,""+e)}}class phe{constructor(e,t){this.inputService=new fhe(e,t),this.htmlInputElement=e}handleClick(e,t){0==Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)&&!isNaN(this.inputService.value)&&this.inputService.fixCursorPosition(t)}handleCut(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(e){if(this.isReadOnly())return;let t=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),r=this.inputService.rawValue.length,i=this.inputService.inputSelection.selectionEnd,s=this.inputService.getRawValueWithoutSuffixEndPosition(),o=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,i==s&&1==Math.abs(r-o)||0==o){if(r<o&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),r>o)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/))return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}handleKeydown(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(8==t||46==t||63272==t){e.preventDefault();let r=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);(r==this.inputService.rawValue.length||0==this.inputService.value)&&(this.setValue(null),this.onModelChange(this.inputService.value)),0==r&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)),(8===t||46===t)&&0!=r&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value))}}handleKeypress(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(null!=t&&-1==[9,13].indexOf(t)&&!this.isArrowEndHomeKeyInFirefox(e)){switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(!isNaN(this.inputService.value)||null!=String.fromCharCode(t).match(/\d/))&&this.inputService.addNumber(t)}e.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(e){this.inputService.fixCursorPosition()}handlePaste(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(e){this.inputService.updateOptions(e)}getOnModelChange(){return this.onModelChange}setOnModelChange(e){this.onModelChange=e}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(e){this.onModelTouched=e}setValue(e){this.inputService.value=e}getNewKeyCode(e,t){if(e.length>t.length)return null;for(let r=0;r<t.length;r++)if(e.length==r||e[r]!=t[r])return t.charCodeAt(r);return null}isArrowEndHomeKeyInFirefox(e){return-1!=[35,36,37,38,39,40].indexOf(e.keyCode)&&(null==e.charCode||0==e.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(e){let t=this.inputService.getRawValueWithoutSuffixEndPosition();const r=e.target;setTimeout(function(){r.setSelectionRange(t,t)},0)}}const mhe={provide:Ro,useExisting:ve(()=>D4),multi:!0};let D4=(()=>{class n{constructor(t,r,i){this.currencyMaskConfig=t,this.elementRef=r,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},t&&(this.optionsTemplate=t),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new phe(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleClick(t){this.inputHandler.handleClick(t,this.isChromeAndroid())}handleCut(t){this.isChromeAndroid()||this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||this.inputHandler.handleKeypress(t)}handleKeyup(t){this.isChromeAndroid()||this.inputHandler.handleKeyup(t)}handlePaste(t){this.isChromeAndroid()||this.inputHandler.handlePaste(t)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}validate(t){let r={};return t.value>this.max&&(r.max=!0),t.value<this.min&&(r.min=!0),r!={}?r:null}writeValue(t){this.inputHandler.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(V(dhe,8),V(cn),V(Dh))},n.\u0275dir=Le({type:n,selectors:[["","currencyMask",""]],hostBindings:function(t,r){1&t&&Jn("blur",function(s){return r.handleBlur(s)})("click",function(s){return r.handleClick(s)})("cut",function(s){return r.handleCut(s)})("input",function(s){return r.handleInput(s)})("keydown",function(s){return r.handleKeydown(s)})("keypress",function(s){return r.handleKeypress(s)})("keyup",function(s){return r.handleKeyup(s)})("paste",function(s){return r.handlePaste(s)})},inputs:{max:"max",min:"min",options:"options"},features:[un([mhe,{provide:di,useExisting:n,multi:!0}])]}),n})(),ghe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({imports:[[TS,I4]]}),n})();const _he=function(){return{prefix:"R$ ",thousands:".",decimal:",",allowNegative:!1,max:999.99,align:"center"}};let yhe=(()=>{class n{constructor(t,r,i){this.transacoesService=t,this.toastr=r,this.fb=i,this.valor=new Qf,this.criarTransacaoGroup=this.fb.group({nomeTransacao:["",T_.required],tipoCompra:["Selecione",T_.required],status:["Selecione",T_.required],formaPagamento:["Selecione",T_.required],valor:[[T_.required]]})}ngOnInit(){this.obterTransacoes()}cancelar(){this.criarTransacaoGroup=this.fb.group({nomeTransacao:"",tipoCompra:"",status:"",formaPagamento:"",valor:0})}obterTransacoes(){return this.transacoesService.obterTransacoes().subscribe(r=>{this.transacoes=r})}novaTransacao(){const t=this.criarTransacaoGroup.value;this.criarTransacaoGroup.invalid?this.toastr.error("N\xe3o foi poss\xedvel salvar, tente novamente."):this.criarTransacaoGroup.valid&&(this.toastr.success("A transa\xe7\xe3o foi criada com sucesso!"),this.transacoesService.novaTransacao({valor:t.valor,nomeTransacao:t.nomeTransacao,tipoCompra:t.tipoCompra,status:t.status,formaPagamento:t.formaPagamento}),this.obterTransacoes(),this.criarTransacaoGroup.reset())}static#e=this.\u0275fac=function(r){return new(r||n)(V(Hw),V(FM),V(jde))};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-botao-nova-transacao"]],decls:63,vars:3,consts:[[1,"btn-nova-transacao"],["data-modal-target","nova-transacao","data-modal-toggle","nova-transacao","type","button",1,"absolute","sm:mt-10"],["id","nova-transacao","tabindex","-1","data-modal-backdrop","static","aria-hidden","true",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-[#1B1B1E]","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","bg-[#1957A0]","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-lg","text-white","dark:text-white"],["type","button","data-modal-toggle","nova-transacao",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5",3,"formGroup","ngSubmit"],[1,"grid","gap-4","mb-4","grid-cols-2"],[1,"col-span-2"],["for","valor",1,"block","text-sm","text-[#B9B8B8]","dark:text-[#B9B8B8]"],["currencyMask","","formControlName","valor","id","valor","type","tel","inputmode","numeric","pattern","[0-9]*","placeholder","R$ 0,00","required","",1,"bg-[#383838]","text-center","border-gray-400","text-[#B9B8B8]","text-3xl","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-10","dark:bg-[#383838]","dark:focus:border-primary-500",3,"options"],["for","nomeTransacao",1,"block","text-sm","text-[#B9B8B8]","dark:text-[#B9B8B8]"],["type","text","formControlName","nomeTransacao","id","nomeTransacao","placeholder","Ex: Restaurante","required","",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[1,"col-span-2","sm:col-span-1"],["for","tipoCompra",1,"block","text-sm","text-[#B9B8B8]","dark:text-white"],["id","tipoCompra","formControlName","tipoCompra",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["value","Selecione","disabled","","selected",""],["value","E"],["value","S"],["for","formaPagamento",1,"block","text-sm","text-[#B9B8B8]","dark:text-white"],["id","formaPagamento","formControlName","formaPagamento",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["value","V"],["value","C"],["for","status",1,"block","text-sm","text-[#B9B8B8]","dark:text-white"],["id","status","formControlName","status",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["value","Pg"],["value","Pd"],[1,"flex","justify-between","items-center"],["type","button","data-modal-hide","nova-transacao",1,"text-white","inline-flex","items-center","bg-[#1957A0]","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"me-1","-ms-1","w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],["type","submit","data-modal-hide","nova-transacao",1,"text-white","inline-flex","items-center","bg-[#1957A0]","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"]],template:function(r,i){1&r&&(Ce(0,"div",0)(1,"button",1),Ge(2," Nova transa\xe7\xe3o "),Re()(),Ce(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),Ge(8," Nova transa\xe7\xe3o "),Re(),Ce(9,"button",7),Dl(),Ce(10,"svg",8),An(11,"path",9),Re(),Np(),Ce(12,"span",10),Ge(13,"X"),Re()()(),Ce(14,"form",11),Jn("ngSubmit",function(){return i.novaTransacao()}),Ce(15,"div",12)(16,"div",13)(17,"label",14),Ge(18,"Valor da transa\xe7\xe3o"),Re(),An(19,"input",15),Re(),Ce(20,"div",13)(21,"label",16),Ge(22,"Nome da transa\xe7\xe3o"),Re(),An(23,"input",17),Re(),Ce(24,"div",18)(25,"label",19),Ge(26,"Tipo da Transa\xe7\xe3o"),Re(),Ce(27,"select",20)(28,"option",21),Ge(29,"Selecione"),Re(),Ce(30,"option",22),Ge(31,"Entrada"),Re(),Ce(32,"option",23),Ge(33,"Sa\xedda"),Re()()(),Ce(34,"div",18)(35,"label",24),Ge(36,"Forma de pagamento"),Re(),Ce(37,"select",25)(38,"option",21),Ge(39,"Selecione"),Re(),Ce(40,"option",26),Ge(41,"\xc0 vista"),Re(),Ce(42,"option",27),Ge(43,"Cr\xe9dito"),Re()()(),Ce(44,"div",18)(45,"label",28),Ge(46,"Status"),Re(),Ce(47,"select",29)(48,"option",21),Ge(49,"Selecione"),Re(),Ce(50,"option",30),Ge(51,"Pago"),Re(),Ce(52,"option",31),Ge(53,"Pendente"),Re()()()(),Ce(54,"div",32)(55,"button",33),Jn("click",function(){return i.cancelar()}),Dl(),Ce(56,"svg",34),An(57,"path",35),Re(),Ge(58," Cancelar "),Re(),Np(),Ce(59,"button",36),Dl(),Ce(60,"svg",34),An(61,"path",35),Re(),Ge(62," Criar transa\xe7\xe3o "),Re()()()()()()),2&r&&(Ut(14),gn("formGroup",i.criarTransacaoGroup),Ut(5),gn("options",function hF(n,e,t){const r=ti()+n,i=J();return i[r]===st?Qo(i,r,t?e.call(t):e()):function cm(n,e){return n[e]}(i,r)}(2,_he)))},dependencies:[D4,t4,c4,d4,r0,g0,UW,jW,_0,NM,m0,kM],styles:[".btn-nova-transacao[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-nova-transacao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:120px;height:25px;border-radius:10px;font-size:9pt;background-color:#1957a0;color:#fff;border:1px solid #B9B8B8;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#114c8f}@media (max-width: 450px){.btn-nova-transacao[_ngcontent-%COMP%]{position:relative;top:2rem}.btn-nova-transacao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:30px;font-size:9pt}}"]})}return n})(),vhe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-home"]],decls:7,vars:0,template:function(r,i){1&r&&(Ce(0,"header"),An(1,"app-sidebar"),Ce(2,"nav"),An(3,"app-card-faturas"),Ce(4,"section"),An(5,"app-botao-nova-transacao")(6,"app-card-transacoes"),Re()()())},dependencies:[ane,Hae,Gue,yhe],styles:["header[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]{width:100%;padding:5rem 1.5rem 0}section[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;margin-top:5rem}"]})}return n})(),bhe=(()=>{class n{constructor(){this.title="Finance"}ngOnInit(){lB()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Nn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&An(0,"app-home")},dependencies:[vhe]})}return n})();var P_=Be(942);P_.Z.registerVersion("firebase","10.6.0","app-compat");const Ihe=["ngOnDestroy"];class x4{constructor(e){return e}}const LM=new ae("angularfire2.app.options"),VM=new ae("angularfire2.app.name");function BM(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=P_.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>P_.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;She("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new x4(o)}const She=(n,...e)=>{};function R4(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function Ahe(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(M4("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Dhe?" You may need to reload as Firebase is not HMR aware.":""}`),M4("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const Dhe=typeof module<"u"&&!!module.hot,M4=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Be(568);class xhe extends B{constructor(e=1/0,t=1/0,r=LA){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function P4(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,b({connector:()=>new xhe(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function k4(n,e){return S(e)?Dn(()=>n,e):Dn(()=>n)}const O4=new ae("angularfire2.auth.use-emulator"),N4=new ae("angularfire2.auth.settings"),F4=new ae("angularfire2.auth.tenant-id"),L4=new ae("angularfire2.auth.langugage-code"),V4=new ae("angularfire2.auth.use-device-language"),B4=new ae("angularfire.auth.persistence"),U4=(n,e,t,r,i,s,o,a)=>R4(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]);let j4=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,c,d,f,g,_){const v=new B,w=Te(void 0).pipe(Xn(o.outsideAngular),Dn(()=>s.runOutsideAngular(()=>Promise.resolve().then(Be.bind(Be,568)))),ce(()=>BM(t,s,r)),ce(T=>U4(T,s,a,c,d,f,l,g)),P4({bufferSize:1,refCount:!1}));if(function nQ(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Te(null);else{w.pipe(Xa()).subscribe();const T=w.pipe(Dn(R=>R.getRedirectResult().then(j=>j,()=>null)),ec,P4({bufferSize:1,refCount:!1})),P=w.pipe(Dn(R=>new He(j=>({unsubscribe:s.runOutsideAngular(()=>R.onAuthStateChanged(le=>j.next(le),le=>j.error(le),()=>j.complete()))})))),N=w.pipe(Dn(R=>new He(j=>({unsubscribe:s.runOutsideAngular(()=>R.onIdTokenChanged(le=>j.next(le),le=>j.error(le),()=>j.complete()))}))));this.authState=T.pipe(k4(P),jr(o.outsideAngular),Xn(o.insideAngular)),this.user=T.pipe(k4(N),jr(o.outsideAngular),Xn(o.insideAngular)),this.idToken=this.user.pipe(Dn(R=>R?E(R.getIdToken()):Te(null))),this.idTokenResult=this.user.pipe(Dn(R=>R?E(R.getIdTokenResult()):Te(null))),this.credential=C(T,v,this.authState.pipe(Ln(R=>!R))).pipe(ce(R=>R?.user?R:null),jr(o.outsideAngular),Xn(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(Ihe.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{const f=d?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,f),f})})})}))(this,w,s,{spy:{apply:(T,P,N)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&N.then(R=>v.next(R))}}})}static \u0275fac=function(r){return new(r||n)(U(LM),U(VM,8),U(Hl),U(qe),U(_E),U(O4,8),U(N4,8),U(F4,8),U(L4,8),U(V4,8),U(B4,8),U(BA,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const H4="@firebase/database";let UM="";function jM(n){UM=n}class khe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,A.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,A.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ohe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,A.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new khe(e)}}catch{}return new Ohe},rd=$4("localStorage"),HM=$4("sessionStorage"),Xf=new io.Yd("@firebase/database"),W4=function(){let n=1;return function(){return n++}}(),G4=function(n){const e=(0,A.dS)(n),t=new A.gQ;t.update(e);const r=t.digest();return A.US.encodeByteArray(r)},k_=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=k_.apply(null,r):e+="object"==typeof r?(0,A.Wl)(r):r,e+=" "}return e};let id=null,q4=!0;const K4=function(n,e){(0,A.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Xf.logLevel=io.in.VERBOSE,id=Xf.log.bind(Xf),e&&HM.set("logging_enabled",!0)):"function"==typeof n?id=n:(id=null,HM.remove("logging_enabled"))},Zr=function(...n){if(!0===q4&&(q4=!1,null===id&&!0===HM.get("logging_enabled")&&K4(!0)),id){const e=k_.apply(null,n);id(e)}},O_=function(n){return function(...e){Zr(n,...e)}},zM=function(...n){const e="FIREBASE INTERNAL ERROR: "+k_(...n);Xf.error(e)},ma=function(...n){const e=`FIREBASE FATAL ERROR: ${k_(...n)}`;throw Xf.error(e),new Error(e)},Di=function(...n){const e="FIREBASE WARNING: "+k_(...n);Xf.warn(e)},v0=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Dc="[MIN_NAME]",ul="[MAX_NAME]",sd=function(n,e){if(n===e)return 0;if(n===Dc||e===ul)return-1;if(e===Dc||n===ul)return 1;{const t=Q4(n),r=Q4(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Lhe=function(n,e){return n===e?0:n<e?-1:1},N_=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,A.Wl)(e))},$M=function(n){if("object"!=typeof n||null===n)return(0,A.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,A.Wl)(e[r]),t+=":",t+=$M(n[e[r]]);return t+="}",t},Y4=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Z4=function(n){(0,A.hu)(!v0(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);1===g.length&&(g="0"+g),f+=g}return f.toLowerCase()},jhe=new RegExp("^-?(0*)\\d{1,10}$"),Q4=function(n){if(jhe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Jf=function(n){try{n()}catch(e){setTimeout(()=>{throw Di("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},$he=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},F_=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Whe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Di(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ghe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Zr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Di(e)}}let L_=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const n3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,o3="websocket",a3="long_polling";class GM{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rd.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function l3(n,e,t){let r;if((0,A.hu)("string"==typeof e,"typeof type must == string"),(0,A.hu)("object"==typeof t,"typeof params must == object"),e===o3)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==a3)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function qhe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Qr(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Khe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,A.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,A.p$)(this.counters_)}}const qM={},KM={};function YM(n){const e=n.toString();return qM[e]||(qM[e]=new Khe),qM[e]}class Zhe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xc{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O_(e),this.stats_=YM(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),l3(t,a3,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Zhe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,A.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ZM((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&n3.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xc.forceAllow_=!0}static forceDisallow(){xc.forceDisallow_=!0}static isAvailable(){return!((0,A.Yr)()||!xc.forceAllow_&&(xc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,A.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,A.h$)(t),i=Y4(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,A.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,A.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ZM{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,A.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=W4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ZM.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Zr("frame writing exception"),a.stack&&Zr(a.stack),Zr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,A.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Zr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let E0=null;typeof MozWebSocket<"u"?E0=MozWebSocket:typeof WebSocket<"u"&&(E0=WebSocket);let ep=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O_(this.connId),this.stats_=YM(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return!(0,A.Yr)()&&typeof location<"u"&&location.hostname&&n3.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),l3(t,o3,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rd.set("previous_websocket_failure",!0);try{let i;if((0,A.Yr)()){i={headers:{"User-Agent":`Firebase/5/${UM}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new E0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==E0&&!n.forceDisallow_}static previouslyFailed(){return rd.isInMemoryStorage||!0===rd.get("previous_websocket_failure")}markConnectionHealthy(){rd.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,A.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,A.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,A.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=Y4(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),m3=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[xc,ep]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=ep&&ep.isAvailable();let i=r&&!ep.previouslyFailed();if(t.webSocketOnly&&(r||Di("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ep];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class w3{constructor(e,t,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O_("c:"+this.id+":"),this.transportManager_=new m3(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=F_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=N_("t",e),r=N_("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=N_("t",e),r=N_("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=N_("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?zM("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zM("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Di("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),F_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class I3{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class C3{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,A.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,A.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class w0 extends C3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,A.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new w0}getInitialEvent(e){return(0,A.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const T3=32,S3=768;class Yt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function $t(){return new Yt("")}function _t(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Rc(n){return n.pieces_.length-n.pieceNum_}function dn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Yt(n.pieces_,e)}function XM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function V_(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function A3(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Yt(e,0)}function Un(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Yt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Yt(t,0)}function yt(n){return n.pieceNum_>=n.pieces_.length}function Wi(n,e){const t=_t(n),r=_t(e);if(null===t)return e;if(t===r)return Wi(dn(n),dn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function yfe(n,e){const t=V_(n,0),r=V_(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=sd(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function JM(n,e){if(Rc(n)!==Rc(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ao(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Rc(n)>Rc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class vfe{constructor(e,t){this.errorPrefix_=t,this.parts_=V_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,A.ug)(this.parts_[r]);D3(this)}}function D3(n){if(n.byteLength_>S3)throw new Error(n.errorPrefix_+"has a key path longer than "+S3+" bytes ("+n.byteLength_+").");if(n.parts_.length>T3)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+T3+") or object contains a cycle "+od(n))}function od(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class eP extends C3{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new eP}getInitialEvent(e){return(0,A.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const B_=1e3;let C0,ad=(()=>{class n extends I3{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=O_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=B_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,A.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eP.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&w0.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_((0,A.Wl)(o)),(0,A.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new A.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,A.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,A.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,d=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==d&&this.removeListen_(i,s),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,A.r3)(t,"w")){const i=(0,A.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Di(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,A.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,A.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,A.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,A.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):zM("Unrecognized action received from server: "+(0,A.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,A.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=B_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=B_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=B_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Pe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,s())};t.realtime_={close:d,sendRequest:function(_){(0,A.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)}};const g=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[_,v]=yield Promise.all([t.authTokenProvider_.getToken(g),t.appCheckTokenProvider_.getToken(g)]);l?Zr("getToken() completed but was canceled"):(Zr("getToken() completed. Creating connection."),t.authToken_=_&&_.accessToken,t.appCheckToken_=v&&v.token,c=new w3(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,w=>{Di(w+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(_){t.log_("Failed to get token: "+_),l||(t.repoInfo_.nodeAdmin&&Di(_),d())}}})()}interrupt(t){Zr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Zr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,A.xb)(this.interruptReasons_)&&(this.reconnectDelay_=B_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>$M(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Yt(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Zr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Zr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,A.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+UM.replace(/\./g,"-")]=1,(0,A.uI)()?t["framework.cordova"]=1:(0,A.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=w0.getInstance().currentlyOnline();return(0,A.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class wt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new wt(e,t)}}class I0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new wt(Dc,e),i=new wt(Dc,t);return 0!==this.compare(r,i)}minPost(){return wt.MIN}}class M3 extends I0{static get __EMPTY_NODE(){return C0}static set __EMPTY_NODE(e){C0=e}compare(e,t){return sd(e.name,t.name)}isDefinedOn(e){throw(0,A.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return wt.MIN}maxPost(){return new wt(ul,C0)}makePost(e,t){return(0,A.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new wt(e,C0)}toString(){return".key"}}const ga=new M3;class T0{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let nP,Mo=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??us.EMPTY_NODE,this.right=o??us.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return us.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return us.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class us{constructor(e,t=us.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new us(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Mo.BLACK,null,null))}remove(e){return new us(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mo.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new T0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new T0(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new T0(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new T0(this.root_,null,this.comparator_,!0,e)}}function Afe(n,e){return sd(n.name,e.name)}function tP(n,e){return sd(n,e)}us.EMPTY_NODE=new class Sfe{copy(e,t,r,i,s){return this}insert(e,t,r){return new Mo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const P3=function(n){return"number"==typeof n?"number:"+Z4(n):"string:"+n},k3=function(n){if(n.isLeafNode()){const e=n.val();(0,A.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,A.r3)(e,".sv"),"Priority must be a string or number.")}else(0,A.hu)(n===nP||n.isEmpty(),"priority of unexpected type.");(0,A.hu)(n===nP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let O3,N3,F3,tp=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,A.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),k3(this.priorityNode_)}static set __childrenNodeConstructor(t){O3=t}static get __childrenNodeConstructor(){return O3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return yt(t)?this:".priority"===_t(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=_t(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,A.hu)(".priority"!==i||1===Rc(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+P3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?Z4(this.value_):this.value_,this.lazyHash_=G4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,A.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,A.hu)(s>=0,"Unknown leaf type: "+r),(0,A.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const En=new class Mfe extends I0{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?sd(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(ul,new tp("[PRIORITY-POST]",F3))}makePost(e,t){const r=N3(e);return new wt(t,new tp("[PRIORITY-POST]",r))}toString(){return".priority"}},Pfe=Math.log(2);class kfe{constructor(e){this.count=parseInt(Math.log(e+1)/Pfe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const S0=function(n,e,t,r){n.sort(e);const i=function(l,c){const d=c-l;let f,g;if(0===d)return null;if(1===d)return f=n[l],g=t?t(f):f,new Mo(g,f.node,Mo.BLACK,null,null);{const _=parseInt(d/2,10)+l,v=i(l,_),w=i(_+1,c);return f=n[_],g=t?t(f):f,new Mo(g,f.node,Mo.BLACK,v,w)}},a=function(l){let c=null,d=null,f=n.length;const g=function(v,w){const T=f-v,P=f;f-=v;const N=i(T+1,P),R=n[T],j=t?t(R):R;_(new Mo(j,R.node,w,null,N))},_=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<l.count;++v){const w=l.nextBitIsOne(),T=Math.pow(2,l.count-(v+1));w?g(T,Mo.BLACK):(g(T,Mo.BLACK),g(T,Mo.RED))}return d}(new kfe(n.length));return new us(r||e,a)};let rP;const np={};class dl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,A.hu)(np&&En,"ChildrenNode.ts has not been loaded"),rP=rP||new dl({".priority":np},{".priority":En}),rP}get(e){const t=(0,A.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof us?t:null}hasIndex(e){return(0,A.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,A.hu)(e!==ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(wt.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?S0(r,e.getCompare()):np;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new dl(d,c)}addToIndexes(e,t){const r=(0,A.UI)(this.indexes_,(i,s)=>{const o=(0,A.DV)(this.indexSet_,s);if((0,A.hu)(o,"Missing index implementation for "+s),i===np){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(wt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),S0(a,o.getCompare())}return np}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new wt(e.name,a))),l.insert(e,e.node)}});return new dl(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,A.UI)(this.indexes_,i=>{if(i===np)return i;{const s=t.get(e.name);return s?i.remove(new wt(e.name,s)):i}});return new dl(r,this.indexSet_)}}let U_,at=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&k3(this.priorityNode_),this.children_.isEmpty()&&(0,A.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return U_||(U_=new n(new us(tP),null,dl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||U_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?U_:r}}getChild(t){const r=_t(t);return null===r?this:this.getImmediateChild(r).getChild(dn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,A.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new wt(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?U_:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=_t(t);if(null===i)return r;{(0,A.hu)(".priority"!==_t(t)||1===Rc(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(dn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(En,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+P3(this.getPriority().val())+":"),this.forEachChild(En,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":G4(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new wt(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new wt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new wt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,wt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,wt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===j_?-1:0}withIndex(t){if(t===ga||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ga||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(En),s=r.getIterator(En);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ga?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const j_=new class Ofe extends at{constructor(){super(new us(tP),at.EMPTY_NODE,dl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return at.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wt,{MIN:{value:new wt(Dc,at.EMPTY_NODE)},MAX:{value:new wt(ul,j_)}}),M3.__EMPTY_NODE=at.EMPTY_NODE,tp.__childrenNodeConstructor=at,function Dfe(n){nP=n}(j_),function Rfe(n){F3=n}(j_);const Nfe=!0;function qn(n,e=null){if(null===n)return at.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,A.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new tp(n,qn(e));if(n instanceof Array||!Nfe){let t=at.EMPTY_NODE;return Qr(n,(r,i)=>{if((0,A.r3)(n,r)&&"."!==r.substring(0,1)){const s=qn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(qn(e))}{const t=[];let r=!1;if(Qr(n,(o,a)=>{if("."!==o.substring(0,1)){const l=qn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new wt(o,l)))}}),0===t.length)return at.EMPTY_NODE;const s=S0(t,Afe,o=>o.name,tP);if(r){const o=S0(t,En.getCompare());return new at(s,qn(e),new dl({".priority":o},{".priority":En}))}return new at(s,qn(e),dl.Default)}}!function xfe(n){N3=n}(qn);class iP extends I0{constructor(e){super(),this.indexPath_=e,(0,A.hu)(!yt(e)&&".priority"!==_t(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?sd(e.name,t.name):s}makePost(e,t){const r=qn(e),i=at.EMPTY_NODE.updateChild(this.indexPath_,r);return new wt(t,i)}maxPost(){const e=at.EMPTY_NODE.updateChild(this.indexPath_,j_);return new wt(ul,e)}toString(){return V_(this.indexPath_,0).join("/")}}const sP=new class Ffe extends I0{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?sd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(e,t){const r=qn(e);return new wt(t,r)}toString(){return".value"}};function L3(n){return{type:"value",snapshotNode:n}}function rp(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function H_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function z_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class oP{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){(0,A.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(H_(t,a)):(0,A.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(rp(t,r)):o.trackChildChange(z_(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(En,(i,s)=>{t.hasChild(i)||r.trackChildChange(H_(i,s))}),t.isLeafNode()||t.forEachChild(En,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(z_(i,s,o))}else r.trackChildChange(rp(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?at.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $_{constructor(e){this.indexedFilter_=new oP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$_.getStartPost_(e),this.endPost_=$_.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new wt(t,r))||(r=at.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=at.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(at.EMPTY_NODE);const s=this;return t.forEachChild(En,(o,a)=>{s.matches(new wt(o,a))||(i=i.updateImmediateChild(o,at.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Vfe{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new wt(t,r))||(r=at.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=at.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=at.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(at.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(g,_)=>f(_,g)}else o=this.index_.getCompare();const a=e;(0,A.hu)(a.numChildren()===this.limit_,"");const l=new wt(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(t)){const f=a.getImmediateChild(t);let g=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=g&&(g.name===t||a.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const _=null==g?1:o(g,l);if(d&&!r.isEmpty()&&_>=0)return s?.trackChildChange(z_(t,r,f)),a.updateImmediateChild(t,r);{s?.trackChildChange(H_(t,f));const w=a.updateImmediateChild(t,at.EMPTY_NODE);return null!=g&&this.rangedFilter_.matches(g)?(s?.trackChildChange(rp(g.name,g.node)),w.updateImmediateChild(g.name,g.node)):w}}return r.isEmpty()?e:d&&o(c,l)>=0?(null!=s&&(s.trackChildChange(H_(c.name,c.node)),s.trackChildChange(rp(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,at.EMPTY_NODE)):e}}class A0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,A.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,A.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,A.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,A.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ul}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,A.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const e=new A0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aP(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function lP(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function D0(n,e){const t=n.copy();return t.index_=e,t}function V3(n){const e={};if(n.isDefault())return e;let t;if(n.index_===En?t="$priority":n.index_===sP?t="$value":n.index_===ga?t="$key":((0,A.hu)(n.index_ instanceof iP,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,A.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,A.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,A.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,A.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,A.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function B3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==En&&(e.i=n.index_.toString()),e}class x0 extends I3{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=O_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,A.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=x0.getListenId_(e,r),a={};this.listens_[o]=a;const l=V3(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let f=d;if(404===c&&(f=null,c=null),null===c&&this.onDataUpdate_(s,f,!1,r),(0,A.DV)(this.listens_,o)===a){let g;g=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(g,null)}})}unlisten(e,t){const r=x0.getListenId_(e,t);delete this.listens_[r]}get(e){const t=V3(e._queryParams),r=e._path.toString(),i=new A.BH;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,A.xO)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,A.cI)(a.responseText)}catch{Di("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Di("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class $fe{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function R0(){return{value:null,children:new Map}}function ip(n,e,t){if(yt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=_t(e);n.children.has(r)||n.children.set(r,R0()),ip(n.children.get(r),e=dn(e),t)}}function cP(n,e){if(yt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(En,(r,i)=>{ip(n,new Yt(r),i)}),cP(n,e)}}if(n.children.size>0){const t=_t(e);return e=dn(e),n.children.has(t)&&cP(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function uP(n,e,t){null!==n.value?t(e,n.value):function Wfe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{uP(i,new Yt(e.toString()+"/"+r),t)})}class Gfe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Qr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Yfe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Gfe(e);const r=1e4+2e4*Math.random();F_(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Qr(e,(i,s)=>{s>0&&(0,A.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),F_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lo=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(lo||(lo={})),lo))();function fP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class M0{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=lo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(yt(this.path)){if(null!=this.affectedTree.value)return(0,A.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Yt(e));return new M0($t(),t,this.revert)}}return(0,A.hu)(_t(this.path)===e,"operationForChild called for unrelated child."),new M0(dn(this.path),this.affectedTree,this.revert)}}class W_{constructor(e,t){this.source=e,this.path=t,this.type=lo.LISTEN_COMPLETE}operationForChild(e){return yt(this.path)?new W_(this.source,$t()):new W_(this.source,dn(this.path))}}class ld{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=lo.OVERWRITE}operationForChild(e){return yt(this.path)?new ld(this.source,$t(),this.snap.getImmediateChild(e)):new ld(this.source,dn(this.path),this.snap)}}class sp{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=lo.MERGE}operationForChild(e){if(yt(this.path)){const t=this.children.subtree(new Yt(e));return t.isEmpty()?null:t.value?new ld(this.source,$t(),t.value):new sp(this.source,$t(),t)}return(0,A.hu)(_t(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sp(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Mc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(yt(e))return this.isFullyInitialized()&&!this.filtered_;const t=_t(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Zfe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function G_(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function Jfe(n,e,t){if(null==e.childName||null==t.childName)throw(0,A.g5)("Should only compare child_ events.");const r=new wt(e.childName,e.snapshotNode),i=new wt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function Xfe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function P0(n,e){return{eventCache:n,serverCache:e}}function q_(n,e,t,r){return P0(new Mc(e,t,r),n.serverCache)}function j3(n,e,t,r){return P0(n.eventCache,new Mc(e,t,r))}function k0(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function cd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pP;class wn{constructor(e,t=(()=>(pP||(pP=new us(Lhe)),pP))()){this.value=e,this.children=t}static fromObject(e){let t=new wn(null);return Qr(e,(r,i)=>{t=t.set(new Yt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:$t(),value:this.value};if(yt(e))return null;{const r=_t(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(dn(e),t);return null!=s?{path:Un(new Yt(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(yt(e))return this;{const t=_t(e),r=this.children.get(t);return null!==r?r.subtree(dn(e)):new wn(null)}}set(e,t){if(yt(e))return new wn(t,this.children);{const r=_t(e),s=(this.children.get(r)||new wn(null)).set(dn(e),t),o=this.children.insert(r,s);return new wn(this.value,o)}}remove(e){if(yt(e))return this.children.isEmpty()?new wn(null):new wn(null,this.children);{const t=_t(e),r=this.children.get(t);if(r){const i=r.remove(dn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new wn(null):new wn(this.value,s)}return this}}get(e){if(yt(e))return this.value;{const t=_t(e),r=this.children.get(t);return r?r.get(dn(e)):null}}setTree(e,t){if(yt(e))return t;{const r=_t(e),s=(this.children.get(r)||new wn(null)).setTree(dn(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new wn(this.value,o)}}fold(e){return this.fold_($t(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Un(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,$t(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(yt(e))return null;{const s=_t(e),o=this.children.get(s);return o?o.findOnPath_(dn(e),Un(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,$t(),t)}foreachOnPath_(e,t,r){if(yt(e))return this;{this.value&&r(t,this.value);const i=_t(e),s=this.children.get(i);return s?s.foreachOnPath_(dn(e),Un(t,i),r):new wn(null)}}foreach(e){this.foreach_($t(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Un(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Po{constructor(e){this.writeTree_=e}static empty(){return new Po(new wn(null))}}function K_(n,e,t){if(yt(e))return new Po(new wn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Wi(i,e);return s=s.updateChild(o,t),new Po(n.writeTree_.set(i,s))}{const i=new wn(t),s=n.writeTree_.setTree(e,i);return new Po(s)}}}function mP(n,e,t){let r=n;return Qr(t,(i,s)=>{r=K_(r,Un(e,i),s)}),r}function H3(n,e){if(yt(e))return Po.empty();{const t=n.writeTree_.setTree(e,new wn(null));return new Po(t)}}function gP(n,e){return null!=ud(n,e)}function ud(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Wi(t.path,e)):null}function z3(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(En,(r,i)=>{e.push(new wt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new wt(r,i.value))}),e}function Pc(n,e){if(yt(e))return n;{const t=ud(n,e);return new Po(null!=t?new wn(t):n.writeTree_.subtree(e))}}function _P(n){return n.writeTree_.isEmpty()}function op(n,e){return $3($t(),n.writeTree_,e)}function $3(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,A.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=$3(Un(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Un(n,".priority"),r)),t}}function O0(n,e){return Y3(e,n)}function spe(n,e){if(n.snap)return ao(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ao(Un(n.path,t),e))return!0;return!1}function ape(n){return n.visible}function W3(n,e,t){let r=Po.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)ao(t,o)?(a=Wi(t,o),r=K_(r,a,s.snap)):ao(o,t)&&(a=Wi(o,t),r=K_(r,$t(),s.snap.getChild(a)));else{if(!s.children)throw(0,A.g5)("WriteRecord should have .snap or .children");if(ao(t,o))a=Wi(t,o),r=mP(r,a,s.children);else if(ao(o,t))if(a=Wi(o,t),yt(a))r=mP(r,$t(),s.children);else{const l=(0,A.DV)(s.children,_t(a));if(l){const c=l.getChild(dn(a));r=K_(r,$t(),c)}}}}}return r}function G3(n,e,t,r,i){if(r||i){const s=Pc(n.visibleWrites,e);return!i&&_P(s)?t:i||null!=t||gP(s,$t())?op(W3(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ao(c.path,e)||ao(e,c.path))},e),t||at.EMPTY_NODE):null}{const s=ud(n.visibleWrites,e);if(null!=s)return s;{const o=Pc(n.visibleWrites,e);return _P(o)?t:null!=t||gP(o,$t())?op(o,t||at.EMPTY_NODE):null}}}function N0(n,e,t,r){return G3(n.writeTree,n.treePath,e,t,r)}function yP(n,e){return function lpe(n,e,t){let r=at.EMPTY_NODE;const i=ud(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(En,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Pc(n.visibleWrites,e);return t.forEachChild(En,(o,a)=>{const l=op(Pc(s,new Yt(o)),a);r=r.updateImmediateChild(o,l)}),z3(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return z3(Pc(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function q3(n,e,t,r){return function cpe(n,e,t,r,i){(0,A.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Un(e,t);if(gP(n.visibleWrites,s))return null;{const o=Pc(n.visibleWrites,s);return _P(o)?i.getChild(t):op(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function F0(n,e){return function dpe(n,e){return ud(n.visibleWrites,e)}(n.writeTree,Un(n.treePath,e))}function vP(n,e,t){return function upe(n,e,t,r){const i=Un(e,t),s=ud(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?op(Pc(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function K3(n,e){return Y3(Un(n.treePath,e),n.writeTree)}function Y3(n,e){return{treePath:n,writeTree:e}}class mpe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,A.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,A.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,z_(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,H_(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,rp(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,A.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,z_(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Z3=new class gpe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class bP{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Mc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vP(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cd(this.viewCache_),s=function ppe(n,e,t,r,i,s){return function hpe(n,e,t,r,i,s,o){let a;const l=Pc(n.visibleWrites,e),c=ud(l,$t());if(null!=c)a=c;else{if(null==t)return[];a=op(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const d=[],f=o.getCompare(),g=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let _=g.getNext();for(;_&&d.length<i;)0!==f(_,r)&&d.push(_),_=g.getNext();return d}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function Q3(n,e,t,r,i,s){const o=e.eventCache;if(null!=F0(r,t))return e;{let a,l;if(yt(t))if((0,A.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=cd(e),f=yP(r,c instanceof at?c:at.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=N0(r,cd(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=_t(t);if(".priority"===c){(0,A.hu)(1===Rc(t),"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=q3(r,t,d,l);a=null!=f?n.filter.updatePriority(d,f):o.getNode()}else{const d=dn(t);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const g=q3(r,t,o.getNode(),l);f=null!=g?o.getNode().getImmediateChild(c).updateChild(d,g):o.getNode().getImmediateChild(c)}else f=vP(r,c,e.serverCache);a=null!=f?n.filter.updateChild(o.getNode(),c,f,d,i,s):o.getNode()}}return q_(e,a,o.isFullyInitialized()||yt(t),n.filter.filtersNodes())}}function L0(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const d=o?n.filter:n.filter.getIndexedFilter();if(yt(t))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(t,r);c=d.updateFullNode(l.getNode(),_,null)}else{const _=_t(t);if(!l.isCompleteForPath(t)&&Rc(t)>1)return e;const v=dn(t),T=l.getNode().getImmediateChild(_).updateChild(v,r);c=".priority"===_?d.updatePriority(l.getNode(),T):d.updateChild(l.getNode(),_,T,v,Z3,null)}const f=j3(e,c,l.isFullyInitialized()||yt(t),d.filtersNodes());return Q3(n,f,t,i,new bP(i,f,s),a)}function EP(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const d=new bP(i,e,s);if(yt(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=q_(e,c,!0,n.filter.filtersNodes());else{const f=_t(t);if(".priority"===f)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=q_(e,c,a.isFullyInitialized(),a.isFiltered());else{const g=dn(t),_=a.getNode().getImmediateChild(f);let v;if(yt(g))v=r;else{const w=d.getCompleteChild(f);v=null!=w?".priority"===XM(g)&&w.getChild(A3(g)).isEmpty()?w:w.updateChild(g,r):at.EMPTY_NODE}l=_.equals(v)?e:q_(e,n.filter.updateChild(a.getNode(),f,v,g,d,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function X3(n,e){return n.eventCache.isCompleteForChild(e)}function J3(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function wP(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=yt(t)?r:new wn(null).setTree(t,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,g)=>{if(d.hasChild(f)){const v=J3(0,e.serverCache.getNode().getImmediateChild(f),g);l=L0(n,l,new Yt(f),v,i,s,o,a)}}),c.children.inorderTraversal((f,g)=>{const _=!e.serverCache.isCompleteForChild(f)&&null===g.value;if(!d.hasChild(f)&&!_){const w=J3(0,e.serverCache.getNode().getImmediateChild(f),g);l=L0(n,l,new Yt(f),w,i,s,o,a)}}),l}class Tpe{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new oP(r.getIndex()),s=function Bfe(n){return n.loadsAllData()?new oP(n.getIndex()):n.hasLimit()?new Vfe(n):new $_(n)}(r);this.processor_=function _pe(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(at.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(at.EMPTY_NODE,a.getNode(),null),d=new Mc(l,o.isFullyInitialized(),i.filtersNodes()),f=new Mc(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=P0(f,d),this.eventGenerator_=new Zfe(this.query_)}get query(){return this.query_}}function Dpe(n,e){const t=cd(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!yt(e)&&!t.getImmediateChild(_t(e)).isEmpty())?t.getChild(e):null}function eG(n){return 0===n.eventRegistrations_.length}function tG(n,e,t){const r=[];if(t){(0,A.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function nG(n,e,t,r){e.type===lo.MERGE&&null!==e.source.queryId&&((0,A.hu)(cd(n.viewCache_),"We should always have a full cache before handling merges"),(0,A.hu)(k0(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function vpe(n,e,t,r,i){const s=new mpe;let o,a;if(t.type===lo.OVERWRITE){const c=t;c.source.fromUser?o=EP(n,e,c.path,c.snap,r,i,s):((0,A.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!yt(c.path),o=L0(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===lo.MERGE){const c=t;c.source.fromUser?o=function Epe(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=Un(t,l);X3(e,_t(d))&&(a=EP(n,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Un(t,l);X3(e,_t(d))||(a=EP(n,a,d,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):((0,A.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=wP(n,e,c.path,c.children,r,i,a,s))}else if(t.type===lo.ACK_USER_WRITE){const c=t;o=c.revert?function Cpe(n,e,t,r,i,s){let o;if(null!=F0(r,t))return e;{const a=new bP(r,e,i),l=e.eventCache.getNode();let c;if(yt(t)||".priority"===_t(t)){let d;if(e.serverCache.isFullyInitialized())d=N0(r,cd(e));else{const f=e.serverCache.getNode();(0,A.hu)(f instanceof at,"serverChildren would be complete if leaf node"),d=yP(r,f)}c=n.filter.updateFullNode(l,d,s)}else{const d=_t(t);let f=vP(r,d,e.serverCache);null==f&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),c=null!=f?n.filter.updateChild(l,d,f,dn(t),a,s):e.eventCache.getNode().hasChild(d)?n.filter.updateChild(l,d,at.EMPTY_NODE,dn(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=N0(r,cd(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=F0(r,$t()),q_(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function wpe(n,e,t,r,i,s,o){if(null!=F0(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(yt(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return L0(n,e,t,l.getNode().getChild(t),i,s,a,o);if(yt(t)){let c=new wn(null);return l.getNode().forEachChild(ga,(d,f)=>{c=c.set(new Yt(d),f)}),wP(n,e,t,c,i,s,a,o)}return e}{let c=new wn(null);return r.foreach((d,f)=>{const g=Un(t,d);l.isCompleteForPath(g)&&(c=c.set(d,l.getNode().getChild(g)))}),wP(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==lo.LISTEN_COMPLETE)throw(0,A.g5)("Unknown operation type: "+t.type);o=function Ipe(n,e,t,r,i){const s=e.serverCache;return Q3(n,j3(e,s.getNode(),s.isFullyInitialized()||yt(t),s.isFiltered()),t,r,Z3,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function bpe(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=k0(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(L3(k0(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function ype(n,e){(0,A.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,A.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,A.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,rG(n,s.changes,s.viewCache.eventCache.getNode(),null)}function rG(n,e,t,r){return function Qfe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Lfe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),G_(n,i,"child_removed",e,r,t),G_(n,i,"child_added",e,r,t),G_(n,i,"child_moved",s,r,t),G_(n,i,"child_changed",e,r,t),G_(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let V0,U0;class iG{constructor(){this.views=new Map}}function IP(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,A.hu)(null!=s,"SyncTree gave us an op for an invalid query."),nG(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(nG(o,e,t,r));return s}}function sG(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=N0(t,i?r:null),l=!1;a?l=!0:r instanceof at?(a=yP(t,r),l=!1):(a=at.EMPTY_NODE,l=!1);const c=P0(new Mc(a,l,!1),new Mc(r,i,!1));return new Tpe(e,c)}return o}function oG(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function kc(n,e){let t=null;for(const r of n.views.values())t=t||Dpe(r,e);return t}function aG(n,e){return e._queryParams.loadsAllData()?B0(n):n.views.get(e._queryIdentifier)}function lG(n,e){return null!=aG(n,e)}function Oc(n){return null!=B0(n)}function B0(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Vpe=1;class cG{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wn(null),this.pendingWriteTree_=function fpe(){return{visibleWrites:Po.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CP(n,e,t,r,i){return function tpe(n,e,t,r,i){(0,A.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=K_(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?ap(n,new ld({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Nc(n,e,t=!1){const r=function rpe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function ipe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);(0,A.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&spe(a,r.path)?i=!1:ao(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function ope(n){n.visibleWrites=W3(n.allWrites,ape,$t()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=H3(n.visibleWrites,r.path):Qr(r.children,l=>{n.visibleWrites=H3(n.visibleWrites,Un(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new wn(null);return null!=r.snap?s=s.set($t(),!0):Qr(r.children,o=>{s=s.set(new Yt(o),!0)}),ap(n,new M0(r.path,s,t))}return[]}function Y_(n,e,t){return ap(n,new ld({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function j0(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||lG(o,e))){const l=function Npe(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Oc(n);if("default"===i)for(const[l,c]of n.views.entries())o=o.concat(tG(c,t,r)),eG(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(tG(l,t,r)),eG(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Oc(n)&&s.push(new(function Ppe(){return(0,A.hu)(V0,"Reference.ts has not been loaded"),V0}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,r);(function kpe(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=-1!==c.findIndex(g=>g._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(s,(g,_)=>Oc(_));if(d&&!f){const g=n.syncPointTree_.subtree(s);if(!g.isEmpty()){const _=function Wpe(n){return n.fold((e,t,r)=>{if(t&&Oc(t))return[B0(t)];{let i=[];return t&&(i=oG(t)),Qr(r,(s,o)=>{i=i.concat(o)}),i}})}(g);for(let v=0;v<_.length;++v){const w=_[v],T=w.query,P=fG(n,w);n.listenProvider_.startListening(Q_(T),Z_(n,T),P.hashFn,P.onComplete)}}}!f&&c.length>0&&!r&&(d?n.listenProvider_.stopListening(Q_(e),null):c.forEach(g=>{const _=n.queryToTagMap.get(z0(g));n.listenProvider_.stopListening(Q_(g),_)}))}!function Gpe(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=z0(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,c)}return a}function uG(n,e,t,r){const i=SP(n,r);if(null!=i){const s=AP(i),o=s.path,a=s.queryId,l=Wi(o,e);return DP(n,o,new ld(fP(a),l,t))}return[]}function TP(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(g,_)=>{const v=Wi(g,i);s=s||kc(_,v),o=o||Oc(_)});let l,a=n.syncPointTree_.get(i);a?(o=o||Oc(a),s=s||kc(a,$t())):(a=new iG,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=s?l=!0:(l=!1,s=at.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((_,v)=>{const w=kc(v,$t());w&&(s=s.updateImmediateChild(_,w))}));const c=lG(a,e);if(!c&&!e._queryParams.loadsAllData()){const g=z0(e);(0,A.hu)(!n.queryToTagMap.has(g),"View does not exist, but we have a tag");const _=function qpe(){return Vpe++}();n.queryToTagMap.set(g,_),n.tagToQueryMap.set(_,g)}let f=function Ope(n,e,t,r,i,s){const o=sG(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function xpe(n,e){n.eventRegistrations_.push(e)}(o,t),function Rpe(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(En,(s,o)=>{r.push(rp(s,o))}),t.isFullyInitialized()&&r.push(L3(t.getNode())),rG(n,r,t.getNode(),e)}(o,t)}(a,e,t,O0(n.pendingWriteTree_,i),s,l);if(!c&&!o&&!r){const g=aG(a,e);f=f.concat(function Kpe(n,e,t){const r=e._path,i=Z_(n,e),s=fG(n,t),o=n.listenProvider_.startListening(Q_(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)(0,A.hu)(!Oc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!yt(c)&&d&&Oc(d))return[B0(d).query];{let g=[];return d&&(g=g.concat(oG(d).map(_=>_.query))),Qr(f,(_,v)=>{g=g.concat(v)}),g}});for(let c=0;c<l.length;++c){const d=l[c];n.listenProvider_.stopListening(Q_(d),Z_(n,d))}}return o}(n,e,g))}return f}function H0(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=kc(a,Wi(o,e));if(c)return c});return G3(i,e,s,t,!0)}function ap(n,e){return dG(e,n.syncPointTree_,null,O0(n.pendingWriteTree_,$t()))}function dG(n,e,t,r){if(yt(n.path))return hG(n,e,t,r);{const i=e.get($t());null==t&&null!=i&&(t=kc(i,$t()));let s=[];const o=_t(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,d=K3(r,o);s=s.concat(dG(a,l,c,d))}return i&&(s=s.concat(IP(i,n,r,t))),s}}function hG(n,e,t,r){const i=e.get($t());null==t&&null!=i&&(t=kc(i,$t()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=K3(r,o),d=n.operationForChild(o);d&&(s=s.concat(hG(d,a,l,c)))}),i&&(s=s.concat(IP(i,n,r,t))),s}function fG(n,e){const t=e.query,r=Z_(n,t);return{hashFn:()=>(function Spe(n){return n.viewCache_.serverCache.getNode()}(e)||at.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Hpe(n,e,t){const r=SP(n,t);if(r){const i=AP(r),s=i.path,o=i.queryId,a=Wi(s,e);return DP(n,s,new W_(fP(o),a))}return[]}(n,t._path,r):function jpe(n,e){return ap(n,new W_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Uhe(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return j0(n,t,null,s)}}}}function Z_(n,e){const t=z0(e);return n.queryToTagMap.get(t)}function z0(n){return n._path.toString()+"$"+n._queryIdentifier}function SP(n,e){return n.tagToQueryMap.get(e)}function AP(n){const e=n.indexOf("$");return(0,A.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Yt(n.substr(0,e))}}function DP(n,e,t){const r=n.syncPointTree_.get(e);return(0,A.hu)(r,"Missing sync point for query tag that we're tracking"),IP(r,t,O0(n.pendingWriteTree_,e),null)}function Q_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Lpe(){return(0,A.hu)(U0,"Reference.ts has not been loaded"),U0}())(n._repo,n._path):n}class xP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new xP(t)}node(){return this.node_}}class RP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Un(this.path_,e);return new RP(this.syncTree_,t)}node(){return H0(this.syncTree_,this.path_)}}const Ype=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},pG=function(n,e,t){return n&&"object"==typeof n?((0,A.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Zpe(n[".sv"],e,t):"object"==typeof n[".sv"]?Qpe(n[".sv"],e):void(0,A.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Zpe=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,A.hu)(!1,"Unexpected server value: "+n)},Qpe=function(n,e,t){n.hasOwnProperty("increment")||(0,A.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,A.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,A.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},mG=function(n,e,t,r){return PP(e,new RP(t,n),r)},MP=function(n,e,t){return PP(n,new xP(e),t)};function PP(n,e,t){const r=n.getPriority().val(),i=pG(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=pG(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new tp(a,qn(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new tp(i))),o.forEachChild(En,(a,l)=>{const c=PP(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class kP{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function $0(n,e){let t=e instanceof Yt?e:new Yt(e),r=n,i=_t(t);for(;null!==i;){const s=(0,A.DV)(r.node.children,i)||{children:{},childCount:0};r=new kP(i,r,s),t=dn(t),i=_t(t)}return r}function dd(n){return n.node.value}function OP(n,e){n.node.value=e,NP(n)}function gG(n){return n.node.childCount>0}function W0(n,e){Qr(n.node.children,(t,r)=>{e(new kP(t,n,r))})}function _G(n,e,t,r){t&&!r&&e(n),W0(n,i=>{_G(i,e,!0,r)}),t&&r&&e(n)}function X_(n){return new Yt(null===n.parent?n.name:X_(n.parent)+"/"+n.name)}function NP(n){null!==n.parent&&function eme(n,e,t){const r=function Xpe(n){return void 0===dd(n)&&!gG(n)}(t),i=(0,A.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,NP(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,NP(n))}(n.parent,n.name,n)}const tme=/[\[\].#$\/\u0000-\u001F\u007F]/,nme=/[\[\].#$\u0000-\u001F\u007F]/,FP=10485760,G0=function(n){return"string"==typeof n&&0!==n.length&&!tme.test(n)},yG=function(n){return"string"==typeof n&&0!==n.length&&!nme.test(n)},J_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!v0(n)||n&&"object"==typeof n&&(0,A.r3)(n,".sv")},_a=function(n,e,t,r){r&&void 0===e||ey((0,A.gK)(n,"value"),e,t)},ey=function(n,e,t){const r=t instanceof Yt?new vfe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+od(r));if("function"==typeof e)throw new Error(n+"contains a function "+od(r)+" with contents = "+e.toString());if(v0(e))throw new Error(n+"contains "+e.toString()+" "+od(r));if("string"==typeof e&&e.length>FP/3&&(0,A.ug)(e)>FP)throw new Error(n+"contains a string greater than "+FP+" utf8 bytes "+od(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Qr(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!G0(o)))throw new Error(n+" contains an invalid key ("+o+") "+od(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bfe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,A.ug)(e),D3(n)})(r,o),ey(n,a,r),function Efe(n){const e=n.parts_.pop();n.byteLength_-=(0,A.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+od(r)+" in addition to actual children.")}},vG=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,A.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Qr(e,(o,a)=>{const l=new Yt(o);if(ey(i,a,Un(t,l)),".priority"===XM(l)&&!J_(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=V_(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!G0(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(yfe);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&ao(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},LP=function(n,e,t){if(!t||void 0!==e){if(v0(e))throw new Error((0,A.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!J_(e))throw new Error((0,A.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ty=function(n,e,t,r){if(!(r&&void 0===t||G0(t)))throw new Error((0,A.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ny=function(n,e,t,r){if(!(r&&void 0===t||yG(t)))throw new Error((0,A.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sme=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ny(n,e,t,r)},co=function(n,e){if(".info"===_t(e))throw new Error(n+" failed = Can't modify data under /.info/")},bG=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!G0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yG(n)}(t))throw new Error((0,A.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ome{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function q0(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!JM(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function EG(n,e,t){q0(n,t),wG(n,r=>JM(r,e))}function ks(n,e,t){q0(n,t),wG(n,r=>ao(r,e)||ao(e,r))}function wG(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(ame(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function ame(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();id&&Zr("event: "+t.toString()),Jf(r)}}}const IG="repo_interrupt",lme=25;class cme{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ome,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=R0(),this.transactionQueueTree_=new kP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CG(n){const t=n.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ry(n){return Ype({timestamp:CG(n)})}function TG(n,e,t,r,i){n.dataUpdateCount++;const s=new Yt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=(0,A.UI)(t,c=>qn(c));o=function zpe(n,e,t,r){const i=SP(n,r);if(i){const s=AP(i),o=s.path,a=s.queryId,l=Wi(o,e),c=wn.fromObject(t);return DP(n,o,new sp(fP(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=qn(t);o=uG(n.serverSyncTree_,s,l,i)}else if(r){const l=(0,A.UI)(t,c=>qn(c));o=function Upe(n,e,t){const r=wn.fromObject(t);return ap(n,new sp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=qn(t);o=Y_(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=cp(n,s)),ks(n.eventQueue_,a,o)}function SG(n,e){VP(n,"connected",e),!1===e&&function pme(n){lp(n,"onDisconnectEvents");const e=ry(n),t=R0();uP(n.onDisconnect_,$t(),(i,s)=>{const o=mG(i,s,n.serverSyncTree_,e);ip(t,i,o)});let r=[];uP(t,$t(),(i,s)=>{r=r.concat(Y_(n.serverSyncTree_,i,s));const o=HP(n,i);cp(n,o)}),n.onDisconnect_=R0(),ks(n.eventQueue_,$t(),r)}(n)}function VP(n,e,t){const r=new Yt("/.info/"+e),i=qn(t);n.infoData_.updateSnapshot(r,i);const s=Y_(n.infoSyncTree_,r,i);ks(n.eventQueue_,r,s)}function K0(n){return n.nextWriteId_++}function BP(n,e,t,r,i){lp(n,"set",{path:e.toString(),value:t,priority:r});const s=ry(n),o=qn(t,r),a=H0(n.serverSyncTree_,e),l=MP(o,a,s),c=K0(n),d=CP(n.serverSyncTree_,e,l,c,!0);q0(n.eventQueue_,d),n.server_.put(e.toString(),o.val(!0),(g,_)=>{const v="ok"===g;v||Di("set at "+e+" failed: "+g);const w=Nc(n.serverSyncTree_,c,!v);ks(n.eventQueue_,e,w),Fc(0,i,g,_)});const f=HP(n,e);cp(n,f),ks(n.eventQueue_,f,[])}function mme(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&cP(n.onDisconnect_,e),Fc(0,t,r,i)})}function AG(n,e,t,r){const i=qn(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&ip(n.onDisconnect_,e,i),Fc(0,r,s,o)})}function UP(n,e,t){let r;r=".info"===_t(e._path)?j0(n.infoSyncTree_,e,t):j0(n.serverSyncTree_,e,t),EG(n.eventQueue_,e._path,r)}function DG(n){n.persistentConnection_&&n.persistentConnection_.interrupt(IG)}function lp(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Zr(t,...e)}function Fc(n,e,t,r){e&&Jf(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function jP(n,e,t){return H0(n.serverSyncTree_,e,t)||at.EMPTY_NODE}function Y0(n,e=n.transactionQueueTree_){if(e||Z0(n,e),dd(e)){const t=RG(n,e);(0,A.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Eme(n,e,t){const r=t.map(c=>c.currentWriteId),i=jP(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const d=t[c];(0,A.hu)(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Wi(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{lp(n,"transaction put response",{path:l.toString(),status:c});let d=[];if("ok"===c){const f=[];for(let g=0;g<t.length;g++)t[g].status=2,d=d.concat(Nc(n.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&f.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();Z0(n,$0(n.transactionQueueTree_,e)),Y0(n,n.transactionQueueTree_),ks(n.eventQueue_,e,d);for(let g=0;g<f.length;g++)Jf(f[g])}else{if("datastale"===c)for(let f=0;f<t.length;f++)t[f].status=3===t[f].status?4:0;else{Di("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=c}cp(n,e)}},o)}(n,X_(e),t)}else gG(e)&&W0(e,t=>{Y0(n,t)})}function cp(n,e){const t=xG(n,e),r=X_(t);return function wme(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Wi(t,l.path);let f,d=!1;if((0,A.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,f=l.abortReason,i=i.concat(Nc(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=lme)d=!0,f="maxretry",i=i.concat(Nc(n.serverSyncTree_,l.currentWriteId,!0));else{const g=jP(n,l.path,o);l.currentInputSnapshot=g;const _=e[a].update(g.val());if(void 0!==_){ey("transaction failed: Data returned ",_,l.path);let v=qn(_);"object"==typeof _&&null!=_&&(0,A.r3)(_,".priority")||(v=v.updatePriority(g.getPriority()));const T=l.currentWriteId,P=ry(n),N=MP(v,g,P);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=N,l.currentWriteId=K0(n),o.splice(o.indexOf(T),1),i=i.concat(CP(n.serverSyncTree_,l.path,N,l.currentWriteId,l.applyLocally)),i=i.concat(Nc(n.serverSyncTree_,T,!0))}else d=!0,f="nodata",i=i.concat(Nc(n.serverSyncTree_,l.currentWriteId,!0))}ks(n.eventQueue_,t,i),i=[],d&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}Z0(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Jf(r[a]);Y0(n,n.transactionQueueTree_)}(n,RG(n,t),r),r}function xG(n,e){let t,r=n.transactionQueueTree_;for(t=_t(e);null!==t&&void 0===dd(r);)r=$0(r,t),t=_t(e=dn(e));return r}function RG(n,e){const t=[];return MG(n,e,t),t.sort((r,i)=>r.order-i.order),t}function MG(n,e,t){const r=dd(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);W0(e,i=>{MG(n,i,t)})}function Z0(n,e){const t=dd(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,OP(e,t.length>0?t:void 0)}W0(e,r=>{Z0(n,r)})}function HP(n,e){const t=X_(xG(n,e)),r=$0(n.transactionQueueTree_,e);return function Jpe(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{zP(n,i)}),zP(n,r),_G(r,i=>{zP(n,i)}),t}function zP(n,e){const t=dd(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,A.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,A.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Nc(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?OP(e,void 0):t.length=s+1,ks(n.eventQueue_,X_(e),i);for(let o=0;o<r.length;o++)Jf(r[o])}}const $P=function(n,e){const t=Tme(n),r=t.namespace;return"firebase.com"===t.domain&&ma(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Di("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new GM(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Yt(t.pathString)}},Tme=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let d=n.indexOf("/");-1===d&&(d=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),e=n.substring(0,Math.min(d,f)),d<f&&(i=function Ime(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(d,f)));const g=function Cme(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Di(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,f)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if("localhost"===_.toLowerCase())t="localhost";else if(_.split(".").length<=2)t=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),t=e.substring(v+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},PG="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sme=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=PG.charAt(t%64),t=Math.floor(t/64);(0,A.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=PG.charAt(e[i]);return(0,A.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class kG{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,A.Wl)(this.snapshot.exportVal())}}class OG{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class WP{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,A.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class NG{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new A.BH;return mme(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){co("OnDisconnect.remove",this._path);const e=new A.BH;return AG(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){co("OnDisconnect.set",this._path),_a("OnDisconnect.set",e,this._path,!1);const t=new A.BH;return AG(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){co("OnDisconnect.setWithPriority",this._path),_a("OnDisconnect.setWithPriority",e,this._path,!1),LP("OnDisconnect.setWithPriority",t,!1);const r=new A.BH;return function gme(n,e,t,r,i){const s=qn(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{"ok"===o&&ip(n.onDisconnect_,e,s),Fc(0,i,o,a)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){co("OnDisconnect.update",this._path),vG("OnDisconnect.update",e,this._path,!1);const t=new A.BH;return function _me(n,e,t,r){if((0,A.xb)(t))return Zr("onDisconnect().update() called with empty data.  Don't do anything."),void Fc(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&Qr(t,(o,a)=>{const l=qn(a);ip(n.onDisconnect_,Un(e,o),l)}),Fc(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ds{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return yt(this._path)?null:XM(this._path)}get ref(){return new uo(this._repo,this._path)}get _queryIdentifier(){const e=B3(this._queryParams),t=$M(e);return"{}"===t?"default":t}get _queryObject(){return B3(this._queryParams)}isEqual(e){if(!((e=(0,A.m9)(e))instanceof ds))return!1;const t=this._repo===e._repo,r=JM(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _fe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Q0(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Lc(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ga){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Dc)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==ul)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===En){if(null!=e&&!J_(e)||null!=t&&!J_(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,A.hu)(n.getIndex()instanceof iP||n.getIndex()===sP,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function X0(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class uo extends ds{constructor(e,t){super(e,t,new A0,!1)}get parent(){const e=A3(this._path);return null===e?null:new uo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class hd{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Yt(e),r=fd(this.ref,e);return new hd(this._node.getChild(t),r,En)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new hd(i,fd(this.ref,r),En)))}hasChild(e){const t=new Yt(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function FG(n,e){return(n=(0,A.m9)(n))._checkNotDeleted("ref"),void 0!==e?fd(n._root,e):n._root}function LG(n,e){(n=(0,A.m9)(n))._checkNotDeleted("refFromURL");const t=$P(e,n._repo.repoInfo_.nodeAdmin);bG("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&ma("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),FG(n,t.path.toString())}function fd(n,e){return null===_t((n=(0,A.m9)(n))._path)?sme("child","path",e,!1):ny("child","path",e,!1),new uo(n._repo,Un(n._path,e))}function GP(n,e){n=(0,A.m9)(n),co("set",n._path),_a("set",e,n._path,!1);const t=new A.BH;return BP(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Mme(n,e){vG("update",e,n._path,!1);const t=new A.BH;return function fme(n,e,t,r){lp(n,"update",{path:e.toString(),value:t});let i=!0;const s=ry(n),o={};if(Qr(t,(a,l)=>{i=!1,o[a]=mG(Un(e,a),qn(l),n.serverSyncTree_,s)}),i)Zr("update() called with empty data.  Don't do anything."),Fc(0,r,"ok",void 0);else{const a=K0(n),l=function Bpe(n,e,t,r){!function npe(n,e,t,r){(0,A.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=mP(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=wn.fromObject(t);return ap(n,new sp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,o,a);q0(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,d)=>{const f="ok"===c;f||Di("update at "+e+" failed: "+c);const g=Nc(n.serverSyncTree_,a,!f),_=g.length>0?cp(n,e):e;ks(n.eventQueue_,_,g),Fc(0,r,c,d)}),Qr(t,c=>{const d=HP(n,Un(e,c));cp(n,d)}),ks(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Pme(n){n=(0,A.m9)(n);const e=new WP(()=>{}),t=new iy(e);return function hme(n,e,t){const r=function $pe(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(c,d)=>{const f=Wi(c,t);r=r||kc(d,f)});let i=n.syncPointTree_.get(t);i?r=r||kc(i,$t()):(i=new iG,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,o=s?new Mc(r,!0,!1):null;return function Ape(n){return k0(n.viewCache_)}(sG(i,e,O0(n.pendingWriteTree_,e._path),s?o.getNode():at.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=qn(i).withIndex(e._queryParams.getIndex());let o;if(TP(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())o=Y_(n.serverSyncTree_,e._path,s);else{const a=Z_(n.serverSyncTree_,e);o=uG(n.serverSyncTree_,e._path,s,a)}return ks(n.eventQueue_,e._path,o),j0(n.serverSyncTree_,e,t,null,!0),s},i=>(lp(n,"get for query "+(0,A.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new hd(r,new uo(n._repo,n._path),n._queryParams.getIndex()))}class iy{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new kG("value",this,new hd(e.snapshotNode,new uo(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new OG(this,e,t):null}matches(e){return e instanceof iy&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class J0{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new OG(this,e,t):null}createEvent(e,t){(0,A.hu)(null!=e.childName,"Child events should have a childName.");const r=fd(new uo(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new kG(e.type,this,new hd(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof J0&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function sy(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=t,c=(d,f)=>{UP(n._repo,n,a),l(d,f)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new WP(t,s||void 0),a="value"===e?new iy(o):new J0(e,o);return function yme(n,e,t){let r;r=".info"===_t(e._path)?TP(n.infoSyncTree_,e,t):TP(n.serverSyncTree_,e,t),EG(n.eventQueue_,e._path,r)}(n._repo,n,a),()=>UP(n._repo,n,a)}function qP(n,e,t,r){return sy(n,"value",e,t,r)}function VG(n,e,t,r){return sy(n,"child_added",e,t,r)}function BG(n,e,t,r){return sy(n,"child_changed",e,t,r)}function UG(n,e,t,r){return sy(n,"child_moved",e,t,r)}function jG(n,e,t,r){return sy(n,"child_removed",e,t,r)}function HG(n,e,t){let r=null;const i=t?new WP(t):null;"value"===e?r=new iy(i):e&&(r=new J0(e,i)),UP(n._repo,n,r)}class ko{}class zG extends ko{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_a("endAt",this._value,e._path,!0);const t=lP(e._queryParams,this._value,this._key);if(X0(t),Lc(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ds(e._repo,e._path,t,e._orderByCalled)}}class Ome extends ko{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_a("endBefore",this._value,e._path,!1);const t=function zfe(n,e,t){let r;return r=lP(n,e,n.index_===ga||t?t:Dc),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(X0(t),Lc(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ds(e._repo,e._path,t,e._orderByCalled)}}class $G extends ko{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_a("startAt",this._value,e._path,!0);const t=aP(e._queryParams,this._value,this._key);if(X0(t),Lc(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ds(e._repo,e._path,t,e._orderByCalled)}}class Lme extends ko{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_a("startAfter",this._value,e._path,!1);const t=function Hfe(n,e,t){let r;return r=aP(n,e,n.index_===ga||t?t:ul),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(X0(t),Lc(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ds(e._repo,e._path,t,e._orderByCalled)}}class Bme extends ko{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ds(e._repo,e._path,function Ufe(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class jme extends ko{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ds(e._repo,e._path,function jfe(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class zme extends ko{constructor(e){super(),this._path=e}_apply(e){Q0(e,"orderByChild");const t=new Yt(this._path);if(yt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new iP(t),i=D0(e._queryParams,r);return Lc(i),new ds(e._repo,e._path,i,!0)}}class Wme extends ko{_apply(e){Q0(e,"orderByKey");const t=D0(e._queryParams,ga);return Lc(t),new ds(e._repo,e._path,t,!0)}}class qme extends ko{_apply(e){Q0(e,"orderByPriority");const t=D0(e._queryParams,En);return Lc(t),new ds(e._repo,e._path,t,!0)}}class Yme extends ko{_apply(e){Q0(e,"orderByValue");const t=D0(e._queryParams,sP);return Lc(t),new ds(e._repo,e._path,t,!0)}}class Qme extends ko{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(_a("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zG(this._value,this._key)._apply(new $G(this._value,this._key)._apply(e))}}function Oo(n,...e){let t=(0,A.m9)(n);for(const r of e)t=r._apply(t);return t}(function Mpe(n){(0,A.hu)(!V0,"__referenceConstructor has already been defined"),V0=n})(uo),function Fpe(n){(0,A.hu)(!U0,"__referenceConstructor has already been defined"),U0=n}(uo);const Jme="FIREBASE_DATABASE_EMULATOR_HOST",KP={};let WG=!1;function YP(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=$P(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env[Jme]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=$P(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new L_(L_.OWNER):new Ghe(n.name,n.options,e);bG("Invalid Firebase Database URL",o),yt(o.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function nge(n,e,t,r){let i=KP[e.name];i||(i={},KP[e.name]=i);let s=i[n.toURLString()];return s&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new cme(n,WG,t,r),i[n.toURLString()]=s,s}(a,n,d,new Whe(n.name,t));return new ige(f,n)}class ige{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ume(n,e,t){if(n.stats_=YM(n.repoInfo_),n.forceRestClient_||$he())n.server_=new x0(n.repoInfo_,(r,i,s,o)=>{TG(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>SG(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,A.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ad(n.repoInfo_,e,(r,i,s,o)=>{TG(n,r,i,s,o)},r=>{SG(n,r)},r=>{!function dme(n,e){Qr(e,(t,r)=>{VP(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Yhe(n,e){const t=n.toString();return KM[t]||(KM[t]=e()),KM[t]}(n.repoInfo_,()=>new Yfe(n.stats_,n.server_)),n.infoData_=new $fe,n.infoSyncTree_=new cG({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=Y_(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),VP(n,"connected",!1),n.serverSyncTree_=new cG({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ks(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new uo(this._repo,$t())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tge(n,e){const t=KP[e];(!t||t[n.key]!==n)&&ma(`Database ${e}(${n.repoInfo_}) has already been deleted.`),DG(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ma("Cannot call "+e+" on a deleted database.")}}function GG(){m3.IS_TRANSPORT_INITIALIZED&&Di("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sge(){GG(),xc.forceDisallow()}function oge(){GG(),ep.forceDisallow(),xc.forceAllow()}function cge(n,e){K4(n,e)}const dge={".sv":"timestamp"};class pge{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ad.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},ad.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function uge(n){jM(Fr.SDK_VERSION),(0,Fr._registerComponent)(new tc.wA("database",(e,{instanceIdentifier:t})=>YP(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Fr.registerVersion)(H4,"1.0.1",n),(0,Fr.registerVersion)(H4,"1.0.1","esm2017")}();const yge=new io.Yd("@firebase/database-compat"),KG=function(n){yge.warn("FIREBASE WARNING: "+n)};class Ege{constructor(e){this._delegate=e}cancel(e){(0,A.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,A.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,A.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,A.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,A.Dv)("OnDisconnect.set",1,2,arguments.length),(0,A.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,A.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,A.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,A.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,KG("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,A.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class wge{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,A.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Vc{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,A.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,A.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,A.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,A.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,A.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),ny("DataSnapshot.child","path",e,!1),new Vc(this._database,this._delegate.child(e))}hasChild(e){return(0,A.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ny("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,A.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,A.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,A.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Vc(this._database,t)))}hasChildren(){return(0,A.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,A.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,A.Dv)("DataSnapshot.ref",0,0,arguments.length),new Os(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class hi{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,A.Dv)("Query.on",2,4,arguments.length),(0,A.Wj)("Query.on","callback",t,!1);const o=hi.getCancelAndContextArgs_("Query.on",r,i),a=(c,d)=>{t.call(o.context,new Vc(this.database,c),d)};a.userCallback=t,a.context=o.context;const l=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return qP(this._delegate,a,l),t;case"child_added":return VG(this._delegate,a,l),t;case"child_removed":return jG(this._delegate,a,l),t;case"child_changed":return BG(this._delegate,a,l),t;case"child_moved":return UG(this._delegate,a,l),t;default:throw new Error((0,A.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,A.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,A.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,A.Wj)("Query.off","callback",t,!0),(0,A.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,HG(this._delegate,e,i)}else HG(this._delegate,e)}get(){return Pme(this._delegate).then(e=>new Vc(this.database,e))}once(e,t,r,i){(0,A.Dv)("Query.once",1,4,arguments.length),(0,A.Wj)("Query.once","callback",t,!0);const s=hi.getCancelAndContextArgs_("Query.once",r,i),o=new A.BH,a=(c,d)=>{const f=new Vc(this.database,c);t&&t.call(s.context,f,d),o.resolve(f)};a.userCallback=t,a.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":qP(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":VG(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":jG(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":BG(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":UG(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,A.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,A.Dv)("Query.limitToFirst",1,1,arguments.length),new hi(this.database,Oo(this._delegate,function Ume(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bme(n)}(e)))}limitToLast(e){return(0,A.Dv)("Query.limitToLast",1,1,arguments.length),new hi(this.database,Oo(this._delegate,function Hme(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new jme(n)}(e)))}orderByChild(e){return(0,A.Dv)("Query.orderByChild",1,1,arguments.length),new hi(this.database,Oo(this._delegate,function $me(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ny("orderByChild","path",n,!1),new zme(n)}(e)))}orderByKey(){return(0,A.Dv)("Query.orderByKey",0,0,arguments.length),new hi(this.database,Oo(this._delegate,function Gme(){return new Wme}()))}orderByPriority(){return(0,A.Dv)("Query.orderByPriority",0,0,arguments.length),new hi(this.database,Oo(this._delegate,function Kme(){return new qme}()))}orderByValue(){return(0,A.Dv)("Query.orderByValue",0,0,arguments.length),new hi(this.database,Oo(this._delegate,function Zme(){return new Yme}()))}startAt(e=null,t){return(0,A.Dv)("Query.startAt",0,2,arguments.length),new hi(this.database,Oo(this._delegate,function Fme(n=null,e){return ty("startAt","key",e,!0),new $G(n,e)}(e,t)))}startAfter(e=null,t){return(0,A.Dv)("Query.startAfter",0,2,arguments.length),new hi(this.database,Oo(this._delegate,function Vme(n,e){return ty("startAfter","key",e,!0),new Lme(n,e)}(e,t)))}endAt(e=null,t){return(0,A.Dv)("Query.endAt",0,2,arguments.length),new hi(this.database,Oo(this._delegate,function kme(n,e){return ty("endAt","key",e,!0),new zG(n,e)}(e,t)))}endBefore(e=null,t){return(0,A.Dv)("Query.endBefore",0,2,arguments.length),new hi(this.database,Oo(this._delegate,function Nme(n,e){return ty("endBefore","key",e,!0),new Ome(n,e)}(e,t)))}equalTo(e,t){return(0,A.Dv)("Query.equalTo",1,2,arguments.length),new hi(this.database,Oo(this._delegate,function Xme(n,e){return ty("equalTo","key",e,!0),new Qme(n,e)}(e,t)))}toString(){return(0,A.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,A.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,A.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof hi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,A.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,A.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,A.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Os(this.database,new uo(this._delegate._repo,this._delegate._path))}}class Os extends hi{constructor(e,t){super(e,new ds(t._repo,t._path,new A0,!1)),this.database=e,this._delegate=t}getKey(){return(0,A.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,A.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Os(this.database,fd(this._delegate,e))}getParent(){(0,A.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Os(this.database,e):null}getRoot(){return(0,A.Dv)("Reference.root",0,0,arguments.length),new Os(this.database,this._delegate.root)}set(e,t){(0,A.Dv)("Reference.set",1,2,arguments.length),(0,A.Wj)("Reference.set","onComplete",t,!0);const r=GP(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,A.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,KG("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}co("Reference.update",this._delegate._path),(0,A.Wj)("Reference.update","onComplete",t,!0);const r=Mme(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,A.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,A.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Rme(n,e,t){if(co("setWithPriority",n._path),_a("setWithPriority",e,n._path,!1),LP("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new A.BH;return BP(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,A.Dv)("Reference.remove",0,1,arguments.length),(0,A.Wj)("Reference.remove","onComplete",e,!0);const t=function Dme(n){return co("remove",n._path),GP(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,A.Dv)("Reference.transaction",1,3,arguments.length),(0,A.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,A.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,A.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function mge(n,e,t){var r;if(n=(0,A.m9)(n),co("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,s=new A.BH,a=qP(n,()=>{});return function bme(n,e,t,r,i,s){lp(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:W4(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=jP(n,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ey("transaction failed: Data returned ",l,o.path),o.status=0;const c=$0(n.transactionQueueTree_,e),d=dd(c)||[];let f;d.push(o),OP(c,d),"object"==typeof l&&null!==l&&(0,A.r3)(l,".priority")?(f=(0,A.DV)(l,".priority"),(0,A.hu)(J_(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(H0(n.serverSyncTree_,e)||at.EMPTY_NODE).getPriority().val();const g=ry(n),_=qn(l,f),v=MP(_,a,g);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=v,o.currentWriteId=K0(n);const w=CP(n.serverSyncTree_,e,v,o.currentWriteId,o.applyLocally);ks(n.eventQueue_,e,w),Y0(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(l,c,d)=>{let f=null;l?s.reject(l):(f=new hd(d,new uo(n._repo,n._path),En),s.resolve(new pge(c,f)))},a,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new wge(s.committed,new Vc(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,A.Dv)("Reference.setPriority",1,2,arguments.length),(0,A.Wj)("Reference.setPriority","onComplete",t,!0);const r=function xme(n,e){n=(0,A.m9)(n),co("setPriority",n._path),LP("setPriority",e,!1);const t=new A.BH;return BP(n._repo,Un(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,A.Dv)("Reference.push",0,2,arguments.length),(0,A.Wj)("Reference.push","onComplete",t,!0);const r=function Ame(n,e){n=(0,A.m9)(n),co("push",n._path),_a("push",e,n._path,!0);const t=CG(n._repo),r=Sme(t),i=fd(n,r),s=fd(n,r);let o;return o=null!=e?GP(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new Os(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new Os(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return co("Reference.onDisconnect",this._delegate._path),new Ege(new NG(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class oy{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sge,forceLongPolling:oge}}useEmulator(e,t,r={}){!function qG(n,e,t,r={}){(n=(0,A.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ma("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ma('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new L_(L_.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,A.Sg)(r.mockUserToken,n.app.options.projectId);s=new L_(o)}!function ege(n,e,t,r){n.repoInfo_=new GM(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,A.Dv)("database.ref",0,1,arguments.length),e instanceof Os){const t=LG(this._delegate,e.toString());return new Os(this,t)}{const t=FG(this._delegate,e);return new Os(this,t)}}refFromURL(e){(0,A.Dv)("database.refFromURL",1,1,arguments.length);const r=LG(this._delegate,e);return new Os(this,r)}goOffline(){return(0,A.Dv)("database.goOffline",0,0,arguments.length),function age(n){(n=(0,A.m9)(n))._checkNotDeleted("goOffline"),DG(n._repo)}(this._delegate)}goOnline(){return(0,A.Dv)("database.goOnline",0,0,arguments.length),function lge(n){(n=(0,A.m9)(n))._checkNotDeleted("goOnline"),function vme(n){n.persistentConnection_&&n.persistentConnection_.resume(IG)}(n._repo)}(this._delegate)}}oy.ServerValue={TIMESTAMP:function hge(){return dge}(),increment:n=>function fge(n){return{".sv":{increment:n}}}(n)};var Cge=Object.freeze({__proto__:null,initStandalone:function Ige({app:n,url:e,version:t,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){jM(t);const a=new tc.H0("database-standalone"),l=new tc.zt("auth-internal",a);let c;return l.setComponent(new tc.wA("auth-internal",()=>r,"PRIVATE")),i&&(c=new tc.zt("app-check-internal",a),c.setComponent(new tc.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new oy(YP(n,l,c,e,o),n),namespace:s}}});const Tge=oy.ServerValue;function ay(n,e,t="on",r=Gh){return new He(i=>{let s=null;return s=n[t](e,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),"once"===t&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe(ce(i=>{const{snapshot:s,prevKey:o}=i;let a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),b())}function YG(n){return null==n}function ZG(n){return"function"==typeof n.set}function QG(n,e){return ZG(e)?e:n.ref(e)}function XG(n,e){if(function Age(n){return"string"==typeof n}(n))return e.stringCase();if(ZG(n))return e.firebaseCase();if(function Dge(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function JG(n){return(YG(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function eq(n,e,t){return C(...(e=JG(e)).map(i=>ay(n,i,"on",t)))}function tq(n,e){return function(r,i){return XG(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function Pge(n){return function(t){return t?XG(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function nq(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function Nge(n,e){const{payload:t,prevKey:r,key:i}=e,s=nq(n,i),o=function Oge(n,e){if(YG(e))return 0;{const t=nq(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{const c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==r&&(n=n.filter(l=>l.payload.key!==t.key)).splice(o,0,e);else{if(null==r)return[e,...n];(n=n.slice()).splice(o,0,e)}return n;case"child_removed":return n.filter(a=>a.payload.key!==t.key);case"child_changed":return n.map(a=>a.payload.key===i?e:a);case"child_moved":if(s>-1){const a=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,a),n}return n;default:return n}}function rq(n,e,t){return function kge(n,e,t){return ay(n,"value","once",t).pipe(Dn(r=>{const i=[Te(r)];return e.forEach(s=>i.push(ay(n,s,"on",t))),C(...i).pipe(Ab(Nge,[]))}),o$())}(n,e=JG(e),t)}function iq(n,e){return function(){return ay(n,"value","on",e)}}!function Sge(n){n.INTERNAL.registerComponent(new tc.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new oy(i,r)},"PUBLIC").setServiceProps({Reference:Os,Query:hi,Database:oy,DataSnapshot:Vc,enableLogging:cge,INTERNAL:Cge,ServerValue:Tge}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(P_.Z);const Vge=new ae("angularfire2.realtimeDatabaseURL"),Bge=new ae("angularfire2.database.use-emulator");let Uge=(()=>{class n{schedulers;database;constructor(t,r,i,s,o,a,l,c,d,f,g,_,v,w,T){this.schedulers=a;const P=l,N=BM(t,o,r);c&&U4(N,o,d,g,_,v,f,w),this.database=R4(`${N.name}.database.${i}`,"AngularFireDatabase",N.name,()=>{const R=o.runOutsideAngular(()=>N.database(i||void 0));return P&&R.useEmulator(...P),R},[P])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>QG(this.database,t));let s=i;return r&&(s=r(i)),function Fge(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:tq(r,"update"),set:tq(r,"set"),push:i=>r.push(i),remove:Pge(r),snapshotChanges:i=>rq(n,i,t).pipe(ec),stateChanges:i=>eq(n,i,t).pipe(ec),auditTrail:i=>function xge(n,e,t){return function Mge(n,e,t){return function Rge(n,e){return ay(n,"value","on",e).pipe(ce(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function Mhe(...n){const e=Ki(n);return Z((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)ut(n[l]).subscribe(he(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Pn))&&(o=null))},De));t.subscribe(he(r,l=>{if(a){const c=[l,...s];r.next(e?e(...c):c)}}))})}(e),ce(([i,s])=>{const o=i.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function Phe(n){return Z((e,t)=>{let r=!1,i=0;e.subscribe(he(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),ce(i=>i.actions))}(n,eq(n,e).pipe(Ab((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(ec),valueChanges:(i,s)=>rq(n,i,t).pipe(ce(a=>a.map(l=>s&&s.idField?{...l.payload.val(),[s.idField]:l.key}:l.payload.val())),ec)}}(s,this)}object(t){return function Lge(n,e){return{query:n,snapshotChanges:()=>iq(n,e.schedulers.outsideAngular)().pipe(ec),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>iq(n,e.schedulers.outsideAngular)().pipe(ec,ce(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>QG(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||n)(U(LM),U(VM,8),U(Vge,8),U(Hl),U(qe),U(_E),U(Bge,8),U(j4,8),U(O4,8),U(N4,8),U(F4,8),U(L4,8),U(V4,8),U(B4,8),U(BA,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),jge=(()=>{class n{constructor(){P_.Z.registerVersion("angularfire",gE.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ot({type:n});static \u0275inj=qt({providers:[Uge]})}return n})();const Bc=new He(De),zge={connector:()=>new B};function sq(n,e=zge){const{connector:t}=e;return Z((r,i)=>{const s=t();ut(n(function Hge(n){return new He(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}const ly="Service workers are disabled or not supported by this browser";class eI{constructor(e){if(this.serviceWorker=e,e){const r=Yf(e,"controllerchange").pipe(ce(()=>e.controller)),s=Rh(Tb(()=>Te(e.controller)),r);this.worker=s.pipe(Ln(d=>!!d)),this.registration=this.worker.pipe(Dn(()=>e.getRegistration()));const c=Yf(e,"message").pipe(ce(d=>d.data)).pipe(Ln(d=>d&&d.type)).pipe(function Wge(n){return n?e=>sq(n)(e):e=>function $ge(n,e){const t=S(n)?n:()=>n;return S(e)?sq(e,{connector:t}):r=>new BS(r,t)}(new B)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function Gge(n){return Tb(()=>bu(new Error(n)))}(ly)}postMessage(e,t){return this.worker.pipe(Ar(1),Wn(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Ln(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ar(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ln(t=>t.nonce===e),Ar(1),ce(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let qge=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new B,!t.isEnabled)return this.messages=Bc,this.notificationClicks=Bc,void(this.subscription=Bc);this.messages=this.sw.eventsOfType("PUSH").pipe(ce(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ce(i=>i.data)),this.pushManager=this.sw.registration.pipe(ce(i=>i.pushManager));const r=this.pushManager.pipe(Dn(i=>i.getSubscription()));this.subscription=C(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ly));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Dn(o=>o.subscribe(r)),Ar(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ar(1),Dn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ly))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(U(eI))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})(),Kge=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Bc,this.available=Bc,this.activated=Bc,void(this.unrecoverable=Bc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Ln(r=>"VERSION_READY"===r.type),ce(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ly));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ly));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(U(eI))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();class ZP{}const oq=new ae("NGSW_REGISTER_SCRIPT");function Yge(n,e,t,r){return()=>{if(!SS(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[o,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=Te(null);break;case"registerWithDelay":i=aq(+a[0]||0);break;case"registerWhenStable":i=a[0]?C(lq(n),aq(+a[0])):lq(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(qe).runOutsideAngular(()=>i.pipe(Ar(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function aq(n){return Te(null).pipe(lM(n))}function lq(n){return n.get(qa).isStable.pipe(Ln(t=>t))}function Zge(n,e){return new eI(SS(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Qge=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:oq,useValue:t},{provide:ZP,useValue:r},{provide:eI,useFactory:Zge,deps:[ZP,Hl]},{provide:Cm,useFactory:Yge,deps:[zr,oq,ZP,Hl],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({providers:[qge,Kge]}),n})();const cq_firebase={apiKey:"AIzaSyDaaL_8chTmePICe53lXAROU_M9szUPIog",authDomain:"fy-nances.firebaseapp.com",databaseURL:"https://fy-nances-default-rtdb.europe-west1.firebasedatabase.app",projectId:"fy-nances",storageBucket:"fy-nances.appspot.com",messagingSenderId:"617745917017",appId:"1:617745917017:web:d0ac0d543e6a8f4d88bd48",measurementId:"G-Z4RD1EELNN"};function uq(n){return new D(3e3,!1)}function P_e(){return typeof window<"u"&&typeof window.document<"u"}function QP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Uc(n){switch(n.length){case 0:return new w_;case 1:return n[0];default:return new Q$(n)}}function dq(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(d=>{const f=d.get("offset"),g=f==l,_=g&&c||new Map;d.forEach((v,w)=>{let T=w,P=v;if("offset"!==w)switch(T=e.normalizePropertyName(T,o),P){case dM:P=i.get(w);break;case cl:P=s.get(w);break;default:P=e.normalizeStyleValue(w,T,P,o)}_.set(T,P)}),g||a.push(_),c=_,l=f}),o.length)throw function b_e(n){return new D(3502,!1)}();return a}function XP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&JP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&JP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&JP(t,"destroy",n)))}}function JP(n,e,t){const s=ek(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function ek(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ns(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function hq(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let tk=(n,e)=>!1,fq=(n,e,t)=>[],pq=null;function nk(n){const e=n.parentNode||n.host;return e===pq?null:e}(QP()||typeof Element<"u")&&(P_e()?(pq=(()=>document.documentElement)(),tk=(n,e)=>{for(;e;){if(e===n)return!0;e=nk(e)}return!1}):tk=(n,e)=>n.contains(e),fq=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let pd=null,mq=!1;const gq=tk,_q=fq;let yq=(()=>{class n{validateStyleProperty(t){return function O_e(n){pd||(pd=function N_e(){return typeof document<"u"?document.body:null}()||{},mq=!!pd.style&&"WebkitAppearance"in pd.style);let e=!0;return pd.style&&!function k_e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in pd.style,!e&&mq&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in pd.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return gq(t,r)}getParentElement(t){return nk(t)}query(t,r,i){return _q(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new w_(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})(),rk=(()=>{class n{}return n.NOOP=new yq,n})();const F_e=1e3,ik="ng-enter",tI="ng-leave",nI="ng-trigger",rI=".ng-trigger",bq="ng-animating",sk=".ng-animating";function hl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ok(parseFloat(e[1]),e[2])}function ok(n,e){return"s"===e?n*F_e:n}function iI(n,e,t){return n.hasOwnProperty("duration")?n:function V_e(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(uq()),{duration:0,delay:0,easing:""};i=ok(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=ok(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Xge(){return new D(3100,!1)}()),a=!0),s<0&&(e.push(function Jge(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,uq())}return{duration:i,delay:s,easing:o}}(n,e,t)}function cy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Eq(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function jc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Iq(n,e,t){return t?e+":"+t+";":""}function Cq(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Iq(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Iq(0,H_e(t),n.style[t]));n.setAttribute("style",e)}function ya(n,e,t){n.style&&(e.forEach((r,i)=>{const s=lk(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),QP()&&Cq(n))}function md(n,e){n.style&&(e.forEach((t,r)=>{const i=lk(r);n.style[i]=""}),QP()&&Cq(n))}function uy(n){return Array.isArray(n)?1==n.length?n[0]:Y$(n):n}const ak=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tq(n){let e=[];if("string"==typeof n){let t;for(;t=ak.exec(n);)e.push(t[1]);ak.lastIndex=0}return e}function dy(n,e,t){const r=n.toString(),i=r.replace(ak,(s,o)=>{let a=e[o];return null==a&&(t.push(function t_e(n){return new D(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function sI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const j_e=/-+([a-z0-9])/g;function lk(n){return n.replace(j_e,(...e)=>e[1].toUpperCase())}function H_e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function n_e(n){return new D(3004,!1)}()}}function Sq(n,e){return window.getComputedStyle(n)[e]}const lI="*";function K_e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Y_e(n,e,t){if(":"==n[0]){const l=function Z_e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function g_e(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function m_e(n){return new D(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(Aq(i,o));"<"==s[0]&&!(i==lI&&o==lI)&&e.push(Aq(o,i))}(r,t,e)):t.push(n),t}const cI=new Set(["true","1"]),uI=new Set(["false","0"]);function Aq(n,e){const t=cI.has(n)||uI.has(n),r=cI.has(e)||uI.has(e);return(i,s)=>{let o=n==lI||n==i,a=e==lI||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?cI.has(n):uI.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?cI.has(e):uI.has(e)),o&&a}}const Q_e=new RegExp("s*:selfs*,?","g");function ck(n,e,t,r){return new X_e(n).build(e,t,r)}class X_e{constructor(e){this._driver=e}build(e,t,r){const i=new tye(t);return this._resetContextStyleTimingState(i),Fs(this,uy(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function i_e(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function s_e(){return new D(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Tq(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(sI(s.values()),t.errors.push(function o_e(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Fs(this,uy(e.animation),t);return{type:1,matchers:K_e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:gd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Fs(this,r,t)),options:gd(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Fs(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:gd(e.options)}}visitAnimate(e,t){const r=function rye(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return uk(iI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=uk(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=iI(t,e);return uk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:pa({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=pa(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===cl?r.push(a):t.errors.push(new D(3002,!1)):r.push(Eq(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l);let f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(t.errors.push(function l_e(n,e,t,r,i){return new D(3010,!1)}()),f=!1),s=d.startTime),f&&c.set(l,{startTime:s,endTime:i}),t.options&&function U_e(n,e,t){const r=e.params||{},i=Tq(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function e_e(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function c_e(){return new D(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const d=e.steps.map(P=>{const N=this._makeStyleAst(P,t);let R=null!=N.offset?N.offset:function nye(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(N.styles),j=0;return null!=R&&(s++,j=N.offset=R),l=l||j<0||j>1,a=a||j<c,c=j,o.push(j),N});l&&t.errors.push(function u_e(){return new D(3012,!1)}()),a&&t.errors.push(function d_e(){return new D(3200,!1)}());const f=e.steps.length;let g=0;s>0&&s<f?t.errors.push(function h_e(){return new D(3202,!1)}()):0==s&&(g=1/(f-1));const _=f-1,v=t.currentTime,w=t.currentAnimateTimings,T=w.duration;return d.forEach((P,N)=>{const R=g>0?N==_?1:g*N:o[N],j=R*T;t.currentTime=v+w.delay+j,w.duration=j,this._validateStyleAst(P,t),P.offset=R,r.styles.push(P)}),r}visitReference(e,t){return{type:8,animation:Fs(this,uy(e.animation),t),options:gd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:gd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:gd(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function J_e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Q_e,"")),n=n.replace(/@\*/g,rI).replace(/@\w+/g,t=>rI+"-"+t.slice(1)).replace(/:animating/g,sk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ns(t.collectedStyles,t.currentQuerySelector,new Map);const a=Fs(this,uy(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:gd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function f_e(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:iI(e.timings,t.errors,!0);return{type:12,animation:Fs(this,uy(e.animation),t),timings:r,options:null}}}class tye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gd(n){return n?(n=cy(n)).params&&(n.params=function eye(n){return n?cy(n):null}(n.params)):n={},n}function uk(n,e,t){return{duration:n,delay:e,easing:t}}function dk(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class dI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oye=new RegExp(":enter","g"),lye=new RegExp(":leave","g");function hk(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new cye).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class cye{buildKeyframes(e,t,r,i,s,o,a,l,c,d=[]){c=c||new dI;const f=new fk(e,t,c,i,s,d,[]);f.options=l;const g=l.delay?hl(l.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([o],null,f.errors,l),Fs(this,r,f);const _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let w=_.length-1;w>=0;w--){const T=_[w];if(T.element===t){v=T;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[dk(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:hl(dy(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?hl(r.duration):null,a=null!=r.delay?hl(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Fs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hI);const o=hl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Fs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?hl(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Fs(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return iI(t.params?dy(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?hl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hI);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;const f=t.createSubContext(e.options,c);s&&f.delayNextStep(s),c===t.element&&(l=f.currentTimeline),Fs(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const d=t.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;Fs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}}const hI={};class fk{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new fI(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=hl(r.duration)),null!=r.delay&&(i.delay=hl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=dy(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new fk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=hI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new uye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(oye,"."+this._enterClassName)).replace(lye,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function p_e(n){return new D(3014,!1)}()),a}}class fI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||cl),this._currentKeyframe.set(t,cl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function dye(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,cl)}else jc(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=dy(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??cl),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=jc(a,new Map,this._backFill);c.forEach((d,f)=>{d===dM?e.add(f):d===cl&&t.add(f)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?sI(e.values()):[],o=t.size?sI(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return dk(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class uye extends fI{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=jc(e[0]);l.set("offset",0),s.push(l);const c=jc(e[0]);c.set("offset",Rq(a)),s.push(c);const d=e.length-1;for(let f=1;f<=d;f++){let g=jc(e[f]);const _=g.get("offset");g.set("offset",Rq((t+_*r)/o)),s.push(g)}r=o,t=0,i="",e=s}return dk(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Rq(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class pk{}const hye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fye extends pk{normalizePropertyName(e,t){return lk(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(hye.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function r_e(n,e){return new D(3005,!1)}())}return o+s}}function Mq(n,e,t,r,i,s,o,a,l,c,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:g}}const mk={};class Pq{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function pye(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,d){const f=[],g=this.ast.options&&this.ast.options.params||mk,v=this.buildStyles(r,a&&a.params||mk,f),w=l&&l.params||mk,T=this.buildStyles(i,w,f),P=new Set,N=new Map,R=new Map,j="void"===i,le={params:mye(w,g),delay:this.ast.options?.delay},ue=d?[]:hk(e,t,this.ast.animation,s,o,v,T,le,c,f);let Fe=0;if(ue.forEach(Zt=>{Fe=Math.max(Zt.duration+Zt.delay,Fe)}),f.length)return Mq(t,this._triggerName,r,i,j,v,T,[],[],N,R,Fe,f);ue.forEach(Zt=>{const Wt=Zt.element,Br=Ns(N,Wt,new Set);Zt.preStyleProps.forEach(Kn=>Br.add(Kn));const fi=Ns(R,Wt,new Set);Zt.postStyleProps.forEach(Kn=>fi.add(Kn)),Wt!==t&&P.add(Wt)});const It=sI(P.values());return Mq(t,this._triggerName,r,i,j,v,T,ue,It,N,R,Fe)}}function mye(n,e){const t=cy(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class gye{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=cy(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=dy(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class yye{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new gye(i.style,i.options&&i.options.params||{},r))}),kq(this.states,"true","1"),kq(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Pq(e,i,this.states))}),this.fallbackTransition=function vye(n,e,t){return new Pq(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function kq(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const bye=new dI;class Eye{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=ck(this._driver,t,r,i);if(r.length)throw function E_e(n){return new D(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=dq(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=hk(this._driver,t,s,ik,tI,new Map,new Map,r,bye,i),o.forEach(d=>{const f=Ns(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(function w_e(){return new D(3300,!1)}()),o=[]),i.length)throw function I_e(n){return new D(3504,!1)}();a.forEach((d,f)=>{d.forEach((g,_)=>{d.set(_,this._driver.computeStyle(f,_,cl))})});const c=Uc(o.map(d=>{const f=a.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function C_e(n){return new D(3301,!1)}();return t}listen(e,t,r,i){const s=ek(t,"","","");return XP(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Oq="ng-animate-queued",gk="ng-animate-disabled",Sye=[],Nq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Aye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class _k{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Mye(n){return n??null}(r?e.value:e),r){const s=cy(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const hy="void",yk=new _k(hy);class Dye{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function T_e(n,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function S_e(n){return new D(3303,!1)}();if(!function Pye(n){return"start"==n||"done"==n}(r))throw function A_e(n,e){return new D(3400,!1)}();const s=Ns(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Ns(this._engine.statesByElement,e,new Map);return a.has(t)||(fo(e,nI),fo(e,nI+"-"+t),a.set(t,yk)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function D_e(n){return new D(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new vk(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(fo(e,nI),fo(e,nI+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new _k(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=yk),c.value!==hy&&l.value===c.value){if(!function Nye(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const w=[],T=s.matchStyles(l.value,l.params,w),P=s.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{md(e,T),ya(e,P)})}return}const g=Ns(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let _=s.matchTransition(l.value,c.value,e,c.params),v=!1;if(!_){if(!i)return;_=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:l,toState:c,player:o,isFallbackTransition:v}),v||(fo(e,Oq),o.onStart(()=>{up(e,Oq)})),o.onDone(()=>{let w=this.players.indexOf(o);w>=0&&this.players.splice(w,1);const T=this._engine.playersByElement.get(e);if(T){let P=T.indexOf(o);P>=0&&T.splice(P,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rI,!0);r.forEach(i=>{if(i[ho])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const d=this.trigger(e,c,hy,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Uc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||yk,d=new _k(hy),f=new vk(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ho];(!s||s===Nq)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=ek(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,XP(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class xye{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Dye(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(pI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!pI(t))return;const s=t[ho];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fo(e,gk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),up(e,gk))}removeNode(e,t,r,i){if(pI(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ho]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return pI(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,rI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,sk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Uc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ho];if(t&&t.setForRemoval){if(e[ho]=Nq,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(gk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Uc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function x_e(n){return new D(3402,!1)}()}_flushAnimations(e,t){const r=new dI,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(ge=>{d.add(ge);const xe=this.driver.query(ge,".ng-animate-queued",!0);for(let Ue=0;Ue<xe.length;Ue++)d.add(xe[Ue])});const f=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=Vq(g,this.collectedEnterElements),v=new Map;let w=0;_.forEach((ge,xe)=>{const Ue=ik+w++;v.set(xe,Ue),ge.forEach(ht=>fo(ht,Ue))});const T=[],P=new Set,N=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){const xe=this.collectedLeaveElements[ge],Ue=xe[ho];Ue&&Ue.setForRemoval&&(T.push(xe),P.add(xe),Ue.hasAnimation?this.driver.query(xe,".ng-star-inserted",!0).forEach(ht=>P.add(ht)):N.add(xe))}const R=new Map,j=Vq(g,Array.from(P));j.forEach((ge,xe)=>{const Ue=tI+w++;R.set(xe,Ue),ge.forEach(ht=>fo(ht,Ue))}),e.push(()=>{_.forEach((ge,xe)=>{const Ue=v.get(xe);ge.forEach(ht=>up(ht,Ue))}),j.forEach((ge,xe)=>{const Ue=R.get(xe);ge.forEach(ht=>up(ht,Ue))}),T.forEach(ge=>{this.processLeaveNode(ge)})});const le=[],ue=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(t).forEach(Ue=>{const ht=Ue.player,Yn=Ue.element;if(le.push(ht),this.collectedEnterElements.length){const gr=Yn[ho];if(gr&&gr.setForMove){if(gr.previousTriggersValues&&gr.previousTriggersValues.has(Ue.triggerName)){const Gi=gr.previousTriggersValues.get(Ue.triggerName),xi=this.statesByElement.get(Ue.element);if(xi&&xi.has(Ue.triggerName)){const dp=xi.get(Ue.triggerName);dp.value=Gi,xi.set(Ue.triggerName,dp)}}return void ht.destroy()}}const hs=!f||!this.driver.containsElement(f,Yn),Ur=R.get(Yn),Vs=v.get(Yn),Qt=this._buildInstruction(Ue,r,Vs,Ur,hs);if(Qt.errors&&Qt.errors.length)return void ue.push(Qt);if(hs)return ht.onStart(()=>md(Yn,Qt.fromStyles)),ht.onDestroy(()=>ya(Yn,Qt.toStyles)),void i.push(ht);if(Ue.isFallbackTransition)return ht.onStart(()=>md(Yn,Qt.fromStyles)),ht.onDestroy(()=>ya(Yn,Qt.toStyles)),void i.push(ht);const No=[];Qt.timelines.forEach(gr=>{gr.stretchStartingKeyframe=!0,this.disabledNodes.has(gr.element)||No.push(gr)}),Qt.timelines=No,r.append(Yn,Qt.timelines),o.push({instruction:Qt,player:ht,element:Yn}),Qt.queriedElements.forEach(gr=>Ns(a,gr,[]).push(ht)),Qt.preStyleProps.forEach((gr,Gi)=>{if(gr.size){let xi=l.get(Gi);xi||l.set(Gi,xi=new Set),gr.forEach((dp,yd)=>xi.add(yd))}}),Qt.postStyleProps.forEach((gr,Gi)=>{let xi=c.get(Gi);xi||c.set(Gi,xi=new Set),gr.forEach((dp,yd)=>xi.add(yd))})});if(ue.length){const ge=[];ue.forEach(xe=>{ge.push(function R_e(n,e){return new D(3505,!1)}())}),le.forEach(xe=>xe.destroy()),this.reportError(ge)}const Fe=new Map,It=new Map;o.forEach(ge=>{const xe=ge.element;r.has(xe)&&(It.set(xe,xe),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,Fe))}),i.forEach(ge=>{const xe=ge.element;this._getPreviousPlayers(xe,!1,ge.namespaceId,ge.triggerName,null).forEach(ht=>{Ns(Fe,xe,[]).push(ht),ht.destroy()})});const Zt=T.filter(ge=>Uq(ge,l,c)),Wt=new Map;Lq(Wt,this.driver,N,c,cl).forEach(ge=>{Uq(ge,l,c)&&Zt.push(ge)});const fi=new Map;_.forEach((ge,xe)=>{Lq(fi,this.driver,new Set(ge),l,dM)}),Zt.forEach(ge=>{const xe=Wt.get(ge),Ue=fi.get(ge);Wt.set(ge,new Map([...Array.from(xe?.entries()??[]),...Array.from(Ue?.entries()??[])]))});const Kn=[],va=[],ba={};o.forEach(ge=>{const{element:xe,player:Ue,instruction:ht}=ge;if(r.has(xe)){if(d.has(xe))return Ue.onDestroy(()=>ya(xe,ht.toStyles)),Ue.disabled=!0,Ue.overrideTotalTime(ht.totalTime),void i.push(Ue);let Yn=ba;if(It.size>1){let Ur=xe;const Vs=[];for(;Ur=Ur.parentNode;){const Qt=It.get(Ur);if(Qt){Yn=Qt;break}Vs.push(Ur)}Vs.forEach(Qt=>It.set(Qt,Yn))}const hs=this._buildAnimation(Ue.namespaceId,ht,Fe,s,fi,Wt);if(Ue.setRealPlayer(hs),Yn===ba)Kn.push(Ue);else{const Ur=this.playersByElement.get(Yn);Ur&&Ur.length&&(Ue.parentPlayer=Uc(Ur)),i.push(Ue)}}else md(xe,ht.fromStyles),Ue.onDestroy(()=>ya(xe,ht.toStyles)),va.push(Ue),d.has(xe)&&i.push(Ue)}),va.forEach(ge=>{const xe=s.get(ge.element);if(xe&&xe.length){const Ue=Uc(xe);ge.setRealPlayer(Ue)}}),i.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<T.length;ge++){const xe=T[ge],Ue=xe[ho];if(up(xe,tI),Ue&&Ue.hasAnimation)continue;let ht=[];if(a.size){let hs=a.get(xe);hs&&hs.length&&ht.push(...hs);let Ur=this.driver.query(xe,sk,!0);for(let Vs=0;Vs<Ur.length;Vs++){let Qt=a.get(Ur[Vs]);Qt&&Qt.length&&ht.push(...Qt)}}const Yn=ht.filter(hs=>!hs.destroyed);Yn.length?kye(this,xe,Yn):this.processLeaveNode(xe)}return T.length=0,Kn.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();const xe=this.players.indexOf(ge);this.players.splice(xe,1)}),ge.play()}),Kn}elementContainsData(e,t){let r=!1;const i=t[ho];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==hy;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,d=c!==s,f=Ns(r,c,[]);this._getPreviousPlayers(c,d,o,a,t.toState).forEach(_=>{const v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}md(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],d=new Set,f=new Set,g=t.timelines.map(v=>{const w=v.element;d.add(w);const T=w[ho];if(T&&T.removedBeforeQueried)return new w_(v.duration,v.delay);const P=w!==l,N=function Oye(n){const e=[];return Bq(n,e),e}((r.get(w)||Sye).map(Fe=>Fe.getRealPlayer())).filter(Fe=>!!Fe.element&&Fe.element===w),R=s.get(w),j=o.get(w),le=dq(0,this._normalizer,0,v.keyframes,R,j),ue=this._buildPlayer(v,le,N);if(v.subTimeline&&i&&f.add(w),P){const Fe=new vk(e,a,w);Fe.setRealPlayer(ue),c.push(Fe)}return ue});c.forEach(v=>{Ns(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function Rye(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>fo(v,bq));const _=Uc(g);return _.onDestroy(()=>{d.forEach(v=>up(v,bq)),ya(l,t.toStyles)}),f.forEach(v=>{Ns(i,v,[]).push(_)}),_}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new w_(e.duration,e.delay)}}class vk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new w_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>XP(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ns(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pI(n){return n&&1===n.nodeType}function Fq(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Lq(n,e,t,r,i){const s=[];t.forEach(l=>s.push(Fq(l)));const o=[];r.forEach((l,c)=>{const d=new Map;l.forEach(f=>{const g=e.computeStyle(c,f,i);d.set(f,g),(!g||0==g.length)&&(c[ho]=Aye,o.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>Fq(l,s[a++])),o}function Vq(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?r:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==r&&t.get(l).push(a)}),t}function fo(n,e){n.classList?.add(e)}function up(n,e){n.classList?.remove(e)}function kye(n,e,t){Uc(t).onDone(()=>n.processLeaveNode(e))}function Bq(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Q$?Bq(r.players,e):e.push(r)}}function Uq(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class mI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new xye(e,t,r),this._timelineEngine=new Eye(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=[],d=ck(this._driver,s,l,c);if(l.length)throw function v_e(n,e){return new D(3404,!1)}();a=function _ye(n,e,t){return new yye(n,e,t)}(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=hq(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=hq(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Lye=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ya(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ya(this._element,this._initialStyles),this._endStyles&&(ya(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(md(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(md(this._element,this._endStyles),this._endStyles=null),ya(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bk(n){let e=null;return n.forEach((t,r)=>{(function Vye(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class jq{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Sq(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Bye{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return gq(e,t)}getParentElement(e){return nk(e)}query(e,t,r){return _q(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,d=o.filter(_=>_ instanceof jq);(function z_e(n,e){return 0===n||0===e})(r,i)&&d.forEach(_=>{_.currentSnapshot.forEach((v,w)=>c.set(w,v))});let f=function B_e(n){return n.length?n[0]instanceof Map?n:n.map(e=>Eq(e)):[]}(t).map(_=>jc(_));f=function $_e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Sq(n,a)))}}return e}(e,f,c);const g=function Fye(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=bk(e[0]),e.length>1&&(r=bk(e[e.length-1]))):e instanceof Map&&(t=bk(e)),t||r?new Lye(n,t,r):null}(e,f);return new jq(e,f,l,g)}}let Uye=(()=>{class n extends K${constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:vs.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Y$(t):t;return Hq(this._renderer,null,r,"register",[i]),new jye(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(U(sm),U(Et))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();class jye extends Oce{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Hye(this._id,e,t||{},this._renderer)}}class Hye{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Hq(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Hq(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const zq="@.disabled";let zye=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(s);return d||(d=new $q("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,t,d.name,d)};return r.data.animation.forEach(l),new $ye(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(U(sm),U(mI),U(qe))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();class $q{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==zq?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class $ye extends $q{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==zq?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Wye(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Gye(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let qye=(()=>{class n extends mI{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(U(Et),U(rk),U(pk),U(qa))},n.\u0275prov=de({token:n,factory:n.\u0275fac}),n})();const Wq=[{provide:K$,useClass:Uye},{provide:pk,useFactory:function Kye(){return new fye}},{provide:mI,useClass:qye},{provide:sm,useFactory:function Yye(n,e,t){return new zye(n,e,t)},deps:[wb,mI,qe]}],Ek=[{provide:rk,useFactory:()=>new Bye},{provide:Sm,useValue:"BrowserAnimations"},...Wq],Gq=[{provide:rk,useClass:yq},{provide:Sm,useValue:"NoopAnimations"},...Wq];let Zye=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Gq:Ek}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ot({type:n}),n.\u0275inj=qt({providers:Ek,imports:[hV]}),n})();const Ls=void 0;!function TZ(n,e,t){(function Q9(n,e,t){"string"!=typeof e&&(t=e,e=n[Ee.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),wh[e]=n,t&&(wh[e][Ee.ExtraData]=t)})(n,e,t)}(["pt",[["AM","PM"],Ls,Ls],Ls,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],Ls,[["a.C.","d.C."],Ls,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Ls,Ls,Ls],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[Ls,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[Ls,"\u20b1"],PTE:["Esc."],RON:[Ls,"L"],SYP:[Ls,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Qye(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:0===i&&0!==t&&t%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}]);let Xye=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ot({type:n,bootstrap:[bhe]});static#n=this.\u0275inj=qt({providers:[Hw,gb,{provide:Io,useValue:"pt-BR"}],imports:[Zye,hV,jee,ghe,I4,Hde,bce,Pue,Hue,Tne(()=>Sne(cq_firebase)),Fae(()=>function qoe(n,e){const t="object"==typeof n?n:(0,Fr.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Fr._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,A.P0)("firestore");s&&function Hoe(n,e,t,r={}){var i;const s=(n=Pt(n,i_))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=qr.MOCK_USER;else{a=(0,A.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qr(c)}n._authCredentials=new Vre(new MU(a,l))}}(i,...s)}return i}()),jge,uhe.forRoot(),Qge.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return n})();eX().bootstrapModule(Xye).catch(n=>console.error(n))},942:(Bs,rr,Be)=>{Be.d(rr,{Z:()=>ir});var S=Be(90),Y=Be(859),O=Be(881),Me=Be(877);class rt{constructor(Ye,Ze){this._delegate=Ye,this.firebase=Ze,(0,O._addComponent)(Ye,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ye,Ze=O._DEFAULT_ENTRY_NAME){var _r;this._delegate.checkDestroyed();const In=this._delegate.container.getProvider(Ye);return!In.isInitialized()&&"EXPLICIT"===(null===(_r=In.getComponent())||void 0===_r?void 0:_r.instantiationMode)&&In.initialize(),In.getImmediate({identifier:Ze})}_removeServiceInstance(Ye,Ze=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Ze)}_addComponent(Ye){(0,O._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,O._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const jn=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Dt(){const vt=function Xt(vt){const Ye={},Ze={__esModule:!0,initializeApp:function mt(lt,ne={}){const Ct=O.initializeApp(lt,ne);if((0,S.r3)(Ye,Ct.name))return Ye[Ct.name];const rn=new vt(Ct,Ze);return Ye[Ct.name]=rn,rn},app:In,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ri(lt){const ne=lt.name,Ct=ne.replace("-compat","");if(O._registerComponent(lt)&&"PUBLIC"===lt.type){const rn=(Mn=In())=>{if("function"!=typeof Mn[Ct])throw jn.create("invalid-app-argument",{appName:ne});return Mn[Ct]()};void 0!==lt.serviceProps&&(0,S.ZB)(rn,lt.serviceProps),Ze[Ct]=rn,vt.prototype[Ct]=function(...Mn){return this._getService.bind(this,ne).apply(this,lt.multipleInstances?Mn:[])}}return"PUBLIC"===lt.type?Ze[Ct]:null},removeApp:function _r(lt){delete Ye[lt]},useAsService:function Zn(lt,ne){return"serverAuth"===ne?null:ne},modularAPIs:O}};function In(lt){if(!(0,S.r3)(Ye,lt=lt||O._DEFAULT_ENTRY_NAME))throw jn.create("no-app",{appName:lt});return Ye[lt]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function Gt(){return Object.keys(Ye).map(lt=>Ye[lt])}}),In.App=vt,Ze}(rt);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:Dt,extendNamespace:function Ye(Ze){(0,S.ZB)(vt,Ze)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),vt}(),oe=new Me.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ir=Q;!function kt(vt){(0,O.registerVersion)("@firebase/app-compat","0.2.23",vt)}()},881:(Bs,rr,Be)=>{Be.r(rr),Be.d(rr,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>_s,_DEFAULT_ENTRY_NAME:()=>ms,_addComponent:()=>Pi,_addOrOverwriteComponent:()=>ki,_apps:()=>Rr,_clearComponents:()=>kn,_components:()=>Mi,_getProvider:()=>Lt,_registerComponent:()=>Mr,_removeServiceInstance:()=>gi,deleteApp:()=>Xn,getApp:()=>ys,getApps:()=>or,initializeApp:()=>Ki,onLog:()=>fl,registerVersion:()=>Oi,setLogLevel:()=>Fo});var S=Be(861),Y=Be(859),O=Be(877),Me=Be(90);const rt=(K,D)=>D.some(te=>K instanceof te);let hn,jn;const Q=new WeakMap,oe=new WeakMap,De=new WeakMap,Je=new WeakMap,kt=new WeakMap;let Ye={get(K,D,te){if(K instanceof IDBTransaction){if("done"===D)return oe.get(K);if("objectStoreNames"===D)return K.objectStoreNames||De.get(K);if("store"===D)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return mt(K[D])},set:(K,D,te)=>(K[D]=te,!0),has:(K,D)=>K instanceof IDBTransaction&&("done"===D||"store"===D)||D in K};function In(K){return"function"==typeof K?function _r(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dt(){return jn||(jn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...D){return K.apply(Gt(this),D),mt(Q.get(this))}:function(...D){return mt(K.apply(Gt(this),D))}:function(D,...te){const re=K.call(Gt(this),D,...te);return De.set(re,D.sort?D.sort():[D]),mt(re)}}(K):(K instanceof IDBTransaction&&function vt(K){if(oe.has(K))return;const D=new Promise((te,re)=>{const be=()=>{K.removeEventListener("complete",pt),K.removeEventListener("error",Vt),K.removeEventListener("abort",Vt)},pt=()=>{te(),be()},Vt=()=>{re(K.error||new DOMException("AbortError","AbortError")),be()};K.addEventListener("complete",pt),K.addEventListener("error",Vt),K.addEventListener("abort",Vt)});oe.set(K,D)}(K),rt(K,function Xt(){return hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,Ye):K)}function mt(K){if(K instanceof IDBRequest)return function ir(K){const D=new Promise((te,re)=>{const be=()=>{K.removeEventListener("success",pt),K.removeEventListener("error",Vt)},pt=()=>{te(mt(K.result)),be()},Vt=()=>{re(K.error),be()};K.addEventListener("success",pt),K.addEventListener("error",Vt)});return D.then(te=>{te instanceof IDBCursor&&Q.set(te,K)}).catch(()=>{}),kt.set(D,K),D}(K);if(Je.has(K))return Je.get(K);const D=In(K);return D!==K&&(Je.set(K,D),kt.set(D,K)),D}const Gt=K=>kt.get(K),lt=["get","getKey","getAll","getAllKeys","count"],ne=["put","add","delete","clear"],Ct=new Map;function rn(K,D){if(!(K instanceof IDBDatabase)||D in K||"string"!=typeof D)return;if(Ct.get(D))return Ct.get(D);const te=D.replace(/FromIndex$/,""),re=D!==te,be=ne.includes(te);if(!(te in(re?IDBIndex:IDBObjectStore).prototype)||!be&&!lt.includes(te))return;const pt=function(){var Vt=(0,S.Z)(function*(br,...Tn){const Hn=this.transaction(br,be?"readwrite":"readonly");let bd=Hn.store;return re&&(bd=bd.index(Tn.shift())),(yield Promise.all([bd[te](...Tn),be&&Hn.done]))[0]});return function(Tn){return Vt.apply(this,arguments)}}();return Ct.set(D,pt),pt}!function Ze(K){Ye=K(Ye)}(K=>({...K,get:(D,te,re)=>rn(D,te)||K.get(D,te,re),has:(D,te)=>!!rn(D,te)||K.has(D,te)}));class Mn{constructor(D){this.container=D}getPlatformInfoString(){return this.container.getProviders().map(te=>{if(function Pn(K){return"VERSION"===K.getComponent()?.type}(te)){const re=te.getImmediate();return`${re.library}/${re.version}`}return null}).filter(te=>te).join(" ")}}const fs="@firebase/app",He=new O.Yd("@firebase/app"),ms="[DEFAULT]",gs={[fs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rr=new Map,Mi=new Map;function Pi(K,D){try{K.container.addComponent(D)}catch(te){He.debug(`Component ${D.name} failed to register with FirebaseApp ${K.name}`,te)}}function ki(K,D){K.container.addOrOverwriteComponent(D)}function Mr(K){const D=K.name;if(Mi.has(D))return He.debug(`There were multiple attempts to register component ${D}.`),!1;Mi.set(D,K);for(const te of Rr.values())Pi(te,K);return!0}function Lt(K,D){const te=K.container.getProvider("heartbeat").getImmediate({optional:!0});return te&&te.triggerHeartbeat(),K.container.getProvider(D)}function gi(K,D,te=ms){Lt(K,D).clearInstance(te)}function kn(){Mi.clear()}const mn=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cn{constructor(D,te,re){this._isDeleted=!1,this._options=Object.assign({},D),this._config=Object.assign({},te),this._name=te.name,this._automaticDataCollectionEnabled=te.automaticDataCollectionEnabled,this._container=re,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(D){this.checkDestroyed(),this._automaticDataCollectionEnabled=D}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(D){this._isDeleted=D}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const _s="10.6.0";function Ki(K,D={}){let te=K;"object"!=typeof D&&(D={name:D});const re=Object.assign({name:ms,automaticDataCollectionEnabled:!1},D),be=re.name;if("string"!=typeof be||!be)throw mn.create("bad-app-name",{appName:String(be)});if(te||(te=(0,Me.aH)()),!te)throw mn.create("no-options");const pt=Rr.get(be);if(pt){if((0,Me.vZ)(te,pt.options)&&(0,Me.vZ)(re,pt.config))return pt;throw mn.create("duplicate-app",{appName:be})}const Vt=new Y.H0(be);for(const Tn of Mi.values())Vt.addComponent(Tn);const br=new Cn(te,re,Vt);return Rr.set(be,br),br}function ys(K=ms){const D=Rr.get(K);if(!D&&K===ms&&(0,Me.aH)())return Ki();if(!D)throw mn.create("no-app",{appName:K});return D}function or(){return Array.from(Rr.values())}function Xn(K){return jr.apply(this,arguments)}function jr(){return(jr=(0,S.Z)(function*(K){const D=K.name;Rr.has(D)&&(Rr.delete(D),yield Promise.all(K.container.getProviders().map(te=>te.delete())),K.isDeleted=!0)})).apply(this,arguments)}function Oi(K,D,te){var re;let be=null!==(re=gs[K])&&void 0!==re?re:K;te&&(be+=`-${te}`);const pt=be.match(/\s|\//),Vt=D.match(/\s|\//);if(pt||Vt){const br=[`Unable to register library "${be}" with version "${D}":`];return pt&&br.push(`library name "${be}" contains illegal characters (whitespace or "/")`),pt&&Vt&&br.push("and"),Vt&&br.push(`version name "${D}" contains illegal characters (whitespace or "/")`),void He.warn(br.join(" "))}Mr(new Y.wA(`${be}-version`,()=>({library:be,version:D}),"VERSION"))}function fl(K,D){if(null!==K&&"function"!=typeof K)throw mn.create("invalid-log-argument");(0,O.Am)(K,D)}function Fo(K){(0,O.Ub)(K)}const Ea="firebase-heartbeat-database",zs=1,M="firebase-heartbeat-store";let x=null;function E(){return x||(x=function Ri(K,D,{blocked:te,upgrade:re,blocking:be,terminated:pt}={}){const Vt=indexedDB.open(K,D),br=mt(Vt);return re&&Vt.addEventListener("upgradeneeded",Tn=>{re(mt(Vt.result),Tn.oldVersion,Tn.newVersion,mt(Vt.transaction),Tn)}),te&&Vt.addEventListener("blocked",Tn=>te(Tn.oldVersion,Tn.newVersion,Tn)),br.then(Tn=>{pt&&Tn.addEventListener("close",()=>pt()),be&&Tn.addEventListener("versionchange",Hn=>be(Hn.oldVersion,Hn.newVersion,Hn))}).catch(()=>{}),br}(Ea,zs,{upgrade:(K,D)=>{0===D&&K.createObjectStore(M)}}).catch(K=>{throw mn.create("idb-open",{originalErrorMessage:K.message})})),x}function b(){return(b=(0,S.Z)(function*(K){try{return yield(yield E()).transaction(M).objectStore(M).get(Ie(K))}catch(D){if(D instanceof Me.ZR)He.warn(D.message);else{const te=mn.create("idb-get",{originalErrorMessage:D?.message});He.warn(te.message)}}})).apply(this,arguments)}function F(K,D){return H.apply(this,arguments)}function H(){return(H=(0,S.Z)(function*(K,D){try{const re=(yield E()).transaction(M,"readwrite");yield re.objectStore(M).put(D,Ie(K)),yield re.done}catch(te){if(te instanceof Me.ZR)He.warn(te.message);else{const re=mn.create("idb-set",{originalErrorMessage:te?.message});He.warn(re.message)}}})).apply(this,arguments)}function Ie(K){return`${K.name}!${K.options.appId}`}class xt{constructor(D){this.container=D,this._heartbeatsCache=null;const te=this.container.getProvider("app").getImmediate();this._storage=new et(te),this._heartbeatsCachePromise=this._storage.read().then(re=>(this._heartbeatsCache=re,re))}triggerHeartbeat(){var D=this;return(0,S.Z)(function*(){var te;const be=D.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=ve();if(null==(null===(te=D._heartbeatsCache)||void 0===te?void 0:te.heartbeats)&&(D._heartbeatsCache=yield D._heartbeatsCachePromise),D._heartbeatsCache.lastSentHeartbeatDate!==pt&&!D._heartbeatsCache.heartbeats.some(Vt=>Vt.date===pt))return D._heartbeatsCache.heartbeats.push({date:pt,agent:be}),D._heartbeatsCache.heartbeats=D._heartbeatsCache.heartbeats.filter(Vt=>{const br=new Date(Vt.date).valueOf();return Date.now()-br<=2592e6}),D._storage.overwrite(D._heartbeatsCache)})()}getHeartbeatsHeader(){var D=this;return(0,S.Z)(function*(){var te;if(null===D._heartbeatsCache&&(yield D._heartbeatsCachePromise),null==(null===(te=D._heartbeatsCache)||void 0===te?void 0:te.heartbeats)||0===D._heartbeatsCache.heartbeats.length)return"";const re=ve(),{heartbeatsToSend:be,unsentEntries:pt}=function me(K,D=1024){const te=[];let re=K.slice();for(const be of K){const pt=te.find(Vt=>Vt.agent===be.agent);if(pt){if(pt.dates.push(be.date),vr(te)>D){pt.dates.pop();break}}else if(te.push({agent:be.agent,dates:[be.date]}),vr(te)>D){te.pop();break}re=re.slice(1)}return{heartbeatsToSend:te,unsentEntries:re}}(D._heartbeatsCache.heartbeats),Vt=(0,Me.L)(JSON.stringify({version:2,heartbeats:be}));return D._heartbeatsCache.lastSentHeartbeatDate=re,pt.length>0?(D._heartbeatsCache.heartbeats=pt,yield D._storage.overwrite(D._heartbeatsCache)):(D._heartbeatsCache.heartbeats=[],D._storage.overwrite(D._heartbeatsCache)),Vt})()}}function ve(){return(new Date).toISOString().substring(0,10)}class et{constructor(D){this.app=D,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,Me.hl)()&&(0,Me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var D=this;return(0,S.Z)(function*(){return(yield D._canUseIndexedDBPromise)&&(yield function C(K){return b.apply(this,arguments)}(D.app))||{heartbeats:[]}})()}overwrite(D){var te=this;return(0,S.Z)(function*(){var re;if(yield te._canUseIndexedDBPromise){const pt=yield te.read();return F(te.app,{lastSentHeartbeatDate:null!==(re=D.lastSentHeartbeatDate)&&void 0!==re?re:pt.lastSentHeartbeatDate,heartbeats:D.heartbeats})}})()}add(D){var te=this;return(0,S.Z)(function*(){var re;if(yield te._canUseIndexedDBPromise){const pt=yield te.read();return F(te.app,{lastSentHeartbeatDate:null!==(re=D.lastSentHeartbeatDate)&&void 0!==re?re:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...D.heartbeats]})}})()}}function vr(K){return(0,Me.L)(JSON.stringify({version:2,heartbeats:K})).length}!function pl(K){Mr(new Y.wA("platform-logger",D=>new Mn(D),"PRIVATE")),Mr(new Y.wA("heartbeat",D=>new xt(D),"PRIVATE")),Oi(fs,"0.9.23",K),Oi(fs,"0.9.23","esm2017"),Oi("fire-js","")}("")},859:(Bs,rr,Be)=>{Be.d(rr,{H0:()=>Xt,wA:()=>O,zt:()=>rt});var S=Be(861),Y=Be(90);class O{constructor(Q,oe,De){this.name=Q,this.instanceFactory=oe,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const Me="[DEFAULT]";class rt{constructor(Q,oe){this.name=Q,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const oe=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(oe)){const De=new Y.BH;if(this.instancesDeferred.set(oe,De),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:oe});Je&&De.resolve(Je)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(Q){var oe;const De=this.normalizeInstanceIdentifier(Q?.identifier),Je=null!==(oe=Q?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(kt){if(Je)return null;throw kt}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function jn(Dt){return"EAGER"===Dt.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:Me})}catch{}for(const[oe,De]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(oe);try{const kt=this.getOrInitializeService({instanceIdentifier:Je});De.resolve(kt)}catch{}}}}clearInstance(Q=Me){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,S.Z)(function*(){const oe=Array.from(Q.instances.values());yield Promise.all([...oe.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...oe.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=Me){return this.instances.has(Q)}getOptions(Q=Me){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:oe={}}=Q,De=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:De,options:oe});for(const[kt,ir]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(kt)&&ir.resolve(Je);return Je}onInit(Q,oe){var De;const Je=this.normalizeInstanceIdentifier(oe),kt=null!==(De=this.onInitCallbacks.get(Je))&&void 0!==De?De:new Set;kt.add(Q),this.onInitCallbacks.set(Je,kt);const ir=this.instances.get(Je);return ir&&Q(ir,Je),()=>{kt.delete(Q)}}invokeOnInitCallbacks(Q,oe){const De=this.onInitCallbacks.get(oe);if(De)for(const Je of De)try{Je(Q,oe)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:oe={}}){let De=this.instances.get(Q);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Dt=Q,Dt===Me?void 0:Dt),options:oe}),this.instances.set(Q,De),this.instancesOptions.set(Q,oe),this.invokeOnInitCallbacks(De,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,De)}catch{}var Dt;return De||null}normalizeInstanceIdentifier(Q=Me){return this.component?this.component.multipleInstances?Q:Me:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xt{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const oe=this.getProvider(Q.name);if(oe.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);oe.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const oe=new rt(Q,this);return this.providers.set(Q,oe),oe}getProviders(){return Array.from(this.providers.values())}}},877:(Bs,rr,Be)=>{Be.d(rr,{Am:()=>Dt,Ub:()=>Xt,Yd:()=>jn,in:()=>Y});const S=[];var Y=(()=>{return(Q=Y||(Y={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Y;var Q})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},Me=Y.INFO,rt={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},hn=(Q,oe,...De)=>{if(oe<Q.logLevel)return;const Je=(new Date).toISOString(),kt=rt[oe];if(!kt)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[kt](`[${Je}]  ${Q.name}:`,...De)};class jn{constructor(oe){this.name=oe,this._logLevel=Me,this._logHandler=hn,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in Y))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?O[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...oe),this._logHandler(this,Y.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...oe),this._logHandler(this,Y.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...oe),this._logHandler(this,Y.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...oe),this._logHandler(this,Y.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...oe),this._logHandler(this,Y.ERROR,...oe)}}function Xt(Q){S.forEach(oe=>{oe.setLogLevel(Q)})}function Dt(Q,oe){for(const De of S){let Je=null;oe&&oe.level&&(Je=O[oe.level]),De.userLogHandler=null===Q?null:(kt,ir,...vt)=>{const Ye=vt.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");ir>=(Je??kt.logLevel)&&Q({level:Y[ir].toLowerCase(),message:Ye,args:vt,type:kt.name})}}}},568:(Bs,rr,Be)=>{Be.r(rr);var S=Be(861),Y=Be(942),O=Be(808),Me=Be(90),jn=(Be(881),Be(877),Be(859));function Xt(){return window}const Dt=2e3;function oe(){return oe=(0,S.Z)(function*(E,C,b){var F;const{BuildInfo:H}=Xt();(0,O.au)(C.sessionId,"AuthEvent did not contain a session ID");const Ie=yield function Ze(E){return _r.apply(this,arguments)}(C.sessionId),_e={};return(0,O.av)()?_e.ibi=H.packageName:(0,O.aw)()?_e.apn=H.packageName:(0,O.ax)(E,"operation-not-supported-in-this-environment"),H.displayName&&(_e.appDisplayName=H.displayName),_e.sessionId=Ie,(0,O.ay)(E,b,C.type,void 0,null!==(F=C.eventId)&&void 0!==F?F:void 0,_e)}),oe.apply(this,arguments)}function Je(){return(Je=(0,S.Z)(function*(E){const{BuildInfo:C}=Xt(),b={};(0,O.av)()?b.iosBundleId=C.packageName:(0,O.aw)()?b.androidPackageName=C.packageName:(0,O.ax)(E,"operation-not-supported-in-this-environment"),yield(0,O.az)(E,b)})).apply(this,arguments)}function vt(){return(vt=(0,S.Z)(function*(E,C,b){const{cordova:F}=Xt();let H=()=>{};try{yield new Promise((Ie,_e)=>{let ze=null;function xt(){var et;Ie();const vr=null===(et=F.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof vr&&vr(),"function"==typeof b?.close&&b.close()}function ve(){ze||(ze=window.setTimeout(()=>{_e((0,O.aB)(E,"redirect-cancelled-by-user"))},Dt))}function me(){"visible"===document?.visibilityState&&ve()}C.addPassiveListener(xt),document.addEventListener("resume",ve,!1),(0,O.aw)()&&document.addEventListener("visibilitychange",me,!1),H=()=>{C.removePassiveListener(xt),document.removeEventListener("resume",ve,!1),document.removeEventListener("visibilitychange",me,!1),ze&&window.clearTimeout(ze)}})}finally{H()}})).apply(this,arguments)}function _r(){return(_r=(0,S.Z)(function*(E){const C=function In(E){if((0,O.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const C=new ArrayBuffer(E.length),b=new Uint8Array(C);for(let F=0;F<E.length;F++)b[F]=E.charCodeAt(F);return b}(E),b=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(b)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const mt=20;class Gt extends O.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(C)),super.onEvent(C)}initialized(){var C=this;return(0,S.Z)(function*(){yield C.initPromise})()}}function lt(E){return ne.apply(this,arguments)}function ne(){return(ne=(0,S.Z)(function*(E){const C=yield Mn()._get(Pn(E));return C&&(yield Mn()._remove(Pn(E))),C})).apply(this,arguments)}function rn(){const E=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<mt;b++){const F=Math.floor(Math.random()*C.length);E.push(C.charAt(F))}return E.join("")}function Mn(){return(0,O.aE)(O.b)}function Pn(E){return(0,O.aF)("authEvent",E.config.apiKey,E.name)}function He(E){if(!E?.includes("?"))return{};const[C,...b]=E.split("?");return(0,Me.zd)(b.join("?"))}const $=class po{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(C){var b=this;return(0,S.Z)(function*(){const F=C._key();let H=b.eventManagers.get(F);return H||(H=new Gt(C),b.eventManagers.set(F,H),b.attachCallbackListeners(C,H)),H})()}_openPopup(C){(0,O.ax)(C,"operation-not-supported-in-this-environment")}_openRedirect(C,b,F,H){var Ie=this;return(0,S.Z)(function*(){!function Ye(E){var C,b,F,H,Ie,_e,ze,xt,ve,me;const et=Xt();(0,O.aC)("function"==typeof(null===(C=et?.universalLinks)||void 0===C?void 0:C.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aC)(typeof(null===(b=et?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aC)("function"==typeof(null===(Ie=null===(H=null===(F=et?.cordova)||void 0===F?void 0:F.plugins)||void 0===H?void 0:H.browsertab)||void 0===Ie?void 0:Ie.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(xt=null===(ze=null===(_e=et?.cordova)||void 0===_e?void 0:_e.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===xt?void 0:xt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(me=null===(ve=et?.cordova)||void 0===ve?void 0:ve.InAppBrowser)||void 0===me?void 0:me.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const _e=yield Ie._initialize(C);yield _e.initialized(),_e.resetRedirect(),(0,O.aI)(),yield Ie._originValidation(C);const ze=function Ri(E,C,b=null){return{type:C,eventId:b,urlResponse:null,sessionId:rn(),postBody:null,tenantId:E.tenantId,error:(0,O.aB)(E,"no-auth-event")}}(C,F,H);yield function Zn(E,C){return Mn()._set(Pn(E),C)}(C,ze);const xt=yield function Q(E,C,b){return oe.apply(this,arguments)}(C,ze,b),ve=yield function kt(E){const{cordova:C}=Xt();return new Promise(b=>{C.plugins.browsertab.isAvailable(F=>{let H=null;F?C.plugins.browsertab.openUrl(E):H=C.InAppBrowser.open(E,(0,O.aA)()?"_blank":"_system","location=yes"),b(H)})})}(xt);return function ir(E,C,b){return vt.apply(this,arguments)}(C,_e,ve)})()}_isIframeWebStorageSupported(C,b){throw new Error("Method not implemented.")}_originValidation(C){const b=C._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function De(E){return Je.apply(this,arguments)}(C)),this.originValidationPromises[b]}attachCallbackListeners(C,b){const{universalLinks:F,handleOpenURL:H,BuildInfo:Ie}=Xt(),_e=setTimeout((0,S.Z)(function*(){yield lt(C),b.onEvent(q())}),500),ze=function(){var me=(0,S.Z)(function*(et){clearTimeout(_e);const vr=yield lt(C);let pl=null;vr&&et?.url&&(pl=function Ct(E,C){var b,F;const H=function ps(E){const C=He(E),b=C.link?decodeURIComponent(C.link):void 0,F=He(b).link,H=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return He(H).link||H||F||b||E}(C);if(H.includes("/__/auth/callback")){const Ie=He(H),_e=Ie.firebaseError?function fs(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(Ie.firebaseError)):null,ze=null===(F=null===(b=_e?.code)||void 0===b?void 0:b.split("auth/"))||void 0===F?void 0:F[1],xt=ze?(0,O.aB)(ze):null;return xt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:xt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:H,postBody:null}}return null}(vr,et.url)),b.onEvent(pl||q())});return function(vr){return me.apply(this,arguments)}}();typeof F<"u"&&"function"==typeof F.subscribe&&F.subscribe(null,ze);const xt=H,ve=`${Ie.packageName.toLowerCase()}://`;Xt().handleOpenURL=function(){var me=(0,S.Z)(function*(et){if(et.toLowerCase().startsWith(ve)&&ze({url:et}),"function"==typeof xt)try{xt(et)}catch(vr){console.error(vr)}});return function(et){return me.apply(this,arguments)}}()}};function q(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aB)("no-auth-event")}}const Z=1e3;function he(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function ce(E=(0,Me.z$)()){return!("file:"!==he()&&"ionic:"!==he()&&"capacitor:"!==he()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function pn(){try{const E=self.localStorage,C=O.aN();if(E)return E.setItem(C,"1"),E.removeItem(C),!function Jt(E=(0,Me.z$)()){return function Tt(){return(0,Me.w1)()&&11===document?.documentMode}()||function fn(E=(0,Me.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,Me.hl)()}catch{return Qn()&&(0,Me.hl)()}return!1}function Qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sr(){return(function ft(){return"http:"===he()||"https:"===he()}()||(0,Me.ru)()||ce())&&!function Oe(){return(0,Me.b$)()||(0,Me.UG)()}()&&pn()&&!Qn()}function yr(){return ce()&&typeof document<"u"}function qi(){return(qi=(0,S.Z)(function*(){return!!yr()&&new Promise(E=>{const C=setTimeout(()=>{E(!1)},Z);document.addEventListener("deviceready",()=>{clearTimeout(C),E(!0)})})})).apply(this,arguments)}const ut={LOCAL:"local",NONE:"none",SESSION:"session"},js=O.aC,Hs="persistence";function gs(E){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,S.Z)(function*(E){yield E._initializationPromise;const C=Pi(),b=O.aF(Hs,E.config.apiKey,E.name);C&&C.setItem(b,E._getPersistence())})).apply(this,arguments)}function Pi(){var E;try{return(null===(E=function Us(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const ki=O.aC;class Mr{constructor(){this.browserResolver=O.aE(O.k),this.cordovaResolver=O.aE($),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(C){var b=this;return(0,S.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,b,F,H){var Ie=this;return(0,S.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openPopup(C,b,F,H)})()}_openRedirect(C,b,F,H){var Ie=this;return(0,S.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openRedirect(C,b,F,H)})()}_isIframeWebStorageSupported(C,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,b)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return yr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ki(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,S.Z)(function*(){if(C.underlyingResolver)return;const b=yield function mi(){return qi.apply(this,arguments)}();C.underlyingResolver=b?C.cordovaResolver:C.browserResolver})()}}function Lt(E){return E.unwrap()}function kn(E){return mn(E)}function mn(E){const{_tokenResponse:C}=E instanceof Me.ZR?E.customData:E;if(!C)return null;if(!(E instanceof Me.ZR)&&"temporaryProof"in C&&"phoneNumber"in C)return O.P.credentialFromResult(E);const b=C.providerId;if(!b||b===O.p.PASSWORD)return null;let F;switch(b){case O.p.GOOGLE:F=O.X;break;case O.p.FACEBOOK:F=O.W;break;case O.p.GITHUB:F=O.Y;break;case O.p.TWITTER:F=O.$;break;default:const{oauthIdToken:H,oauthAccessToken:Ie,oauthTokenSecret:_e,pendingToken:ze,nonce:xt}=C;return Ie||_e||H||ze?ze?b.startsWith("saml.")?O.aQ._create(b,ze):O.N._fromParams({providerId:b,signInMethod:b,pendingToken:ze,idToken:H,accessToken:Ie}):new O.Z(b).credential({idToken:H,accessToken:Ie,rawNonce:xt}):null}return E instanceof Me.ZR?F.credentialFromError(E):F.credentialFromResult(E)}function Cn(E,C){return C.catch(b=>{throw b instanceof Me.ZR&&function Hc(E,C){var b;const F=null===(b=C.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===C?.code)C.resolver=new ys(E,O.as(E,C));else if(F){const H=mn(C),Ie=C;H&&(Ie.credential=H,Ie.tenantId=F.tenantId||void 0,Ie.email=F.email||void 0,Ie.phoneNumber=F.phoneNumber||void 0)}}(E,b),b}).then(b=>{const H=b.user;return{operationType:b.operationType,credential:kn(b),additionalUserInfo:O.aq(b),user:or.getOrCreate(H)}})}function _s(E,C){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,S.Z)(function*(E,C){const b=yield C;return{verificationId:b.verificationId,confirm:F=>Cn(E,b.confirm(F))}})).apply(this,arguments)}class ys{constructor(C,b){this.resolver=b,this.auth=function gi(E){return E.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return Cn(Lt(this.auth),this.resolver.resolveSignIn(C))}}class or{constructor(C){this._delegate=C,this.multiFactor=O.at(C)}static getOrCreate(C){return or.USER_MAP.has(C)||or.USER_MAP.set(C,new or(C)),or.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var b=this;return(0,S.Z)(function*(){return Cn(b.auth,O.a2(b._delegate,C))})()}linkWithPhoneNumber(C,b){var F=this;return(0,S.Z)(function*(){return _s(F.auth,O.l(F._delegate,C,b))})()}linkWithPopup(C){var b=this;return(0,S.Z)(function*(){return Cn(b.auth,O.d(b._delegate,C,Mr))})()}linkWithRedirect(C){var b=this;return(0,S.Z)(function*(){return yield gs(O.aJ(b.auth)),O.g(b._delegate,C,Mr)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var b=this;return(0,S.Z)(function*(){return Cn(b.auth,O.a3(b._delegate,C))})()}reauthenticateWithPhoneNumber(C,b){return _s(this.auth,O.r(this._delegate,C,b))}reauthenticateWithPopup(C){return Cn(this.auth,O.e(this._delegate,C,Mr))}reauthenticateWithRedirect(C){var b=this;return(0,S.Z)(function*(){return yield gs(O.aJ(b.auth)),O.h(b._delegate,C,Mr)})()}sendEmailVerification(C){return O.ag(this._delegate,C)}unlink(C){var b=this;return(0,S.Z)(function*(){return yield O.ap(b._delegate,C),b})()}updateEmail(C){return O.al(this._delegate,C)}updatePassword(C){return O.am(this._delegate,C)}updatePhoneNumber(C){return O.u(this._delegate,C)}updateProfile(C){return O.ak(this._delegate,C)}verifyBeforeUpdateEmail(C,b){return O.ah(this._delegate,C,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}or.USER_MAP=new WeakMap;const Xn=O.aC;let jr=(()=>{class E{constructor(b,F){if(this.app=b,F.isInitialized())return this._delegate=F.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=b.options;Xn(H,"invalid-api-key",{appName:b.name}),Xn(H,"invalid-api-key",{appName:b.name});const Ie=typeof window<"u"?Mr:void 0;this._delegate=F.initialize({options:{persistence:fl(H,b.name),popupRedirectResolver:Ie}}),this._delegate._updateErrorMap(O.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,F){O.K(this._delegate,b,F)}applyActionCode(b){return O.a7(this._delegate,b)}checkActionCode(b){return O.a8(this._delegate,b)}confirmPasswordReset(b,F){return O.a6(this._delegate,b,F)}createUserWithEmailAndPassword(b,F){var H=this;return(0,S.Z)(function*(){return Cn(H._delegate,O.aa(H._delegate,b,F))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return O.af(this._delegate,b)}isSignInWithEmailLink(b){return O.ad(this._delegate,b)}getRedirectResult(){var b=this;return(0,S.Z)(function*(){Xn(sr(),b._delegate,"operation-not-supported-in-this-environment");const F=yield O.j(b._delegate,Mr);return F?Cn(b._delegate,Promise.resolve(F)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function B(E,C){(0,O.aJ)(E)._logFramework(C)}(this._delegate,b)}onAuthStateChanged(b,F,H){const{next:Ie,error:_e,complete:ze}=Oi(b,F,H);return this._delegate.onAuthStateChanged(Ie,_e,ze)}onIdTokenChanged(b,F,H){const{next:Ie,error:_e,complete:ze}=Oi(b,F,H);return this._delegate.onIdTokenChanged(Ie,_e,ze)}sendSignInLinkToEmail(b,F){return O.ac(this._delegate,b,F)}sendPasswordResetEmail(b,F){return O.a5(this._delegate,b,F||void 0)}setPersistence(b){var F=this;return(0,S.Z)(function*(){let H;switch(function ms(E,C){js(Object.values(ut).includes(C),E,"invalid-persistence-type"),(0,Me.b$)()?js(C!==ut.SESSION,E,"unsupported-persistence-type"):(0,Me.UG)()?js(C===ut.NONE,E,"unsupported-persistence-type"):Qn()?js(C===ut.NONE||C===ut.LOCAL&&(0,Me.hl)(),E,"unsupported-persistence-type"):js(C===ut.NONE||pn(),E,"unsupported-persistence-type")}(F._delegate,b),b){case ut.SESSION:H=O.a;break;case ut.LOCAL:H=(yield O.aE(O.i)._isAvailable())?O.i:O.b;break;case ut.NONE:H=O.U;break;default:return O.ax("argument-error",{appName:F._delegate.name})}return F._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Cn(this._delegate,O.a0(this._delegate))}signInWithCredential(b){return Cn(this._delegate,O.a1(this._delegate,b))}signInWithCustomToken(b){return Cn(this._delegate,O.a4(this._delegate,b))}signInWithEmailAndPassword(b,F){return Cn(this._delegate,O.ab(this._delegate,b,F))}signInWithEmailLink(b,F){return Cn(this._delegate,O.ae(this._delegate,b,F))}signInWithPhoneNumber(b,F){return _s(this._delegate,O.s(this._delegate,b,F))}signInWithPopup(b){var F=this;return(0,S.Z)(function*(){return Xn(sr(),F._delegate,"operation-not-supported-in-this-environment"),Cn(F._delegate,O.c(F._delegate,b,Mr))})()}signInWithRedirect(b){var F=this;return(0,S.Z)(function*(){return Xn(sr(),F._delegate,"operation-not-supported-in-this-environment"),yield gs(F._delegate),O.f(F._delegate,b,Mr)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return O.a9(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=ut,E})();function Oi(E,C,b){let F=E;"function"!=typeof E&&({next:F,error:C,complete:b}=E);const H=F;return{next:_e=>H(_e&&or.getOrCreate(_e)),error:C,complete:b}}function fl(E,C){const b=function Mi(E,C){const b=Pi();if(!b)return[];const F=O.aF(Hs,E,C);switch(b.getItem(F)){case ut.NONE:return[O.U];case ut.LOCAL:return[O.i,O.a];case ut.SESSION:return[O.a];default:return[]}}(E,C);if(typeof self<"u"&&!b.includes(O.i)&&b.push(O.i),typeof window<"u")for(const F of[O.b,O.a])b.includes(F)||b.push(F);return b.includes(O.U)||b.push(O.U),b}class Fo{constructor(){this.providerId="phone",this._delegate=new O.P(Lt(Y.Z.auth()))}static credential(C,b){return O.P.credential(C,b)}verifyPhoneNumber(C,b){return this._delegate.verifyPhoneNumber(C,b)}unwrap(){return this._delegate}}Fo.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Fo.PROVIDER_ID=O.P.PROVIDER_ID;const Ea=O.aC;class zs{constructor(C,b,F=Y.Z.app()){var H;Ea(null===(H=F.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:F.name}),this._delegate=new O.R(F.auth(),C,b),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function x(E){E.INTERNAL.registerComponent(new jn.wA("auth-compat",C=>{const b=C.getProvider("app-compat").getImmediate(),F=C.getProvider("auth");return new jr(b,F)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.V,FacebookAuthProvider:O.W,GithubAuthProvider:O.Y,GoogleAuthProvider:O.X,OAuthProvider:O.Z,SAMLAuthProvider:O._,PhoneAuthProvider:Fo,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:zs,TwitterAuthProvider:O.$,Auth:jr,AuthCredential:O.L,Error:Me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.9")}(Y.Z)},861:(Bs,rr,Be)=>{function S(O,Me,rt,hn,jn,Xt,Dt){try{var Q=O[Xt](Dt),oe=Q.value}catch(De){return void rt(De)}Q.done?Me(oe):Promise.resolve(oe).then(hn,jn)}function Y(O){return function(){var Me=this,rt=arguments;return new Promise(function(hn,jn){var Xt=O.apply(Me,rt);function Dt(oe){S(Xt,hn,jn,Dt,Q,"next",oe)}function Q(oe){S(Xt,hn,jn,Dt,Q,"throw",oe)}Dt(void 0)})}}Be.d(rr,{Z:()=>Y})},582:(Bs,rr,Be)=>{function Me($,q){var B={};for(var z in $)Object.prototype.hasOwnProperty.call($,z)&&q.indexOf(z)<0&&(B[z]=$[z]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(z=Object.getOwnPropertySymbols($);X<z.length;X++)q.indexOf(z[X])<0&&Object.prototype.propertyIsEnumerable.call($,z[X])&&(B[z[X]]=$[z[X]])}return B}function De($,q,B,z){return new(B||(B=Promise))(function(Z,he){function ft(Tt){try{Oe(z.next(Tt))}catch(fn){he(fn)}}function ce(Tt){try{Oe(z.throw(Tt))}catch(fn){he(fn)}}function Oe(Tt){Tt.done?Z(Tt.value):function X(Z){return Z instanceof B?Z:new B(function(he){he(Z)})}(Tt.value).then(ft,ce)}Oe((z=z.apply($,q||[])).next())})}function mt($){return this instanceof mt?(this.v=$,this):new mt($)}function Gt($,q,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,z=B.apply($,q||[]),Z=[];return X={},he("next"),he("throw"),he("return"),X[Symbol.asyncIterator]=function(){return this},X;function he(Jt){z[Jt]&&(X[Jt]=function(pn){return new Promise(function(Qn,sr){Z.push([Jt,pn,Qn,sr])>1||ft(Jt,pn)})})}function ft(Jt,pn){try{!function ce(Jt){Jt.value instanceof mt?Promise.resolve(Jt.value.v).then(Oe,Tt):fn(Z[0][2],Jt)}(z[Jt](pn))}catch(Qn){fn(Z[0][3],Qn)}}function Oe(Jt){ft("next",Jt)}function Tt(Jt){ft("throw",Jt)}function fn(Jt,pn){Jt(pn),Z.shift(),Z.length&&ft(Z[0][0],Z[0][1])}}function Zn($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,q=$[Symbol.asyncIterator];return q?q.call($):($=function vt($){var q="function"==typeof Symbol&&Symbol.iterator,B=q&&$[q],z=0;if(B)return B.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&z>=$.length&&($=void 0),{value:$&&$[z++],done:!$}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}($),B={},z("next"),z("throw"),z("return"),B[Symbol.asyncIterator]=function(){return this},B);function z(Z){B[Z]=$[Z]&&function(he){return new Promise(function(ft,ce){!function X(Z,he,ft,ce){Promise.resolve(ce).then(function(Oe){Z({value:Oe,done:ft})},he)}(ft,ce,(he=$[Z](he)).done,he.value)})}}}Be.d(rr,{FC:()=>Gt,KL:()=>Zn,_T:()=>Me,mG:()=>De,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},Bs=>{Bs(Bs.s=389)}]);