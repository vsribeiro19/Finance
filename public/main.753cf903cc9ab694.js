"use strict";(self.webpackChunkFinance=self.webpackChunkFinance||[]).push([[179],{90:(ui,hn,Se)=>{Se.d(hn,{BH:()=>gt,DV:()=>On,Dv:()=>_r,GJ:()=>Zt,L:()=>$e,LL:()=>k,Pz:()=>it,Sg:()=>Gn,UG:()=>$,UI:()=>Ys,US:()=>vt,Wj:()=>sr,Wl:()=>ge,Yr:()=>ki,ZB:()=>he,ZR:()=>z,aH:()=>yt,b$:()=>jt,cI:()=>ce,dS:()=>fi,eu:()=>O,g5:()=>F,gK:()=>Yt,gQ:()=>kn,h$:()=>tn,hl:()=>x,hu:()=>ye,jU:()=>Mt,lb:()=>or,m9:()=>to,ne:()=>hi,p$:()=>J,pd:()=>la,r3:()=>xn,ru:()=>wt,tV:()=>W,uI:()=>nn,ug:()=>Fi,vZ:()=>di,w1:()=>Wr,w9:()=>mn,xO:()=>aa,xb:()=>ir,z$:()=>Le,zd:()=>Mr});const w={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ye=function(S,b){if(!S)throw F(b)},F=function(S){return new Error("Firebase Database ("+w.SDK_VERSION+") INTERNAL ASSERT FAILED: "+S)},Ie=function(S){const b=[];let T=0;for(let H=0;H<S.length;H++){let P=S.charCodeAt(H);P<128?b[T++]=P:P<2048?(b[T++]=P>>6|192,b[T++]=63&P|128):55296==(64512&P)&&H+1<S.length&&56320==(64512&S.charCodeAt(H+1))?(P=65536+((1023&P)<<10)+(1023&S.charCodeAt(++H)),b[T++]=P>>18|240,b[T++]=P>>12&63|128,b[T++]=P>>6&63|128,b[T++]=63&P|128):(b[T++]=P>>12|224,b[T++]=P>>6&63|128,b[T++]=63&P|128)}return b},vt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(S,b){if(!Array.isArray(S))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let P=0;P<S.length;P+=3){const re=S[P],ie=P+1<S.length,Fe=ie?S[P+1]:0,Ve=P+2<S.length,Ct=Ve?S[P+2]:0;let pe=(15&Fe)<<2|Ct>>6,Pr=63&Ct;Ve||(Pr=64,ie||(pe=64)),H.push(T[re>>2],T[(3&re)<<4|Fe>>4],T[pe],T[Pr])}return H.join("")},encodeString(S,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(S):this.encodeByteArray(Ie(S),b)},decodeString(S,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(S):function(S){const b=[];let T=0,H=0;for(;T<S.length;){const P=S[T++];if(P<128)b[H++]=String.fromCharCode(P);else if(P>191&&P<224){const re=S[T++];b[H++]=String.fromCharCode((31&P)<<6|63&re)}else if(P>239&&P<365){const Ve=((7&P)<<18|(63&S[T++])<<12|(63&S[T++])<<6|63&S[T++])-65536;b[H++]=String.fromCharCode(55296+(Ve>>10)),b[H++]=String.fromCharCode(56320+(1023&Ve))}else{const re=S[T++],ie=S[T++];b[H++]=String.fromCharCode((15&P)<<12|(63&re)<<6|63&ie)}}return b.join("")}(this.decodeStringToByteArray(S,b))},decodeStringToByteArray(S,b){this.init_();const T=b?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let P=0;P<S.length;){const re=T[S.charAt(P++)],Fe=P<S.length?T[S.charAt(P)]:0;++P;const Ct=P<S.length?T[S.charAt(P)]:64;++P;const fe=P<S.length?T[S.charAt(P)]:64;if(++P,null==re||null==Fe||null==Ct||null==fe)throw new Ft;H.push(re<<2|Fe>>4),64!==Ct&&(H.push(Fe<<4&240|Ct>>2),64!==fe&&H.push(Ct<<6&192|fe))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let S=0;S<this.ENCODED_VALS.length;S++)this.byteToCharMap_[S]=this.ENCODED_VALS.charAt(S),this.charToByteMap_[this.byteToCharMap_[S]]=S,this.byteToCharMapWebSafe_[S]=this.ENCODED_VALS_WEBSAFE.charAt(S),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[S]]=S,S>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(S)]=S,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(S)]=S)}}};class Ft extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tn=function(S){const b=Ie(S);return vt.encodeByteArray(b,!0)},$e=function(S){return tn(S).replace(/\./g,"")},W=function(S){try{return vt.decodeString(S,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};function J(S){return he(void 0,S)}function he(S,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===S&&(S={});break;case Array:S=[];break;default:return b}for(const T in b)!b.hasOwnProperty(T)||!Be(T)||(S[T]=he(S[T],b[T]));return S}function Be(S){return"__proto__"!==S}const ke=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const S=process.env.__FIREBASE_DEFAULTS__;return S?JSON.parse(S):void 0})()||(()=>{if(typeof document>"u")return;let S;try{S=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const b=S&&W(S[1]);return b&&JSON.parse(b)})()}catch(S){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${S}`)}},yt=()=>{var S;return null===(S=ke())||void 0===S?void 0:S.config},it=S=>{var b;return null===(b=ke())||void 0===b?void 0:b[`_${S}`]};class gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((b,T)=>{this.resolve=b,this.reject=T})}wrapCallback(b){return(T,H)=>{T?this.reject(T):this.resolve(H),"function"==typeof b&&(this.promise.catch(()=>{}),1===b.length?b(T):b(T,H))}}}function Gn(S,b){if(S.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=b||"demo-project",P=S.iat||0,re=S.sub||S.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ie=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:P,exp:P+3600,auth_time:P,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},S);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(ie)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function $(){var S;const b=null===(S=ke())||void 0===S?void 0:S.forceEnvironment;if("node"===b)return!0;if("browser"===b)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function wt(){const S="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof S&&void 0!==S.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wr(){const S=Le();return S.indexOf("MSIE ")>=0||S.indexOf("Trident/")>=0}function ki(){return!0===w.NODE_CLIENT||!0===w.NODE_ADMIN}function x(){try{return"object"==typeof indexedDB}catch{return!1}}function O(){return new Promise((S,b)=>{try{let T=!0;const H="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(H);P.onsuccess=()=>{P.result.close(),T||self.indexedDB.deleteDatabase(H),S(!0)},P.onupgradeneeded=()=>{T=!1},P.onerror=()=>{var re;b((null===(re=P.error)||void 0===re?void 0:re.message)||"")}}catch(T){b(T)}})}class z extends Error{constructor(b,T,H){super(T),this.code=b,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}}class k{constructor(b,T,H){this.service=b,this.serviceName=T,this.errors=H}create(b,...T){const H=T[0]||{},P=`${this.service}/${b}`,re=this.errors[b],ie=re?function ne(S,b){return S.replace(Ke,(T,H)=>{const P=b[H];return null!=P?String(P):`<${H}?>`})}(re,H):"Error";return new z(P,`${this.serviceName}: ${ie} (${P}).`,H)}}const Ke=/\{\$([^}]+)}/g;function ce(S){return JSON.parse(S)}function ge(S){return JSON.stringify(S)}const Je=function(S){let b={},T={},H={},P="";try{const re=S.split(".");b=ce(W(re[0])||""),T=ce(W(re[1])||""),P=re[2],H=T.d||{},delete T.d}catch{}return{header:b,claims:T,data:H,signature:P}},mn=function(S){const T=Je(S).claims;return!!T&&"object"==typeof T&&T.hasOwnProperty("iat")},Zt=function(S){const b=Je(S).claims;return"object"==typeof b&&!0===b.admin};function xn(S,b){return Object.prototype.hasOwnProperty.call(S,b)}function On(S,b){if(Object.prototype.hasOwnProperty.call(S,b))return S[b]}function ir(S){for(const b in S)if(Object.prototype.hasOwnProperty.call(S,b))return!1;return!0}function Ys(S,b,T){const H={};for(const P in S)Object.prototype.hasOwnProperty.call(S,P)&&(H[P]=b.call(T,S[P],P,S));return H}function di(S,b){if(S===b)return!0;const T=Object.keys(S),H=Object.keys(b);for(const P of T){if(!H.includes(P))return!1;const re=S[P],ie=b[P];if(Kt(re)&&Kt(ie)){if(!di(re,ie))return!1}else if(re!==ie)return!1}for(const P of H)if(!T.includes(P))return!1;return!0}function Kt(S){return null!==S&&"object"==typeof S}function aa(S){const b=[];for(const[T,H]of Object.entries(S))Array.isArray(H)?H.forEach(P=>{b.push(encodeURIComponent(T)+"="+encodeURIComponent(P))}):b.push(encodeURIComponent(T)+"="+encodeURIComponent(H));return b.length?"&"+b.join("&"):""}function Mr(S){const b={};return S.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[P,re]=H.split("=");b[decodeURIComponent(P)]=decodeURIComponent(re)}}),b}function la(S){const b=S.indexOf("?");if(!b)return"";const T=S.indexOf("#",b);return S.substring(b,T>0?T:void 0)}class kn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let b=1;b<this.blockSize;++b)this.pad_[b]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(b,T){T||(T=0);const H=this.W_;if("string"==typeof b)for(let fe=0;fe<16;fe++)H[fe]=b.charCodeAt(T)<<24|b.charCodeAt(T+1)<<16|b.charCodeAt(T+2)<<8|b.charCodeAt(T+3),T+=4;else for(let fe=0;fe<16;fe++)H[fe]=b[T]<<24|b[T+1]<<16|b[T+2]<<8|b[T+3],T+=4;for(let fe=16;fe<80;fe++){const pe=H[fe-3]^H[fe-8]^H[fe-14]^H[fe-16];H[fe]=4294967295&(pe<<1|pe>>>31)}let Ct,rn,P=this.chain_[0],re=this.chain_[1],ie=this.chain_[2],Fe=this.chain_[3],Ve=this.chain_[4];for(let fe=0;fe<80;fe++){fe<40?fe<20?(Ct=Fe^re&(ie^Fe),rn=1518500249):(Ct=re^ie^Fe,rn=1859775393):fe<60?(Ct=re&ie|Fe&(re|ie),rn=2400959708):(Ct=re^ie^Fe,rn=3395469782);const pe=(P<<5|P>>>27)+Ct+Ve+rn+H[fe]&4294967295;Ve=Fe,Fe=ie,ie=4294967295&(re<<30|re>>>2),re=P,P=pe}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+re&4294967295,this.chain_[2]=this.chain_[2]+ie&4294967295,this.chain_[3]=this.chain_[3]+Fe&4294967295,this.chain_[4]=this.chain_[4]+Ve&4294967295}update(b,T){if(null==b)return;void 0===T&&(T=b.length);const H=T-this.blockSize;let P=0;const re=this.buf_;let ie=this.inbuf_;for(;P<T;){if(0===ie)for(;P<=H;)this.compress_(b,P),P+=this.blockSize;if("string"==typeof b){for(;P<T;)if(re[ie]=b.charCodeAt(P),++ie,++P,ie===this.blockSize){this.compress_(re),ie=0;break}}else for(;P<T;)if(re[ie]=b[P],++ie,++P,ie===this.blockSize){this.compress_(re),ie=0;break}}this.inbuf_=ie,this.total_+=T}digest(){const b=[];let T=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&T,T/=256;this.compress_(this.buf_);let H=0;for(let P=0;P<5;P++)for(let re=24;re>=0;re-=8)b[H]=this.chain_[P]>>re&255,++H;return b}}function hi(S,b){const T=new Li(S,b);return T.subscribe.bind(T)}class Li{constructor(b,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{b(this)}).catch(H=>{this.error(H)})}next(b){this.forEachObserver(T=>{T.next(b)})}error(b){this.forEachObserver(T=>{T.error(b)}),this.close(b)}complete(){this.forEachObserver(b=>{b.complete()}),this.close()}subscribe(b,T,H){let P;if(void 0===b&&void 0===T&&void 0===H)throw new Error("Missing Observer.");P=function hs(S,b){if("object"!=typeof S||null===S)return!1;for(const T of b)if(T in S&&"function"==typeof S[T])return!0;return!1}(b,["next","error","complete"])?b:{next:b,error:T,complete:H},void 0===P.next&&(P.next=Et),void 0===P.error&&(P.error=Et),void 0===P.complete&&(P.complete=Et);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),re}unsubscribeOne(b){void 0===this.observers||void 0===this.observers[b]||(delete this.observers[b],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(b){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,b)}sendOne(b,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[b])try{T(this.observers[b])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(b){this.finalized||(this.finalized=!0,void 0!==b&&(this.finalError=b),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Et(){}const _r=function(S,b,T,H){let P;if(H<b?P="at least "+b:H>T&&(P=0===T?"none":"no more than "+T),P)throw new Error(S+" failed: Was called with "+H+(1===H?" argument.":" arguments.")+" Expects "+P+".")};function Yt(S,b){return`${S} failed: ${b} argument `}function sr(S,b,T,H){if((!H||T)&&"function"!=typeof T)throw new Error(Yt(S,b)+"must be a valid function.")}function or(S,b,T,H){if((!H||T)&&("object"!=typeof T||null===T))throw new Error(Yt(S,b)+"must be a valid context object.")}const fi=function(S){const b=[];let T=0;for(let H=0;H<S.length;H++){let P=S.charCodeAt(H);if(P>=55296&&P<=56319){const re=P-55296;H++,ye(H<S.length,"Surrogate pair missing trail surrogate."),P=65536+(re<<10)+(S.charCodeAt(H)-56320)}P<128?b[T++]=P:P<2048?(b[T++]=P>>6|192,b[T++]=63&P|128):P<65536?(b[T++]=P>>12|224,b[T++]=P>>6&63|128,b[T++]=63&P|128):(b[T++]=P>>18|240,b[T++]=P>>12&63|128,b[T++]=P>>6&63|128,b[T++]=63&P|128)}return b},Fi=function(S){let b=0;for(let T=0;T<S.length;T++){const H=S.charCodeAt(T);H<128?b++:H<2048?b+=2:H>=55296&&H<=56319?(b+=4,T++):b+=3}return b};function to(S){return S&&S._delegate?S._delegate:S}},793:(ui,hn,Se)=>{function w(t){return"function"==typeof t}function ye(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const F=ye(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ie(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(w(r))try{r()}catch(s){e=s instanceof F?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{tn(s)}catch(o){e=e??[],o instanceof F?e=[...e,...o.errors]:e.push(o)}}if(e)throw new F(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tn(e);else{if(e instanceof tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ie(n,e)}remove(e){const{_finalizers:n}=this;n&&Ie(n,e),e instanceof tt&&e._removeParent(this)}}tt.EMPTY=(()=>{const t=new tt;return t.closed=!0,t})();const vt=tt.EMPTY;function Ft(t){return t instanceof tt||t&&"closed"in t&&w(t.remove)&&w(t.add)&&w(t.unsubscribe)}function tn(t){w(t)?t():t.unsubscribe()}const $e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},W={setTimeout(t,e,...n){const{delegate:r}=W;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=W;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function J(t){W.setTimeout(()=>{const{onUnhandledError:e}=$e;if(!e)throw t;e(t)})}function he(){}const Be=rt("C",void 0,void 0);function rt(t,e,n){return{kind:t,value:e,error:n}}let De=null;function ke(t){if($e.useDeprecatedSynchronousErrorHandling){const e=!De;if(e&&(De={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=De;if(De=null,n)throw r}}else t()}class gn extends tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ft(e)&&e.add(this)):this.destination=Mt}static create(e,n,r){return new Gn(e,n,r)}next(e){this.isStopped?$(function fn(t){return rt("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$(function nt(t){return rt("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function it(t,e){return yt.call(t,e)}class gt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Le(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Le(r)}else Le(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Le(n)}}}class Gn extends gn{constructor(e,n,r){let i;if(super(),w(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&$e.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&it(e.next,s),error:e.error&&it(e.error,s),complete:e.complete&&it(e.complete,s)}):i=e}this.destination=new gt(i)}}function Le(t){$e.useDeprecatedSynchronousErrorHandling?function pn(t){$e.useDeprecatedSynchronousErrorHandling&&De&&(De.errorThrown=!0,De.error=t)}(t):J(t)}function $(t,e){const{onStoppedNotification:n}=$e;n&&W.setTimeout(()=>n(t,e))}const Mt={closed:!0,next:he,error:function nn(t){throw t},complete:he},wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function jt(t){return t}function Wr(t){return 0===t.length?jt:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function x(t){return t&&t instanceof gn||function ci(t){return t&&w(t.next)&&w(t.error)&&w(t.complete)}(t)&&Ft(t)}(n)?n:new Gn(n,r,i);return ke(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ki(r))((i,s)=>{const o=new Gn({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[wt](){return this}pipe(...n){return Wr(n)(this)}toPromise(n){return new(n=ki(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ki(t){var e;return null!==(e=t??$e.Promise)&&void 0!==e?e:Promise}const O=ye(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let V=(()=>{class t extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new j(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new O}next(n){ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?vt:(this.currentObservers=null,s.push(n),new tt(()=>{this.currentObservers=null,Ie(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Qe;return n.source=this,n}}return t.create=(e,n)=>new j(e,n),t})();class j extends V{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:vt}}function z(t){return w(t?.lift)}function k(t){return e=>{if(z(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,e,n,r,i){return new Ke(t,e,n,r,i)}class Ke extends gn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(t,e){return k((n,r)=>{let i=0;n.subscribe(ne(r,s=>{r.next(t.call(e,s,i++))}))})}var ge=Se(582);const Je=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Pt(t){return w(t?.then)}function mt(t){return w(t[wt])}function mn(t){return Symbol.asyncIterator&&w(t?.[Symbol.asyncIterator])}function Zt(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const On=function xn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ir(t){return w(t?.[On])}function Ys(t){return(0,ge.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,ge.qq)(n.read());if(i)return yield(0,ge.qq)(void 0);yield yield(0,ge.qq)(r)}}finally{n.releaseLock()}})}function di(t){return w(t?.getReader)}function Kt(t){if(t instanceof Qe)return t;if(null!=t){if(mt(t))return function Qs(t){return new Qe(e=>{const n=t[wt]();if(w(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Je(t))return function aa(t){return new Qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Pt(t))return function Mr(t){return new Qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,J)})}(t);if(mn(t))return kn(t);if(ir(t))return function la(t){return new Qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(di(t))return function hi(t){return kn(Ys(t))}(t)}throw Zt(t)}function kn(t){return new Qe(e=>{(function Li(t,e){var n,r,i,s;return(0,ge.mG)(this,void 0,void 0,function*(){try{for(n=(0,ge.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Dn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Et(t,e,n=1/0){return w(e)?Et((r,i)=>ce((s,o)=>e(r,s,i,o))(Kt(t(r,i))),n):("number"==typeof e&&(n=e),k((r,i)=>function hs(t,e,n,r,i,s,o,a){const c=[];let h=0,p=0,g=!1;const _=()=>{g&&!c.length&&!h&&e.complete()},y=A=>h<r?I(A):c.push(A),I=A=>{s&&e.next(A),h++;let M=!1;Kt(n(A,p++)).subscribe(ne(e,U=>{i?.(U),s?y(U):e.next(U)},()=>{M=!0},void 0,()=>{if(M)try{for(h--;c.length&&h<r;){const U=c.shift();o?Dn(e,o,()=>I(U)):I(U)}_()}catch(U){e.error(U)}}))};return t.subscribe(ne(e,y,()=>{g=!0,_()})),()=>{a?.()}}(r,i,t,n)))}function _r(t=1/0){return Et(jt,t)}const Yt=new Qe(t=>t.complete());function fi(t){return t[t.length-1]}function Fi(t){return w(fi(t))?t.pop():void 0}function Vi(t){return function or(t){return t&&w(t.schedule)}(fi(t))?t.pop():void 0}function Ln(t,e=0){return k((n,r)=>{n.subscribe(ne(r,i=>Dn(r,t,()=>r.next(i),e),()=>Dn(r,t,()=>r.complete(),e),i=>Dn(r,t,()=>r.error(i),e)))})}function qn(t,e=0){return k((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function to(t,e){if(!t)throw new Error("Iterable cannot be null");return new Qe(n=>{Dn(n,e,()=>{const r=t[Symbol.asyncIterator]();Dn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function T(t,e){return e?function b(t,e){if(null!=t){if(mt(t))return function Ui(t,e){return Kt(t).pipe(qn(e),Ln(e))}(t,e);if(Je(t))return function pl(t,e){return new Qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Pt(t))return function eo(t,e){return Kt(t).pipe(qn(e),Ln(e))}(t,e);if(mn(t))return to(t,e);if(ir(t))return function ua(t,e){return new Qe(n=>{let r;return Dn(n,e,()=>{r=t[On](),Dn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>w(r?.return)&&r.return()})}(t,e);if(di(t))return function S(t,e){return to(Ys(t),e)}(t,e)}throw Zt(t)}(t,e):Kt(t)}function H(...t){const e=Vi(t),n=function Xs(t,e){return"number"==typeof fi(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Kt(r[0]):_r(n)(T(r,e)):Yt}function P(t={}){const{connector:e=(()=>new V),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,h=0,p=!1,g=!1;const _=()=>{a?.unsubscribe(),a=void 0},y=()=>{_(),o=c=void 0,p=g=!1},I=()=>{const A=o;y(),A?.unsubscribe()};return k((A,M)=>{h++,!g&&!p&&_();const U=c=c??e();M.add(()=>{h--,0===h&&!g&&!p&&(a=re(I,i))}),U.subscribe(M),!o&&h>0&&(o=new Gn({next:q=>U.next(q),error:q=>{g=!0,_(),a=re(y,n,q),U.error(q)},complete:()=>{p=!0,_(),a=re(y,r),U.complete()}}),Kt(A).subscribe(o))})(s)}}function re(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Gn({next:()=>{r.unsubscribe(),t()}});return Kt(e(...n)).subscribe(r)}function ie(t){for(let e in t)if(t[e]===ie)return e;throw Error("Could not find renamed property on target object.")}function Fe(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ct(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rn=ie({__forward_ref__:ie});function fe(t){return t.__forward_ref__=fe,t.toString=function(){return Ve(this())},t}function pe(t){return Pr(t)?t():t}function Pr(t){return"function"==typeof t&&t.hasOwnProperty(rn)&&t.__forward_ref__===fe}function zr(t){return t&&!!t.\u0275providers}class C extends Error{constructor(e,n){super(Z(e,n)),this.code=e}}function Z(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function It(t,e){throw new C(-201,!1)}function vr(t,e){null==t&&function at(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function _e(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ml(t){return mf(t,da)||mf(t,hc)}function mf(t,e){return t.hasOwnProperty(e)?t[e]:null}function cc(t){return t&&(t.hasOwnProperty(dc)||t.hasOwnProperty(m_))?t[dc]:null}const da=ie({\u0275prov:ie}),dc=ie({\u0275inj:ie}),hc=ie({ngInjectableDef:ie}),m_=ie({ngInjectorDef:ie});var me=(()=>((me=me||{})[me.Default=0]="Default",me[me.Host=1]="Host",me[me.Self=2]="Self",me[me.SkipSelf=4]="SkipSelf",me[me.Optional=8]="Optional",me))();let _l;function yr(t){const e=_l;return _l=t,e}function vl(t,e,n){const r=ml(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&me.Optional?null:void 0!==e?e:void It(Ve(t))}const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fs={},no="__NG_DI_FLAG__",ro="ngTempTokenPath",__="ngTokenPath",pc=/\n/gm,v_="\u0275",yl="__source";let ha;function Bi(t){const e=ha;return ha=t,e}function y_(t,e=me.Default){if(void 0===ha)throw new C(-203,!1);return null===ha?vl(t,void 0,e):ha.get(t,e&me.Optional?null:void 0,e)}function X(t,e=me.Default){return(function fc(){return _l}()||y_)(pe(t),e)}function je(t,e=me.Default){return X(t,wl(e))}function wl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fa(t){const e=[];for(let n=0;n<t.length;n++){const r=pe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],c=gi(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(X(i,s))}else e.push(X(r))}return e}function pi(t,e){return t[no]=e,t.prototype[no]=e,t}function gi(t){return t[no]}function on(t){return{toString:t}.toString()}var qr=(()=>((qr=qr||{})[qr.OnPush=0]="OnPush",qr[qr.Default=1]="Default",qr))(),wr=(()=>{return(t=wr||(wr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",wr;var t})();const mi={},Xe=[],El=ie({\u0275cmp:ie}),pa=ie({\u0275dir:ie}),mc=ie({\u0275pipe:ie}),yf=ie({\u0275mod:ie}),Nr=ie({\u0275fac:ie}),xr=ie({__NG_ELEMENT_ID__:ie});let E_=0;function Hi(t){return on(()=>{const e=vc(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||wr.Emulated,id:"c"+E_++,styles:t.styles||Xe,_:null,schemas:t.schemas||null,tView:null};yc(n);const r=t.dependencies;return n.directiveDefs=oo(r,!1),n.pipeDefs=oo(r,!0),n})}function pI(t){return ot(t)||Sn(t)}function _c(t){return null!==t}function Nt(t){return on(()=>({type:t.type,bootstrap:t.bootstrap||Xe,declarations:t.declarations||Xe,imports:t.imports||Xe,exports:t.exports||Xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ps(t,e){if(null==t)return mi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function we(t){return on(()=>{const e=vc(t);return yc(e),e})}function ot(t){return t[El]||null}function Sn(t){return t[pa]||null}function Qt(t){return t[mc]||null}function Tn(t,e){const n=t[yf]||null;if(!n&&!0===e)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return n}function vc(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Xe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ps(t.inputs,e),outputs:ps(t.outputs)}}function yc(t){t.features?.forEach(e=>e(t))}function oo(t,e){if(!t)return null;const n=e?Qt:pI;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(_c)}const Wt=0,oe=1,Ne=2,Dt=3,Zn=4,ji=5,vn=6,ao=7,xt=8,lo=9,uo=10,Te=11,ma=12,co=13,Cl=14,gs=15,an=16,$i=17,Wi=18,Or=19,ms=20,wc=21,ft=22,_a=1,wf=2,ho=7,zi=8,Gi=9,yn=10;function Vn(t){return Array.isArray(t)&&"object"==typeof t[_a]}function ar(t){return Array.isArray(t)&&!0===t[_a]}function Cc(t){return 0!=(4&t.flags)}function _s(t){return t.componentOffset>-1}function Il(t){return 1==(1&t.flags)}function lr(t){return!!t.template}function C_(t){return 0!=(256&t[Ne])}function _i(t,e){return t.hasOwnProperty(Nr)?t[Nr]:null}class I_{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kn(){return Mf}function Mf(t){return t.type.prototype.ngOnChanges&&(t.setInput=b_),bc}function bc(){const t=Dc(this),e=t?.current;if(e){const n=t.previous;if(n===mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function b_(t,e,n,r){const i=this.declaredInputs[n],s=Dc(t)||function Sc(t,e){return t[Pf]=e}(t,{previous:mi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new I_(c&&c.currentValue,e,a===mi),t[r]=e}Kn.ngInherit=!0;const Pf="__ngSimpleChanges__";function Dc(t){return t[Pf]||null}const ur=function(t,e,n){},Nf="svg";function wn(t){for(;Array.isArray(t);)t=t[Wt];return t}function Dl(t,e){return wn(e[t])}function Er(t,e){return wn(e[t.index])}function S_(t,e){return t.data[e]}function Yn(t,e){const n=e[t];return Vn(n)?n:n[Wt]}function Ac(t){return 64==(64&t[Ne])}function vs(t,e){return null==e?null:t[e]}function A_(t){t[Wi]=0}function Of(t,e){t[ji]+=e;let n=t,r=t[Dt];for(;null!==r&&(1===e&&1===n[ji]||-1===e&&0===n[ji]);)r[ji]+=e,n=r,r=r[Dt]}const Ae={lFrame:Ff(null),bindingsEnabled:!0};function kf(){return Ae.bindingsEnabled}function G(){return Ae.lFrame.lView}function qe(){return Ae.lFrame.tView}function zt(){let t=Pc();for(;null!==t&&64===t.type;)t=t.parent;return t}function Pc(){return Ae.lFrame.currentTNode}function Zr(t,e){const n=Ae.lFrame;n.currentTNode=t,n.isParent=e}function Nc(){return Ae.lFrame.isParent}function mo(){return Ae.lFrame.bindingIndex++}function O_(t,e){const n=Ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Oc(e)}function Oc(t){Ae.lFrame.currentDirectiveIndex=t}function Fc(t){Ae.lFrame.currentQueryIndex=t}function Rl(t){const e=t[oe];return 2===e.type?e.declTNode:1===e.type?t[vn]:null}function Vc(t,e,n){if(n&me.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&me.Host||(i=Rl(s),null===i||(s=s[gs],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Ae.lFrame=ya();return r.currentTNode=e,r.lView=t,!0}function ys(t){const e=ya(),n=t[oe];Ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ya(){const t=Ae.lFrame,e=null===t?null:t.child;return null===e?Ff(t):e}function Ff(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ml(){const t=Ae.lFrame;return Ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Uc=Ml;function wa(){const t=Ml();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function An(){return Ae.lFrame.selectedIndex}function ws(t){Ae.lFrame.selectedIndex=t}function Ot(){const t=Ae.lFrame;return S_(t.tView,t.selectedIndex)}function Vf(){Ae.lFrame.currentNamespace=Nf}function Pl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:p}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),c&&(t.viewHooks??(t.viewHooks=[])).push(-n,c),h&&((t.viewHooks??(t.viewHooks=[])).push(n,h),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,h)),null!=p&&(t.destroyHooks??(t.destroyHooks=[])).push(n,p)}}function Es(t,e,n){Bf(t,e,3,n)}function Nl(t,e,n,r){(3&t[Ne])===n&&Bf(t,e,n,r)}function Hc(t,e){let n=t[Ne];(3&n)===e&&(n&=2047,n+=1,t[Ne]=n)}function Bf(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Wi]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Wi]+=65536),(a<s||-1==s)&&(jc(t,n,e,c),t[Wi]=(4294901760&t[Wi])+c+2),c++}function jc(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[Ne]>>11<t[Wi]>>16&&(3&t[Ne])===e){t[Ne]+=2048,ur(4,a,s);try{s.call(a)}finally{ur(5,a,s)}}}else{ur(4,a,s);try{s.call(a)}finally{ur(5,a,s)}}}const vo=-1;class Ea{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Wc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];jf(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function xl(t){return 3===t||4===t||6===t}function jf(t){return 64===t.charCodeAt(0)}function Cs(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$f(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $f(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ol(t){return t!==vo}function Is(t){return 32767&t}function kl(t,e){let n=function zc(t){return t>>16}(t),r=e;for(;n>0;)r=r[gs],n--;return r}let Ca=!0;function Zi(t){const e=Ca;return Ca=t,e}const Ll=255,Wf=5;let $_=0;const Kr={};function Ia(t,e){const n=zf(t,e);if(-1!==n)return n;const r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,qc(r.data,t),qc(e,null),qc(r.blueprint,null));const i=ba(t,e),s=t.injectorIndex;if(Ol(i)){const o=Is(i),a=kl(i,e),c=a[oe].data;for(let h=0;h<8;h++)e[s+h]=a[o+h]|c[o+h]}return e[s+8]=i,s}function qc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zf(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ba(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Zf(i),null===r)return vo;if(n++,i=i[gs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return vo}function Zc(t,e,n){!function Gc(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xr)&&(r=n[xr]),null==r&&(r=n[xr]=$_++);const i=r&Ll;e.data[t+(i>>Wf)]|=1<<i}(t,e,n)}function Gf(t,e,n){if(n&me.Optional||void 0!==t)return t;It()}function Fl(t,e,n,r){if(n&me.Optional&&void 0===r&&(r=null),!(n&(me.Self|me.Host))){const i=t[lo],s=yr(void 0);try{return i?i.get(e,r,n&me.Optional):vl(e,r,n&me.Optional)}finally{yr(s)}}return Gf(r,0,n)}function Vl(t,e,n,r=me.Default,i){if(null!==t){if(1024&e[Ne]){const o=function W_(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[Ne]&&!(256&o[Ne]);){const a=qf(s,o,n,r|me.Self,Kr);if(a!==Kr)return a;let c=s.parent;if(!c){const h=o[wc];if(h){const p=h.get(n,Kr,r);if(p!==Kr)return p}c=Zf(o),o=o[gs]}s=c}return i}(t,e,n,r,Kr);if(o!==Kr)return o}const s=qf(t,e,n,r,Kr);if(s!==Kr)return s}return Fl(e,n,r,i)}function qf(t,e,n,r,i){const s=function Yc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(xr)?t[xr]:void 0;return"number"==typeof e?e>=0?e&Ll:Qc:e}(n);if("function"==typeof s){if(!Vc(e,t,r))return r&me.Host?Gf(i,0,r):Fl(e,n,r,i);try{const o=s(r);if(null!=o||r&me.Optional)return o;It()}finally{Uc()}}else if("number"==typeof s){let o=null,a=zf(t,e),c=vo,h=r&me.Host?e[an][vn]:null;for((-1===a||r&me.SkipSelf)&&(c=-1===a?ba(t,e):e[a+8],c!==vo&&Hl(r,!1)?(o=e[oe],a=Is(c),e=kl(c,e)):a=-1);-1!==a;){const p=e[oe];if(Bl(s,a,p.data)){const g=Da(a,e,n,o,r,h);if(g!==Kr)return g}c=e[a+8],c!==vo&&Hl(r,e[oe].data[a+8]===h)&&Bl(s,a,e)?(o=p,a=Is(c),e=kl(c,e)):a=-1}}return i}function Da(t,e,n,r,i,s){const o=e[oe],a=o.data[t+8],p=function Ul(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,p=s>>20,_=i?a+p:t.directiveEnd;for(let y=r?a:a+p;y<_;y++){const I=o[y];if(y<c&&n===I||y>=c&&I.type===n)return y}if(i){const y=o[c];if(y&&lr(y)&&y.type===n)return c}return null}(a,o,n,null==r?_s(a)&&Ca:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==p?bs(e,o,p,a):Kr}function bs(t,e,n,r){let i=t[n];const s=e.data;if(function U_(t){return t instanceof Ea}(i)){const o=i;o.resolving&&function He(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(function te(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}(s[n]));const a=Zi(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?yr(o.injectImpl):null;Vc(t,r,me.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function V_(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Mf(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&yr(c),Zi(a),o.resolving=!1,Uc()}}return i}function Bl(t,e,n){return!!(n[e+(t>>Wf)]&1<<t)}function Hl(t,e){return!(t&me.Self||t&me.Host&&e)}class wo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Vl(this._tNode,this._lView,e,wl(r),n)}}function Qc(){return new wo(zt(),G())}function ln(t){return on(()=>{const e=t.prototype.constructor,n=e[Nr]||jl(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Nr]||jl(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function jl(t){return Pr(t)?()=>{const e=jl(pe(t));return e&&e()}:_i(t)}function Zf(t){const e=t[oe],n=e.type;return 2===n?e.declTNode:1===n?t[vn]:null}const Io="__parameters__";function Yi(t,e,n){return on(()=>{const r=function Jc(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,h,p){const g=c.hasOwnProperty(Io)?c[Io]:Object.defineProperty(c,Io,{value:[]})[Io];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ae{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ds(t,e){t.forEach(n=>Array.isArray(n)?Ds(n,e):e(n))}function nd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $l(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cr(t,e,n){let r=bo(t,e);return r>=0?t[1|r]=n:(r=~r,function Q_(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function rd(t,e){const n=bo(t,e);if(n>=0)return t[1|n]}function bo(t,e){return function Wl(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Do=pi(Yi("Optional"),8),Ss=pi(Yi("SkipSelf"),4);var Qn=(()=>((Qn=Qn||{})[Qn.Important=1]="Important",Qn[Qn.DashCase=2]="DashCase",Qn))();const _d=new Map;let Yl=0;const As="__ngContext__";function Rn(t,e){Vn(e)?(t[As]=e[ms],function fv(t){_d.set(t[ms],t)}(e)):t[As]=e}let Cd;function Bn(t,e){return Cd(t,e)}function Ao(t){const e=t[Dt];return ar(e)?e[Dt]:e}function Ma(t){return Dd(t[co])}function bd(t){return Dd(t[Zn])}function Dd(t){for(;null!==t&&!ar(t);)t=t[Zn];return t}function Ro(t,e,n,r,i){if(null!=r){let s,o=!1;ar(r)?s=r:Vn(r)&&(o=!0,r=r[Wt]);const a=wn(r);0===t&&null!==n?null==i?Cp(e,n,a):Ms(e,n,a,i||null,!0):1===t&&null!==n?Ms(e,n,a,i||null,!0):2===t?function Mo(t,e,n){const r=f(t,e);r&&function l(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function xd(t,e,n,r,i){const s=n[ho];s!==wn(n)&&Ro(e,t,r,s,i);for(let a=yn;a<n.length;a++){const c=n[a];Ps(c[oe],c,t,e,r,s)}}(e,t,s,n,i)}}function Td(t,e,n){return t.createElement(e,n)}function Qr(t,e){const n=t[Gi],r=n.indexOf(e),i=e[Dt];512&e[Ne]&&(e[Ne]&=-513,Of(i,-1)),n.splice(r,1)}function Rs(t,e){if(t.length<=yn)return;const n=yn+e,r=t[n];if(r){const i=r[$i];null!==i&&i!==t&&Qr(i,r),e>0&&(t[n-1][Zn]=r[Zn]);const s=$l(t,yn+e);!function yv(t,e){Ps(t,e,e[Te],2,null,null),e[Wt]=null,e[vn]=null}(r[oe],r);const o=s[Or];null!==o&&o.detachView(s[oe]),r[Dt]=null,r[Zn]=null,r[Ne]&=-65}return r}function Md(t,e){if(!(128&e[Ne])){const n=e[Te];n.destroyNode&&Ps(t,e,n,3,null,null),function Ad(t){let e=t[co];if(!e)return Jl(t[oe],t);for(;e;){let n=null;if(Vn(e))n=e[co];else{const r=e[yn];r&&(n=r)}if(!n){for(;e&&!e[Zn]&&e!==t;)Vn(e)&&Jl(e[oe],e),e=e[Dt];null===e&&(e=t),Vn(e)&&Jl(e[oe],e),n=e&&e[Zn]}e=n}}(e)}}function Jl(t,e){if(!(128&e[Ne])){e[Ne]&=-65,e[Ne]|=128,function Pd(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ea)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ur(4,a,c);try{c.call(a)}finally{ur(5,a,c)}}else{ur(4,i,s);try{s.call(i)}finally{ur(5,i,s)}}}}}(t,e),function Ev(t,e){const n=t.cleanup,r=e[ao];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[ao]=null}}(t,e),1===e[oe].type&&e[Te].destroy();const n=e[$i];if(null!==n&&ar(e[Dt])){n!==e[Dt]&&Qr(n,e);const r=e[Or];null!==r&&r.detachView(t)}!function fp(t){_d.delete(t[ms])}(e)}}function wp(t,e,n){return function Ep(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Wt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===wr.None||s===wr.Emulated)return null}return Er(r,n)}}(t,e.parent,n)}function Ms(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Cp(t,e,n){t.appendChild(e,n)}function d(t,e,n,r,i){null!==r?Ms(t,e,n,r,i):Cp(t,e,n)}function f(t,e){return t.parentNode(e)}let B,Cv,R=function D(t,e,n){return 40&t.type?Er(t,n):null};function le(t,e,n,r){const i=wp(t,r,e),s=e[Te],a=function v(t,e,n){return R(t,e,n)}(r.parent||e[vn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)d(s,i,n[c],a,!1);else d(s,i,n,a,!1);void 0!==B&&B(s,r,e,n,i)}function ue(t,e){if(null!==e){const n=e.type;if(3&n)return Er(e,t);if(4&n)return dr(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ue(t,r);{const i=t[e.index];return ar(i)?dr(-1,i):wn(i)}}if(32&n)return Bn(e,t)()||wn(t[e.index]);{const r=St(t,e);return null!==r?Array.isArray(r)?r[0]:ue(Ao(t[an]),r):ue(t,e.next)}}return null}function St(t,e){return null!==e?t[an][vn].projection[e.projection]:null}function dr(t,e){const n=yn+t+1;if(n<e.length){const r=e[n],i=r[oe].firstChild;if(null!==i)return ue(r,i)}return e[ho]}function Xl(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Rn(wn(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Xl(t,e,n.child,r,i,s,!1),Ro(e,t,i,a,s);else if(32&c){const h=Bn(n,r);let p;for(;p=h();)Ro(e,t,i,p,s);Ro(e,t,i,a,s)}else 16&c?Nd(t,e,r,n,i,s):Ro(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ps(t,e,n,r,i,s){Xl(n,r,t.firstChild,e,i,s,!1)}function Nd(t,e,n,r,i,s){const o=n[an],c=o[vn].projection[r.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++)Ro(e,t,i,c[h],s);else Xl(t,e,c,o[Dt],i,s,!0)}function eu(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Od(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Wc(t,e,r),null!==i&&eu(t,e,i),null!==s&&function Dp(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class WI{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Ap=new ae("ENVIRONMENT_INITIALIZER"),eb=new ae("INJECTOR",-1),tb=new ae("INJECTOR_DEF_TYPES");class nb{get(e,n=fs){if(n===fs){const r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return n}}function cO(...t){return{\u0275providers:rb(0,t),\u0275fromNgModule:!0}}function rb(t,...e){const n=[],r=new Set;let i;return Ds(e,s=>{const o=s;Av(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&ib(i,n),n}function ib(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Rv(i,s=>{e.push(s)})}}function Av(t,e,n,r){if(!(t=pe(t)))return!1;let i=null,s=cc(t);const o=!s&&ot(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=cc(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const h of c)Av(h,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let h;r.add(i);try{Ds(s.imports,p=>{Av(p,e,n,r)&&(h||(h=[]),h.push(p))})}finally{}void 0!==h&&ib(h,e)}if(!a){const h=_i(i)||(()=>new i);e.push({provide:i,useFactory:h,deps:Xe},{provide:tb,useValue:i,multi:!0},{provide:Ap,useValue:()=>X(i),multi:!0})}const c=s.providers;null==c||a||Rv(c,p=>{e.push(p)})}}return i!==t&&void 0!==t.providers}function Rv(t,e){for(let n of t)zr(n)&&(n=n.\u0275providers),Array.isArray(n)?Rv(n,e):e(n)}const dO=ie({provide:String,useValue:ie});function Mv(t){return null!==t&&"object"==typeof t&&dO in t}function Na(t){return"function"==typeof t}const Pv=new ae("Set Injector scope."),Rp={},fO={};let Nv;function Mp(){return void 0===Nv&&(Nv=new nb),Nv}class xs{}class ab extends xs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ov(e,o=>this.processProvider(o)),this.records.set(eb,nu(void 0,this)),i.has("environment")&&this.records.set(xs,nu(void 0,this));const s=this.records.get(Pv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tb.multi,Xe,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Bi(this),r=yr(void 0);try{return e()}finally{Bi(n),yr(r)}}get(e,n=fs,r=me.Default){this.assertNotDestroyed(),r=wl(r);const i=Bi(this),s=yr(void 0);try{if(!(r&me.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function vO(t){return"function"==typeof t||"object"==typeof t&&t instanceof ae}(e)&&ml(e);a=c&&this.injectableDefInScope(c)?nu(xv(e),Rp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&me.Self?Mp():this.parent).get(e,n=r&me.Optional&&n===fs?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ro]=o[ro]||[]).unshift(Ve(e)),i)throw o;return function gc(t,e,n,r){const i=t[ro];throw e[yl]&&i.unshift(e[yl]),t.message=function w_(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==v_?t.slice(2):t;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pc,"\n  ")}`}("\n"+t.message,i,n,r),t[__]=i,t[ro]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{yr(s),Bi(i)}}resolveInjectorInitializers(){const e=Bi(this),n=yr(void 0);try{const r=this.get(Ap.multi,Xe,me.Self);for(const i of r)i()}finally{Bi(e),yr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=Na(e=pe(e))?e:pe(e&&e.provide);const r=function gO(t){return Mv(t)?nu(void 0,t.useValue):nu(lb(t),Rp)}(e);if(Na(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=nu(void 0,Rp,!0),i.factory=()=>fa(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Rp&&(n.value=fO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _O(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=pe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function xv(t){const e=ml(t),n=null!==e?e.factory:_i(t);if(null!==n)return n;if(t instanceof ae)throw new C(204,!1);if(t instanceof Function)return function pO(t){const e=t.length;if(e>0)throw function Qi(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function g_(t){return t&&(t[da]||t[hc])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function lb(t,e,n){let r;if(Na(t)){const i=pe(t);return _i(i)||xv(i)}if(Mv(t))r=()=>pe(t.useValue);else if(function ob(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...fa(t.deps||[]));else if(function sb(t){return!(!t||!t.useExisting)}(t))r=()=>X(pe(t.useExisting));else{const i=pe(t&&(t.useClass||t.provide));if(!function mO(t){return!!t.deps}(t))return _i(i)||xv(i);r=()=>new i(...fa(t.deps))}return r}function nu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ov(t,e){for(const n of t)Array.isArray(n)?Ov(n,e):n&&zr(n)?Ov(n.\u0275providers,e):e(n)}class yO{}class ub{}class EO{resolveComponentFactory(e){throw function wO(t){const e=Error(`No component factory found for ${Ve(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Vd=(()=>{class t{}return t.NULL=new EO,t})();function CO(){return ru(zt(),G())}function ru(t,e){return new Ir(Er(t,e))}let Ir=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=CO,t})();class db{}let Os=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function bO(){const t=G(),n=Yn(zt().index,t);return(Vn(n)?n:t)[Te]}(),t})(),DO=(()=>{class t{}return t.\u0275prov=_e({token:t,providedIn:"root",factory:()=>null}),t})();class iu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const hb=new iu("15.2.10"),kv={},Lv="ngOriginalError";function Fv(t){return t[Lv]}class su{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fv(e);for(;n&&Fv(n);)n=Fv(n);return n||null}}function ks(t){return t instanceof Function?t():t}function pb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const gb="ng-template";function LO(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==pb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function mb(t){return 4===t.type&&t.value!==gb}function FO(t,e,n){return e===(4!==t.type||n?t.value:gb)}function VO(t,e,n){let r=4;const i=t.attrs||[],s=function HO(t){for(let e=0;e<t.length;e++)if(xl(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!FO(t,c,n)||""===c&&1===e.length){if(wi(r))return!1;o=!0}}else{const h=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!LO(t.attrs,h,n)){if(wi(r))return!1;o=!0}continue}const g=UO(8&r?"class":c,i,mb(t),n);if(-1===g){if(wi(r))return!1;o=!0;continue}if(""!==h){let _;_=g>s?"":i[g+1].toLowerCase();const y=8&r?_:null;if(y&&-1!==pb(y,h,0)||2&r&&h!==_){if(wi(r))return!1;o=!0}}}}else{if(!o&&!wi(r)&&!wi(c))return!1;if(o&&wi(c))continue;o=!1,r=c|1&r}}return wi(r)||o}function wi(t){return 0==(1&t)}function UO(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function jO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _b(t,e,n=!1){for(let r=0;r<e.length;r++)if(VO(t,e[r],n))return!0;return!1}function vb(t,e){return t?":not("+e.trim()+")":e}function WO(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!wi(o)&&(e+=vb(s,i),i=""),r=o,s=s||!wi(r);n++}return""!==i&&(e+=vb(s,i)),e}const Re={};function xa(t){yb(qe(),G(),An()+t,!1)}function yb(t,e,n,r){if(!r)if(3==(3&e[Ne])){const s=t.preOrderCheckHooks;null!==s&&Es(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Nl(e,s,0,n)}ws(n)}function Ib(t,e=null,n=null,r){const i=bb(t,e,n,r);return i.resolveInjectorInitializers(),i}function bb(t,e=null,n=null,r,i=new Set){const s=[n||Xe,cO(t)];return r=r||("object"==typeof t?void 0:Ve(t)),new ab(s,e||Mp(),r||null,i)}let Xi=(()=>{class t{static create(n,r){if(Array.isArray(n))return Ib({name:""},r,n,"");{const i=n.name??"";return Ib({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=fs,t.NULL=new nb,t.\u0275prov=_e({token:t,providedIn:"any",factory:()=>X(eb)}),t.__NG_ELEMENT_ID__=-1,t})();function Q(t,e=me.Default){const n=G();return null===n?X(t,e):Vl(zt(),n,pe(t),e)}function Nb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Fc(n[r]),o.contentQueries(2,e[s],s)}}}function Np(t,e,n,r,i,s,o,a,c,h,p){const g=e.blueprint.slice();return g[Wt]=i,g[Ne]=76|r,(null!==p||t&&1024&t[Ne])&&(g[Ne]|=1024),A_(g),g[Dt]=g[gs]=t,g[xt]=n,g[uo]=o||t&&t[uo],g[Te]=a||t&&t[Te],g[ma]=c||t&&t[ma]||null,g[lo]=h||t&&t[lo]||null,g[vn]=s,g[ms]=function hv(){return Yl++}(),g[wc]=p,g[an]=2==e.type?t[an]:g,g}function lu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function jv(t,e,n,r,i){const s=Pc(),o=Nc(),c=t.data[e]=function mk(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function x_(){return Ae.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function va(){const t=Ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zr(s,!0),s}function Ud(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $v(t,e,n){ys(e);try{const r=t.viewQuery;null!==r&&Jv(1,r,n);const i=t.template;null!==i&&xb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Nb(t,e),t.staticViewQueries&&Jv(2,t.viewQuery,n);const s=t.components;null!==s&&function fk(t,e){for(let n=0;n<e.length;n++)Lk(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ne]&=-5,wa()}}function xp(t,e,n,r){const i=e[Ne];if(128!=(128&i)){ys(e);try{A_(e),function go(t){return Ae.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&xb(t,e,n,2,r);const o=3==(3&i);if(o){const h=t.preOrderCheckHooks;null!==h&&Es(e,h,null)}else{const h=t.preOrderHooks;null!==h&&Nl(e,h,0,null),Hc(e,0)}if(function Ok(t){for(let e=Ma(t);null!==e;e=bd(e)){if(!e[wf])continue;const n=e[Gi];for(let r=0;r<n.length;r++){const i=n[r];512&i[Ne]||Of(i[Dt],1),i[Ne]|=512}}}(e),function xk(t){for(let e=Ma(t);null!==e;e=bd(e))for(let n=yn;n<e.length;n++){const r=e[n],i=r[oe];Ac(r)&&xp(i,r,i.template,r[xt])}}(e),null!==t.contentQueries&&Nb(t,e),o){const h=t.contentCheckHooks;null!==h&&Es(e,h)}else{const h=t.contentHooks;null!==h&&Nl(e,h,1),Hc(e,1)}!function dk(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ws(~i);else{const s=i,o=n[++r],a=n[++r];O_(o,s),a(2,e[s])}}}finally{ws(-1)}}(t,e);const a=t.components;null!==a&&function hk(t,e){for(let n=0;n<e.length;n++)kk(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Jv(2,c,r),o){const h=t.viewCheckHooks;null!==h&&Es(e,h)}else{const h=t.viewHooks;null!==h&&Nl(e,h,2),Hc(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ne]&=-41,512&e[Ne]&&(e[Ne]&=-513,Of(e[Dt],-1))}finally{wa()}}}function xb(t,e,n,r,i){const s=An(),o=2&r;try{ws(-1),o&&e.length>ft&&yb(t,e,ft,!1),ur(o?2:0,i),n(r,i)}finally{ws(s),ur(o?3:1,i)}}function Wv(t,e,n){if(Cc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function zv(t,e,n){kf()&&(function Ik(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;_s(n)&&function Mk(t,e,n){const r=Er(e,t),i=Ob(n),s=t[uo],o=Op(t,Np(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ia(n,e),Rn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],h=bs(e,t,a,n);Rn(h,e),null!==o&&Pk(0,a-i,h,c,0,o),lr(c)&&(Yn(n.index,e)[xt]=bs(e,t,a,n))}}(t,e,n,Er(n,e)),64==(64&n.flags)&&Ub(t,e,n))}function Gv(t,e,n=Er){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ob(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function qv(t,e,n,r,i,s,o,a,c,h){const p=ft+r,g=p+i,_=function pk(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Re);return n}(p,g),y="function"==typeof h?h():h;return _[oe]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1}}function Lb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Fb(n,e,i,s):r.hasOwnProperty(i)&&Fb(n,e,r[i],s)}return n}function Fb(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Zv(t,e,n,r){if(kf()){const i=null===r?null:{"":-1},s=function Dk(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(_b(e,o.selectors,!1))if(r||(r=[]),lr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Kv(t,e,a.length)}else r.unshift(o),Kv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Vb(t,e,n,o,i,a),i&&function Sk(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Cs(n.mergedAttrs,n.attrs)}function Vb(t,e,n,r,i,s){for(let h=0;h<r.length;h++)Zc(Ia(n,e),t,r[h].type);!function Ak(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let h=0;h<r.length;h++){const p=r[h];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,c=Ud(t,e,r.length,null);for(let h=0;h<r.length;h++){const p=r[h];n.mergedAttrs=Cs(n.mergedAttrs,p.hostAttrs),Rk(t,n,e,c,p),Tk(c,p,i),null!==p.contentQueries&&(n.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(n.flags|=64);const g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function _k(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,h=null;for(let p=e.directiveStart;p<i;p++){const g=s[p],_=n?n.get(g):null,I=_?_.outputs:null;c=Lb(g.inputs,p,c,_?_.inputs:null),h=Lb(g.outputs,p,h,I);const A=null===c||null===o||mb(e)?null:Nk(c,p,o);a.push(A)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=h}(t,n,s)}function Ub(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function xc(){return Ae.lFrame.currentDirectiveIndex}();try{ws(s);for(let a=r;a<i;a++){const c=t.data[a],h=e[a];Oc(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&bk(c,h)}}finally{ws(-1),Oc(o)}}function bk(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kv(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function Tk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function Rk(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=_i(i.type)),o=new Ea(s,lr(i),Q);t.blueprint[r]=o,n[r]=o,function Ek(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Ck(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ud(t,n,i.hostVars,Re),i)}function es(t,e,n,r,i,s){const o=Er(t,e);!function Yv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?K(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Te],o,s,t.value,n,r,i)}function Pk(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const h=o[c++],p=o[c++],g=o[c++];null!==a?r.setInput(n,g,h,p):n[p]=g}}}function Nk(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Bb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function kk(t,e){const n=Yn(e,t);if(Ac(n)){const r=n[oe];48&n[Ne]?xp(r,n,r.template,n[xt]):n[ji]>0&&Qv(n)}}function Qv(t){for(let r=Ma(t);null!==r;r=bd(r))for(let i=yn;i<r.length;i++){const s=r[i];if(Ac(s))if(512&s[Ne]){const o=s[oe];xp(o,s,o.template,s[xt])}else s[ji]>0&&Qv(s)}const n=t[oe].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Yn(n[r],t);Ac(i)&&i[ji]>0&&Qv(i)}}function Lk(t,e){const n=Yn(e,t),r=n[oe];(function Fk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),$v(r,n,n[xt])}function Op(t,e){return t[co]?t[Cl][Zn]=e:t[co]=e,t[Cl]=e,e}function kp(t){for(;t;){t[Ne]|=32;const e=Ao(t);if(C_(t)&&!e)return t;t=e}return null}function Lp(t,e,n,r=!0){const i=e[uo];i.begin&&i.begin();try{xp(t,e,t.template,n)}catch(o){throw r&&Wb(e,o),o}finally{i.end&&i.end()}}function Jv(t,e,n){Fc(0),e(t,n)}function Hb(t){return t[ao]||(t[ao]=[])}function jb(t){return t.cleanup||(t.cleanup=[])}function Wb(t,e){const n=t[lo],r=n?n.get(su,null):null;r&&r.handleError(e)}function Xv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],h=t.data[o];null!==h.setInput?h.setInput(c,i,r,a):c[a]=i}}function Fp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ct(i,a):2==s&&(r=Ct(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Vp(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(wn(s)),ar(s))for(let a=yn;a<s.length;a++){const c=s[a],h=c[oe].firstChild;null!==h&&Vp(c[oe],c,h,r)}const o=n.type;if(8&o)Vp(t,e,n.child,r);else if(32&o){const a=Bn(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=St(e,n);if(Array.isArray(a))r.push(...a);else{const c=Ao(e[an]);Vp(c[oe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Bd{get rootNodes(){const e=this._lView,n=e[oe];return Vp(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return 128==(128&this._lView[Ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Dt];if(ar(e)){const n=e[zi],r=n?n.indexOf(this):-1;r>-1&&(Rs(e,r),$l(n,r))}this._attachedToViewContainer=!1}Md(this._lView[oe],this._lView)}onDestroy(e){!function kb(t,e,n,r){const i=Hb(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&jb(t).push(r,i.length-1))}(this._lView[oe],this._lView,null,e)}markForCheck(){kp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ne]&=-65}reattach(){this._lView[Ne]|=64}detectChanges(){Lp(this._lView[oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xn(t,e){Ps(t,e,e[Te],2,null,null)}(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class Vk extends Bd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Lp(e[oe],e,e[xt],!1)}checkNoChanges(){}get context(){return null}}class zb extends Vd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ot(e);return new Hd(n,this.ngModule)}}function Gb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Bk{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wl(r);const i=this.injector.get(e,kv,r);return i!==kv||n===kv?i:this.parentInjector.get(e,n,r)}}class Hd extends ub{get inputs(){return Gb(this.componentDef.inputs)}get outputs(){return Gb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function zO(t){return t.map(WO).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof xs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Bk(e,s):e,a=o.get(db,null);if(null===a)throw new C(407,!1);const c=o.get(DO,null),h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?function gk(t,e,n){return t.selectRootElement(e,n===wr.ShadowDom)}(h,r,this.componentDef.encapsulation):Td(h,p,function Uk(t){const e=t.toLowerCase();return"svg"===e?Nf:"math"===e?"math":null}(p)),_=this.componentDef.onPush?288:272,y=qv(0,null,null,1,0,null,null,null,null,null),I=Np(null,y,null,_,null,null,a,h,c,o,null);let A,M;ys(I);try{const U=this.componentDef;let q,N=null;U.findHostDirectiveDefs?(q=[],N=new Map,U.findHostDirectiveDefs(U,q,N),q.push(U)):q=[U];const Y=function jk(t,e){const n=t[oe],r=ft;return t[r]=e,lu(n,r,2,"#host",null)}(I,g),de=function $k(t,e,n,r,i,s,o,a){const c=i[oe];!function Wk(t,e,n,r){for(const i of t)e.mergedAttrs=Cs(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Fp(e,e.mergedAttrs,!0),null!==n&&Od(r,n,e))}(r,t,e,o);const h=s.createRenderer(e,n),p=Np(i,Ob(n),null,n.onPush?32:16,i[t.index],t,s,h,a||null,null,null);return c.firstCreatePass&&Kv(c,t,r.length-1),Op(i,p),i[t.index]=p}(Y,g,U,q,I,a,h);M=S_(y,ft),g&&function Gk(t,e,n,r){if(r)Wc(t,n,["ng-version",hb.full]);else{const{attrs:i,classes:s}=function GO(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!wi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Wc(t,n,i),s&&s.length>0&&eu(t,n,s.join(" "))}}(h,U,g,r),void 0!==n&&function qk(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(M,this.ngContentSelectors,n),A=function zk(t,e,n,r,i,s){const o=zt(),a=i[oe],c=Er(o,i);Vb(a,i,o,n,null,r);for(let p=0;p<n.length;p++)Rn(bs(i,a,o.directiveStart+p,o),i);Ub(a,i,o),c&&Rn(c,i);const h=bs(i,a,o.directiveStart+o.componentOffset,o);if(t[xt]=i[xt]=h,null!==s)for(const p of s)p(h,e);return Wv(a,o,t),h}(de,U,q,N,I,[Zk]),$v(y,I,null)}finally{wa()}return new Hk(this.componentType,A,ru(M,I),I,M)}}class Hk extends yO{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Vk(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Xv(s[oe],s,i,e,n),kp(Yn(this._tNode.index,s))}}get injector(){return new wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Zk(){const t=zt();Pl(G()[oe],t)}function pt(t){let e=function qb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ey(t.inputs),o.declaredInputs=ey(t.declaredInputs),o.outputs=ey(t.outputs);const a=i.hostBindings;a&&Jk(t,a);const c=i.viewQuery,h=i.contentQueries;if(c&&Yk(t,c),h&&Qk(t,h),Fe(t.inputs,i.inputs),Fe(t.declaredInputs,i.declaredInputs),Fe(t.outputs,i.outputs),lr(i)&&i.data.animation){const p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===pt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Kk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cs(i.hostAttrs,n=Cs(n,i.hostAttrs))}}(r)}function ey(t){return t===mi?{}:t===Xe?[]:t}function Yk(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Qk(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Jk(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Up(t){return!!ty(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ty(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function er(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ns(t,e,n,r){const i=G();return er(i,mo(),e)&&(qe(),es(Ot(),i,t,e,n,r)),ns}function Hp(t,e,n){const r=G();return er(r,mo(),e)&&function kr(t,e,n,r,i,s,o,a){const c=Er(e,n);let p,h=e.inputs;!a&&null!=h&&(p=h[r])?(Xv(t,n,p,r,i),_s(e)&&function yk(t,e){const n=Yn(e,t);16&n[Ne]||(n[Ne]|=32)}(n,e.index)):3&e.type&&(r=function vk(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}(qe(),Ot(),r,t,e,r[Te],n,!1),Hp}function ny(t,e,n,r,i){const o=i?"class":"style";Xv(t,n,e.inputs[o],o,r)}function Me(t,e,n,r){const i=G(),s=qe(),o=ft+t,a=i[Te],c=s.firstCreatePass?function dL(t,e,n,r,i,s){const o=e.consts,c=lu(e,t,2,r,vs(o,i));return Zv(e,n,c,vs(o,s)),null!==c.attrs&&Fp(c,c.attrs,!1),null!==c.mergedAttrs&&Fp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],h=i[o]=Td(a,e,function F_(){return Ae.lFrame.currentNamespace}()),p=Il(c);return Zr(c,!0),Od(a,h,c),32!=(32&c.flags)&&le(s,i,h,c),0===function Rc(){return Ae.lFrame.elementDepthCount}()&&Rn(h,i),function R_(){Ae.lFrame.elementDepthCount++}(),p&&(zv(s,i,c),Wv(s,c,i)),null!==r&&Gv(i,c),Me}function Pe(){let t=zt();Nc()?function Lf(){Ae.lFrame.isParent=!1}():(t=t.parent,Zr(t,!1));const e=t;!function M_(){Ae.lFrame.elementDepthCount--}();const n=qe();return n.firstCreatePass&&(Pl(n,t),Cc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function H_(t){return 0!=(8&t.flags)}(e)&&ny(n,e,G(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function j_(t){return 0!=(16&t.flags)}(e)&&ny(n,e,G(),e.stylesWithoutHost,!1),Pe}function tr(t,e,n,r){return Me(t,e,n,r),Pe(),tr}function $d(t){return!!t&&"function"==typeof t.then}const sy=function lD(t){return!!t&&"function"==typeof t.subscribe};function Lr(t,e,n,r){const i=G(),s=qe(),o=zt();return function cD(t,e,n,r,i,s,o){const a=Il(r),h=t.firstCreatePass&&jb(t),p=e[xt],g=Hb(e);let _=!0;if(3&r.type||o){const A=Er(r,e),M=o?o(A):A,U=g.length,q=o?Y=>o(wn(Y[r.index])):r.index;let N=null;if(!o&&a&&(N=function pL(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ao],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,_=!1;else{s=hD(r,e,p,s,!1);const Y=n.listen(M,i,s);g.push(s,Y),h&&h.push(i,q,U,U+1)}}else s=hD(r,e,p,s,!1);const y=r.outputs;let I;if(_&&null!==y&&(I=y[i])){const A=I.length;if(A)for(let M=0;M<A;M+=2){const de=e[I[M]][I[M+1]].subscribe(s),Ce=g.length;g.push(s,de),h&&h.push(i,r.index,Ce,-(Ce+1))}}}(s,i,i[Te],o,t,e,r),Lr}function dD(t,e,n,r){try{return ur(6,e,n),!1!==n(r)}catch(i){return Wb(t,i),!1}finally{ur(7,e,n)}}function hD(t,e,n,r,i){return function s(o){if(o===Function)return r;kp(t.componentOffset>-1?Yn(t.index,e):e);let c=dD(e,n,r,o),h=s.__ngNextListenerFn__;for(;h;)c=dD(e,n,h,o)&&c,h=h.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function jp(t,e){return t<<17|e<<2}function xo(t){return t>>17&32767}function ay(t){return 2|t}function ka(t){return(131068&t)>>2}function ly(t,e){return-131069&t|e<<2}function uy(t){return 1|t}function CD(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?xo(s):ka(s),c=!1;for(;0!==a&&(!1===c||o);){const p=t[a+1];bL(t[a],e)&&(c=!0,t[a+1]=r?uy(p):ay(p)),a=r?xo(p):ka(p)}c&&(t[n+1]=r?ay(s):uy(s))}function bL(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bo(t,e)>=0}function $p(t,e){return function Ei(t,e,n,r){const i=G(),s=qe(),o=function ct(t){const e=Ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function PD(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[An()],o=function MD(t,e){return e>=t.expandoStartIndex}(t,n);(function kD(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function xL(t,e,n,r){const i=function kc(t){const e=Ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wd(n=cy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=cy(i,t,e,n,r),null===s){let c=function OL(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ka(r))return t[xo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=cy(null,t,e,c[1],r),c=Wd(c,e.attrs,r),function kL(t,e,n,r){t[xo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function LL(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Wd(r,t[s].hostAttrs,n);return Wd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function CL(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xo(o),c=ka(o);t[r]=n;let p,h=!1;if(Array.isArray(n)?(p=n[1],(null===p||bo(n,p)>0)&&(h=!0)):p=n,i)if(0!==c){const _=xo(t[a+1]);t[r+1]=jp(_,a),0!==_&&(t[_+1]=ly(t[_+1],r)),t[a+1]=function wL(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=jp(a,0),0!==a&&(t[a+1]=ly(t[a+1],r)),a=r;else t[r+1]=jp(c,0),0===a?a=r:t[c+1]=ly(t[c+1],r),c=r;h&&(t[r+1]=ay(t[r+1])),CD(t,p,r,!0),CD(t,p,r,!1),function IL(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bo(s,e)>=0&&(n[r+1]=uy(n[r+1]))}(e,p,t,r,s),o=jp(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Re&&er(i,o,e)&&function xD(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,h=c[a+1],p=function EL(t){return 1==(1&t)}(h)?OD(c,e,n,i,ka(h),o):void 0;Wp(p)||(Wp(s)||function yL(t){return 2==(2&t)}(h)&&(s=OD(c,null,n,i,a,o)),function bp(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Qn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qn.Important),t.setStyle(n,r,i,s))}}(r,o,Dl(An(),n),i,s))}(s,s.data[An()],i,i[Te],t,i[o+1]=function BL(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ve(function No(t){return t instanceof WI?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),$p}function cy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Wd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Wd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cr(t,o,!!n||e[++s]))}return void 0===t?null:t}function OD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],h=Array.isArray(c),p=h?c[1]:c,g=null===p;let _=n[i+1];_===Re&&(_=g?Xe:void 0);let y=g?rd(_,r):p===r?_:void 0;if(h&&!Wp(y)&&(y=rd(c,r)),Wp(y)&&(a=y,o))return a;const I=t[i+1];i=o?xo(I):ka(I)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=rd(c,r))}return a}function Wp(t){return void 0!==t}function et(t,e=""){const n=G(),r=qe(),i=t+ft,s=r.firstCreatePass?lu(r,i,1,e,null):r.data[i],o=n[i]=function Yr(t,e){return t.createText(e)}(n[Te],e);le(r,n,o,s),Zr(s,!1)}function yu(t){return dy("",t,""),yu}function dy(t,e,n){const r=G(),i=function cu(t,e,n,r){return er(t,mo(),n)?e+K(n)+r:Re}(r,t,e,n);return i!==Re&&function Ls(t,e,n){const r=Dl(e,t);!function Sd(t,e,n){t.setValue(e,n)}(t[Te],r,n)}(r,An(),i),dy}const Eu="en-US";let r0=Eu;function py(t,e,n,r,i){if(t=pe(t),Array.isArray(t))for(let s=0;s<t.length;s++)py(t[s],e,n,r,i);else{const s=qe(),o=G();let a=Na(t)?t:pe(t.provide),c=lb(t);const h=zt(),p=1048575&h.providerIndexes,g=h.directiveStart,_=h.providerIndexes>>20;if(Na(t)||!t.multi){const y=new Ea(c,i,Q),I=my(a,e,i?p:p+_,g);-1===I?(Zc(Ia(h,o),s,a),gy(s,t,e.length),e.push(a),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),n.push(y),o.push(y)):(n[I]=y,o[I]=y)}else{const y=my(a,e,p+_,g),I=my(a,e,p,p+_),M=I>=0&&n[I];if(i&&!M||!i&&!(y>=0&&n[y])){Zc(Ia(h,o),s,a);const U=function iF(t,e,n,r,i){const s=new Ea(t,n,Q);return s.multi=[],s.index=e,s.componentProviders=0,R0(s,i,r&&!n),s}(i?rF:nF,n.length,i,r,c);!i&&M&&(n[I].providerFactory=U),gy(s,t,e.length,0),e.push(a),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),n.push(U),o.push(U)}else gy(s,t,y>-1?y:I,R0(n[i?I:y],c,!i&&r));!i&&r&&M&&n[I].componentProviders++}}}function gy(t,e,n,r){const i=Na(e),s=function hO(t){return!!t.useClass}(e);if(i||s){const c=(s?pe(e.useClass):e).prototype.ngOnDestroy;if(c){const h=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const p=h.indexOf(n);-1===p?h.push(n,[r,c]):h[p+1].push(r,c)}else h.push(n,c)}}}function R0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function my(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function nF(t,e,n,r){return _y(this.multi,[])}function rF(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=bs(n,n[oe],this.providerFactory.index,r);s=a.slice(0,o),_y(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],_y(i,s);return s}function _y(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function kt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function tF(t,e,n){const r=qe();if(r.firstCreatePass){const i=lr(t);py(n,r.data,r.blueprint,i,!0),py(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Cu{}class M0{}class P0 extends Cu{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zb(this);const r=Tn(e);this._bootstrapComponents=ks(r.bootstrap),this._r3Injector=bb(e,n,[{provide:Cu,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver}],Ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class vy extends M0{constructor(e){super(),this.moduleType=e}create(e){return new P0(this.moduleType,e)}}class oF extends Cu{constructor(e,n,r){super(),this.componentFactoryResolver=new zb(this),this.instance=null;const i=new ab([...e,{provide:Cu,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver}],n||Mp(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Kp(t,e,n=null){return new oF(t,e,n).injector}let aF=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=rb(0,n.type),i=r.length>0?Kp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=_e({token:t,providedIn:"environment",factory:()=>new t(X(xs))}),t})();function N0(t){t.getStandaloneInjector=e=>e.get(aF).getOrCreateStandaloneInjector(t)}function U0(t,e,n){const r=function Un(){const t=Ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=G();return i[r]===Re?function ts(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function jd(t,e){return t[e]}(i,r)}function wy(t){return e=>{setTimeout(t,void 0,e)}}const qt=class NF extends V{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=wy(s),i&&(i=wy(i)),o&&(o=wy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof tt&&e.add(a),a}};let Fs=(()=>{class t{}return t.__NG_ELEMENT_ID__=LF,t})();const OF=Fs,kF=class extends OF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=Np(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[$i]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Or];return null!==o&&(i[Or]=o.createEmbeddedView(r)),$v(r,i,e),new Bd(i)}};function LF(){return function Yp(t,e){return 4&t.type?new kF(e,t,ru(t,e)):null}(zt(),G())}let Ii=(()=>{class t{}return t.__NG_ELEMENT_ID__=FF,t})();function FF(){return function q0(t,e){let n;const r=e[t.index];if(ar(r))n=r;else{let i;if(8&t.type)i=wn(r);else{const s=e[Te];i=s.createComment("");const o=Er(t,e);Ms(s,f(s,o),i,function m(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=Bb(r,e,i,t),Op(e,n)}return new z0(n,t,e)}(zt(),G())}const VF=Ii,z0=class extends VF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ru(this._hostTNode,this._hostLView)}get injector(){return new wo(this._hostTNode,this._hostLView)}get parentInjector(){const e=ba(this._hostTNode,this._hostLView);if(Ol(e)){const n=kl(e,this._hostLView),r=Is(e);return new wo(n[oe].data[r+8],n)}return new wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=G0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Ta(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Hd(ot(e)),h=r||this.parentInjector;if(!s&&null==c.ngModule){const _=(o?h:this.parentInjector).get(xs,null);_&&(s=_)}const p=c.create(h,i,void 0,s);return this.insert(p.hostView,a),p}insert(e,n){const r=e._lView,i=r[oe];if(function SI(t){return ar(t[Dt])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const g=r[Dt],_=new z0(g,g[vn],g[Dt]);_.detach(_.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function Rd(t,e,n,r){const i=yn+r,s=n.length;r>0&&(n[i-1][Zn]=e),r<s-yn?(e[Zn]=n[i],nd(n,yn+r,e)):(n.push(e),e[Zn]=null),e[Dt]=n;const o=e[$i];null!==o&&n!==o&&function wv(t,e){const n=t[Gi];e[an]!==e[Dt][Dt][an]&&(t[wf]=!0),null===n?t[Gi]=[e]:n.push(e)}(o,e);const a=e[Or];null!==a&&a.insertView(t),e[Ne]|=64}(i,r,o,s);const a=dr(s,o),c=r[Te],h=f(c,o[ho]);return null!==h&&function yp(t,e,n,r,i,s){r[Wt]=i,r[vn]=e,Ps(t,r,n,1,i,s)}(i,o[vn],c,r,h,a),e.attachToViewContainerRef(),nd(Cy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=G0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Rs(this._lContainer,n);r&&($l(Cy(this._lContainer),n),Md(r[oe],r))}detach(e){const n=this._adjustIndex(e,-1),r=Rs(this._lContainer,n);return r&&null!=$l(Cy(this._lContainer),n)?new Bd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function G0(t){return t[zi]}function Cy(t){return t[zi]||(t[zi]=[])}function Jp(...t){}const Xp=new ae("Application Initializer");let eg=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Jp,this.reject=Jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if($d(s))n.push(s);else if(sy(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(X(Xp,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xd=new ae("AppId",{providedIn:"root",factory:function yS(){return`${xy()}${xy()}${xy()}`}});function xy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wS=new ae("Platform Initializer"),eh=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let hV=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Vs=new ae("LocaleId",{providedIn:"root",factory:()=>je(Vs,me.Optional|me.SkipSelf)||function fV(){return typeof $localize<"u"&&$localize.locale||Eu}()});class gV{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ES=(()=>{class t{compileModuleSync(n){return new vy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ks(Tn(n).declarations).reduce((o,a)=>{const c=ot(a);return c&&o.push(new Hd(c)),o},[]);return new gV(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vV=(()=>Promise.resolve(0))();function Oy(t){typeof Zone>"u"?vV.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Lt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yV(){let t=ht.requestAnimationFrame,e=ht.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function CV(t){const e=()=>{!function EV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ht,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ly(t),t.isCheckStableRunning=!0,ky(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ly(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return bS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),DS(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return bS(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),DS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ly(t),ky(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wV,Jp,Jp);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const wV={};function ky(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ly(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function DS(t){t._nesting--,ky(t)}class IV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qt,this.onMicrotaskEmpty=new qt,this.onStable=new qt,this.onError=new qt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const SS=new ae(""),tg=new ae("");let Uy,Fy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uy||(function bV(t){Uy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),Oy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(X(Lt),X(Vy),X(tg))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),Vy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Uy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Us=!1;let Oo=null;const TS=new ae("AllowMultipleToken"),By=new ae("PlatformDestroyListeners"),AS=new ae("appBootstrapListener");class RS{constructor(e,n){this.name=e,this.token=n}}function PS(t,e,n=[]){const r=`Platform: ${e}`,i=new ae(r);return(s=[])=>{let o=Hy();if(!o||o.injector.get(TS,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function TV(t){if(Oo&&!Oo.get(TS,!1))throw new C(400,!1);Oo=t;const e=t.get(xS);(function MS(t){const e=t.get(wS,null);e&&e.forEach(n=>n())})(t)}(function NS(t=[],e){return Xi.create({name:e,providers:[{provide:Pv,useValue:"platform"},{provide:By,useValue:new Set([()=>Oo=null])},...t]})}(a,r))}return function RV(t){const e=Hy();if(!e)throw new C(401,!1);return e}()}}function Hy(){return Oo?.get(xS)??null}let xS=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function kS(t,e){let n;return n="noop"===t?new IV:("zone.js"===t?void 0:t)||new Lt(e),n}(r?.ngZone,function OS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Lt,useValue:i}];return i.run(()=>{const o=Xi.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),c=a.injector.get(su,null);if(!c)throw new C(402,!1);return i.runOutsideAngular(()=>{const h=i.onError.subscribe({next:p=>{c.handleError(p)}});a.onDestroy(()=>{rg(this._modules,a),h.unsubscribe()})}),function LS(t,e,n){try{const r=n();return $d(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(c,i,()=>{const h=a.injector.get(eg);return h.runInitializers(),h.donePromise.then(()=>(function s0(t){vr(t,"Expected localeId to be defined"),"string"==typeof t&&(r0=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Vs,Eu)||Eu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=FS({},r);return function DV(t,e,n){const r=new vy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ng);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new C(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(By,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(X(Xi))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function FS(t,e){return Array.isArray(e)?e.reduce(FS,t):{...t,...e}}let ng=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Qe(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),Oy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),h.unsubscribe()}});this.isStable=H(s,o.pipe(P()))}bootstrap(n,r){const i=n instanceof ub;if(!this._injector.get(eg).done){!i&&function so(t){const e=ot(t)||Sn(t)||Qt(t);return null!==e&&e.standalone}(n);throw new C(405,Us)}let o;o=i?n:this._injector.get(Vd).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function SV(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Cu),h=o.create(Xi.NULL,[],r||o.selector,a),p=h.location.nativeElement,g=h.injector.get(SS,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),rg(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;rg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(AS,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>rg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(X(Lt),X(xs),X(su))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let ig=(()=>{class t{}return t.__NG_ELEMENT_ID__=PV,t})();function PV(t){return function NV(t,e,n){if(_s(t)&&!n){const r=Yn(t.index,e);return new Bd(r,r)}return 47&t.type?new Bd(e[an],e):null}(zt(),G(),16==(16&t))}class $S{constructor(){}supports(e){return Up(e)}create(e){return new VV(e)}}const FV=(t,e)=>e;class VV{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FV}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<zS(r,i,s)?n:r,a=zS(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const h=a-i,p=c-i;if(h!=p){for(let _=0;_<h;_++){const y=_<s.length?s[_]:s[_]=0,I=y+_;p<=I&&I<h&&(s[_]=y+1)}s[o.previousIndex]=p-h}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Up(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function sL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new UV(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new WS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class UV{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BV{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class WS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new BV,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zS(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class GS{constructor(){}supports(e){return e instanceof Map||ty(e)}create(){return new HV}}class HV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||ty(e)))throw new C(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new jV(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class jV{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qS(){return new ag([new $S])}let ag=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qS()),deps:[[t,new Ss,new Do]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new C(901,!1)}}return t.\u0275prov=_e({token:t,providedIn:"root",factory:qS}),t})();function ZS(){return new Du([new GS])}let Du=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ZS()),deps:[[t,new Ss,new Do]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new C(901,!1)}}return t.\u0275prov=_e({token:t,providedIn:"root",factory:ZS}),t})();const zV=PS(null,"core",[]);let GV=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(X(ng))},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({}),t})();function Su(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Gy=null;function Bs(){return Gy}class KV{}const br=new ae("DocumentToken");let qy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(){return function YV(){return X(KS)}()},providedIn:"platform"}),t})();const QV=new ae("Location Initialized");let KS=(()=>{class t extends qy{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bs().getBaseHref(this._doc)}onPopState(n){const r=Bs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Bs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){YS()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){YS()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(X(br))},t.\u0275prov=_e({token:t,factory:function(){return function JV(){return new KS(X(br))}()},providedIn:"platform"}),t})();function YS(){return!!window.history.pushState}function Zy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function QS(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hs(t){return t&&"?"!==t[0]?"?"+t:t}let Va=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(){return je(XS)},providedIn:"root"}),t})();const JS=new ae("appBaseHref");let XS=(()=>{class t extends Va{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??je(br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Zy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Hs(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Hs(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(X(qy),X(JS,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XV=(()=>{class t extends Va{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Zy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(X(qy),X(JS,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),Ky=(()=>{class t{constructor(n){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function nU(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(QS(eT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hs(r))}normalize(n){return t.stripTrailingSlash(function tU(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,eT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Hs,t.joinWithSlash=Zy,t.stripTrailingSlash=QS,t.\u0275fac=function(n){return new(n||t)(X(Va))},t.\u0275prov=_e({token:t,factory:function(){return function eU(){return new Ky(X(Va))}()},providedIn:"root"}),t})();function eT(t){return t.replace(/\/index.html$/,"")}class jU{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hT=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new jU(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),fT(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{fT(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Q(Ii),Q(Fs),Q(ag))},t.\u0275dir=we({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function fT(t,e){t.context.$implicit=e.item}let _T=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({}),t})();let wB=(()=>{class t{}return t.\u0275prov=_e({token:t,providedIn:"root",factory:()=>new EB(X(br),window)}),t})();class EB{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function CB(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yT(this.window.history)||yT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yT(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class YB extends KV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hw extends YB{static makeCurrent(){!function ZV(t){Gy||(Gy=t)}(new hw)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function QB(){return ih=ih||document.querySelector("base"),ih?ih.getAttribute("href"):null}();return null==n?null:function JB(t){yg=yg||document.createElement("a"),yg.setAttribute("href",t);const e=yg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ih=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function UU(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let yg,ih=null;const bT=new ae("TRANSITION_ID"),eH=[{provide:Xp,useFactory:function XB(t,e,n){return()=>{n.get(eg).donePromise.then(()=>{const r=Bs(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[bT,br,Xi],multi:!0}];let nH=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const wg=new ae("EventManagerPlugins");let Eg=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(X(wg),X(Lt))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();class DT{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Bs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let ST=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),sh=(()=>{class t extends ST{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(X(br))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const fw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pw=/%COMP%/g,RT=new ae("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function MT(t,e){return e.flat(100).map(n=>n.replace(pw,t))}function PT(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gw=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new mw(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof OT?i.applyToHost(n):i instanceof _w&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(r.encapsulation){case wr.Emulated:s=new OT(o,a,r,this.appId,c);break;case wr.ShadowDom:return new uH(o,a,n,r);default:s=new _w(o,a,r,c)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(X(Eg),X(sh),X(Xd),X(RT))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();class mw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(fw[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(xT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=fw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=fw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(n,r,i&Qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,PT(r)):this.eventManager.addEventListener(e,n,PT(r))}}function xT(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class uH extends mw{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=MT(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _w extends mw{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=MT(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class OT extends _w{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function oH(t){return"_ngcontent-%COMP%".replace(pw,t)}(o),this.hostAttr=function aH(t){return"_nghost-%COMP%".replace(pw,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let cH=(()=>{class t extends DT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(X(br))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const kT=["alt","control","meta","shift"],dH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fH=(()=>{class t extends DT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kT.forEach(h=>{const p=r.indexOf(h);p>-1&&(r.splice(p,1),o+=h+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=dH[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kT.forEach(o=>{o!==i&&(0,hH[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(X(br))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const _H=PS(zV,"browser",[{provide:eh,useValue:"browser"},{provide:wS,useValue:function pH(){hw.makeCurrent()},multi:!0},{provide:br,useFactory:function mH(){return function Hx(t){Cv=t}(document),document},deps:[]}]),VT=new ae(""),UT=[{provide:tg,useClass:class tH{addToWindow(e){ht.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ht.getAllAngularTestabilities=()=>e.getAllTestabilities(),ht.getAllAngularRootElements=()=>e.getAllRootElements(),ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(r=>{const i=ht.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Bs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:SS,useClass:Fy,deps:[Lt,Vy,tg]},{provide:Fy,useClass:Fy,deps:[Lt,Vy,tg]}],BT=[{provide:Pv,useValue:"root"},{provide:su,useFactory:function gH(){return new su},deps:[]},{provide:wg,useClass:cH,multi:!0,deps:[br,Lt,eh]},{provide:wg,useClass:fH,multi:!0,deps:[br]},{provide:gw,useClass:gw,deps:[Eg,sh,Xd,RT]},{provide:db,useExisting:gw},{provide:ST,useExisting:sh},{provide:sh,useClass:sh,deps:[br]},{provide:Eg,useClass:Eg,deps:[wg,Lt]},{provide:class IB{},useClass:nH,deps:[]},[]];let vH=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Xd,useValue:n.appId},{provide:bT,useExisting:Xd},eH]}}}return t.\u0275fac=function(n){return new(n||t)(X(VT,12))},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({providers:[...BT,...UT],imports:[_T,GV]}),t})(),HT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(X(br))},t.\u0275prov=_e({token:t,factory:function(n){let r=null;return r=n?new n:function wH(){return new HT(X(br))}(),r},providedIn:"root"}),t})();function ve(...t){return T(t,Vi(t))}typeof window<"u"&&window;class Ti extends V{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Cg=ye(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:SH}=Array,{getPrototypeOf:TH,prototype:AH,keys:RH}=Object;function WT(t){if(1===t.length){const e=t[0];if(SH(e))return{args:e,keys:null};if(function MH(t){return t&&"object"==typeof t&&TH(t)===AH}(e)){const n=RH(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:PH}=Array;function zT(t){return ce(e=>function NH(t,e){return PH(e)?t(...e):t(e)}(t,e))}function GT(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function qT(...t){const e=Vi(t),n=Fi(t),{args:r,keys:i}=WT(t);if(0===r.length)return T([],e);const s=new Qe(function xH(t,e,n=jt){return r=>{ZT(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)ZT(e,()=>{const h=T(t[c],e);let p=!1;h.subscribe(ne(r,g=>{s[c]=g,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>GT(i,o):jt));return n?s.pipe(zT(n)):s}function ZT(t,e,n){t?Dn(n,t,e):e()}function ww(...t){return function OH(){return _r(1)}()(T(t,Vi(t)))}function KT(t){return new Qe(e=>{Kt(t()).subscribe(e)})}function oh(t,e){const n=w(t)?t:()=>t,r=i=>i.error(n());return new Qe(e?i=>e.schedule(r,0,i):r)}function Ew(){return k((t,e)=>{let n=null;t._refCount++;const r=ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class YT extends Qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,z(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tt;const n=this.getSubject();e.add(this.source.subscribe(ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tt.EMPTY)}return e}refCount(){return Ew()(this)}}function In(t,e){return k((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ne(r,c=>{i?.unsubscribe();let h=0;const p=s++;Kt(t(c,p)).subscribe(i=ne(r,g=>r.next(e?e(c,g,p,h++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Tu(t){return t<=0?()=>Yt:k((e,n)=>{let r=0;e.subscribe(ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $s(t,e){return k((n,r)=>{let i=0;n.subscribe(ne(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ig(t){return k((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function QT(t=LH){return k((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function LH(){return new Cg}function Ws(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$s((i,s)=>t(i,s,r)):jt,Tu(1),n?Ig(e):QT(()=>new Cg))}function Ua(t,e){return w(e)?Et(t,e,1):Et(t,1)}function Hn(t,e,n){const r=w(t)||e||n?{next:t,error:e,complete:n}:t;return r?k((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ne(s,c=>{var h;null===(h=r.next)||void 0===h||h.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var h;a=!1,null===(h=r.error)||void 0===h||h.call(r,c),s.error(c)},()=>{var c,h;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):jt}function Lo(t){return k((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ne(n,void 0,void 0,o=>{s=Kt(t(o,Lo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function bg(t,e){return k(function FH(t,e,n,r,i){return(s,o)=>{let a=n,c=e,h=0;s.subscribe(ne(o,p=>{const g=h++;c=a?t(c,p,g):(a=!0,p),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}function Cw(t){return t<=0?()=>Yt:k((e,n)=>{let r=[];e.subscribe(ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function JT(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$s((i,s)=>t(i,s,r)):jt,Cw(1),n?Ig(e):QT(()=>new Cg))}function Iw(t){return k((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const xe="primary",ah=Symbol("RouteTitle");class BH{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Au(t){return new BH(t)}function HH(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ss(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!XT(t[i],e[i]))return!1;return!0}function XT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function eA(t){return Array.prototype.concat.apply([],t)}function tA(t){return t.length>0?t[t.length-1]:null}function jn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Fo(t){return sy(t)?t:$d(t)?T(Promise.resolve(t)):ve(t)}const Dg=!1,$H={exact:function iA(t,e,n){if(!Ba(t.segments,e.segments)||!Sg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!iA(t.children[r],e.children[r],n))return!1;return!0},subset:sA},nA={exact:function WH(t,e){return ss(t,e)},subset:function zH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>XT(t[n],e[n]))},ignored:()=>!0};function rA(t,e,n){return $H[n.paths](t.root,e.root,n.matrixParams)&&nA[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function sA(t,e,n){return oA(t,e,e.segments,n)}function oA(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ba(i,n)||e.hasChildren()||!Sg(i,n,r))}if(t.segments.length===n.length){if(!Ba(t.segments,n)||!Sg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!sA(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ba(t.segments,i)&&Sg(t.segments,i,r)&&t.children[xe])&&oA(t.children[xe],e,s,r)}}function Sg(t,e,n){return e.every((r,i)=>nA[n](t[i].parameters,r.parameters))}class Vo{constructor(e=new We([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return ZH.serialize(this)}}class We{constructor(e,n){this.segments=e,this.children=n,this.parent=null,jn(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tg(this)}}class lh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Au(this.parameters)),this._parameterMap}toString(){return uA(this)}}function Ba(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let uh=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(){return new bw},providedIn:"root"}),t})();class bw{parse(e){const n=new r2(e);return new Vo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ch(e.root,!0)}`,r=function QH(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ag(n)}=${Ag(i)}`).join("&"):`${Ag(n)}=${Ag(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function KH(t){return encodeURI(t)}(e.fragment)}`:""}`}}const ZH=new bw;function Tg(t){return t.segments.map(e=>uA(e)).join("/")}function ch(t,e){if(!t.hasChildren())return Tg(t);if(e){const n=t.children[xe]?ch(t.children[xe],!1):"",r=[];return jn(t.children,(i,s)=>{s!==xe&&r.push(`${s}:${ch(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function qH(t,e){let n=[];return jn(t.children,(r,i)=>{i===xe&&(n=n.concat(e(r,i)))}),jn(t.children,(r,i)=>{i!==xe&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===xe?[ch(t.children[xe],!1)]:[`${i}:${ch(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[xe]?`${Tg(t)}/${n[0]}`:`${Tg(t)}/(${n.join("//")})`}}function aA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ag(t){return aA(t).replace(/%3B/gi,";")}function Dw(t){return aA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rg(t){return decodeURIComponent(t)}function lA(t){return Rg(t.replace(/\+/g,"%20"))}function uA(t){return`${Dw(t.path)}${function YH(t){return Object.keys(t).map(e=>`;${Dw(e)}=${Dw(t[e])}`).join("")}(t.parameters)}`}const JH=/^[^\/()?;=#]+/;function Mg(t){const e=t.match(JH);return e?e[0]:""}const XH=/^[^=?&#]+/,t2=/^[^&#]+/;class r2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[xe]=new We(e,n)),r}parseSegment(){const e=Mg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,Dg);return this.capture(e),new lh(Rg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Mg(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Mg(this.remaining);i&&(r=i,this.capture(r))}e[Rg(n)]=Rg(r)}parseQueryParam(e){const n=function e2(t){const e=t.match(XH);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function n2(t){const e=t.match(t2);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lA(n),s=lA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Mg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,Dg);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[xe]:new We([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,Dg)}}function Sw(t){return t.segments.length>0?new We([],{[xe]:t}):t}function Pg(t){const e={};for(const r of Object.keys(t.children)){const s=Pg(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function i2(t){if(1===t.numberOfChildren&&t.children[xe]){const e=t.children[xe];return new We(t.segments.concat(e.segments),e.children)}return t}(new We(t.segments,e))}function Ha(t){return t instanceof Vo}const Tw=!1;function s2(t,e,n,r,i){if(0===n.length)return Ru(e.root,e.root,e.root,r,i);const s=function pA(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fA(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return jn(s.outlets,(c,h)=>{a[h]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fA(n,e,r)}(n);return s.toRoot()?Ru(e.root,e.root,new We([],{}),r,i):function o(c){const h=function a2(t,e,n,r){if(t.isAbsolute)return new Mu(e.root,!0,0);if(-1===r)return new Mu(n,n===e.root,0);return function gA(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,Tw&&"Invalid number of '../'");i=r.segments.length}return new Mu(r,!1,i-s)}(n,r+(dh(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,c),p=h.processChildren?Pu(h.segmentGroup,h.index,s.commands):Aw(h.segmentGroup,h.index,s.commands);return Ru(e.root,h.segmentGroup,p,r,i)}(t.snapshot?._lastPathIndex)}function dh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hh(t){return"object"==typeof t&&null!=t&&t.outlets}function Ru(t,e,n,r,i){let o,s={};r&&jn(r,(c,h)=>{s[h]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),o=t===e?n:hA(t,e,n);const a=Sw(Pg(o));return new Vo(a,s,i)}function hA(t,e,n){const r={};return jn(t.children,(i,s)=>{r[s]=i===e?n:hA(i,e,n)}),new We(t.segments,r)}class fA{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dh(r[0]))throw new C(4003,Tw&&"Root segment cannot have matrix parameters");const i=r.find(hh);if(i&&i!==tA(r))throw new C(4004,Tw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mu{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Aw(t,e,n){if(t||(t=new We([],{})),0===t.segments.length&&t.hasChildren())return Pu(t,e,n);const r=function u2(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(hh(a))break;const c=`${a}`,h=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&h&&"object"==typeof h&&void 0===h.outlets){if(!_A(c,h,o))return s;r+=2}else{if(!_A(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new We(t.segments.slice(0,r.pathIndex),{});return s.children[xe]=new We(t.segments.slice(r.pathIndex),t.children),Pu(s,0,i)}return r.match&&0===i.length?new We(t.segments,{}):r.match&&!t.hasChildren()?Rw(t,e,n):r.match?Pu(t,0,i):Rw(t,e,n)}function Pu(t,e,n){if(0===n.length)return new We(t.segments,{});{const r=function l2(t){return hh(t[0])?t[0].outlets:{[xe]:t}}(n),i={};if(!r[xe]&&t.children[xe]&&1===t.numberOfChildren&&0===t.children[xe].segments.length){const s=Pu(t.children[xe],e,n);return new We(t.segments,s.children)}return jn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Aw(t.children[o],e,s))}),jn(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new We(t.segments,i)}}function Rw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(hh(s)){const c=c2(s.outlets);return new We(r,c)}if(0===i&&dh(n[0])){r.push(new lh(t.segments[e].path,mA(n[0]))),i++;continue}const o=hh(s)?s.outlets[xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dh(a)?(r.push(new lh(o,mA(a))),i+=2):(r.push(new lh(o,{})),i++)}return new We(r,{})}function c2(t){const e={};return jn(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Rw(new We([],{}),0,n))}),e}function mA(t){const e={};return jn(t,(n,r)=>e[r]=`${n}`),e}function _A(t,e,n){return t==n.path&&ss(e,n.parameters)}const fh="imperative";class os{constructor(e,n){this.id=e,this.url=n}}class Mw extends os{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ja extends os{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ng extends os{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xg extends os{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Pw extends os{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class d2 extends os{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h2 extends os{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f2 extends os{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class p2 extends os{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g2 extends os{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class v2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y2{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vA{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let b2=(()=>{class t{createUrlTree(n,r,i,s,o,a){return s2(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),S2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(e){return b2.\u0275fac(e)},providedIn:"root"}),t})();class yA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Nw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Nw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=xw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xw(e,this._root).map(n=>n.value)}}function Nw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Nw(t,n);if(r)return r}return null}function xw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xw(t,n);if(r.length)return r.unshift(e),r}return[]}class zs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class wA extends yA{constructor(e,n){super(e),this.snapshot=n,Ow(this,e)}toString(){return this.snapshot.toString()}}function EA(t,e){const n=function T2(t,e){const o=new Og([],{},{},"",{},xe,e,null,t.root,-1,{});return new IA("",new zs(o,[]))}(t,e),r=new Ti([new lh("",{})]),i=new Ti({}),s=new Ti({}),o=new Ti({}),a=new Ti(""),c=new xu(r,i,o,a,s,xe,e,n.root);return c.snapshot=n.root,new wA(new zs(c,[]),n)}class xu{constructor(e,n,r,i,s,o,a,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ce(h=>h[ah]))??ve(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>Au(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>Au(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CA(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function A2(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Og{get title(){return this.data?.[ah]}constructor(e,n,r,i,s,o,a,c,h,p,g){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=h,this._lastPathIndex=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class IA extends yA{constructor(e,n){super(n),this.url=e,Ow(this,n)}toString(){return bA(this._root)}}function Ow(t,e){e.value._routerState=t,e.children.forEach(n=>Ow(t,n))}function bA(t){const e=t.children.length>0?` { ${t.children.map(bA).join(", ")} } `:"";return`${t.value}${e}`}function kw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ss(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ss(e.params,n.params)||t.params.next(n.params),function jH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ss(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ss(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Lw(t,e){const n=ss(t.params,e.params)&&function GH(t,e){return Ba(t,e)&&t.every((n,r)=>ss(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Lw(t.parent,e.parent))}function ph(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function M2(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ph(t,r,i);return ph(t,r)})}(t,e,n);return new zs(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ph(t,a)),o}}const r=function P2(t){return new xu(new Ti(t.url),new Ti(t.params),new Ti(t.queryParams),new Ti(t.fragment),new Ti(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ph(t,s));return new zs(r,i)}}const Fw="ngNavigationCancelingError";function DA(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ha(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SA(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function SA(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Fw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function TA(t){return AA(t)&&Ha(t.url)}function AA(t){return t&&t[Fw]}class N2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gh,this.attachRef=null}}let gh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new N2,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kg=!1;let RA=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=xe,this.activateEvents=new qt,this.deactivateEvents=new qt,this.attachEvents=new qt,this.detachEvents=new qt,this.parentContexts=je(gh),this.location=je(Ii),this.changeDetector=je(ig),this.environmentInjector=je(xs)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,kg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,kg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,kg);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,kg);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new x2(n,a,i.injector);if(r&&function O2(t){return!!t.resolveComponentFactory}(r)){const h=r.resolveComponentFactory(o);this.activated=i.createComponent(h,i.length,c)}else this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=we({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]}),t})();class x2{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xu?this.route:e===gh?this.childContexts:this.parent.get(e,n)}}let Vw=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hi({type:t,selectors:[["ng-component"]],standalone:!0,features:[N0],decls:1,vars:0,template:function(n,r){1&n&&tr(0,"router-outlet")},dependencies:[RA],encapsulation:2}),t})();function MA(t,e){return t.providers&&!t._injector&&(t._injector=Kp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bw(t){const e=t.children&&t.children.map(Bw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==xe&&(n.component=Vw),n}function ti(t){return t.outlet||xe}function PA(t,e){const n=t.filter(r=>ti(r)===e);return n.push(...t.filter(r=>ti(r)!==e)),n}function mh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class U2{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),kw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Nu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),jn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Nu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new E2(s.value.snapshot))}),e.children.length&&this.forwardEvent(new y2(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(kw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),kw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=mh(i.snapshot),c=a?.get(Vd)??null;o.attachRef=null,o.route=i,o.resolver=c,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class NA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Lg{constructor(e,n){this.component=e,this.route=n}}function B2(t,e,n){const r=t._root;return _h(r,e?e._root:null,n,[r.value])}function Ou(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function uc(t){return null!==ml(t)}(t)?e.get(t):t:r}function _h(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nu(e);return t.children.forEach(o=>{(function j2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function $2(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ba(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ba(t.url,e.url)||!ss(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lw(t,e)||!ss(t.queryParams,e.queryParams);default:return!Lw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new NA(r)):(s.data=o.data,s._resolvedData=o._resolvedData),_h(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lg(a.outlet.component,o))}else o&&vh(e,a,i),i.canActivateChecks.push(new NA(r)),_h(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),jn(s,(o,a)=>vh(o,n.getContext(a),i)),i}function vh(t,e,n){const r=Nu(t),i=t.value;jn(r,(s,o)=>{vh(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Lg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function yh(t){return"function"==typeof t}function Hw(t){return t instanceof Cg||"EmptyError"===t?.name}const Fg=Symbol("INITIAL_VALUE");function ku(){return In(t=>qT(t.map(e=>e.pipe(Tu(1),function kH(...t){const e=Vi(t);return k((n,r)=>{(e?ww(t,n,e):ww(t,n)).subscribe(r)})}(Fg)))).pipe(ce(e=>{for(const n of e)if(!0!==n){if(n===Fg)return Fg;if(!1===n||n instanceof Vo)return n}return!0}),$s(e=>e!==Fg),Tu(1)))}function xA(t){return function $r(...t){return Wr(t)}(Hn(e=>{if(Ha(e))throw DA(0,e)}),ce(e=>!0===e))}const jw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OA(t,e,n,r,i){const s=$w(t,e,n);return s.matched?function oj(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ve(i.map(o=>{const a=Ou(o,t);return Fo(function K2(t){return t&&yh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ku(),xA()):ve(!0)}(r=MA(e,r),e,n).pipe(ce(o=>!0===o?s:{...jw})):ve(s)}function $w(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...jw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||HH)(n,t,e);if(!i)return{...jw};const s={};jn(i.posParams,(a,c)=>{s[c]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Vg(t,e,n,r){if(n.length>0&&function uj(t,e,n){return n.some(r=>Ug(t,e,r)&&ti(r)!==xe)}(t,n,r)){const s=new We(e,function lj(t,e,n,r){const i={};i[xe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&ti(s)!==xe){const o=new We([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[ti(s)]=o}return i}(t,e,r,new We(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function cj(t,e,n){return n.some(r=>Ug(t,e,r))}(t,n,r)){const s=new We(t.segments,function aj(t,e,n,r,i){const s={};for(const o of r)if(Ug(t,n,o)&&!i[ti(o)]){const a=new We([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[ti(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new We(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Ug(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function kA(t,e,n,r){return!!(ti(t)===r||r!==xe&&Ug(e,n,t))&&("**"===t.path||$w(e,t,n).matched)}function LA(t,e,n){return 0===e.length&&!t.children[n]}const Bg=!1;class Hg{constructor(e){this.segmentGroup=e||null}}class FA{constructor(e){this.urlTree=e}}function wh(t){return oh(new Hg(t))}function VA(t){return oh(new FA(t))}class pj{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Vg(this.urlTree.root,[],[],this.config).segmentGroup,n=new We(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,xe).pipe(ce(s=>this.createUrlTree(Pg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lo(s=>{if(s instanceof FA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Hg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,xe).pipe(ce(i=>this.createUrlTree(Pg(i),e.queryParams,e.fragment))).pipe(Lo(i=>{throw i instanceof Hg?this.noMatchError(i):i}))}noMatchError(e){return new C(4002,Bg)}createUrlTree(e,n,r){const i=Sw(e);return new Vo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ce(s=>new We([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return T(i).pipe(Ua(s=>{const o=r.children[s],a=PA(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ce(c=>({segment:c,outlet:s})))}),bg((s,o)=>(s[o.outlet]=o.segment,s),{}),JT())}expandSegment(e,n,r,i,s,o){return T(r).pipe(Ua(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Lo(h=>{if(h instanceof Hg)return ve(null);throw h}))),Ws(a=>!!a),Lo((a,c)=>{if(Hw(a))return LA(n,i,s)?ve(new We([],{})):wh(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return kA(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):wh(n):wh(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?VA(s):this.lineralizeSegments(r,s).pipe(Et(o=>{const a=new We(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:h,positionalParamSegments:p}=$w(n,i,s);if(!a)return wh(n);const g=this.applyRedirectCommands(c,i.redirectTo,p);return i.redirectTo.startsWith("/")?VA(g):this.lineralizeSegments(i,g).pipe(Et(_=>this.expandSegment(e,n,r,_.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=MA(r,e),r.loadChildren?(r._loadedRoutes?ve({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new We(i,{})))):ve(new We(i,{}))):OA(n,r,i,e).pipe(In(({matched:o,consumedSegments:a,remainingSegments:c})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Et(p=>{const g=p.injector??e,_=p.routes,{segmentGroup:y,slicedSegments:I}=Vg(n,a,c,_),A=new We(y.segments,y.children);if(0===I.length&&A.hasChildren())return this.expandChildren(g,_,A).pipe(ce(N=>new We(a,N)));if(0===_.length&&0===I.length)return ve(new We(a,{}));const M=ti(r)===s;return this.expandSegment(g,A,_,I,M?xe:s,!0).pipe(ce(q=>new We(a.concat(q.segments),q.children)))})):wh(n)))}getChildConfig(e,n,r){return n.children?ve({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function sj(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ve(!0):ve(i.map(o=>{const a=Ou(o,t);return Fo(function z2(t){return t&&yh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ku(),xA())}(e,n,r).pipe(Et(i=>i?this.configLoader.loadChildren(e,n).pipe(Hn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function hj(t){return oh(SA(Bg,3))}())):ve({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ve(r);if(i.numberOfChildren>1||!i.children[xe])return e.redirectTo,oh(new C(4e3,Bg));i=i.children[xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Vo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return jn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return jn(n.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new We(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,Bg);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class mj{}class yj{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Vg(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,xe).pipe(ce(n=>{if(null===n)return null;const r=new Og([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zs(r,n),s=new IA(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=CA(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return T(Object.keys(r.children)).pipe(Ua(i=>{const s=r.children[i],o=PA(n,i);return this.processSegmentGroup(e,o,s,i)}),bg((i,s)=>i&&s?(i.push(...s),i):null),function VH(t,e=!1){return k((n,r)=>{let i=0;n.subscribe(ne(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Ig(null),JT(),ce(i=>{if(null===i)return null;const s=BA(i);return function wj(t){t.sort((e,n)=>e.value.outlet===xe?-1:n.value.outlet===xe?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return T(n).pipe(Ua(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ws(o=>!!o),Lo(o=>{if(Hw(o))return LA(r,i,s)?ve([]):ve(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!kA(n,r,i,s))return ve(null);let o;if("**"===n.path){const a=i.length>0?tA(i).parameters:{},c=jA(r)+i.length;o=ve({snapshot:new Og(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$A(n),ti(n),n.component??n._loadedComponent??null,n,HA(r),c,WA(n)),consumedSegments:[],remainingSegments:[]})}else o=OA(r,n,i,e).pipe(ce(({matched:a,consumedSegments:c,remainingSegments:h,parameters:p})=>{if(!a)return null;const g=jA(r)+c.length;return{snapshot:new Og(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$A(n),ti(n),n.component??n._loadedComponent??null,n,HA(r),g,WA(n)),consumedSegments:c,remainingSegments:h}}));return o.pipe(In(a=>{if(null===a)return ve(null);const{snapshot:c,consumedSegments:h,remainingSegments:p}=a;e=n._injector??e;const g=n._loadedInjector??e,_=function Ej(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:y,slicedSegments:I}=Vg(r,h,p,_.filter(M=>void 0===M.redirectTo));if(0===I.length&&y.hasChildren())return this.processChildren(g,_,y).pipe(ce(M=>null===M?null:[new zs(c,M)]));if(0===_.length&&0===I.length)return ve([new zs(c,[])]);const A=ti(n)===s;return this.processSegment(g,_,y,I,A?xe:s).pipe(ce(M=>null===M?null:[new zs(c,M)]))}))}}function Cj(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function BA(t){const e=[],n=new Set;for(const r of t){if(!Cj(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=BA(r.children);e.push(new zs(r.value,i))}return e.filter(r=>!n.has(r))}function HA(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jA(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function $A(t){return t.data||{}}function WA(t){return t.resolve||{}}function zA(t){return"string"==typeof t.title||null===t.title}function Ww(t){return In(e=>{const n=t(e);return n?T(n).pipe(ce(()=>e)):ve(e)})}const Lu=new ae("ROUTES");let zw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=je(ES)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Fo(n.loadComponent()).pipe(ce(qA),Hn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Iw(()=>{this.componentLoaders.delete(n)})),i=new YT(r,()=>new V).pipe(Ew());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,h,p=!1;Array.isArray(a)?h=a:(c=a.create(n).injector,h=eA(c.get(Lu,[],me.Self|me.Optional)));return{routes:h.map(Bw),injector:c}}),Iw(()=>{this.childrenLoaders.delete(r)})),o=new YT(s,()=>new V).pipe(Ew());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Fo(n()).pipe(ce(qA),Et(r=>r instanceof M0||Array.isArray(r)?ve(r):T(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qA(t){return function Mj(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let $g=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new V,this.configLoader=je(zw),this.environmentInjector=je(xs),this.urlSerializer=je(uh),this.rootContexts=je(gh),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new _2(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new m2(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Ti({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fh,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($s(r=>0!==r.id),ce(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),In(r=>{let i=!1,s=!1;return ve(r).pipe(Hn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),In(o=>{const a=n.browserUrlTree.toString(),c=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!c&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const p="";return this.events.next(new xg(o.id,n.serializeUrl(r.rawUrl),p,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Yt}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ZA(o.source)&&(n.browserUrlTree=o.extractedUrl),ve(o).pipe(In(p=>{const g=this.transitions?.getValue();return this.events.next(new Mw(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Yt:Promise.resolve(p)}),function gj(t,e,n,r){return In(i=>function fj(t,e,n,r,i){return new pj(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ce(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Hn(p=>{this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects},r.urlAfterRedirects=p.urlAfterRedirects}),function bj(t,e,n,r,i){return Et(s=>function vj(t,e,n,r,i,s,o="emptyOnly"){return new yj(t,e,n,r,i,o,s).recognize().pipe(In(a=>null===a?function _j(t){return new Qe(e=>e.error(t))}(new mj):ve(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ce(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Hn(p=>{if(r.targetSnapshot=p.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!p.extras.skipLocationChange){const _=n.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);n.setBrowserUrl(_,p)}n.browserUrlTree=p.urlAfterRedirects}const g=new d2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:p,extractedUrl:g,source:_,restoredState:y,extras:I}=o,A=new Mw(p,this.urlSerializer.serialize(g),_,y);this.events.next(A);const M=EA(g,this.rootComponentType).snapshot;return ve(r={...o,targetSnapshot:M,urlAfterRedirects:g,extras:{...I,skipLocationChange:!1,replaceUrl:!1}})}{const p="";return this.events.next(new xg(o.id,n.serializeUrl(r.extractedUrl),p,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Yt}}),Hn(o=>{const a=new h2(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ce(o=>r={...o,guards:B2(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Q2(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ve({...n,guardsResult:!0}):function J2(t,e,n,r){return T(t).pipe(Et(i=>function ij(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ve(s.map(a=>{const c=mh(e)??i,h=Ou(a,c);return Fo(function Z2(t){return t&&yh(t.canDeactivate)}(h)?h.canDeactivate(t,e,n,r):c.runInContext(()=>h(t,e,n,r))).pipe(Ws())})).pipe(ku()):ve(!0)}(i.component,i.route,n,e,r)),Ws(i=>!0!==i,!0))}(o,r,i,t).pipe(Et(a=>a&&function W2(t){return"boolean"==typeof t}(a)?function X2(t,e,n,r){return T(e).pipe(Ua(i=>ww(function tj(t,e){return null!==t&&e&&e(new v2(t)),ve(!0)}(i.route.parent,r),function ej(t,e){return null!==t&&e&&e(new w2(t)),ve(!0)}(i.route,r),function rj(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function H2(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>KT(()=>ve(o.guards.map(c=>{const h=mh(o.node)??n,p=Ou(c,h);return Fo(function q2(t){return t&&yh(t.canActivateChild)}(p)?p.canActivateChild(r,t):h.runInContext(()=>p(r,t))).pipe(Ws())})).pipe(ku())));return ve(s).pipe(ku())}(t,i.path,n),function nj(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ve(!0);const i=r.map(s=>KT(()=>{const o=mh(e)??n,a=Ou(s,o);return Fo(function G2(t){return t&&yh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ws())}));return ve(i).pipe(ku())}(t,i.route,n))),Ws(i=>!0!==i,!0))}(r,s,t,e):ve(a)),ce(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Hn(o=>{if(r.guardsResult=o.guardsResult,Ha(o.guardsResult))throw DA(0,o.guardsResult);const a=new f2(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),$s(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Ww(o=>{if(o.guards.canActivateChecks.length)return ve(o).pipe(Hn(a=>{const c=new p2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),In(a=>{let c=!1;return ve(a).pipe(function Dj(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ve(n);let s=0;return T(i).pipe(Ua(o=>function Sj(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!zA(i)&&(s[ah]=i.title),function Tj(t,e,n,r){const i=function Aj(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ve({});const s={};return T(i).pipe(Et(o=>function Rj(t,e,n,r){const i=mh(e)??r,s=Ou(t,i);return Fo(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ws(),Hn(a=>{s[o]=a}))),Cw(1),function UH(t){return ce(()=>t)}(s),Lo(o=>Hw(o)?Yt:oh(o)))}(s,t,e,r).pipe(ce(o=>(t._resolvedData=o,t.data=CA(t,n).resolve,i&&zA(i)&&(t.data[ah]=i.title),null)))}(o.route,r,t,e)),Hn(()=>s++),Cw(1),Et(o=>s===i.length?ve(n):Yt))})}(n.paramsInheritanceStrategy,this.environmentInjector),Hn({next:()=>c=!0,complete:()=>{c||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Hn(a=>{const c=new g2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Ww(o=>{const a=c=>{const h=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(c.routeConfig).pipe(Hn(p=>{c.component=p}),ce(()=>{})));for(const p of c.children)h.push(...a(p));return h};return qT(a(o.targetSnapshot.root)).pipe(Ig(),Tu(1))}),Ww(()=>this.afterPreactivation()),ce(o=>{const a=function R2(t,e,n){const r=ph(t,e._root,n?n._root:void 0);return new wA(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Hn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>ce(r=>(new U2(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Tu(1),Hn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ja(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Iw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Lo(o=>{if(s=!0,AA(o)){TA(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Ng(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),TA(o)){const c=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||ZA(r.source)};n.scheduleNavigation(c,fh,null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Pw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(c){r.reject(c)}}return Yt}))}))}cancelNavigationTransition(n,r,i){const s=new Ng(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZA(t){return t!==fh}let KA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===xe);return r}getResolvedTitleForRoute(n){return n.data[ah]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(){return je(Pj)},providedIn:"root"}),t})(),Pj=(()=>{class t extends KA{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(X(HT))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Nj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(){return je(Oj)},providedIn:"root"}),t})();class xj{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Oj=(()=>{class t extends xj{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ln(t)))(r||t)}}(),t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Wg=new ae("",{providedIn:"root",factory:()=>({})});let Lj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(){return je(Fj)},providedIn:"root"}),t})(),Fj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vj(t){throw t}function Uj(t,e,n){return e.parse("/")}const Bj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=je(hV),this.isNgZoneEnabled=!1,this.options=je(Wg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Vj,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Uj,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=je(Lj),this.routeReuseStrategy=je(Nj),this.urlCreationStrategy=je(S2),this.titleStrategy=je(KA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=eA(je(Lu,{optional:!0})??[]),this.navigationTransitions=je($g),this.urlSerializer=je(uh),this.location=je(Ky),this.isNgZoneEnabled=je(Lt)instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EA(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Bw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,h=c?this.currentUrlTree.fragment:o;let p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}return null!==p&&(p=this.removeEmptyProps(p)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,p,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ha(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,fh,null,r)}navigate(n,r={skipLocationChange:!1}){return function jj(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new C(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Bj}:!1===r?{...Hj}:r,Ha(n))return rA(this.currentUrlTree,n,i);const s=this.parseUrl(n);return rA(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,h,p;return o?(a=o.resolve,c=o.reject,h=o.promise):h=new Promise((g,_)=>{a=g,c=_}),p="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:p,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class YA{}let zj=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($s(n=>n instanceof ja),Ua(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Kp(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return T(i).pipe(_r())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ve(null);const s=i.pipe(Et(o=>null===o?ve(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?T([s,this.loader.loadComponent(r)]).pipe(_r()):s})}}return t.\u0275fac=function(n){return new(n||t)(X(Fr),X(ES),X(xs),X(YA),X(zw))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Zw=new ae("");let QA=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ja&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Pb(){throw new Error("invalid")}()},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();var Vr=(()=>((Vr=Vr||{})[Vr.COMPLETE=0]="COMPLETE",Vr[Vr.FAILED=1]="FAILED",Vr[Vr.REDIRECTING=2]="REDIRECTING",Vr))();const Fu=!1;function Uo(t,e){return{\u0275kind:t,\u0275providers:e}}const Kw=new ae("",{providedIn:"root",factory:()=>!1});function XA(){const t=je(Xi);return e=>{const n=t.get(ng);if(e!==n.components[0])return;const r=t.get(Fr),i=t.get(eR);1===t.get(Yw)&&r.initialNavigation(),t.get(tR,null,me.Optional)?.setUpPreloading(),t.get(Zw,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const eR=new ae(Fu?"bootstrap done indicator":"",{factory:()=>new V}),Yw=new ae(Fu?"initial navigation":"",{providedIn:"root",factory:()=>1});function Yj(){let t=[];return t=Fu?[{provide:Ap,multi:!0,useFactory:()=>{const e=je(Fr);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function C2(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Uo(1,t)}const tR=new ae(Fu?"router preloader":"");function Qj(t){return Uo(0,[{provide:tR,useExisting:zj},{provide:YA,useExisting:t}])}const Eh=!1,nR=new ae(Eh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Jj=[Ky,{provide:uh,useClass:bw},Fr,gh,{provide:xu,useFactory:function JA(t){return t.routerState.root},deps:[Fr]},zw,Eh?{provide:Kw,useValue:!0}:[]];function Xj(){return new RS("Router",Fr)}let rR=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Jj,Eh&&r?.enableTracing?Yj().\u0275providers:[],{provide:Lu,multi:!0,useValue:n},{provide:nR,useFactory:r$,deps:[[Fr,new Do,new Ss]]},{provide:Wg,useValue:r||{}},r?.useHash?{provide:Va,useClass:XV}:{provide:Va,useClass:XS},{provide:Zw,useFactory:()=>{const t=je(wB),e=je(Lt),n=je(Wg),r=je($g),i=je(uh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QA(i,r,t,e,n)}},r?.preloadingStrategy?Qj(r.preloadingStrategy).\u0275providers:[],{provide:RS,multi:!0,useFactory:Xj},r?.initialNavigation?i$(r):[],[{provide:iR,useFactory:XA},{provide:AS,multi:!0,useExisting:iR}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Lu,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(X(nR,8))},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({imports:[Vw]}),t})();function r$(t){if(Eh&&t)throw new C(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function i$(t){return["disabled"===t.initialNavigation?Uo(3,[{provide:Xp,multi:!0,useFactory:()=>{const e=je(Fr);return()=>{e.setUpLocationChangeListener()}}},{provide:Yw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Uo(2,[{provide:Yw,useValue:0},{provide:Xp,multi:!0,deps:[Xi],useFactory:e=>{const n=e.get(QV,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Fr),s=e.get(eR);(function Gj(t,e){t.events.pipe($s(n=>n instanceof ja||n instanceof Ng||n instanceof Pw||n instanceof xg),ce(n=>n instanceof ja||n instanceof xg?Vr.COMPLETE:n instanceof Ng&&(0===n.code||1===n.code)?Vr.REDIRECTING:Vr.FAILED),$s(n=>n!==Vr.REDIRECTING),Tu(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get($g).afterPreactivation=()=>(r(!0),s.closed?ve(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const iR=new ae(Eh?"Router Initializer":""),o$=[];let a$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=sn({imports:[rR.forRoot(o$),rR]})}return t})();const u$=function(){function t(e,n){void 0===n&&(n=[]),this._eventType=e,this._eventFunctions=n}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(e._eventType,n)})},t}();var sR=new(function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{}}}return t.prototype.addInstance=function(e,n,r,i){if(void 0===i&&(i=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;!this._instances[e][r]||i?(i&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r||this._generateRandomId()]=n):console.warn("Flowbite: Instance with ID ".concat(r," already exists."))},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t.prototype.getInstance=function(e,n){if(this._componentAndInstanceCheck(e,n))return this._instances[e][n]?this._instances[e][n]:void console.warn("Flowbite: Instance with ID ".concat(n," does not exist."))},t.prototype.destroyAndRemoveInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&(this.destroyInstanceObject(e,n),this.removeInstance(e,n))},t.prototype.removeInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&delete this._instances[e][n]},t.prototype.destroyInstanceObject=function(e,n){this._componentAndInstanceCheck(e,n)&&this._instances[e][n].destroy()},t.prototype.instanceExists=function(e,n){return!(!this._instances[e]||!this._instances[e][n])},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(e,n){return this._instances[e]?!!this._instances[e][n]||(console.warn("Flowbite: Instance with ID ".concat(n," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t}());const ut=sR;typeof window<"u"&&(window.FlowbiteInstances=sR);var zg=function(){return zg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},zg.apply(this,arguments)},Gg={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},d$={id:null,override:!0},oR=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=Gg),void 0===i&&(i=d$),this._instanceId=i.id?i.id:e.id,this._accordionEl=e,this._items=n,this._options=zg(zg({},Gg),r),this._initialized=!1,this.init(),ut.addInstance("Accordion",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(n){n.active&&e.open(n.id);var r=function(){e.toggle(n.id)};n.triggerEl.addEventListener("click",r),n.clickHandler=r}),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},t.prototype.removeInstance=function(){ut.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.open=function(e){var n,r,i=this,s=this.getItem(e);this._options.alwaysOpen||this._items.map(function(o){var a,c;o!==s&&((a=o.triggerEl.classList).remove.apply(a,i._options.activeClasses.split(" ")),(c=o.triggerEl.classList).add.apply(c,i._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"))}),(n=s.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=s.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.add("rotate-180"),this._options.onOpen(this,s)},t.prototype.toggle=function(e){var n=this.getItem(e);n.active?this.close(e):this.open(e),this._options.onToggle(this,n)},t.prototype.close=function(e){var n,r,i=this.getItem(e);(n=i.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.remove("rotate-180"),this._options.onClose(this,i)},t}();function Qw(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),n=t.getAttribute("data-active-classes"),r=t.getAttribute("data-inactive-classes"),i=[];t.querySelectorAll("[data-accordion-target]").forEach(function(s){if(s.closest("[data-accordion]")===t){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:"true"===s.getAttribute("aria-expanded")};i.push(o)}}),new oR(t,i,{alwaysOpen:"open"===e,activeClasses:n||Gg.activeClasses,inactiveClasses:r||Gg.inactiveClasses})})}typeof window<"u"&&(window.Accordion=oR,window.initAccordions=Qw);var qg=function(){return qg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qg.apply(this,arguments)},aR={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},h$={id:null,override:!0},Jw=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=aR),void 0===i&&(i=h$),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=qg(qg({},aR),r),this._visible=!1,this._initialized=!1,this.init(),ut.addInstance("Collapse",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._visible=this._triggerEl.hasAttribute("aria-expanded")?"true"===this._triggerEl.getAttribute("aria-expanded"):!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){ut.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t}();function Xw(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?ut.instanceExists("Collapse",n.getAttribute("id"))?new Jw(n,t,{},{id:n.getAttribute("id")+"_"+ut._generateRandomId()}):new Jw(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Jw,window.initCollapses=Xw);var $a=function(){return $a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$a.apply(this,arguments)},Zg={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},f$={id:null,override:!0},lR=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=Zg),void 0===i&&(i=f$),this._instanceId=i.id?i.id:e.id,this._carouselEl=e,this._items=n,this._options=$a($a($a({},Zg),r),{indicators:$a($a({},Zg.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),ut.addInstance("Carousel",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,r){n.el.addEventListener("click",function(){e.slideTo(r)})}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){ut.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var n=this._items[e];this._rotate({left:0===n.position?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]}),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this._getActiveItem();this.slideTo((e.position===this._items.length-1?this._items[0]:this._items[e.position+1]).position),this._options.onNext(this)},t.prototype.prev=function(){var e=this._getActiveItem();this.slideTo((0===e.position?this._items[this._items.length-1]:this._items[e.position-1]).position),this._options.onPrev(this)},t.prototype._rotate=function(e){this._items.map(function(n){n.el.classList.add("hidden")}),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype._getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var n,r,i=this;this._activeItem=e;var s=e.position;this._indicators.length&&(this._indicators.map(function(o){var a,c;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,i._options.indicators.activeClasses.split(" ")),(c=o.el.classList).add.apply(c,i._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[s].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[s].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},t}();function eE(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),n="slide"===t.getAttribute("data-carousel"),r=[],i=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(h,p){r.push({position:p,el:h}),"active"===h.getAttribute("data-carousel-item")&&(i=p)});var s=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(h){s.push({position:parseInt(h.getAttribute("data-carousel-slide-to")),el:h})});var o=new lR(t,r,{defaultPosition:i,indicators:{items:s},interval:e||Zg.interval});n&&o.cycle();var a=t.querySelector("[data-carousel-next]"),c=t.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),c&&c.addEventListener("click",function(){o.prev()})})}typeof window<"u"&&(window.Carousel=lR,window.initCarousels=eE);var Kg=function(){return Kg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Kg.apply(this,arguments)},uR={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},p$={id:null,override:!0},cR=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=uR),void 0===i&&(i=p$),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Kg(Kg({},uR),r),this._initialized=!1,this.init(),ut.addInstance("Dismiss",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){ut.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t}();function tE(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),n=document.querySelector(e);n?new cR(n,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}function Ur(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Wa(t){return t instanceof Ur(t).Element||t instanceof Element}function ni(t){return t instanceof Ur(t).HTMLElement||t instanceof HTMLElement}function nE(t){return!(typeof ShadowRoot>"u")&&(t instanceof Ur(t).ShadowRoot||t instanceof ShadowRoot)}typeof window<"u"&&(window.Dismiss=cR,window.initDismisses=tE);var za=Math.max,Yg=Math.min,Vu=Math.round;function rE(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dR(){return!/^((?!chrome|android).)*safari/i.test(rE())}function Uu(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ni(t)&&(i=t.offsetWidth>0&&Vu(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Vu(r.height)/t.offsetHeight||1);var a=(Wa(t)?Ur(t):window).visualViewport,c=!dR()&&n,h=(r.left+(c&&a?a.offsetLeft:0))/i,p=(r.top+(c&&a?a.offsetTop:0))/s,g=r.width/i,_=r.height/s;return{width:g,height:_,top:p,right:h+g,bottom:p+_,left:h,x:h,y:p}}function iE(t){var e=Ur(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function as(t){return t?(t.nodeName||"").toLowerCase():null}function Bo(t){return((Wa(t)?t.ownerDocument:t.document)||window.document).documentElement}function sE(t){return Uu(Bo(t)).left+iE(t).scrollLeft}function Gs(t){return Ur(t).getComputedStyle(t)}function oE(t){var e=Gs(t);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function v$(t,e,n){void 0===n&&(n=!1);var r=ni(e),i=ni(e)&&function _$(t){var e=t.getBoundingClientRect(),n=Vu(e.width)/t.offsetWidth||1,r=Vu(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),s=Bo(e),o=Uu(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==as(e)||oE(s))&&(a=function m$(t){return t!==Ur(t)&&ni(t)?function g$(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):iE(t)}(e)),ni(e)?((c=Uu(e,!0)).x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=sE(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function aE(t){var e=Uu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Qg(t){return"html"===as(t)?t:t.assignedSlot||t.parentNode||(nE(t)?t.host:null)||Bo(t)}function hR(t){return["html","body","#document"].indexOf(as(t))>=0?t.ownerDocument.body:ni(t)&&oE(t)?t:hR(Qg(t))}function Ch(t,e){var n;void 0===e&&(e=[]);var r=hR(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),s=Ur(r),o=i?[s].concat(s.visualViewport||[],oE(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ch(Qg(o)))}function y$(t){return["table","td","th"].indexOf(as(t))>=0}function fR(t){return ni(t)&&"fixed"!==Gs(t).position?t.offsetParent:null}function Ih(t){for(var e=Ur(t),n=fR(t);n&&y$(n)&&"static"===Gs(n).position;)n=fR(n);return n&&("html"===as(n)||"body"===as(n)&&"static"===Gs(n).position)?e:n||function w$(t){var e=/firefox/i.test(rE());if(/Trident/i.test(rE())&&ni(t)&&"fixed"===Gs(t).position)return null;var i=Qg(t);for(nE(i)&&(i=i.host);ni(i)&&["html","body"].indexOf(as(i))<0;){var s=Gs(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(t)||e}var Sr="top",ri="bottom",ii="right",Tr="left",lE="auto",bh=[Sr,ri,ii,Tr],Bu="start",Dh="end",E$="clippingParents",pR="viewport",Sh="popper",C$="reference",gR=bh.reduce(function(t,e){return t.concat([e+"-"+Bu,e+"-"+Dh])},[]),mR=[].concat(bh,[lE]).reduce(function(t,e){return t.concat([e,e+"-"+Bu,e+"-"+Dh])},[]),N$=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function x$(t){var e=new Map,n=new Set,r=[];function i(s){n.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(s)}return t.forEach(function(s){e.set(s.name,s)}),t.forEach(function(s){n.has(s.name)||i(s)}),r}function k$(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}var _R={placement:"bottom",modifiers:[],strategy:"absolute"};function vR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function F$(t){void 0===t&&(t={});var n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?_R:i;return function(a,c,h){void 0===h&&(h=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},_R,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},g=[],_=!1,y={state:p,setOptions:function(U){var q="function"==typeof U?U(p.options):U;A(),p.options=Object.assign({},s,p.options,q),p.scrollParents={reference:Wa(a)?Ch(a):a.contextElement?Ch(a.contextElement):[],popper:Ch(c)};var N=function O$(t){var e=x$(t);return N$.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}(function L$(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}([].concat(r,p.options.modifiers)));return p.orderedModifiers=N.filter(function(Y){return Y.enabled}),function I(){p.orderedModifiers.forEach(function(M){var q=M.options,Y=M.effect;if("function"==typeof Y){var de=Y({state:p,name:M.name,instance:y,options:void 0===q?{}:q});g.push(de||function(){})}})}(),y.update()},forceUpdate:function(){if(!_){var U=p.elements,q=U.reference,N=U.popper;if(vR(q,N)){p.rects={reference:v$(q,Ih(N),"fixed"===p.options.strategy),popper:aE(N)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(bn){return p.modifiersData[bn.name]=Object.assign({},bn.data)});for(var Y=0;Y<p.orderedModifiers.length;Y++)if(!0!==p.reset){var de=p.orderedModifiers[Y],Ce=de.fn,Ht=de.options;"function"==typeof Ce&&(p=Ce({state:p,options:void 0===Ht?{}:Ht,name:de.name,instance:y})||p)}else p.reset=!1,Y=-1}}},update:k$(function(){return new Promise(function(M){y.forceUpdate(),M(p)})}),destroy:function(){A(),_=!0}};if(!vR(a,c))return y;function A(){g.forEach(function(M){return M()}),g=[]}return y.setOptions(h).then(function(M){!_&&h.onFirstUpdate&&h.onFirstUpdate(M)}),y}}var Jg={passive:!0};function ls(t){return t.split("-")[0]}function Hu(t){return t.split("-")[1]}function uE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yR(t){var c,e=t.reference,n=t.element,r=t.placement,i=r?ls(r):null,s=r?Hu(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2;switch(i){case Sr:c={x:o,y:e.y-n.height};break;case ri:c={x:o,y:e.y+e.height};break;case ii:c={x:e.x+e.width,y:a};break;case Tr:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var h=i?uE(i):null;if(null!=h){var p="y"===h?"height":"width";switch(s){case Bu:c[h]=c[h]-(e[p]/2-n[p]/2);break;case Dh:c[h]=c[h]+(e[p]/2-n[p]/2)}}return c}var j$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wR(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,h=t.adaptive,p=t.roundOffsets,g=t.isFixed,_=o.x,y=void 0===_?0:_,I=o.y,A=void 0===I?0:I,M="function"==typeof p?p({x:y,y:A}):{x:y,y:A};y=M.x,A=M.y;var U=o.hasOwnProperty("x"),q=o.hasOwnProperty("y"),N=Tr,Y=Sr,de=window;if(h){var Ce=Ih(n),Ht="clientHeight",zn="clientWidth";Ce===Ur(n)&&"static"!==Gs(Ce=Bo(n)).position&&"absolute"===a&&(Ht="scrollHeight",zn="scrollWidth"),(i===Sr||(i===Tr||i===ii)&&s===Dh)&&(Y=ri,A-=(g&&Ce===de&&de.visualViewport?de.visualViewport.height:Ce[Ht])-r.height,A*=c?1:-1),i!==Tr&&(i!==Sr&&i!==ri||s!==Dh)||(N=ii,y-=(g&&Ce===de&&de.visualViewport?de.visualViewport.width:Ce[zn])-r.width,y*=c?1:-1)}var mr,rr=Object.assign({position:a},h&&j$),xi=!0===p?function $$(t,e){var r=t.y,i=e.devicePixelRatio||1;return{x:Vu(t.x*i)/i||0,y:Vu(r*i)/i||0}}({x:y,y:A},Ur(n)):{x:y,y:A};return y=xi.x,A=xi.y,Object.assign({},rr,c?((mr={})[Y]=q?"0":"",mr[N]=U?"0":"",mr.transform=(de.devicePixelRatio||1)<=1?"translate("+y+"px, "+A+"px)":"translate3d("+y+"px, "+A+"px, 0)",mr):((e={})[Y]=q?A+"px":"",e[N]=U?y+"px":"",e.transform="",e))}var J$={left:"right",right:"left",bottom:"top",top:"bottom"};function Xg(t){return t.replace(/left|right|bottom|top/g,function(e){return J$[e]})}var X$={start:"end",end:"start"};function ER(t){return t.replace(/start|end/g,function(e){return X$[e]})}function CR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&nE(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function cE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function IR(t,e,n){return e===pR?cE(function eW(t,e){var n=Ur(t),r=Bo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var h=dR();(h||!h&&"fixed"===e)&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+sE(t),y:c}}(t,n)):Wa(e)?function nW(t,e){var n=Uu(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):cE(function tW(t){var e,n=Bo(t),r=iE(t),i=null==(e=t.ownerDocument)?void 0:e.body,s=za(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=za(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+sE(t),c=-r.scrollTop;return"rtl"===Gs(i||n).direction&&(a+=za(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}(Bo(t)))}function DR(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function SR(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}function Th(t,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?t.placement:r,s=e.strategy,o=void 0===s?t.strategy:s,a=e.boundary,c=void 0===a?E$:a,h=e.rootBoundary,p=void 0===h?pR:h,g=e.elementContext,_=void 0===g?Sh:g,y=e.altBoundary,I=void 0!==y&&y,A=e.padding,M=void 0===A?0:A,U=DR("number"!=typeof M?M:SR(M,bh)),N=t.rects.popper,Y=t.elements[I?_===Sh?C$:Sh:_],de=function iW(t,e,n,r){var i="clippingParents"===e?function rW(t){var e=Ch(Qg(t)),r=["absolute","fixed"].indexOf(Gs(t).position)>=0&&ni(t)?Ih(t):t;return Wa(r)?e.filter(function(i){return Wa(i)&&CR(i,r)&&"body"!==as(i)}):[]}(t):[].concat(e),s=[].concat(i,[n]),a=s.reduce(function(c,h){var p=IR(t,h,r);return c.top=za(p.top,c.top),c.right=Yg(p.right,c.right),c.bottom=Yg(p.bottom,c.bottom),c.left=za(p.left,c.left),c},IR(t,s[0],r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Wa(Y)?Y:Y.contextElement||Bo(t.elements.popper),c,p,o),Ce=Uu(t.elements.reference),Ht=yR({reference:Ce,element:N,strategy:"absolute",placement:i}),zn=cE(Object.assign({},N,Ht)),Nn=_===Sh?zn:Ce,bn={top:de.top-Nn.top+U.top,bottom:Nn.bottom-de.bottom+U.bottom,left:de.left-Nn.left+U.left,right:Nn.right-de.right+U.right},rr=t.modifiersData.offset;if(_===Sh&&rr){var xi=rr[i];Object.keys(bn).forEach(function(mr){var ul=[ii,ri].indexOf(mr)>=0?1:-1,cl=[Sr,ri].indexOf(mr)>=0?"y":"x";bn[mr]+=xi[cl]*ul})}return bn}function Ah(t,e,n){return za(t,Yg(e,n))}function TR(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function AR(t){return[Sr,ii,ri,Tr].some(function(e){return t[e]>=0})}var dE=F$({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function V$(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,c=Ur(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(p){p.addEventListener("scroll",n.update,Jg)}),a&&c.addEventListener("resize",n.update,Jg),function(){s&&h.forEach(function(p){p.removeEventListener("scroll",n.update,Jg)}),a&&c.removeEventListener("resize",n.update,Jg)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function B$(t){var e=t.state;e.modifiersData[t.name]=yR({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function W$(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,c=void 0===a||a,h={placement:ls(e.placement),variation:Hu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,wR(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,wR(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function G$(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ni(s)||!as(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];!1===a?s.removeAttribute(o):s.setAttribute(o,!0===a?"":a)}))})},effect:function q$(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]).reduce(function(c,h){return c[h]="",c},{});!ni(i)||!as(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Y$(t){var e=t.state,r=t.name,i=t.options.offset,s=void 0===i?[0,0]:i,o=mR.reduce(function(p,g){return p[g]=function K$(t,e,n){var r=ls(t),i=[Tr,Sr].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Tr,ii].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(g,e.rects,s),p},{}),a=o[e.placement],h=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a.x,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function aW(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0===o||o,c=n.fallbackPlacements,h=n.padding,p=n.boundary,g=n.rootBoundary,_=n.altBoundary,y=n.flipVariations,I=void 0===y||y,A=n.allowedAutoPlacements,M=e.options.placement,U=ls(M),N=c||(U!==M&&I?function oW(t){if(ls(t)===lE)return[];var e=Xg(t);return[ER(t),e,ER(e)]}(M):[Xg(M)]),Y=[M].concat(N).reduce(function(oc,oa){return oc.concat(ls(oa)===lE?function sW(t,e){void 0===e&&(e={});var i=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,c=e.allowedAutoPlacements,h=void 0===c?mR:c,p=Hu(e.placement),g=p?a?gR:gR.filter(function(I){return Hu(I)===p}):bh,_=g.filter(function(I){return h.indexOf(I)>=0});0===_.length&&(_=g);var y=_.reduce(function(I,A){return I[A]=Th(t,{placement:A,boundary:i,rootBoundary:s,padding:o})[ls(A)],I},{});return Object.keys(y).sort(function(I,A){return y[I]-y[A]})}(e,{placement:oa,boundary:p,rootBoundary:g,padding:h,flipVariations:I,allowedAutoPlacements:A}):oa)},[]),de=e.rects.reference,Ce=e.rects.popper,Ht=new Map,zn=!0,Nn=Y[0],bn=0;bn<Y.length;bn++){var rr=Y[bn],xi=ls(rr),mr=Hu(rr)===Bu,ul=[Sr,ri].indexOf(xi)>=0,cl=ul?"width":"height",jr=Th(e,{placement:rr,boundary:p,rootBoundary:g,altBoundary:_,padding:h}),Oi=ul?mr?ii:Tr:mr?ri:Sr;de[cl]>Ce[cl]&&(Oi=Xg(Oi));var o_=Xg(Oi),dl=[];if(s&&dl.push(jr[xi]<=0),a&&dl.push(jr[Oi]<=0,jr[o_]<=0),dl.every(function(oc){return oc})){Nn=rr,zn=!1;break}Ht.set(rr,dl)}if(zn)for(var tI=function(oa){var pf=Y.find(function(u_){var hl=Ht.get(u_);if(hl)return hl.slice(0,oa).every(function(nI){return nI})});if(pf)return Nn=pf,"break"},ff=I?3:1;ff>0&&"break"!==tI(ff);ff--);e.placement!==Nn&&(e.modifiersData[r]._skip=!0,e.placement=Nn,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function dW(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0!==o&&o,_=n.tether,y=void 0===_||_,I=n.tetherOffset,A=void 0===I?0:I,M=Th(e,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),U=ls(e.placement),q=Hu(e.placement),N=!q,Y=uE(U),de=function uW(t){return"x"===t?"y":"x"}(Y),Ce=e.modifiersData.popperOffsets,Ht=e.rects.reference,zn=e.rects.popper,Nn="function"==typeof A?A(Object.assign({},e.rects,{placement:e.placement})):A,bn="number"==typeof Nn?{mainAxis:Nn,altAxis:Nn}:Object.assign({mainAxis:0,altAxis:0},Nn),rr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,xi={x:0,y:0};if(Ce){if(s){var mr,ul="y"===Y?Sr:Tr,cl="y"===Y?ri:ii,jr="y"===Y?"height":"width",Oi=Ce[Y],o_=Oi+M[ul],dl=Oi-M[cl],a_=y?-zn[jr]/2:0,tI=q===Bu?Ht[jr]:zn[jr],ff=q===Bu?-zn[jr]:-Ht[jr],l_=e.elements.arrow,oc=y&&l_?aE(l_):{width:0,height:0},oa=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},pf=oa[ul],u_=oa[cl],hl=Ah(0,Ht[jr],oc[jr]),nI=N?Ht[jr]/2-a_-hl-pf-bn.mainAxis:tI-hl-pf-bn.mainAxis,Sq=N?-Ht[jr]/2+a_+hl+u_+bn.mainAxis:ff+hl+u_+bn.mainAxis,rI=e.elements.arrow&&Ih(e.elements.arrow),Tx=null!=(mr=rr?.[Y])?mr:0,Rq=Oi+Sq-Tx,Ax=Ah(y?Yg(o_,Oi+nI-Tx-(rI?"y"===Y?rI.clientTop||0:rI.clientLeft||0:0)):o_,Oi,y?za(dl,Rq):dl);Ce[Y]=Ax,xi[Y]=Ax-Oi}if(a){var Rx,fl=Ce[de],c_="y"===de?"height":"width",Mx=fl+M["x"===Y?Sr:Tr],Px=fl-M["x"===Y?ri:ii],iI=-1!==[Sr,Tr].indexOf(U),Nx=null!=(Rx=rr?.[de])?Rx:0,xx=iI?Mx:fl-Ht[c_]-zn[c_]-Nx+bn.altAxis,Ox=iI?fl+Ht[c_]+zn[c_]-Nx-bn.altAxis:Px,kx=y&&iI?function cW(t,e,n){var r=Ah(t,e,n);return r>n?n:r}(xx,fl,Ox):Ah(y?xx:Mx,fl,y?Ox:Px);Ce[de]=kx,xi[de]=kx-fl}e.modifiersData[r]=xi}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function pW(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ls(n.placement),c=uE(a),p=[Tr,ii].indexOf(a)>=0?"height":"width";if(s&&o){var g=function(e,n){return DR("number"!=typeof(e="function"==typeof e?e(Object.assign({},n.rects,{placement:n.placement})):e)?e:SR(e,bh))}(i.padding,n),_=aE(s),y="y"===c?Sr:Tr,I="y"===c?ri:ii,A=n.rects.reference[p]+n.rects.reference[c]-o[c]-n.rects.popper[p],M=o[c]-n.rects.reference[c],U=Ih(s),q=U?"y"===c?U.clientHeight||0:U.clientWidth||0:0,Ce=q/2-_[p]/2+(A/2-M/2),Ht=Ah(g[y],Ce,q-_[p]-g[I]);n.modifiersData[r]=((e={})[c]=Ht,e.centerOffset=Ht-Ce,e)}},effect:function gW(t){var e=t.state,r=t.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||CR(e.elements.popper,i)&&(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function _W(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Th(e,{elementContext:"reference"}),a=Th(e,{altBoundary:!0}),c=TR(o,r),h=TR(a,i,s),p=AR(c),g=AR(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}}]}),Ho=function(){return Ho=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ho.apply(this,arguments)},em=function(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},jo={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},yW={id:null,override:!0},RR=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=jo),void 0===i&&(i=yW),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Ho(Ho({},jo),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ut.addInstance("Dropdown",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var e=this,n=this._getTriggerEvents();"click"===this._options.triggerType&&n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._clickHandler)}),"hover"===this._options.triggerType&&(n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverHideHandler),e._targetEl.removeEventListener(r,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){ut.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},"click"===this._options.triggerType&&n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._clickHandler)}),this._hoverShowTriggerElHandler=function(r){"click"===r.type?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},"hover"===this._options.triggerType&&(n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverHideHandler),e._targetEl.addEventListener(r,e._hoverHideHandler)}))},t.prototype._createPopperInstance=function(){return dE(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target,i=this._options.ignoreClickOutsideClass,s=!1;i&&document.querySelectorAll(".".concat(i)).forEach(function(a){a.contains(r)&&(s=!0)}),r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&!s&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return Ho(Ho({},e),{modifiers:em(em([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return Ho(Ho({},e),{modifiers:em(em([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t}();function hE(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-dropdown-placement"),i=t.getAttribute("data-dropdown-offset-skidding"),s=t.getAttribute("data-dropdown-offset-distance"),o=t.getAttribute("data-dropdown-trigger"),a=t.getAttribute("data-dropdown-delay"),c=t.getAttribute("data-dropdown-ignore-click-outside-class");new RR(n,t,{placement:r||jo.placement,triggerType:o||jo.triggerType,offsetSkidding:i?parseInt(i):jo.offsetSkidding,offsetDistance:s?parseInt(s):jo.offsetDistance,delay:a?parseInt(a):jo.delay,ignoreClickOutsideClass:c||jo.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=RR,window.initDropdowns=hE);var tm=function(){return tm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},tm.apply(this,arguments)},nm={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},wW={id:null,override:!0},MR=function(){function t(e,n,r){void 0===e&&(e=null),void 0===n&&(n=nm),void 0===r&&(r=wW),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=tm(tm({},nm),n),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),ut.addInstance("Modal",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(n){e._targetEl.classList.add(n)}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){ut.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var n=document.createElement("div");n.setAttribute("modal-backdrop",""),(e=n.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},t.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},t.prototype._setupModalCloseEventListeners=function(){var e=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(n){e._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){"Escape"===n.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t}();function fE(){document.querySelectorAll("[data-modal-target]").forEach(function(t){var e=t.getAttribute("data-modal-target"),n=document.getElementById(e);if(n){var r=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop");new MR(n,{placement:r||nm.placement,backdrop:i||nm.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(t){var e=t.getAttribute("data-modal-toggle");if(document.getElementById(e)){var r=ut.getInstance("Modal",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(t){var e=t.getAttribute("data-modal-show");if(document.getElementById(e)){var r=ut.getInstance("Modal",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(t){var e=t.getAttribute("data-modal-hide");if(document.getElementById(e)){var r=ut.getInstance("Modal",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=MR,window.initModals=fE);var rm=function(){return rm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},rm.apply(this,arguments)},Ga={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},EW={id:null,override:!0},PR=function(){function t(e,n,r){void 0===e&&(e=null),void 0===n&&(n=Ga),void 0===r&&(r=EW),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=rm(rm({},Ga),n),this._visible=!1,this._initialized=!1,this.init(),ut.addInstance("Drawer",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(n){e._targetEl.classList.add(n)}),this._handleEscapeKey=function(n){"Escape"===n.key&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){ut.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,n=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){n.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t}();function pE(){document.querySelectorAll("[data-drawer-target]").forEach(function(t){var e=t.getAttribute("data-drawer-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-drawer-placement"),i=t.getAttribute("data-drawer-body-scrolling"),s=t.getAttribute("data-drawer-backdrop"),o=t.getAttribute("data-drawer-edge"),a=t.getAttribute("data-drawer-edge-offset");new PR(n,{placement:r||Ga.placement,bodyScrolling:i?"true"===i:Ga.bodyScrolling,backdrop:s?"true"===s:Ga.backdrop,edge:o?"true"===o:Ga.edge,edgeOffset:a||Ga.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(t){var e=t.getAttribute("data-drawer-toggle");if(document.getElementById(e)){var r=ut.getInstance("Drawer",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide");if(document.getElementById(e)){var r=ut.getInstance("Drawer",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(t){var e=t.getAttribute("data-drawer-show");if(document.getElementById(e)){var r=ut.getInstance("Drawer",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=PR,window.initDrawers=pE);var im=function(){return im=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},im.apply(this,arguments)},NR={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},CW={id:null,override:!0},xR=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=NR),void 0===i&&(i=CW),this._instanceId=i.id?i.id:e.id,this._tabsEl=e,this._items=n,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=im(im({},NR),r),this._initialized=!1,this.init(),ut.addInstance("Tabs",this,this._tabsEl.id,!0),ut.addInstance("Tabs",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(){e.show(n.id)})}))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),ut.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.show=function(e,n){var r,i,s=this;void 0===n&&(n=!1);var o=this.getTab(e);o===this._activeTab&&!n||(this._items.map(function(a){var c,h;a!==o&&((c=a.triggerEl.classList).remove.apply(c,s._options.activeClasses.split(" ")),(h=a.triggerEl.classList).add.apply(h,s._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(r=o.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=o.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},t}();function gE(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],n=null;t.querySelectorAll('[role="tab"]').forEach(function(r){var i="true"===r.getAttribute("aria-selected"),s={id:r.getAttribute("data-tabs-target"),triggerEl:r,targetEl:document.querySelector(r.getAttribute("data-tabs-target"))};e.push(s),i&&(n=s.id)}),new xR(t,e,{defaultTabId:n})})}typeof window<"u"&&(window.Tabs=xR,window.initTabs=gE);var $o=function(){return $o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$o.apply(this,arguments)},sm=function(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},om={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},IW={id:null,override:!0},OR=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=om),void 0===i&&(i=IW),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=$o($o({},om),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ut.addInstance("Tooltip",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){ut.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return dE(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){"Escape"===n.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return $o($o({},e),{modifiers:sm(sm([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return $o($o({},e),{modifiers:sm(sm([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t}();function mE(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-tooltip-trigger"),i=t.getAttribute("data-tooltip-placement");new OR(n,t,{placement:i||om.placement,triggerType:r||om.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=OR,window.initTooltips=mE);var Wo=function(){return Wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Wo.apply(this,arguments)},am=function(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Rh={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},bW={id:null,override:!0},kR=function(){function t(e,n,r,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=Rh),void 0===i&&(i=bW),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Wo(Wo({},Rh),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ut.addInstance("Popover",this,i.id?i.id:this._targetEl.id,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler),e._targetEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler),e._targetEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){ut.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler),e._targetEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler),e._targetEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return dE(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){"Escape"===n.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Wo(Wo({},e),{modifiers:am(am([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Wo(Wo({},e),{modifiers:am(am([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t}();function _E(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-popover-trigger"),i=t.getAttribute("data-popover-placement"),s=t.getAttribute("data-popover-offset");new kR(n,t,{placement:i||Rh.placement,offset:s?parseInt(s):Rh.offset,triggerType:r||Rh.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=kR,window.initPopovers=_E);var lm=function(){return lm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},lm.apply(this,arguments)},vE={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},DW={id:null,override:!0},LR=function(){function t(e,n,r,i,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=vE),void 0===s&&(s=DW),this._instanceId=s.id?s.id:r.id,this._parentEl=e,this._triggerEl=n,this._targetEl=r,this._options=lm(lm({},vE),i),this._visible=!1,this._initialized=!1,this.init(),ut.addInstance("Dial",this,this._instanceId,s.override)}return t.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showEventHandler),e._targetEl.addEventListener(r,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},n.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,e._hideEventHandler)}),this._initialized=!0}},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showEventHandler),e._targetEl.removeEventListener(r,e._showEventHandler)}),n.hideEvents.forEach(function(r){e._parentEl.removeEventListener(r,e._hideEventHandler)}),this._initialized=!1}},t.prototype.removeInstance=function(){ut.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t}();function yE(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var n=e.getAttribute("data-dial-toggle"),r=document.getElementById(n);if(r){var i=e.getAttribute("data-dial-trigger");new LR(t,e,r,{triggerType:i||vE.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}function FR(){Qw(),Xw(),eE(),tE(),hE(),fE(),pE(),gE(),mE(),_E(),yE()}typeof window<"u"&&(window.Dial=LR,window.initDials=yE),typeof window<"u"&&(window.initFlowbite=FR),new u$("load",[Qw,Xw,eE,tE,hE,fE,pE,gE,mE,_E,yE]).init();let TW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Hi({type:t,selectors:[["app-sidebar"]],decls:9,vars:0,consts:[[1,"navbarLateral"],[1,"cardIconesLateral"],["role","button",1,"material-symbols-outlined"]],template:function(r,i){1&r&&(Me(0,"nav",0)(1,"div",1)(2,"ul")(3,"li")(4,"span",2),et(5,"home"),Pe()(),Me(6,"li")(7,"span",2),et(8,"settings"),Pe()()()()())},styles:[".navbarLateral[_ngcontent-%COMP%]{width:5rem;height:100vh;background-color:var(--sidebar);font-family:Roboto;color:#fff}.cardIconesLateral[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center;line-height:5rem;color:azure;cursor:pointer}span[_ngcontent-%COMP%]:hover{background-color:var(--hover-icons)}@media (max-width: 450px){.navbarLateral[_ngcontent-%COMP%]{display:none}}"]})}return t})(),AW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Hi({type:t,selectors:[["app-card-faturas"]],decls:29,vars:0,consts:[["id","default-carousel","data-carousel","",1,"relative","w-full"],[1,"relative","h-56","overflow-hidden","rounded-lg","md:h-96"],["data-carousel-item","",1,"card-mobile"],["id","card-total-liquido",1,"cards"],[1,"titulo-card"],["data-carousel-item","",1,"hidden"],["id","card-fatura-atual",1,"cards"],["id","card-proxima-fatura",1,"cards"],[1,"absolute","z-30","flex","-translate-x-1/2","left-1/2","space-x-3","rtl:space-x-reverse"],["type","button","aria-current","true","aria-label","Slide 1","data-carousel-slide-to","0",1,"w-3","h-3","rounded-full","mt-2"],["type","button","aria-current","false","aria-label","Slide 2","data-carousel-slide-to","1",1,"w-3","h-3","rounded-full","mt-2"],["type","button","aria-current","false","aria-label","Slide 3","data-carousel-slide-to","2",1,"w-3","h-3","rounded-full","mt-2"],["type","button","data-carousel-prev","",1,"absolute","top-0","start-0","z-30","flex","items-center","justify-center","h-full","px-4","cursor-pointer","group","focus:outline-none"],["type","button","data-carousel-next","",1,"absolute","top-0","end-0","z-30","flex","items-center","justify-center","h-full","px-4","cursor-pointer","group","focus:outline-none"]],template:function(r,i){1&r&&(Me(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),et(5,"Total l\xedquido"),Pe(),tr(6,"hr"),Me(7,"h1"),et(8,"R$ 0,00 "),Pe()()(),Me(9,"div",5)(10,"div",6)(11,"span",4),et(12,"Fatura atual"),Pe(),tr(13,"hr"),Me(14,"h1"),et(15,"R$ 0,00 "),Pe()()(),Me(16,"div",5)(17,"div",7)(18,"span",4),et(19,"Pr\xf3xima fatura"),Pe(),tr(20,"hr"),Me(21,"h1"),et(22,"R$ 0,00 "),Pe()()()(),Me(23,"div",8),tr(24,"button",9)(25,"button",10)(26,"button",11),Pe(),tr(27,"button",12)(28,"button",13),Pe())},styles:[".card[_ngcontent-%COMP%]{width:100%;height:10rem;background-color:var(--background-secondary);border-radius:10px}.card-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:0 1rem;align-items:center;flex-wrap:wrap;width:100%;height:100%}.titulo-card[_ngcontent-%COMP%]{font-family:Roboto;color:#0b0b09;font-size:10pt;font-weight:500}#card-total-liquido[_ngcontent-%COMP%]{background-color:#56f452;padding:1rem}#card-fatura-atual[_ngcontent-%COMP%]{background-color:#75c1f3;padding:1rem}#card-proxima-fatura[_ngcontent-%COMP%]{background-color:#f9db49;padding:1rem}.cards[_ngcontent-%COMP%]{width:20rem;height:8rem;cursor:pointer}.cards[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:1px solid #3f3f3f;margin-top:.7rem}.cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;height:5rem;align-items:center;font-size:22pt;font-weight:500}@media (max-width: 450px){.cards[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25px}.cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:90%;justify-content:center;align-items:center;font-size:32pt}.titulo-card[_ngcontent-%COMP%]{font-size:12pt}}"]})}return t})();var ju=(()=>{return(t=ju||(ju={}))[t.debito=1]="debito",t[t.credito=2]="credito",ju;var t})(),$u=(()=>{return(t=$u||($u={}))[t.pago=1]="pago",t[t.pendente=2]="pendente",$u;var t})();const RW=[{idTransacao:1,compra:"Plano Claro",tipoCompra:ju.debito,status:$u.pendente,valor:39.9},{idTransacao:2,compra:"Plano Claro",tipoCompra:ju.credito,status:$u.pendente,valor:52.59},{idTransacao:3,compra:"Plano Claro",tipoCompra:ju.credito,status:$u.pago,valor:150.42}];function MW(t,e){if(1&t&&(Me(0,"div",2)(1,"span"),et(2),Pe(),Me(3,"span"),et(4),Pe(),Me(5,"span"),et(6),Pe(),Me(7,"span"),et(8),Pe()()),2&t){const n=e.$implicit;xa(2),yu(n.compra),xa(2),yu(n.tipoCompra),xa(2),yu(n.status),xa(2),yu(n.valor)}}let PW=(()=>{class t{constructor(){this.dadosTransacao=RW}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Hi({type:t,selectors:[["app-card-transacoes"]],decls:10,vars:1,consts:[[1,"cabecalho-card-transacoes"],["class","card-transacoes transacoes",4,"ngFor","ngForOf"],[1,"card-transacoes","transacoes"]],template:function(r,i){1&r&&(Me(0,"div",0)(1,"span"),et(2,"Compra"),Pe(),Me(3,"span"),et(4,"Tipo Compra"),Pe(),Me(5,"span"),et(6,"Status"),Pe(),Me(7,"span"),et(8,"Valor R$"),Pe()(),function oD(t,e,n,r,i,s,o,a){const c=G(),h=qe(),p=t+ft,g=h.firstCreatePass?function lL(t,e,n,r,i,s,o,a,c){const h=e.consts,p=lu(e,t,4,o||null,vs(h,a));Zv(e,n,p,vs(h,c)),Pl(e,p);const g=p.tView=qv(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h);return null!==e.queries&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}(p,h,c,e,n,r,i,s,o):h.data[p];Zr(g,!1);const _=c[Te].createComment("");le(h,c,_,g),Rn(_,c),Op(c,c[p]=Bb(_,c,_,g)),Il(g)&&zv(h,c,g),null!=o&&Gv(c,g,a)}(9,MW,9,4,"div",1)),2&r&&(xa(9),Hp("ngForOf",i.dadosTransacao))},dependencies:[hT],styles:[".cabecalho-card-transacoes[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:var(--background-secondary);padding:1rem;font-family:Roboto;color:#b1b1b1;border-radius:10px;margin-bottom:.5rem}.card-transacoes[_ngcontent-%COMP%]{display:flex;background-color:var(--background-secondary);padding:1rem;border-radius:10px;margin-bottom:2px}.card-transacoes[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;font-family:Roboto;color:#b1b1b1;font-size:10pt}.transacoes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d5d5d5}.transacoes[_ngcontent-%COMP%]:hover{background-color:#2e354866;cursor:pointer}@media (max-width: 450px){.cabecalho-card-transacoes[_ngcontent-%COMP%]{width:100%;margin-top:12rem}.cabecalho-card-transacoes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;font-size:7.7pt}}"]})}return t})(),VR=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(Q(Os),Q(Ir))},t.\u0275dir=we({type:t}),t})(),qa=(()=>{class t extends VR{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ln(t)))(r||t)}}(),t.\u0275dir=we({type:t,features:[pt]}),t})();const Ai=new ae("NgValueAccessor"),OW={provide:Ai,useExisting:fe(()=>um),multi:!0},LW=new ae("CompositionEventMode");let um=(()=>{class t extends VR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kW(){const t=Bs()?Bs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(Os),Q(Ir),Q(LW,8))},t.\u0275dir=we({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Lr("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[kt([OW]),pt]}),t})();const FW=!1;const $n=new ae("NgValidators"),Go=new ae("NgAsyncValidators");function $R(t){return function zo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function cm(t){return null}function KR(t){return null!=t}function YR(t){const e=$d(t)?T(t):t;if(FW&&!sy(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new C(-1101,n)}return e}function QR(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function JR(t,e){return e.map(n=>n(t))}function XR(t){return t.map(e=>function UW(t){return!t.validate}(e)?e:n=>e.validate(n))}function wE(t){return null!=t?function eM(t){if(!t)return null;const e=t.filter(KR);return 0==e.length?null:function(n){return QR(JR(n,e))}}(XR(t)):null}function EE(t){return null!=t?function tM(t){if(!t)return null;const e=t.filter(KR);return 0==e.length?null:function(n){return function NW(...t){const e=Fi(t),{args:n,keys:r}=WT(t),i=new Qe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,h=o;for(let p=0;p<o;p++){let g=!1;Kt(n[p]).subscribe(ne(s,_=>{g||(g=!0,h--),a[p]=_},()=>c--,void 0,()=>{(!c||!g)&&(h||s.next(r?GT(r,a):a),s.complete())}))}});return e?i.pipe(zT(e)):i}(JR(n,e).map(YR)).pipe(ce(QR))}}(XR(t)):null}function nM(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rM(t){return t._rawValidators}function iM(t){return t._rawAsyncValidators}function CE(t){return t?Array.isArray(t)?t:[t]:[]}function dm(t,e){return Array.isArray(t)?t.includes(e):t===e}function sM(t,e){const n=CE(e);return CE(t).forEach(i=>{dm(n,i)||n.push(i)}),n}function oM(t,e){return CE(e).filter(n=>!dm(t,n))}class aM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class pr extends aM{get formDirective(){return null}get path(){return null}}class qo extends aM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uM=(()=>{class t extends lM{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(qo,2))},t.\u0275dir=we({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&$p("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]}),t})(),cM=(()=>{class t extends lM{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(pr,10))},t.\u0275dir=we({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&$p("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[pt]}),t})();function dM(t,e){return t?`with name: '${e}'`:`at index: ${e}`}const DE=!1,Mh="VALID",fm="INVALID",Wu="PENDING",Ph="DISABLED";function SE(t){return(pm(t)?t.validators:t)||null}function TE(t,e){return(pm(e)?e.asyncValidators:t)||null}function pm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pM{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mh}get invalid(){return this.status===fm}get pending(){return this.status==Wu}get disabled(){return this.status===Ph}get enabled(){return this.status!==Ph}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oM(e,this._rawAsyncValidators))}hasValidator(e){return dm(this._rawValidators,e)}hasAsyncValidator(e){return dm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Wu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ph,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Mh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===Wu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ph:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Wu,this._hasOwnPendingAsyncValidator=!0;const n=YR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qt,this.statusChanges=new qt}_calculateStatus(){return this._allControlsDisabled()?Ph:this.errors?fm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wu)?Wu:this._anyControlsHaveStatus(fm)?fm:Mh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function GW(t){return Array.isArray(t)?wE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function qW(t){return Array.isArray(t)?EE(t):t||null}(this._rawAsyncValidators)}}class AE extends pM{constructor(e,n,r){super(SE(n),TE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function fM(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new C(1002,DE?function zW(t,e){return`Must supply a value for form control ${dM(t,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function hM(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,DE?function $W(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[n])throw new C(1001,DE?function WW(t,e){return`Cannot find form control ${dM(t,e)}`}(e,n):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Za=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>Nh}),Nh="always";function xh(t,e,n=Nh){RE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function YW(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gM(t,e)})}(t,e),function JW(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function QW(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gM(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function KW(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),function vm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=rM(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=iM(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return _m(e._rawValidators,r),_m(e._rawAsyncValidators,r),n}(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _m(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function RE(t,e){const n=rM(t);null!==e.validator?t.setValidators(nM(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=iM(t);null!==e.asyncValidator?t.setAsyncValidators(nM(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();_m(e._rawValidators,i),_m(e._rawAsyncValidators,i)}function gM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const rz={provide:pr,useExisting:fe(()=>ym)},Oh=(()=>Promise.resolve())();let ym=(()=>{class t extends pr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qt,this.form=new AE({},wE(n),EE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Oh.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),xh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Oh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Oh.then(()=>{const r=this._findContainer(n.path),i=new AE({});(function mM(t,e){RE(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Oh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Oh.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function _M(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(Q($n,10),Q(Go,10),Q(Za,8))},t.\u0275dir=we({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Lr("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kt([rz]),pt]}),t})();function vM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function yM(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const xE=class extends pM{constructor(e=null,n,r){super(SE(n),TE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=yM(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let bM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=we({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),SM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({}),t})();const OE=new ae("NgModelWithFormControlWarning"),dz={provide:qo,useExisting:fe(()=>kE)};let kE=(()=>{class t extends qo{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new qt,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function NE(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===um?n=s:function tz(t){return Object.getPrototypeOf(t.constructor)===qa}(s)?r=s:i=s}),i||r||n||null}(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&mm(r,this,!1),xh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function PE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)})(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&mm(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(Q($n,10),Q(Go,10),Q(Ai,10),Q(OE,8),Q(Za,8))},t.\u0275dir=we({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[kt([dz]),pt,Kn]}),t})();const mz={provide:Ai,useExisting:fe(()=>UE),multi:!0};function PM(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let UE=(()=>{class t extends qa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=PM(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function _z(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ln(t)))(r||t)}}(),t.\u0275dir=we({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Lr("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[kt([mz]),pt]}),t})(),NM=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(PM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(Q(Ir),Q(Os),Q(UE,9))},t.\u0275dir=we({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const vz={provide:Ai,useExisting:fe(()=>BE),multi:!0};function xM(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let BE=(()=>{class t extends qa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const h=this._getOptionValue(o[a].value);i.push(h)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const h=this._getOptionValue(c.value);i.push(h)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function yz(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ln(t)))(r||t)}}(),t.\u0275dir=we({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Lr("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[kt([vz]),pt]}),t})(),OM=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(xM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(xM(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(Q(Ir),Q(Os),Q(BE,9))},t.\u0275dir=we({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),Ka=(()=>{class t{constructor(){this._validator=cm}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=we({type:t,features:[Kn]}),t})();const Cz={provide:$n,useExisting:fe(()=>wm),multi:!0};let wm=(()=>{class t extends Ka{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Su,this.createValidator=n=>$R}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=ln(t)))(r||t)}}(),t.\u0275dir=we({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&ns("required",r._enabled?"":null)},inputs:{required:"required"},features:[kt([Cz]),pt]}),t})(),WM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({imports:[SM]}),t})(),zM=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Za,useValue:n.callSetDisabledState??Nh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({imports:[WM]}),t})(),Rz=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:OE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Za,useValue:n.callSetDisabledState??Nh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({imports:[WM]}),t})(),Mz=new ae("currency.mask.config");class Pz{constructor(e){this.htmlInputElement=e}setCursorAt(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){let n=this.htmlInputElement.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}updateValueAndCursor(e,n,r){this.rawValue=e,this.setCursorAt(r-=n-e.length)}get canInputMoreNumbers(){let e=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),n=this.inputSelection.selectionStart,r=this.inputSelection.selectionEnd,i=!(n==r||!this.htmlInputElement.value.substring(n,r).match(/\d/)),s="0"==this.htmlInputElement.value.substring(0,1);return e||i||s}get inputSelection(){let e=0,n=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,n=this.htmlInputElement.selectionEnd;else{let r=document.getSelection().anchorNode;if(r&&r.firstChild==this.htmlInputElement){let i=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange(),a=this.htmlInputElement.createTextRange();a.collapse(!1),o.compareEndPoints("StartToEnd",a)>-1?e=n=i:(e=-o.moveStart("character",-i),e+=s.slice(0,e).split("\n").length-1,o.compareEndPoints("EndToEnd",a)>-1?n=i:(n=-o.moveEnd("character",-i),n+=s.slice(0,n).split("\n").length-1))}}return{selectionStart:e,selectionEnd:n}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}get storedRawValue(){return this._storedRawValue}}class Nz{constructor(e,n){this.htmlInputElement=e,this.options=n,this.inputManager=new Pz(e)}addNumber(e){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let n=String.fromCharCode(e),r=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,r)+n+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(r+1)}applyMask(e,n){let{allowNegative:r,decimal:i,precision:s,prefix:o,suffix:a,thousands:c}=this.options,h=(n=e?new Number(n).toFixed(s):n).replace(/[^0-9]/g,"");if(!h)return"";let p=h.slice(0,h.length-s).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,c);""==p&&(p="0");let g=p,_=h.slice(h.length-s);s>0&&(_="0".repeat(s-_.length)+_,g+=i+_);let y=0==parseInt(p)&&(0==parseInt(_)||""==_);return(n.indexOf("-")>-1&&r&&!y?"-":"")+o+g+a}clearMask(e){if(null==e||""==e)return null;let n=e.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(n=n.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(n=n.replace(this.options.decimal,".")),parseFloat(n)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let e=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(e+1)}}changeToPositive(){let e=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(e-1)}fixCursorPosition(e){let n=this.inputSelection.selectionStart;n>this.getRawValueWithoutSuffixEndPosition()||e?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):n<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(e){let{decimal:n,thousands:r}=this.options,i=this.inputSelection.selectionEnd,s=this.inputSelection.selectionStart;s>this.rawValue.length-this.options.suffix.length&&(i=this.rawValue.length-this.options.suffix.length,s=this.rawValue.length-this.options.suffix.length),i==s&&((46==e||63272==e)&&/^\d+$/.test(this.rawValue.substring(s,i+1))&&(i+=1),(46==e||63272==e)&&(this.rawValue.substring(s,i+1)==n||this.rawValue.substring(s,i+1)==r)&&(i+=2,s+=1),8==e&&/^\d+$/.test(this.rawValue.substring(s-1,i))&&(s-=1),8==e&&(this.rawValue.substring(s-1,i)==n||this.rawValue.substring(s-1,i)==r)&&(s-=2,i-=1)),this.rawValue=this.rawValue.substring(0,s)+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(s)}updateFieldValue(e){let n=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(n,this.rawValue.length,e=e??this.rawValue.length)}updateOptions(e){let n=this.value;this.options=e,this.value=n}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(e){this.inputManager.rawValue=e}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(e){this.rawValue=this.applyMask(!0,""+e)}}class xz{constructor(e,n){this.inputService=new Nz(e,n),this.htmlInputElement=e}handleClick(e,n){0==Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)&&!isNaN(this.inputService.value)&&this.inputService.fixCursorPosition(n)}handleCut(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(e){if(this.isReadOnly())return;let n=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),r=this.inputService.rawValue.length,i=this.inputService.inputSelection.selectionEnd,s=this.inputService.getRawValueWithoutSuffixEndPosition(),o=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,i==s&&1==Math.abs(r-o)||0==o){if(r<o&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),r>o)switch(n){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(n).match(/\d/))return;this.inputService.addNumber(n)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}handleKeydown(e){if(this.isReadOnly())return;let n=e.which||e.charCode||e.keyCode;if(8==n||46==n||63272==n){e.preventDefault();let r=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);(r==this.inputService.rawValue.length||0==this.inputService.value)&&(this.setValue(null),this.onModelChange(this.inputService.value)),0==r&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(n),this.onModelChange(this.inputService.value)),(8===n||46===n)&&0!=r&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(n),this.onModelChange(this.inputService.value))}}handleKeypress(e){if(this.isReadOnly())return;let n=e.which||e.charCode||e.keyCode;if(null!=n&&-1==[9,13].indexOf(n)&&!this.isArrowEndHomeKeyInFirefox(e)){switch(n){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(!isNaN(this.inputService.value)||null!=String.fromCharCode(n).match(/\d/))&&this.inputService.addNumber(n)}e.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(e){this.inputService.fixCursorPosition()}handlePaste(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(e){this.inputService.updateOptions(e)}getOnModelChange(){return this.onModelChange}setOnModelChange(e){this.onModelChange=e}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(e){this.onModelTouched=e}setValue(e){this.inputService.value=e}getNewKeyCode(e,n){if(e.length>n.length)return null;for(let r=0;r<n.length;r++)if(e.length==r||e[r]!=n[r])return n.charCodeAt(r);return null}isArrowEndHomeKeyInFirefox(e){return-1!=[35,36,37,38,39,40].indexOf(e.keyCode)&&(null==e.charCode||0==e.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(e){let n=this.inputService.getRawValueWithoutSuffixEndPosition();const r=e.target;setTimeout(function(){r.setSelectionRange(n,n)},0)}}const Oz={provide:Ai,useExisting:fe(()=>GM),multi:!0};let GM=(()=>{class t{constructor(n,r,i){this.currencyMaskConfig=n,this.elementRef=r,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},n&&(this.optionsTemplate=n),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new xz(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(n){this.inputHandler.getOnModelTouched().apply(n)}handleClick(n){this.inputHandler.handleClick(n,this.isChromeAndroid())}handleCut(n){this.isChromeAndroid()||this.inputHandler.handleCut(n)}handleInput(n){this.isChromeAndroid()&&this.inputHandler.handleInput(n)}handleKeydown(n){this.isChromeAndroid()||this.inputHandler.handleKeydown(n)}handleKeypress(n){this.isChromeAndroid()||this.inputHandler.handleKeypress(n)}handleKeyup(n){this.isChromeAndroid()||this.inputHandler.handleKeyup(n)}handlePaste(n){this.isChromeAndroid()||this.inputHandler.handlePaste(n)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(n){this.inputHandler.setOnModelChange(n)}registerOnTouched(n){this.inputHandler.setOnModelTouched(n)}setDisabledState(n){this.elementRef.nativeElement.disabled=n}validate(n){let r={};return n.value>this.max&&(r.max=!0),n.value<this.min&&(r.min=!0),r!={}?r:null}writeValue(n){this.inputHandler.setValue(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(Mz,8),Q(Ir),Q(Du))},t.\u0275dir=we({type:t,selectors:[["","currencyMask",""]],hostBindings:function(n,r){1&n&&Lr("blur",function(s){return r.handleBlur(s)})("click",function(s){return r.handleClick(s)})("cut",function(s){return r.handleCut(s)})("input",function(s){return r.handleInput(s)})("keydown",function(s){return r.handleKeydown(s)})("keypress",function(s){return r.handleKeypress(s)})("keyup",function(s){return r.handleKeyup(s)})("paste",function(s){return r.handlePaste(s)})},inputs:{max:"max",min:"min",options:"options"},features:[kt([Oz,{provide:$n,useExisting:t,multi:!0}])]}),t})(),kz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Nt({type:t}),t.\u0275inj=sn({imports:[[_T,zM]]}),t})();const Lz=function(){return{prefix:"R$ ",thousands:".",decimal:",",align:"center"}};let Fz=(()=>{class t{constructor(){this.formValorTransacao=new xE}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Hi({type:t,selectors:[["app-botao-nova-transacao"]],decls:58,vars:3,consts:[[1,"btn-nova-transacao"],["data-modal-target","nova-transacao","data-modal-toggle","nova-transacao","type","button"],["id","nova-transacao","tabindex","-1","aria-hidden","true",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-[#1B1B1E]","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","bg-[#1957A0]","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-lg","text-white","dark:text-white"],["type","button","data-modal-toggle","nova-transacao",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],["action","#",1,"p-4","md:p-5"],[1,"grid","gap-4","mb-4","grid-cols-2"],[1,"col-span-2"],["for","name",1,"block","text-sm","text-[#B9B8B8]","dark:text-[#B9B8B8]"],["currencyMask","","name","valor-transacao","id","valor-transacao","placeholder","R$ 0,00","required","",1,"bg-[#383838]","text-center","border-gray-400","text-[#B9B8B8]","text-3xl","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-10","dark:bg-[#383838]","dark:focus:border-primary-500",3,"formControl","options"],["type","text","name","name","id","name","placeholder","Ex: Restaurante","required","",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[1,"col-span-2","sm:col-span-1"],["for","category",1,"block","text-sm","text-[#B9B8B8]","dark:text-white"],["id","category",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["selected",""],["value","1"],["value","2"],["type","submit",1,"text-white","inline-flex","items-center","bg-[#1957A0]","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"me-1","-ms-1","w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"]],template:function(r,i){1&r&&(Me(0,"div",0)(1,"button",1),et(2," Nova transa\xe7\xe3o "),Pe()(),Me(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),et(8," Nova transa\xe7\xe3o "),Pe(),Me(9,"button",7),Vf(),Me(10,"svg",8),tr(11,"path",9),Pe(),function Uf(){!function L_(){Ae.lFrame.currentNamespace=null}()}(),Me(12,"span",10),et(13,"X"),Pe()()(),Me(14,"form",11)(15,"div",12)(16,"div",13)(17,"label",14),et(18,"Valor da transa\xe7\xe3o"),Pe(),tr(19,"input",15),Pe(),Me(20,"div",13)(21,"label",14),et(22,"Nome da transa\xe7\xe3o"),Pe(),tr(23,"input",16),Pe(),Me(24,"div",17)(25,"label",18),et(26,"Tipo da Transa\xe7\xe3o"),Pe(),Me(27,"select",19)(28,"option",20),et(29,"Selecione"),Pe(),Me(30,"option",21),et(31,"Entrada"),Pe(),Me(32,"option",22),et(33,"Sa\xedda"),Pe()()(),Me(34,"div",17)(35,"label",18),et(36,"Forma de pagamento"),Pe(),Me(37,"select",19)(38,"option",20),et(39,"Selecione"),Pe(),Me(40,"option",21),et(41,"\xc0 vista"),Pe(),Me(42,"option",22),et(43,"Cr\xe9dito"),Pe()()(),Me(44,"div",17)(45,"label",18),et(46,"Status"),Pe(),Me(47,"select",19)(48,"option",20),et(49,"Selecione"),Pe(),Me(50,"option",21),et(51,"Pago"),Pe(),Me(52,"option",22),et(53,"Pendente"),Pe()()()(),Me(54,"button",23),Vf(),Me(55,"svg",24),tr(56,"path",25),Pe(),et(57," Criar transa\xe7\xe3o "),Pe()()()()()),2&r&&(xa(19),Hp("formControl",i.formValorTransacao)("options",U0(2,Lz)))},dependencies:[GM,bM,NM,OM,um,uM,cM,wm,ym,kE],styles:[".btn-nova-transacao[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-nova-transacao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:135px;height:35px;border-radius:10px;font-size:10pt;background-color:#1957a0;color:#fff;border:1px solid #B9B8B8;cursor:pointer;margin-bottom:10px}button[_ngcontent-%COMP%]:hover{background-color:#114c8f}@media (max-width: 450px){.btn-nova-transacao[_ngcontent-%COMP%]{position:relative;top:12rem}.btn-nova-transacao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:30px;font-size:9pt}}"]})}return t})(),Vz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Hi({type:t,selectors:[["app-home"]],decls:7,vars:0,template:function(r,i){1&r&&(Me(0,"header"),tr(1,"app-sidebar"),Me(2,"nav"),tr(3,"app-card-faturas"),Me(4,"section"),tr(5,"app-botao-nova-transacao")(6,"app-card-transacoes"),Pe()()())},dependencies:[TW,AW,PW,Fz],styles:["header[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]{width:100%;padding:5rem 1.5rem 0}section[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;margin-top:5rem}"]})}return t})(),Uz=(()=>{class t{constructor(){this.title="Finance"}ngOnInit(){FR()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Hi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&tr(0,"app-home")},dependencies:[Vz]})}return t})();var zu=Se(881);(0,zu.registerVersion)("firebase","10.6.0","app");class jz extends tt{constructor(e,n){super()}schedule(e,n=0){return this}}const Em={setInterval(t,e,...n){const{delegate:r}=Em;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Em;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class qM extends jz{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Em.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Em.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ie(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const HE={now:()=>(HE.delegate||Date).now(),delegate:void 0};class kh{constructor(e,n=kh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}kh.now=HE.now;class ZM extends kh{constructor(e,n=kh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const zz=new class Wz extends ZM{}(class $z extends qM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),KM=new ZM(qM),Cm=new iu("ANGULARFIRE2_VERSION");class YM{constructor(){return((t,e)=>{const n=(0,zu.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(qz)}}const qz="app-check";function Gu(){}class QM{zone;delegate;constructor(e,n=zz){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Zz{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gu,{},Gu,Gu)),n.pipe(Hn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let JM=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new QM(Zone.current)),this.insideAngular=n.run(()=>new QM(Zone.current,KM)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(X(Lt))};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zo(t){return function Yz(t){return function(n){return(n=n.lift(new Zz(t.ngZone))).pipe(qn(t.outsideAngular),Ln(t.insideAngular))}}(function qu(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}())(t)}var qs=Se(942);qs.Z.registerVersion("firebase","10.6.0","app-compat");const e3=["ngOnDestroy"];class XM{constructor(e){return e}}const Im=new ae("angularfire2.app.options"),bm=new ae("angularfire2.app.name");function jE(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=qs.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>qs.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){const a=!!module.hot;r3("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new XM(o)}const r3=(t,...e)=>{},i3={provide:XM,useFactory:jE,deps:[Im,Lt,[new Do,bm]]};let s3=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Im,useValue:n},{provide:bm,useValue:r}]}}constructor(n){qs.Z.registerVersion("angularfire",Cm.full,"core"),qs.Z.registerVersion("angularfire",Cm.full,"app-compat"),qs.Z.registerVersion("angular",hb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(X(eh))};static \u0275mod=Nt({type:t});static \u0275inj=sn({providers:[i3]})}return t})();function eP(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return function o3(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,o)||(tP("error",`${e} was already initialized on the ${n} Firebase App with different settings.${a3?" You may need to reload as Firebase is not HMR aware.":""}`),tP("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const a3=typeof module<"u"&&!!module.hot,tP=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Se(898);class l3 extends V{constructor(e=1/0,n=1/0,r=HE){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function nP(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,P({connector:()=>new l3(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function rP(t,e){return w(e)?In(()=>t,e):In(()=>t)}const iP=new ae("angularfire2.auth.use-emulator"),sP=new ae("angularfire2.auth.settings"),oP=new ae("angularfire2.auth.tenant-id"),aP=new ae("angularfire2.auth.langugage-code"),lP=new ae("angularfire2.auth.use-device-language"),uP=new ae("angularfire.auth.persistence"),cP=(t,e,n,r,i,s,o,a)=>eP(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[h,p]of Object.entries(o))c.settings[h]=p;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let $E=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,c,h,p,g,_,y){const I=new V,A=ve(void 0).pipe(Ln(o.outsideAngular),In(()=>s.runOutsideAngular(()=>Promise.resolve().then(Se.bind(Se,898)))),ce(()=>jE(n,s,r)),ce(M=>cP(M,s,a,h,p,g,c,_)),nP({bufferSize:1,refCount:!1}));if(function yB(t){return"server"===t}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ve(null);else{A.pipe(Ws()).subscribe();const M=A.pipe(In(N=>N.getRedirectResult().then(Y=>Y,()=>null)),Zo,nP({bufferSize:1,refCount:!1})),U=A.pipe(In(N=>new Qe(Y=>({unsubscribe:s.runOutsideAngular(()=>N.onAuthStateChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))})))),q=A.pipe(In(N=>new Qe(Y=>({unsubscribe:s.runOutsideAngular(()=>N.onIdTokenChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))}))));this.authState=M.pipe(rP(U),qn(o.outsideAngular),Ln(o.insideAngular)),this.user=M.pipe(rP(q),qn(o.outsideAngular),Ln(o.insideAngular)),this.idToken=this.user.pipe(In(N=>N?T(N.getIdToken()):ve(null))),this.idTokenResult=this.user.pipe(In(N=>N?T(N.getIdTokenResult()):ve(null))),this.credential=H(M,I,this.authState.pipe($s(N=>!N))).pipe(ce(N=>N?.user?N:null),qn(o.outsideAngular),Ln(o.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(e3.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(h=>n.run(()=>h)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,h)=>o.then(p=>{const g=p?.(...h);return r?.spy?.apply&&r.spy.apply(s,h,g),g})})})}))(this,A,s,{spy:{apply:(M,U,q)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&q.then(N=>I.next(N))}}})}static \u0275fac=function(r){return new(r||t)(X(Im),X(bm,8),X(eh),X(Lt),X(JM),X(iP,8),X(sP,8),X(oP,8),X(aP,8),X(lP,8),X(uP,8),X(YM,8))};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),c3=(()=>{class t{constructor(){qs.Z.registerVersion("angularfire",Cm.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=sn({providers:[$E]})}return t})();function p3(t,e){return t===e}var Qa=Se(859),g3=Se(861),E=Se(90),WE=Se(877);const dP="@firebase/database";let zE="";function GE(t){zE=t}class m3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,E.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,E.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class _3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,E.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const fP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new m3(e)}}catch{}return new _3},Ja=fP("localStorage"),qE=fP("sessionStorage"),Zu=new WE.Yd("@firebase/database"),pP=function(){let t=1;return function(){return t++}}(),gP=function(t){const e=(0,E.dS)(t),n=new E.gQ;n.update(e);const r=n.digest();return E.US.encodeByteArray(r)},Lh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Lh.apply(null,r):e+="object"==typeof r?(0,E.Wl)(r):r,e+=" "}return e};let Xa=null,mP=!0;const _P=function(t,e){(0,E.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Zu.logLevel=WE.in.VERBOSE,Xa=Zu.log.bind(Zu),e&&qE.set("logging_enabled",!0)):"function"==typeof t?Xa=t:(Xa=null,qE.remove("logging_enabled"))},Mn=function(...t){if(!0===mP&&(mP=!1,null===Xa&&!0===qE.get("logging_enabled")&&_P(!0)),Xa){const e=Lh.apply(null,t);Xa(e)}},Fh=function(t){return function(...e){Mn(t,...e)}},ZE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Lh(...t);Zu.error(e)},us=function(...t){const e=`FIREBASE FATAL ERROR: ${Lh(...t)}`;throw Zu.error(e),new Error(e)},nr=function(...t){const e="FIREBASE WARNING: "+Lh(...t);Zu.warn(e)},Dm=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ko="[MIN_NAME]",Zs="[MAX_NAME]",el=function(t,e){if(t===e)return 0;if(t===Ko||e===Zs)return-1;if(e===Ko||t===Zs)return 1;{const n=wP(t),r=wP(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},w3=function(t,e){return t===e?0:t<e?-1:1},Vh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,E.Wl)(e))},KE=function(t){if("object"!=typeof t||null===t)return(0,E.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,E.Wl)(e[r]),n+=":",n+=KE(t[e[r]]);return n+="}",n},vP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Pn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const yP=function(t){(0,E.hu)(!Dm(t),"Invalid JSON number");const r=1023;let i,s,o,a,c;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const h=[];for(c=52;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(c=11;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let g="";for(c=0;c<64;c+=8){let _=parseInt(p.substr(c,8),2).toString(16);1===_.length&&(_="0"+_),g+=_}return g.toLowerCase()},b3=new RegExp("^-?(0*)\\d{1,10}$"),wP=function(t){if(b3.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Ku=function(t){try{t()}catch(e){setTimeout(()=>{throw nr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},T3=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uh=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class A3{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class R3{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nr(e)}}let Bh=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const DP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AP="websocket",RP="long_polling";class QE{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ja.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ja.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function MP(t,e,n){let r;if((0,E.hu)("string"==typeof e,"typeof type must == string"),(0,E.hu)("object"==typeof n,"typeof params must == object"),e===AP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==RP)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function M3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Pn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class P3{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,E.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,E.p$)(this.counters_)}}const JE={},XE={};function eC(t){const e=t.toString();return JE[e]||(JE[e]=new P3),JE[e]}class x3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ku(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Yo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fh(e),this.stats_=eC(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),MP(n,RP,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new x3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,E.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tC((...s)=>{const[o,a,c,h,p]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=c;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&DP.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yo.forceAllow_=!0}static forceDisallow(){Yo.forceDisallow_=!0}static isAvailable(){return!((0,E.Yr)()||!Yo.forceAllow_&&(Yo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,E.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,E.h$)(n),i=vP(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,E.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,E.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tC{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,E.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=pP(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=tC.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Mn("frame writing exception"),a.stack&&Mn(a.stack),Mn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Mn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,E.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Tm=null;typeof MozWebSocket<"u"?Tm=MozWebSocket:typeof WebSocket<"u"&&(Tm=WebSocket);let Yu=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fh(this.connId),this.stats_=eC(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return!(0,E.Yr)()&&typeof location<"u"&&location.hostname&&DP.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),MP(n,AP,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ja.set("previous_websocket_failure",!0);try{let i;if((0,E.Yr)()){i={headers:{"User-Agent":`Firebase/5/${zE}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Tm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Tm&&!t.forceDisallow_}static previouslyFailed(){return Ja.isInMemoryStorage||!0===Ja.get("previous_websocket_failure")}markConnectionHealthy(){Ja.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,E.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,E.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,E.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=vP(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),FP=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Yo,Yu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Yu&&Yu.isAvailable();let i=r&&!Yu.previouslyFailed();if(n.webSocketOnly&&(r||nr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Yu];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class WP{constructor(e,n,r,i,s,o,a,c,h,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fh("c:"+this.id+":"),this.transportManager_=new FP(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vh("t",e),r=Vh("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vh("t",e),r=Vh("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vh("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?ZE("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&nr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ja.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class GP{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,E.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,E.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Am extends GP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,E.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Am}getInitialEvent(e){return(0,E.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const qP=32,ZP=768;class dt{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function lt(){return new dt("")}function ze(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qo(t){return t.pieces_.length-t.pieceNum_}function _t(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new dt(t.pieces_,e)}function rC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function KP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new dt(e,0)}function Vt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new dt(n,0)}function Ge(t){return t.pieceNum_>=t.pieces_.length}function gr(t,e){const n=ze(t),r=ze(e);if(null===n)return e;if(n===r)return gr(_t(t),_t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tG(t,e){const n=Hh(t,0),r=Hh(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=el(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1}function iC(t,e){if(Qo(t)!==Qo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function si(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qo(t)>Qo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class nG{constructor(e,n){this.errorPrefix_=n,this.parts_=Hh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,E.ug)(this.parts_[r]);YP(this)}}function YP(t){if(t.byteLength_>ZP)throw new Error(t.errorPrefix_+"has a key path longer than "+ZP+" bytes ("+t.byteLength_+").");if(t.parts_.length>qP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qP+") or object contains a cycle "+tl(t))}function tl(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class sC extends GP{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new sC}getInitialEvent(e){return(0,E.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const jh=1e3;let Mm,nl=(()=>{class t extends zP{constructor(n,r,i,s,o,a,c,h){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=t.nextPersistentConnectionId_++,this.log_=Fh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!(0,E.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sC.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Am.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_((0,E.Wl)(o)),(0,E.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new E.BH,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,E.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,E.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,c=>{const h=c.d,p=c.s;t.warnOnListenWarnings_(h,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),"ok"!==p&&this.removeListen_(i,s),n.onComplete&&n.onComplete(p,h))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,E.r3)(n,"w")){const i=(0,E.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();nr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,E.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,E.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,E.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,E.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):ZE("Unrecognized action received from server: "+(0,E.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,E.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,g3.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,s())};n.realtime_={close:p,sendRequest:function(y){(0,E.hu)(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)}};const _=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[y,I]=yield Promise.all([n.authTokenProvider_.getToken(_),n.appCheckTokenProvider_.getToken(_)]);c?Mn("getToken() completed but was canceled"):(Mn("getToken() completed. Creating connection."),n.authToken_=y&&y.accessToken,n.appCheckToken_=I&&I.token,h=new WP(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,A=>{nr(A+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(y){n.log_("Failed to get token: "+y),c||(n.repoInfo_.nodeAdmin&&nr(y),p())}}})()}interrupt(n){Mn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Mn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,E.xb)(this.interruptReasons_)&&(this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>KE(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new dt(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Mn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Mn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,E.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+zE.replace(/\./g,"-")]=1,(0,E.uI)()?n["framework.cordova"]=1:(0,E.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Am.getInstance().currentlyOnline();return(0,E.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Ze{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ze(e,n)}}class Rm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ze(Ko,e),i=new Ze(Ko,n);return 0!==this.compare(r,i)}minPost(){return Ze.MIN}}class XP extends Rm{static get __EMPTY_NODE(){return Mm}static set __EMPTY_NODE(e){Mm=e}compare(e,n){return el(e.name,n.name)}isDefinedOn(e){throw(0,E.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ze.MIN}maxPost(){return new Ze(Zs,Mm)}makePost(e,n){return(0,E.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ze(e,Mm)}toString(){return".key"}}const cs=new XP;class Pm{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let aC,Ri=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ar.EMPTY_NODE,this.right=o??Ar.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ar.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ar.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ar{constructor(e,n=Ar.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ar(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Ar(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ri.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pm(this.root_,null,this.comparator_,!0,e)}}function cG(t,e){return el(t.name,e.name)}function oC(t,e){return el(t,e)}Ar.EMPTY_NODE=new class uG{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ri(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eN=function(t){return"number"==typeof t?"number:"+yP(t):"string:"+t},tN=function(t){if(t.isLeafNode()){const e=t.val();(0,E.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,E.r3)(e,".sv"),"Priority must be a string or number.")}else(0,E.hu)(t===aC||t.isEmpty(),"priority of unexpected type.");(0,E.hu)(t===aC||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nN,rN,iN,Qu=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,E.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tN(this.priorityNode_)}static set __childrenNodeConstructor(n){nN=n}static get __childrenNodeConstructor(){return nN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ge(n)?this:".priority"===ze(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ze(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,E.hu)(".priority"!==i||1===Qo(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+eN(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?yP(this.value_):this.value_,this.lazyHash_=gP(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,E.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return(0,E.hu)(s>=0,"Unknown leaf type: "+r),(0,E.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const At=new class pG extends Rm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?el(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ze.MIN}maxPost(){return new Ze(Zs,new Qu("[PRIORITY-POST]",iN))}makePost(e,n){const r=rN(e);return new Ze(n,new Qu("[PRIORITY-POST]",r))}toString(){return".priority"}},gG=Math.log(2);class mG{constructor(e){this.count=parseInt(Math.log(e+1)/gG,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nm=function(t,e,n,r){t.sort(e);const i=function(c,h){const p=h-c;let g,_;if(0===p)return null;if(1===p)return g=t[c],_=n?n(g):g,new Ri(_,g.node,Ri.BLACK,null,null);{const y=parseInt(p/2,10)+c,I=i(c,y),A=i(y+1,h);return g=t[y],_=n?n(g):g,new Ri(_,g.node,Ri.BLACK,I,A)}},a=function(c){let h=null,p=null,g=t.length;const _=function(I,A){const M=g-I,U=g;g-=I;const q=i(M+1,U),N=t[M],Y=n?n(N):N;y(new Ri(Y,N.node,A,null,q))},y=function(I){h?(h.left=I,h=I):(p=I,h=I)};for(let I=0;I<c.count;++I){const A=c.nextBitIsOne(),M=Math.pow(2,c.count-(I+1));A?_(M,Ri.BLACK):(_(M,Ri.BLACK),_(M,Ri.RED))}return p}(new mG(t.length));return new Ar(r||e,a)};let lC;const Ju={};class Ks{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,E.hu)(Ju&&At,"ChildrenNode.ts has not been loaded"),lC=lC||new Ks({".priority":Ju},{".priority":At}),lC}get(e){const n=(0,E.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ar?n:null}hasIndex(e){return(0,E.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,E.hu)(e!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ze.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Nm(r,e.getCompare()):Ju;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const p=Object.assign({},this.indexes_);return p[c]=a,new Ks(p,h)}addToIndexes(e,n){const r=(0,E.UI)(this.indexes_,(i,s)=>{const o=(0,E.DV)(this.indexSet_,s);if((0,E.hu)(o,"Missing index implementation for "+s),i===Ju){if(o.isDefinedOn(e.node)){const a=[],c=n.getIterator(Ze.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&a.push(h),h=c.getNext();return a.push(e),Nm(a,o.getCompare())}return Ju}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new Ze(e.name,a))),c.insert(e,e.node)}});return new Ks(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,E.UI)(this.indexes_,i=>{if(i===Ju)return i;{const s=n.get(e.name);return s?i.remove(new Ze(e.name,s)):i}});return new Ks(r,this.indexSet_)}}let $h,Oe=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&tN(this.priorityNode_),this.children_.isEmpty()&&(0,E.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $h||($h=new t(new Ar(oC),null,Ks.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$h}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?$h:r}}getChild(n){const r=ze(n);return null===r?this:this.getImmediateChild(r).getChild(_t(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,E.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Ze(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?$h:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=ze(n);if(null===i)return r;{(0,E.hu)(".priority"!==ze(n)||1===Qo(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(_t(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(At,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+eN(this.getPriority().val())+":"),this.forEachChild(At,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":gP(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ze(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Ze(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Ze(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,Ze.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,Ze.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Wh?-1:0}withIndex(n){if(n===cs||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===cs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(At),s=r.getIterator(At);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===cs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Wh=new class _G extends Oe{constructor(){super(new Ar(oC),Oe.EMPTY_NODE,Ks.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Oe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ze,{MIN:{value:new Ze(Ko,Oe.EMPTY_NODE)},MAX:{value:new Ze(Zs,Wh)}}),XP.__EMPTY_NODE=Oe.EMPTY_NODE,Qu.__childrenNodeConstructor=Oe,function dG(t){aC=t}(Wh),function fG(t){iN=t}(Wh);const vG=!0;function Bt(t,e=null){if(null===t)return Oe.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,E.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Qu(t,Bt(e));if(t instanceof Array||!vG){let n=Oe.EMPTY_NODE;return Pn(t,(r,i)=>{if((0,E.r3)(t,r)&&"."!==r.substring(0,1)){const s=Bt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Bt(e))}{const n=[];let r=!1;if(Pn(t,(o,a)=>{if("."!==o.substring(0,1)){const c=Bt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ze(o,c)))}}),0===n.length)return Oe.EMPTY_NODE;const s=Nm(n,cG,o=>o.name,oC);if(r){const o=Nm(n,At.getCompare());return new Oe(s,Bt(e),new Ks({".priority":o},{".priority":At}))}return new Oe(s,Bt(e),Ks.Default)}}!function hG(t){rN=t}(Bt);class uC extends Rm{constructor(e){super(),this.indexPath_=e,(0,E.hu)(!Ge(e)&&".priority"!==ze(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?el(e.name,n.name):s}makePost(e,n){const r=Bt(e),i=Oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ze(n,i)}maxPost(){const e=Oe.EMPTY_NODE.updateChild(this.indexPath_,Wh);return new Ze(Zs,e)}toString(){return Hh(this.indexPath_,0).join("/")}}const cC=new class yG extends Rm{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?el(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ze.MIN}maxPost(){return Ze.MAX}makePost(e,n){const r=Bt(e);return new Ze(n,r)}toString(){return".value"}};function sN(t){return{type:"value",snapshotNode:t}}function Xu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Gh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class dC{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){(0,E.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(zh(n,a)):(0,E.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Xu(n,r)):o.trackChildChange(Gh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(At,(i,s)=>{n.hasChild(i)||r.trackChildChange(zh(i,s))}),n.isLeafNode()||n.forEachChild(At,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Gh(i,s,o))}else r.trackChildChange(Xu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Oe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qh{constructor(e){this.indexedFilter_=new dC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qh.getStartPost_(e),this.endPost_=qh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Ze(n,r))||(r=Oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Oe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Oe.EMPTY_NODE);const s=this;return n.forEachChild(At,(o,a)=>{s.matches(new Ze(o,a))||(i=i.updateImmediateChild(o,Oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class EG{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Ze(n,r))||(r=Oe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Oe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=Oe.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority(Oe.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const g=this.index_.getCompare();o=(_,y)=>g(y,_)}else o=this.index_.getCompare();const a=e;(0,E.hu)(a.numChildren()===this.limit_,"");const c=new Ze(n,r),h=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(a.hasChild(n)){const g=a.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,h,this.reverse_);for(;null!=_&&(_.name===n||a.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const y=null==_?1:o(_,c);if(p&&!r.isEmpty()&&y>=0)return s?.trackChildChange(Gh(n,r,g)),a.updateImmediateChild(n,r);{s?.trackChildChange(zh(n,g));const A=a.updateImmediateChild(n,Oe.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(s?.trackChildChange(Xu(_.name,_.node)),A.updateImmediateChild(_.name,_.node)):A}}return r.isEmpty()?e:p&&o(h,c)>=0?(null!=s&&(s.trackChildChange(zh(h.name,h.node)),s.trackChildChange(Xu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(h.name,Oe.EMPTY_NODE)):e}}class xm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ko}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,E.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===At}copy(){const e=new xm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hC(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function fC(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Om(t,e){const n=t.copy();return n.index_=e,n}function oN(t){const e={};if(t.isDefault())return e;let n;if(t.index_===At?n="$priority":t.index_===cC?n="$value":t.index_===cs?n="$key":((0,E.hu)(t.index_ instanceof uC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,E.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,E.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,E.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,E.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,E.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function aN(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==At&&(e.i=t.index_.toString()),e}class km extends zP{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,E.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=km.getListenId_(e,r),a={};this.listens_[o]=a;const c=oN(e._queryParams);this.restRequest_(s+".json",c,(h,p)=>{let g=p;if(404===h&&(g=null,h=null),null===h&&this.onDataUpdate_(s,g,!1,r),(0,E.DV)(this.listens_,o)===a){let _;_=h?401===h?"permission_denied":"rest_error:"+h:"ok",i(_,null)}})}unlisten(e,n){const r=km.getListenId_(e,n);delete this.listens_[r]}get(e){const n=oN(e._queryParams),r=e._path.toString(),i=new E.BH;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,E.xO)(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,E.cI)(a.responseText)}catch{nr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&nr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class TG{constructor(){this.rootNode_=Oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Lm(){return{value:null,children:new Map}}function ec(t,e,n){if(Ge(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ze(e);t.children.has(r)||t.children.set(r,Lm()),ec(t.children.get(r),e=_t(e),n)}}function pC(t,e){if(Ge(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(At,(r,i)=>{ec(t,new dt(r),i)}),pC(t,e)}}if(t.children.size>0){const n=ze(e);return e=_t(e),t.children.has(n)&&pC(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function gC(t,e,n){null!==t.value?n(e,t.value):function AG(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{gC(i,new dt(e.toString()+"/"+r),n)})}class RG{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Pn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class NG{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new RG(e);const r=1e4+2e4*Math.random();Uh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Pn(e,(i,s)=>{s>0&&(0,E.r3)(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Uh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var oi=(()=>{return(t=oi||(oi={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",oi;var t})();function vC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Fm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=oi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ge(this.path)){if(null!=this.affectedTree.value)return(0,E.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new dt(e));return new Fm(lt(),n,this.revert)}}return(0,E.hu)(ze(this.path)===e,"operationForChild called for unrelated child."),new Fm(_t(this.path),this.affectedTree,this.revert)}}class Zh{constructor(e,n){this.source=e,this.path=n,this.type=oi.LISTEN_COMPLETE}operationForChild(e){return Ge(this.path)?new Zh(this.source,lt()):new Zh(this.source,_t(this.path))}}class rl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=oi.OVERWRITE}operationForChild(e){return Ge(this.path)?new rl(this.source,lt(),this.snap.getImmediateChild(e)):new rl(this.source,_t(this.path),this.snap)}}class tc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=oi.MERGE}operationForChild(e){if(Ge(this.path)){const n=this.children.subtree(new dt(e));return n.isEmpty()?null:n.value?new rl(this.source,lt(),n.value):new tc(this.source,lt(),n)}return(0,E.hu)(ze(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tc(this.source,_t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ge(e))return this.isFullyInitialized()&&!this.filtered_;const n=ze(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class xG{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Kh(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,c)=>function LG(t,e,n){if(null==e.childName||null==n.childName)throw(0,E.g5)("Should only compare child_ events.");const r=new Ze(e.childName,e.snapshotNode),i=new Ze(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),o.forEach(a=>{const c=function kG(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(h=>{h.respondsTo(a.type)&&e.push(h.createEvent(c,t.query_))})})}function Vm(t,e){return{eventCache:t,serverCache:e}}function Yh(t,e,n,r){return Vm(new Jo(e,n,r),t.serverCache)}function uN(t,e,n,r){return Vm(t.eventCache,new Jo(e,n,r))}function Um(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function il(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let yC;class Rt{constructor(e,n=(()=>(yC||(yC=new Ar(w3)),yC))()){this.value=e,this.children=n}static fromObject(e){let n=new Rt(null);return Pn(e,(r,i)=>{n=n.set(new dt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:lt(),value:this.value};if(Ge(e))return null;{const r=ze(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(_t(e),n);return null!=s?{path:Vt(new dt(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ge(e))return this;{const n=ze(e),r=this.children.get(n);return null!==r?r.subtree(_t(e)):new Rt(null)}}set(e,n){if(Ge(e))return new Rt(n,this.children);{const r=ze(e),s=(this.children.get(r)||new Rt(null)).set(_t(e),n),o=this.children.insert(r,s);return new Rt(this.value,o)}}remove(e){if(Ge(e))return this.children.isEmpty()?new Rt(null):new Rt(null,this.children);{const n=ze(e),r=this.children.get(n);if(r){const i=r.remove(_t(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Rt(null):new Rt(this.value,s)}return this}}get(e){if(Ge(e))return this.value;{const n=ze(e),r=this.children.get(n);return r?r.get(_t(e)):null}}setTree(e,n){if(Ge(e))return n;{const r=ze(e),s=(this.children.get(r)||new Rt(null)).setTree(_t(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Rt(this.value,o)}}fold(e){return this.fold_(lt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Vt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,lt(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Ge(e))return null;{const s=ze(e),o=this.children.get(s);return o?o.findOnPath_(_t(e),Vt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,lt(),n)}foreachOnPath_(e,n,r){if(Ge(e))return this;{this.value&&r(n,this.value);const i=ze(e),s=this.children.get(i);return s?s.foreachOnPath_(_t(e),Vt(n,i),r):new Rt(null)}}foreach(e){this.foreach_(lt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Vt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Mi{constructor(e){this.writeTree_=e}static empty(){return new Mi(new Rt(null))}}function Qh(t,e,n){if(Ge(e))return new Mi(new Rt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=gr(i,e);return s=s.updateChild(o,n),new Mi(t.writeTree_.set(i,s))}{const i=new Rt(n),s=t.writeTree_.setTree(e,i);return new Mi(s)}}}function wC(t,e,n){let r=t;return Pn(n,(i,s)=>{r=Qh(r,Vt(e,i),s)}),r}function cN(t,e){if(Ge(e))return Mi.empty();{const n=t.writeTree_.setTree(e,new Rt(null));return new Mi(n)}}function EC(t,e){return null!=sl(t,e)}function sl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(gr(n.path,e)):null}function dN(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(At,(r,i)=>{e.push(new Ze(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ze(r,i.value))}),e}function Xo(t,e){if(Ge(e))return t;{const n=sl(t,e);return new Mi(null!=n?new Rt(n):t.writeTree_.subtree(e))}}function CC(t){return t.writeTree_.isEmpty()}function nc(t,e){return hN(lt(),t.writeTree_,e)}function hN(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,E.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=hN(Vt(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Vt(t,".priority"),r)),n}}function Bm(t,e){return _N(e,t)}function jG(t,e){if(t.snap)return si(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&si(Vt(t.path,n),e))return!0;return!1}function WG(t){return t.visible}function fN(t,e,n){let r=Mi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)si(n,o)?(a=gr(n,o),r=Qh(r,a,s.snap)):si(o,n)&&(a=gr(o,n),r=Qh(r,lt(),s.snap.getChild(a)));else{if(!s.children)throw(0,E.g5)("WriteRecord should have .snap or .children");if(si(n,o))a=gr(n,o),r=wC(r,a,s.children);else if(si(o,n))if(a=gr(o,n),Ge(a))r=wC(r,lt(),s.children);else{const c=(0,E.DV)(s.children,ze(a));if(c){const h=c.getChild(_t(a));r=Qh(r,lt(),h)}}}}}return r}function pN(t,e,n,r,i){if(r||i){const s=Xo(t.visibleWrites,e);return!i&&CC(s)?n:i||null!=n||EC(s,lt())?nc(fN(t.allWrites,function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(si(h.path,e)||si(e,h.path))},e),n||Oe.EMPTY_NODE):null}{const s=sl(t.visibleWrites,e);if(null!=s)return s;{const o=Xo(t.visibleWrites,e);return CC(o)?n:null!=n||EC(o,lt())?nc(o,n||Oe.EMPTY_NODE):null}}}function Hm(t,e,n,r){return pN(t.writeTree,t.treePath,e,n,r)}function IC(t,e){return function zG(t,e,n){let r=Oe.EMPTY_NODE;const i=sl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(At,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Xo(t.visibleWrites,e);return n.forEachChild(At,(o,a)=>{const c=nc(Xo(s,new dt(o)),a);r=r.updateImmediateChild(o,c)}),dN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return dN(Xo(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function gN(t,e,n,r){return function GG(t,e,n,r,i){(0,E.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Vt(e,n);if(EC(t.visibleWrites,s))return null;{const o=Xo(t.visibleWrites,s);return CC(o)?i.getChild(n):nc(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function jm(t,e){return function ZG(t,e){return sl(t.visibleWrites,e)}(t.writeTree,Vt(t.treePath,e))}function bC(t,e,n){return function qG(t,e,n,r){const i=Vt(e,n),s=sl(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?nc(Xo(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function mN(t,e){return _N(Vt(t.treePath,e),t.writeTree)}function _N(t,e){return{treePath:t,writeTree:e}}class JG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,E.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,E.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,Gh(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,zh(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,Xu(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw(0,E.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Gh(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const vN=new class XG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class DC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Jo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:il(this.viewCache_),s=function QG(t,e,n,r,i,s){return function KG(t,e,n,r,i,s,o){let a;const c=Xo(t.visibleWrites,e),h=sl(c,lt());if(null!=h)a=h;else{if(null==n)return[];a=nc(c,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const p=[],g=o.getCompare(),_=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=_.getNext();for(;y&&p.length<i;)0!==g(y,r)&&p.push(y),y=_.getNext();return p}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function yN(t,e,n,r,i,s){const o=e.eventCache;if(null!=jm(r,n))return e;{let a,c;if(Ge(n))if((0,E.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=il(e),g=IC(r,h instanceof Oe?h:Oe.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const h=Hm(r,il(e));a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=ze(n);if(".priority"===h){(0,E.hu)(1===Qo(n),"Can't have a priority with additional path components");const p=o.getNode();c=e.serverCache.getNode();const g=gN(r,n,p,c);a=null!=g?t.filter.updatePriority(p,g):o.getNode()}else{const p=_t(n);let g;if(o.isCompleteForChild(h)){c=e.serverCache.getNode();const _=gN(r,n,o.getNode(),c);g=null!=_?o.getNode().getImmediateChild(h).updateChild(p,_):o.getNode().getImmediateChild(h)}else g=bC(r,h,e.serverCache);a=null!=g?t.filter.updateChild(o.getNode(),h,g,p,i,s):o.getNode()}}return Yh(e,a,o.isFullyInitialized()||Ge(n),t.filter.filtersNodes())}}function $m(t,e,n,r,i,s,o,a){const c=e.serverCache;let h;const p=o?t.filter:t.filter.getIndexedFilter();if(Ge(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const y=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),y,null)}else{const y=ze(n);if(!c.isCompleteForPath(n)&&Qo(n)>1)return e;const I=_t(n),M=c.getNode().getImmediateChild(y).updateChild(I,r);h=".priority"===y?p.updatePriority(c.getNode(),M):p.updateChild(c.getNode(),y,M,I,vN,null)}const g=uN(e,h,c.isFullyInitialized()||Ge(n),p.filtersNodes());return yN(t,g,n,i,new DC(i,g,s),a)}function SC(t,e,n,r,i,s,o){const a=e.eventCache;let c,h;const p=new DC(i,e,s);if(Ge(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Yh(e,h,!0,t.filter.filtersNodes());else{const g=ze(n);if(".priority"===g)h=t.filter.updatePriority(e.eventCache.getNode(),r),c=Yh(e,h,a.isFullyInitialized(),a.isFiltered());else{const _=_t(n),y=a.getNode().getImmediateChild(g);let I;if(Ge(_))I=r;else{const A=p.getCompleteChild(g);I=null!=A?".priority"===rC(_)&&A.getChild(KP(_)).isEmpty()?A:A.updateChild(_,r):Oe.EMPTY_NODE}c=y.equals(I)?e:Yh(e,t.filter.updateChild(a.getNode(),g,I,_,p,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function wN(t,e){return t.eventCache.isCompleteForChild(e)}function EN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function TC(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h,c=e;h=Ge(n)?r:new Rt(null).setTree(n,r);const p=e.serverCache.getNode();return h.children.inorderTraversal((g,_)=>{if(p.hasChild(g)){const I=EN(0,e.serverCache.getNode().getImmediateChild(g),_);c=$m(t,c,new dt(g),I,i,s,o,a)}}),h.children.inorderTraversal((g,_)=>{const y=!e.serverCache.isCompleteForChild(g)&&null===_.value;if(!p.hasChild(g)&&!y){const A=EN(0,e.serverCache.getNode().getImmediateChild(g),_);c=$m(t,c,new dt(g),A,i,s,o,a)}}),c}class l8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new dC(r.getIndex()),s=function CG(t){return t.loadsAllData()?new dC(t.getIndex()):t.hasLimit()?new EG(t):new qh(t)}(r);this.processor_=function e8(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,c=i.updateFullNode(Oe.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Oe.EMPTY_NODE,a.getNode(),null),p=new Jo(c,o.isFullyInitialized(),i.filtersNodes()),g=new Jo(h,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Vm(g,p),this.eventGenerator_=new xG(this.query_)}get query(){return this.query_}}function d8(t,e){const n=il(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ge(e)&&!n.getImmediateChild(ze(e)).isEmpty())?n.getChild(e):null}function CN(t){return 0===t.eventRegistrations_.length}function IN(t,e,n){const r=[];if(n){(0,E.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function bN(t,e,n,r){e.type===oi.MERGE&&null!==e.source.queryId&&((0,E.hu)(il(t.viewCache_),"We should always have a full cache before handling merges"),(0,E.hu)(Um(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function n8(t,e,n,r,i){const s=new JG;let o,a;if(n.type===oi.OVERWRITE){const h=n;h.source.fromUser?o=SC(t,e,h.path,h.snap,r,i,s):((0,E.hu)(h.source.fromServer,"Unknown source."),a=h.source.tagged||e.serverCache.isFiltered()&&!Ge(h.path),o=$m(t,e,h.path,h.snap,r,i,a,s))}else if(n.type===oi.MERGE){const h=n;h.source.fromUser?o=function i8(t,e,n,r,i,s,o){let a=e;return r.foreach((c,h)=>{const p=Vt(n,c);wN(e,ze(p))&&(a=SC(t,a,p,h,i,s,o))}),r.foreach((c,h)=>{const p=Vt(n,c);wN(e,ze(p))||(a=SC(t,a,p,h,i,s,o))}),a}(t,e,h.path,h.children,r,i,s):((0,E.hu)(h.source.fromServer,"Unknown source."),a=h.source.tagged||e.serverCache.isFiltered(),o=TC(t,e,h.path,h.children,r,i,a,s))}else if(n.type===oi.ACK_USER_WRITE){const h=n;o=h.revert?function a8(t,e,n,r,i,s){let o;if(null!=jm(r,n))return e;{const a=new DC(r,e,i),c=e.eventCache.getNode();let h;if(Ge(n)||".priority"===ze(n)){let p;if(e.serverCache.isFullyInitialized())p=Hm(r,il(e));else{const g=e.serverCache.getNode();(0,E.hu)(g instanceof Oe,"serverChildren would be complete if leaf node"),p=IC(r,g)}h=t.filter.updateFullNode(c,p,s)}else{const p=ze(n);let g=bC(r,p,e.serverCache);null==g&&e.serverCache.isCompleteForChild(p)&&(g=c.getImmediateChild(p)),h=null!=g?t.filter.updateChild(c,p,g,_t(n),a,s):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(c,p,Oe.EMPTY_NODE,_t(n),a,s):c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Hm(r,il(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=jm(r,lt()),Yh(e,h,o,t.filter.filtersNodes())}}(t,e,h.path,r,i,s):function s8(t,e,n,r,i,s,o){if(null!=jm(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(Ge(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return $m(t,e,n,c.getNode().getChild(n),i,s,a,o);if(Ge(n)){let h=new Rt(null);return c.getNode().forEachChild(cs,(p,g)=>{h=h.set(new dt(p),g)}),TC(t,e,n,h,i,s,a,o)}return e}{let h=new Rt(null);return r.foreach((p,g)=>{const _=Vt(n,p);c.isCompleteForPath(_)&&(h=h.set(p,c.getNode().getChild(_)))}),TC(t,e,n,h,i,s,a,o)}}(t,e,h.path,h.affectedTree,r,i,s)}else{if(n.type!==oi.LISTEN_COMPLETE)throw(0,E.g5)("Unknown operation type: "+n.type);o=function o8(t,e,n,r,i){const s=e.serverCache;return yN(t,uN(e,s.getNode(),s.isFullyInitialized()||Ge(n),s.isFiltered()),n,r,vN,i)}(t,e,n.path,r,s)}const c=s.getChanges();return function r8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Um(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sN(Um(e)))}}(e,o,c),{viewCache:o,changes:c}}(t.processor_,i,e,n,r);return function t8(t,e){(0,E.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,E.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),(0,E.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,DN(t,s.changes,s.viewCache.eventCache.getNode(),null)}function DN(t,e,n,r){return function OG(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function wG(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Kh(t,i,"child_removed",e,r,n),Kh(t,i,"child_added",e,r,n),Kh(t,i,"child_moved",s,r,n),Kh(t,i,"child_changed",e,r,n),Kh(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let Wm,Gm;class SN{constructor(){this.views=new Map}}function AC(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return(0,E.hu)(null!=s,"SyncTree gave us an op for an invalid query."),bN(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(bN(o,e,n,r));return s}}function TN(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=Hm(n,i?r:null),c=!1;a?c=!0:r instanceof Oe?(a=IC(n,r),c=!1):(a=Oe.EMPTY_NODE,c=!1);const h=Vm(new Jo(a,c,!1),new Jo(r,i,!1));return new l8(e,h)}return o}function AN(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ea(t,e){let n=null;for(const r of t.views.values())n=n||d8(r,e);return n}function RN(t,e){return e._queryParams.loadsAllData()?zm(t):t.views.get(e._queryIdentifier)}function MN(t,e){return null!=RN(t,e)}function ta(t){return null!=zm(t)}function zm(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let E8=1;class PN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rt(null),this.pendingWriteTree_=function YG(){return{visibleWrites:Mi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function RC(t,e,n,r,i){return function VG(t,e,n,r,i){(0,E.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Qh(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?rc(t,new rl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function na(t,e,n=!1){const r=function BG(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function HG(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,E.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&jG(a,r.path)?i=!1:si(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function $G(t){t.visibleWrites=fN(t.allWrites,WG,lt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=cN(t.visibleWrites,r.path):Pn(r.children,c=>{t.visibleWrites=cN(t.visibleWrites,Vt(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let s=new Rt(null);return null!=r.snap?s=s.set(lt(),!0):Pn(r.children,o=>{s=s.set(new dt(o),!0)}),rc(t,new Fm(r.path,s,n))}return[]}function Jh(t,e,n){return rc(t,new rl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function qm(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||MN(o,e))){const c=function v8(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ta(t);if("default"===i)for(const[c,h]of t.views.entries())o=o.concat(IN(h,n,r)),CN(h)&&(t.views.delete(c),h.query._queryParams.loadsAllData()||s.push(h.query));else{const c=t.views.get(i);c&&(o=o.concat(IN(c,n,r)),CN(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!ta(t)&&s.push(new(function g8(){return(0,E.hu)(Wm,"Reference.ts has not been loaded"),Wm}())(e._repo,e._path)),{removed:s,events:o}}(o,e,n,r);(function m8(t){return 0===t.views.size})(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=c.removed;if(a=c.events,!i){const p=-1!==h.findIndex(_=>_._queryParams.loadsAllData()),g=t.syncPointTree_.findOnPath(s,(_,y)=>ta(y));if(p&&!g){const _=t.syncPointTree_.subtree(s);if(!_.isEmpty()){const y=function A8(t){return t.fold((e,n,r)=>{if(n&&ta(n))return[zm(n)];{let i=[];return n&&(i=AN(n)),Pn(r,(s,o)=>{i=i.concat(o)}),i}})}(_);for(let I=0;I<y.length;++I){const A=y[I],M=A.query,U=kN(t,A);t.listenProvider_.startListening(ef(M),Xh(t,M),U.hashFn,U.onComplete)}}}!g&&h.length>0&&!r&&(p?t.listenProvider_.stopListening(ef(e),null):h.forEach(_=>{const y=t.queryToTagMap.get(Km(_));t.listenProvider_.stopListening(ef(_),y)}))}!function R8(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Km(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,h)}return a}function NN(t,e,n,r){const i=PC(t,r);if(null!=i){const s=NC(i),o=s.path,a=s.queryId,c=gr(o,e);return xC(t,o,new rl(vC(a),c,n))}return[]}function MC(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(_,y)=>{const I=gr(_,i);s=s||ea(y,I),o=o||ta(y)});let c,a=t.syncPointTree_.get(i);a?(o=o||ta(a),s=s||ea(a,lt())):(a=new SN,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=s?c=!0:(c=!1,s=Oe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,I)=>{const A=ea(I,lt());A&&(s=s.updateImmediateChild(y,A))}));const h=MN(a,e);if(!h&&!e._queryParams.loadsAllData()){const _=Km(e);(0,E.hu)(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const y=function M8(){return E8++}();t.queryToTagMap.set(_,y),t.tagToQueryMap.set(y,_)}let g=function _8(t,e,n,r,i,s){const o=TN(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function h8(t,e){t.eventRegistrations_.push(e)}(o,n),function f8(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(At,(s,o)=>{r.push(Xu(s,o))}),n.isFullyInitialized()&&r.push(sN(n.getNode())),DN(t,r,n.getNode(),e)}(o,n)}(a,e,n,Bm(t.pendingWriteTree_,i),s,c);if(!h&&!o&&!r){const _=RN(a,e);g=g.concat(function P8(t,e,n){const r=e._path,i=Xh(t,e),s=kN(t,n),o=t.listenProvider_.startListening(ef(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,E.hu)(!ta(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((h,p,g)=>{if(!Ge(h)&&p&&ta(p))return[zm(p).query];{let _=[];return p&&(_=_.concat(AN(p).map(y=>y.query))),Pn(g,(y,I)=>{_=_.concat(I)}),_}});for(let h=0;h<c.length;++h){const p=c[h];t.listenProvider_.stopListening(ef(p),Xh(t,p))}}return o}(t,e,_))}return g}function Zm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const h=ea(a,gr(o,e));if(h)return h});return pN(i,e,s,n,!0)}function rc(t,e){return xN(e,t.syncPointTree_,null,Bm(t.pendingWriteTree_,lt()))}function xN(t,e,n,r){if(Ge(t.path))return ON(t,e,n,r);{const i=e.get(lt());null==n&&null!=i&&(n=ea(i,lt()));let s=[];const o=ze(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){const h=n?n.getImmediateChild(o):null,p=mN(r,o);s=s.concat(xN(a,c,h,p))}return i&&(s=s.concat(AC(i,t,r,n))),s}}function ON(t,e,n,r){const i=e.get(lt());null==n&&null!=i&&(n=ea(i,lt()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=n?n.getImmediateChild(o):null,h=mN(r,o),p=t.operationForChild(o);p&&(s=s.concat(ON(p,a,c,h)))}),i&&(s=s.concat(AC(i,t,r,n))),s}function kN(t,e){const n=e.query,r=Xh(t,n);return{hashFn:()=>(function u8(t){return t.viewCache_.serverCache.getNode()}(e)||Oe.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function D8(t,e,n){const r=PC(t,n);if(r){const i=NC(r),s=i.path,o=i.queryId,a=gr(s,e);return xC(t,s,new Zh(vC(o),a))}return[]}(t,n._path,r):function b8(t,e){return rc(t,new Zh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function I3(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return qm(t,n,null,s)}}}}function Xh(t,e){const n=Km(e);return t.queryToTagMap.get(n)}function Km(t){return t._path.toString()+"$"+t._queryIdentifier}function PC(t,e){return t.tagToQueryMap.get(e)}function NC(t){const e=t.indexOf("$");return(0,E.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new dt(t.substr(0,e))}}function xC(t,e,n){const r=t.syncPointTree_.get(e);return(0,E.hu)(r,"Missing sync point for query tag that we're tracking"),AC(r,n,Bm(t.pendingWriteTree_,e),null)}function ef(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function w8(){return(0,E.hu)(Gm,"Reference.ts has not been loaded"),Gm}())(t._repo,t._path):t}class OC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new OC(n)}node(){return this.node_}}class kC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Vt(this.path_,e);return new kC(this.syncTree_,n)}node(){return Zm(this.syncTree_,this.path_)}}const N8=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},LN=function(t,e,n){return t&&"object"==typeof t?((0,E.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?x8(t[".sv"],e,n):"object"==typeof t[".sv"]?O8(t[".sv"],e):void(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},x8=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,E.hu)(!1,"Unexpected server value: "+t)},O8=function(t,e,n){t.hasOwnProperty("increment")||(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,E.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,E.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},FN=function(t,e,n,r){return FC(e,new kC(n,t),r)},LC=function(t,e,n){return FC(t,new OC(e),n)};function FC(t,e,n){const r=t.getPriority().val(),i=LN(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=LN(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Qu(a,Bt(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Qu(i))),o.forEachChild(At,(a,c)=>{const h=FC(c,e.getImmediateChild(a),n);h!==c&&(s=s.updateImmediateChild(a,h))}),s}}class VC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ym(t,e){let n=e instanceof dt?e:new dt(e),r=t,i=ze(n);for(;null!==i;){const s=(0,E.DV)(r.node.children,i)||{children:{},childCount:0};r=new VC(i,r,s),n=_t(n),i=ze(n)}return r}function ol(t){return t.node.value}function UC(t,e){t.node.value=e,BC(t)}function VN(t){return t.node.childCount>0}function Qm(t,e){Pn(t.node.children,(n,r)=>{e(new VC(n,t,r))})}function UN(t,e,n,r){n&&!r&&e(t),Qm(t,i=>{UN(i,e,!0,r)}),n&&r&&e(t)}function tf(t){return new dt(null===t.parent?t.name:tf(t.parent)+"/"+t.name)}function BC(t){null!==t.parent&&function F8(t,e,n){const r=function k8(t){return void 0===ol(t)&&!VN(t)}(n),i=(0,E.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,BC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,BC(t))}(t.parent,t.name,t)}const V8=/[\[\].#$\/\u0000-\u001F\u007F]/,U8=/[\[\].#$\u0000-\u001F\u007F]/,HC=10485760,Jm=function(t){return"string"==typeof t&&0!==t.length&&!V8.test(t)},BN=function(t){return"string"==typeof t&&0!==t.length&&!U8.test(t)},nf=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Dm(t)||t&&"object"==typeof t&&(0,E.r3)(t,".sv")},ds=function(t,e,n,r){r&&void 0===e||rf((0,E.gK)(t,"value"),e,n)},rf=function(t,e,n){const r=n instanceof dt?new nG(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+tl(r));if("function"==typeof e)throw new Error(t+"contains a function "+tl(r)+" with contents = "+e.toString());if(Dm(e))throw new Error(t+"contains "+e.toString()+" "+tl(r));if("string"==typeof e&&e.length>HC/3&&(0,E.ug)(e)>HC)throw new Error(t+"contains a string greater than "+HC+" utf8 bytes "+tl(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Pn(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Jm(o)))throw new Error(t+" contains an invalid key ("+o+") "+tl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function rG(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,E.ug)(e),YP(t)})(r,o),rf(t,a,r),function iG(t){const e=t.parts_.pop();t.byteLength_-=(0,E.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+tl(r)+" in addition to actual children.")}},HN=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,E.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Pn(e,(o,a)=>{const c=new dt(o);if(rf(i,a,Vt(n,c)),".priority"===rC(c)&&!nf(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Hh(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!Jm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(tG);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&si(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},jC=function(t,e,n){if(!n||void 0!==e){if(Dm(e))throw new Error((0,E.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nf(e))throw new Error((0,E.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sf=function(t,e,n,r){if(!(r&&void 0===n||Jm(n)))throw new Error((0,E.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},af=function(t,e,n,r){if(!(r&&void 0===n||BN(n)))throw new Error((0,E.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},j8=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),af(t,e,n,r)},ai=function(t,e){if(".info"===ze(e))throw new Error(t+" failed = Can't modify data under /.info/")},jN=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Jm(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),BN(t)}(n))throw new Error((0,E.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!iC(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $N(t,e,n){Xm(t,n),WN(t,r=>iC(r,e))}function Br(t,e,n){Xm(t,n),WN(t,r=>si(r,e)||si(e,r))}function WN(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(W8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function W8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Xa&&Mn("event: "+n.toString()),Ku(r)}}}const zN="repo_interrupt",z8=25;class G8{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lm(),this.transactionQueueTree_=new VC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GN(t){const n=t.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function lf(t){return N8({timestamp:GN(t)})}function qN(t,e,n,r,i){t.dataUpdateCount++;const s=new dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=(0,E.UI)(n,h=>Bt(h));o=function S8(t,e,n,r){const i=PC(t,r);if(i){const s=NC(i),o=s.path,a=s.queryId,c=gr(o,e),h=Rt.fromObject(n);return xC(t,o,new tc(vC(a),c,h))}return[]}(t.serverSyncTree_,s,c,i)}else{const c=Bt(n);o=NN(t.serverSyncTree_,s,c,i)}else if(r){const c=(0,E.UI)(n,h=>Bt(h));o=function I8(t,e,n){const r=Rt.fromObject(n);return rc(t,new tc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,c)}else{const c=Bt(n);o=Jh(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=sc(t,s)),Br(t.eventQueue_,a,o)}function ZN(t,e){$C(t,"connected",e),!1===e&&function Q8(t){ic(t,"onDisconnectEvents");const e=lf(t),n=Lm();gC(t.onDisconnect_,lt(),(i,s)=>{const o=FN(i,s,t.serverSyncTree_,e);ec(n,i,o)});let r=[];gC(n,lt(),(i,s)=>{r=r.concat(Jh(t.serverSyncTree_,i,s));const o=qC(t,i);sc(t,o)}),t.onDisconnect_=Lm(),Br(t.eventQueue_,lt(),r)}(t)}function $C(t,e,n){const r=new dt("/.info/"+e),i=Bt(n);t.infoData_.updateSnapshot(r,i);const s=Jh(t.infoSyncTree_,r,i);Br(t.eventQueue_,r,s)}function e_(t){return t.nextWriteId_++}function WC(t,e,n,r,i){ic(t,"set",{path:e.toString(),value:n,priority:r});const s=lf(t),o=Bt(n,r),a=Zm(t.serverSyncTree_,e),c=LC(o,a,s),h=e_(t),p=RC(t.serverSyncTree_,e,c,h,!0);Xm(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(_,y)=>{const I="ok"===_;I||nr("set at "+e+" failed: "+_);const A=na(t.serverSyncTree_,h,!I);Br(t.eventQueue_,e,A),ra(0,i,_,y)});const g=qC(t,e);sc(t,g),Br(t.eventQueue_,g,[])}function J8(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&pC(t.onDisconnect_,e),ra(0,n,r,i)})}function KN(t,e,n,r){const i=Bt(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&ec(t.onDisconnect_,e,i),ra(0,r,s,o)})}function zC(t,e,n){let r;r=".info"===ze(e._path)?qm(t.infoSyncTree_,e,n):qm(t.serverSyncTree_,e,n),$N(t.eventQueue_,e._path,r)}function YN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zN)}function ic(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Mn(n,...e)}function ra(t,e,n,r){e&&Ku(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function GC(t,e,n){return Zm(t.serverSyncTree_,e,n)||Oe.EMPTY_NODE}function t_(t,e=t.transactionQueueTree_){if(e||n_(t,e),ol(e)){const n=JN(t,e);(0,E.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function i4(t,e,n){const r=n.map(h=>h.currentWriteId),i=GC(t,e,r);let s=i;const o=i.hash();for(let h=0;h<n.length;h++){const p=n[h];(0,E.hu)(0===p.status,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=gr(e,p.path);s=s.updateChild(g,p.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;t.server_.put(c.toString(),a,h=>{ic(t,"transaction put response",{path:c.toString(),status:h});let p=[];if("ok"===h){const g=[];for(let _=0;_<n.length;_++)n[_].status=2,p=p.concat(na(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&g.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();n_(t,Ym(t.transactionQueueTree_,e)),t_(t,t.transactionQueueTree_),Br(t.eventQueue_,e,p);for(let _=0;_<g.length;_++)Ku(g[_])}else{if("datastale"===h)for(let g=0;g<n.length;g++)n[g].status=3===n[g].status?4:0;else{nr("transaction at "+c.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}sc(t,e)}},o)}(t,tf(e),n)}else VN(e)&&Qm(e,n=>{t_(t,n)})}function sc(t,e){const n=QN(t,e),r=tf(n);return function s4(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],h=gr(n,c.path);let g,p=!1;if((0,E.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)p=!0,g=c.abortReason,i=i.concat(na(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=z8)p=!0,g="maxretry",i=i.concat(na(t.serverSyncTree_,c.currentWriteId,!0));else{const _=GC(t,c.path,o);c.currentInputSnapshot=_;const y=e[a].update(_.val());if(void 0!==y){rf("transaction failed: Data returned ",y,c.path);let I=Bt(y);"object"==typeof y&&null!=y&&(0,E.r3)(y,".priority")||(I=I.updatePriority(_.getPriority()));const M=c.currentWriteId,U=lf(t),q=LC(I,_,U);c.currentOutputSnapshotRaw=I,c.currentOutputSnapshotResolved=q,c.currentWriteId=e_(t),o.splice(o.indexOf(M),1),i=i.concat(RC(t.serverSyncTree_,c.path,q,c.currentWriteId,c.applyLocally)),i=i.concat(na(t.serverSyncTree_,M,!0))}else p=!0,g="nodata",i=i.concat(na(t.serverSyncTree_,c.currentWriteId,!0))}Br(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===g?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(g),!1,null)))}n_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ku(r[a]);t_(t,t.transactionQueueTree_)}(t,JN(t,n),r),r}function QN(t,e){let n,r=t.transactionQueueTree_;for(n=ze(e);null!==n&&void 0===ol(r);)r=Ym(r,n),n=ze(e=_t(e));return r}function JN(t,e){const n=[];return XN(t,e,n),n.sort((r,i)=>r.order-i.order),n}function XN(t,e,n){const r=ol(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Qm(e,i=>{XN(t,i,n)})}function n_(t,e){const n=ol(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,UC(e,n.length>0?n:void 0)}Qm(e,r=>{n_(t,r)})}function qC(t,e){const n=tf(QN(t,e)),r=Ym(t.transactionQueueTree_,e);return function L8(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{ZC(t,i)}),ZC(t,r),UN(r,i=>{ZC(t,i)}),n}function ZC(t,e){const n=ol(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?((0,E.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):((0,E.hu)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(na(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?UC(e,void 0):n.length=s+1,Br(t.eventQueue_,tf(e),i);for(let o=0;o<r.length;o++)Ku(r[o])}}const KC=function(t,e){const n=l4(t),r=n.namespace;return"firebase.com"===n.domain&&us(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&us("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new QE(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new dt(n.pathString)}},l4=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if("string"==typeof t){let h=t.indexOf("//");h>=0&&(a=t.substring(0,h-1),t=t.substring(h+2));let p=t.indexOf("/");-1===p&&(p=t.length);let g=t.indexOf("?");-1===g&&(g=t.length),e=t.substring(0,Math.min(p,g)),p<g&&(i=function o4(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(p,g)));const _=function a4(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nr(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,g)));h=e.indexOf(":"),h>=0?(o="https"===a||"wss"===a,c=parseInt(e.substring(h+1),10)):h=e.length;const y=e.slice(0,h);if("localhost"===y.toLowerCase())n="localhost";else if(y.split(".").length<=2)n=y;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},ex="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",u4=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=ex.charAt(n%64),n=Math.floor(n/64);(0,E.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=ex.charAt(e[i]);return(0,E.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class tx{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,E.Wl)(this.snapshot.exportVal())}}class nx{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class YC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,E.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class rx{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new E.BH;return J8(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ai("OnDisconnect.remove",this._path);const e=new E.BH;return KN(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ai("OnDisconnect.set",this._path),ds("OnDisconnect.set",e,this._path,!1);const n=new E.BH;return KN(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){ai("OnDisconnect.setWithPriority",this._path),ds("OnDisconnect.setWithPriority",e,this._path,!1),jC("OnDisconnect.setWithPriority",n,!1);const r=new E.BH;return function X8(t,e,n,r,i){const s=Bt(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{"ok"===o&&ec(t.onDisconnect_,e,s),ra(0,i,o,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){ai("OnDisconnect.update",this._path),HN("OnDisconnect.update",e,this._path,!1);const n=new E.BH;return function e4(t,e,n,r){if((0,E.xb)(n))return Mn("onDisconnect().update() called with empty data.  Don't do anything."),void ra(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{"ok"===i&&Pn(n,(o,a)=>{const c=Bt(a);ec(t.onDisconnect_,Vt(e,o),c)}),ra(0,r,i,s)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class Rr{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ge(this._path)?null:rC(this._path)}get ref(){return new li(this._repo,this._path)}get _queryIdentifier(){const e=aN(this._queryParams),n=KE(e);return"{}"===n?"default":n}get _queryObject(){return aN(this._queryParams)}isEqual(e){if(!((e=(0,E.m9)(e))instanceof Rr))return!1;const n=this._repo===e._repo,r=iC(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function eG(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function r_(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ia(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===cs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ko)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Zs)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===At){if(null!=e&&!nf(e)||null!=n&&!nf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,E.hu)(t.getIndex()instanceof uC||t.getIndex()===cC,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function i_(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class li extends Rr{constructor(e,n){super(e,n,new xm,!1)}get parent(){const e=KP(this._path);return null===e?null:new li(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class al{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new dt(e),r=ll(this.ref,e);return new al(this._node.getChild(n),r,At)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new al(i,ll(this.ref,r),At)))}hasChild(e){const n=new dt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ix(t,e){return(t=(0,E.m9)(t))._checkNotDeleted("ref"),void 0!==e?ll(t._root,e):t._root}function sx(t,e){(t=(0,E.m9)(t))._checkNotDeleted("refFromURL");const n=KC(e,t._repo.repoInfo_.nodeAdmin);jN("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&us("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ix(t,n.path.toString())}function ll(t,e){return null===ze((t=(0,E.m9)(t))._path)?j8("child","path",e,!1):af("child","path",e,!1),new li(t._repo,Vt(t._path,e))}function QC(t,e){t=(0,E.m9)(t),ai("set",t._path),ds("set",e,t._path,!1);const n=new E.BH;return WC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function p4(t,e){HN("update",e,t._path,!1);const n=new E.BH;return function Y8(t,e,n,r){ic(t,"update",{path:e.toString(),value:n});let i=!0;const s=lf(t),o={};if(Pn(n,(a,c)=>{i=!1,o[a]=FN(Vt(e,a),Bt(c),t.serverSyncTree_,s)}),i)Mn("update() called with empty data.  Don't do anything."),ra(0,r,"ok",void 0);else{const a=e_(t),c=function C8(t,e,n,r){!function UG(t,e,n,r){(0,E.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=wC(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=Rt.fromObject(n);return rc(t,new tc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,o,a);Xm(t.eventQueue_,c),t.server_.merge(e.toString(),n,(h,p)=>{const g="ok"===h;g||nr("update at "+e+" failed: "+h);const _=na(t.serverSyncTree_,a,!g),y=_.length>0?sc(t,e):e;Br(t.eventQueue_,y,_),ra(0,r,h,p)}),Pn(n,h=>{const p=qC(t,Vt(e,h));sc(t,p)}),Br(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function g4(t){t=(0,E.m9)(t);const e=new YC(()=>{}),n=new uf(e);return function K8(t,e,n){const r=function T8(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,p)=>{const g=gr(h,n);r=r||ea(p,g)});let i=t.syncPointTree_.get(n);i?r=r||ea(i,lt()):(i=new SN,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=null!=r,o=s?new Jo(r,!0,!1):null;return function c8(t){return Um(t.viewCache_)}(TN(i,e,Bm(t.pendingWriteTree_,e._path),s?o.getNode():Oe.EMPTY_NODE,s))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Bt(i).withIndex(e._queryParams.getIndex());let o;if(MC(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=Jh(t.serverSyncTree_,e._path,s);else{const a=Xh(t.serverSyncTree_,e);o=NN(t.serverSyncTree_,e._path,s,a)}return Br(t.eventQueue_,e._path,o),qm(t.serverSyncTree_,e,n,null,!0),s},i=>(ic(t,"get for query "+(0,E.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new al(r,new li(t._repo,t._path),t._queryParams.getIndex()))}class uf{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new tx("value",this,new al(e.snapshotNode,new li(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nx(this,e,n):null}matches(e){return e instanceof uf&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class s_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nx(this,e,n):null}createEvent(e,n){(0,E.hu)(null!=e.childName,"Child events should have a childName.");const r=ll(new li(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new tx(e.type,this,new al(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof s_&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function cf(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const c=n,h=(p,g)=>{zC(t._repo,t,a),c(p,g)};h.userCallback=n.userCallback,h.context=n.context,n=h}const o=new YC(n,s||void 0),a="value"===e?new uf(o):new s_(e,o);return function t4(t,e,n){let r;r=".info"===ze(e._path)?MC(t.infoSyncTree_,e,n):MC(t.serverSyncTree_,e,n),$N(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>zC(t._repo,t,a)}function JC(t,e,n,r){return cf(t,"value",e,n,r)}function ox(t,e,n,r){return cf(t,"child_added",e,n,r)}function ax(t,e,n,r){return cf(t,"child_changed",e,n,r)}function lx(t,e,n,r){return cf(t,"child_moved",e,n,r)}function ux(t,e,n,r){return cf(t,"child_removed",e,n,r)}function cx(t,e,n){let r=null;const i=n?new YC(n):null;"value"===e?r=new uf(i):e&&(r=new s_(e,i)),zC(t._repo,t,r)}class Pi{}class dx extends Pi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ds("endAt",this._value,e._path,!0);const n=fC(e._queryParams,this._value,this._key);if(i_(n),ia(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class _4 extends Pi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ds("endBefore",this._value,e._path,!1);const n=function SG(t,e,n){let r;return r=fC(t,e,t.index_===cs||n?n:Ko),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(i_(n),ia(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class hx extends Pi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ds("startAt",this._value,e._path,!0);const n=hC(e._queryParams,this._value,this._key);if(i_(n),ia(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class w4 extends Pi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ds("startAfter",this._value,e._path,!1);const n=function DG(t,e,n){let r;return r=hC(t,e,t.index_===cs||n?n:Zs),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(i_(n),ia(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Rr(e._repo,e._path,n,e._orderByCalled)}}class C4 extends Pi{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Rr(e._repo,e._path,function IG(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class b4 extends Pi{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Rr(e._repo,e._path,function bG(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class S4 extends Pi{constructor(e){super(),this._path=e}_apply(e){r_(e,"orderByChild");const n=new dt(this._path);if(Ge(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new uC(n),i=Om(e._queryParams,r);return ia(i),new Rr(e._repo,e._path,i,!0)}}class A4 extends Pi{_apply(e){r_(e,"orderByKey");const n=Om(e._queryParams,cs);return ia(n),new Rr(e._repo,e._path,n,!0)}}class M4 extends Pi{_apply(e){r_(e,"orderByPriority");const n=Om(e._queryParams,At);return ia(n),new Rr(e._repo,e._path,n,!0)}}class N4 extends Pi{_apply(e){r_(e,"orderByValue");const n=Om(e._queryParams,cC);return ia(n),new Rr(e._repo,e._path,n,!0)}}class O4 extends Pi{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(ds("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dx(this._value,this._key)._apply(new hx(this._value,this._key)._apply(e))}}function Ni(t,...e){let n=(0,E.m9)(t);for(const r of e)n=r._apply(n);return n}(function p8(t){(0,E.hu)(!Wm,"__referenceConstructor has already been defined"),Wm=t})(li),function y8(t){(0,E.hu)(!Gm,"__referenceConstructor has already been defined"),Gm=t}(li);const L4="FIREBASE_DATABASE_EMULATOR_HOST",XC={};let fx=!1;function eI(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||us("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,h,o=KC(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(h=process.env[L4]),h?(c=!0,s=`http://${h}?ns=${a.namespace}`,o=KC(s,i),a=o.repoInfo):c=!o.repoInfo.secure;const p=i&&c?new Bh(Bh.OWNER):new R3(t.name,t.options,e);jN("Invalid Firebase Database URL",o),Ge(o.path)||us("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function U4(t,e,n,r){let i=XC[e.name];i||(i={},XC[e.name]=i);let s=i[t.toURLString()];return s&&us("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new G8(t,fx,n,r),i[t.toURLString()]=s,s}(a,t,p,new A3(t.name,n));return new H4(g,t)}class H4{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function q8(t,e,n){if(t.stats_=eC(t.repoInfo_),t.forceRestClient_||T3())t.server_=new km(t.repoInfo_,(r,i,s,o)=>{qN(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ZN(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,E.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new nl(t.repoInfo_,e,(r,i,s,o)=>{qN(t,r,i,s,o)},r=>{ZN(t,r)},r=>{!function Z8(t,e){Pn(e,(n,r)=>{$C(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function N3(t,e){const n=t.toString();return XE[n]||(XE[n]=e()),XE[n]}(t.repoInfo_,()=>new NG(t.stats_,t.server_)),t.infoData_=new TG,t.infoSyncTree_=new PN({startListening:(r,i,s,o)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Jh(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),$C(t,"connected",!1),t.serverSyncTree_=new PN({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{const h=o(a,c);Br(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new li(this._repo,lt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function V4(t,e){const n=XC[e];(!n||n[t.key]!==t)&&us(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YN(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&us("Cannot call "+e+" on a deleted database.")}}function px(){FP.IS_TRANSPORT_INITIALIZED&&nr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function j4(){px(),Yo.forceDisallow()}function $4(){px(),Yu.forceDisallow(),Yo.forceAllow()}function G4(t,e){_P(t,e)}const Z4={".sv":"timestamp"};class Q4{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}nl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},nl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function q4(t){GE(zu.SDK_VERSION),(0,zu._registerComponent)(new Qa.wA("database",(e,{instanceIdentifier:n})=>eI(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,zu.registerVersion)(dP,"1.0.1",t),(0,zu.registerVersion)(dP,"1.0.1","esm2017")}();const tq=new WE.Yd("@firebase/database-compat"),mx=function(t){tq.warn("FIREBASE WARNING: "+t)};class iq{constructor(e){this._delegate=e}cancel(e){(0,E.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,E.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,E.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,E.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,E.Dv)("OnDisconnect.set",1,2,arguments.length),(0,E.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,E.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,E.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if((0,E.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,mx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,E.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class sq{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,E.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class sa{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,E.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,E.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,E.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,E.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,E.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),af("DataSnapshot.child","path",e,!1),new sa(this._database,this._delegate.child(e))}hasChild(e){return(0,E.Dv)("DataSnapshot.hasChild",1,1,arguments.length),af("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,E.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,E.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,E.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new sa(this._database,n)))}hasChildren(){return(0,E.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,E.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,E.Dv)("DataSnapshot.ref",0,0,arguments.length),new Hr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Wn{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;(0,E.Dv)("Query.on",2,4,arguments.length),(0,E.Wj)("Query.on","callback",n,!1);const o=Wn.getCancelAndContextArgs_("Query.on",r,i),a=(h,p)=>{n.call(o.context,new sa(this.database,h),p)};a.userCallback=n,a.context=o.context;const c=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return JC(this._delegate,a,c),n;case"child_added":return ox(this._delegate,a,c),n;case"child_removed":return ux(this._delegate,a,c),n;case"child_changed":return ax(this._delegate,a,c),n;case"child_moved":return lx(this._delegate,a,c),n;default:throw new Error((0,E.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,E.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,E.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,E.Wj)("Query.off","callback",n,!0),(0,E.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,cx(this._delegate,e,i)}else cx(this._delegate,e)}get(){return g4(this._delegate).then(e=>new sa(this.database,e))}once(e,n,r,i){(0,E.Dv)("Query.once",1,4,arguments.length),(0,E.Wj)("Query.once","callback",n,!0);const s=Wn.getCancelAndContextArgs_("Query.once",r,i),o=new E.BH,a=(h,p)=>{const g=new sa(this.database,h);n&&n.call(s.context,g,p),o.resolve(g)};a.userCallback=n,a.context=s.context;const c=h=>{s.cancel&&s.cancel.call(s.context,h),o.reject(h)};switch(e){case"value":JC(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":ox(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":ux(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":ax(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":lx(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,E.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,E.Dv)("Query.limitToFirst",1,1,arguments.length),new Wn(this.database,Ni(this._delegate,function I4(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new C4(t)}(e)))}limitToLast(e){return(0,E.Dv)("Query.limitToLast",1,1,arguments.length),new Wn(this.database,Ni(this._delegate,function D4(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new b4(t)}(e)))}orderByChild(e){return(0,E.Dv)("Query.orderByChild",1,1,arguments.length),new Wn(this.database,Ni(this._delegate,function T4(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return af("orderByChild","path",t,!1),new S4(t)}(e)))}orderByKey(){return(0,E.Dv)("Query.orderByKey",0,0,arguments.length),new Wn(this.database,Ni(this._delegate,function R4(){return new A4}()))}orderByPriority(){return(0,E.Dv)("Query.orderByPriority",0,0,arguments.length),new Wn(this.database,Ni(this._delegate,function P4(){return new M4}()))}orderByValue(){return(0,E.Dv)("Query.orderByValue",0,0,arguments.length),new Wn(this.database,Ni(this._delegate,function x4(){return new N4}()))}startAt(e=null,n){return(0,E.Dv)("Query.startAt",0,2,arguments.length),new Wn(this.database,Ni(this._delegate,function y4(t=null,e){return sf("startAt","key",e,!0),new hx(t,e)}(e,n)))}startAfter(e=null,n){return(0,E.Dv)("Query.startAfter",0,2,arguments.length),new Wn(this.database,Ni(this._delegate,function E4(t,e){return sf("startAfter","key",e,!0),new w4(t,e)}(e,n)))}endAt(e=null,n){return(0,E.Dv)("Query.endAt",0,2,arguments.length),new Wn(this.database,Ni(this._delegate,function m4(t,e){return sf("endAt","key",e,!0),new dx(t,e)}(e,n)))}endBefore(e=null,n){return(0,E.Dv)("Query.endBefore",0,2,arguments.length),new Wn(this.database,Ni(this._delegate,function v4(t,e){return sf("endBefore","key",e,!0),new _4(t,e)}(e,n)))}equalTo(e,n){return(0,E.Dv)("Query.equalTo",1,2,arguments.length),new Wn(this.database,Ni(this._delegate,function k4(t,e){return sf("equalTo","key",e,!0),new O4(t,e)}(e,n)))}toString(){return(0,E.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,E.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,E.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Wn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,E.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,E.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,E.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new Hr(this.database,new li(this._delegate._repo,this._delegate._path))}}class Hr extends Wn{constructor(e,n){super(e,new Rr(n._repo,n._path,new xm,!1)),this.database=e,this._delegate=n}getKey(){return(0,E.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,E.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Hr(this.database,ll(this._delegate,e))}getParent(){(0,E.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Hr(this.database,e):null}getRoot(){return(0,E.Dv)("Reference.root",0,0,arguments.length),new Hr(this.database,this._delegate.root)}set(e,n){(0,E.Dv)("Reference.set",1,2,arguments.length),(0,E.Wj)("Reference.set","onComplete",n,!0);const r=QC(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,E.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,mx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ai("Reference.update",this._delegate._path),(0,E.Wj)("Reference.update","onComplete",n,!0);const r=p4(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,E.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,E.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function f4(t,e,n){if(ai("setWithPriority",t._path),ds("setWithPriority",e,t._path,!1),jC("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new E.BH;return WC(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,E.Dv)("Reference.remove",0,1,arguments.length),(0,E.Wj)("Reference.remove","onComplete",e,!0);const n=function d4(t){return ai("remove",t._path),QC(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,E.Dv)("Reference.transaction",1,3,arguments.length),(0,E.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,E.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,E.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function J4(t,e,n){var r;if(t=(0,E.m9)(t),ai("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,s=new E.BH,a=JC(t,()=>{});return function r4(t,e,n,r,i,s){ic(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:pP(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=GC(t,e,void 0);o.currentInputSnapshot=a;const c=o.update(a.val());if(void 0===c)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{rf("transaction failed: Data returned ",c,o.path),o.status=0;const h=Ym(t.transactionQueueTree_,e),p=ol(h)||[];let g;p.push(o),UC(h,p),"object"==typeof c&&null!==c&&(0,E.r3)(c,".priority")?(g=(0,E.DV)(c,".priority"),(0,E.hu)(nf(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(Zm(t.serverSyncTree_,e)||Oe.EMPTY_NODE).getPriority().val();const _=lf(t),y=Bt(c,g),I=LC(y,a,_);o.currentOutputSnapshotRaw=y,o.currentOutputSnapshotResolved=I,o.currentWriteId=e_(t);const A=RC(t.serverSyncTree_,e,I,o.currentWriteId,o.applyLocally);Br(t.eventQueue_,e,A),t_(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(c,h,p)=>{let g=null;c?s.reject(c):(g=new al(p,new li(t._repo,t._path),At),s.resolve(new Q4(h,g)))},a,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new sq(s.committed,new sa(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){(0,E.Dv)("Reference.setPriority",1,2,arguments.length),(0,E.Wj)("Reference.setPriority","onComplete",n,!0);const r=function h4(t,e){t=(0,E.m9)(t),ai("setPriority",t._path),jC("setPriority",e,!1);const n=new E.BH;return WC(t._repo,Vt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,E.Dv)("Reference.push",0,2,arguments.length),(0,E.Wj)("Reference.push","onComplete",n,!0);const r=function c4(t,e){t=(0,E.m9)(t),ai("push",t._path),ds("push",e,t._path,!0);const n=GN(t._repo),r=u4(n),i=ll(t,r),s=ll(t,r);let o;return o=null!=e?QC(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new Hr(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new Hr(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return ai("Reference.onDisconnect",this._delegate._path),new iq(new rx(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class df{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:j4,forceLongPolling:$4}}useEmulator(e,n,r={}){!function gx(t,e,n,r={}){(t=(0,E.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&us("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&us('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Bh(Bh.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,E.Sg)(r.mockUserToken,t.app.options.projectId);s=new Bh(o)}!function F4(t,e,n,r){t.repoInfo_=new QE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,e,n,r)}ref(e){if((0,E.Dv)("database.ref",0,1,arguments.length),e instanceof Hr){const n=sx(this._delegate,e.toString());return new Hr(this,n)}{const n=ix(this._delegate,e);return new Hr(this,n)}}refFromURL(e){(0,E.Dv)("database.refFromURL",1,1,arguments.length);const r=sx(this._delegate,e);return new Hr(this,r)}goOffline(){return(0,E.Dv)("database.goOffline",0,0,arguments.length),function W4(t){(t=(0,E.m9)(t))._checkNotDeleted("goOffline"),YN(t._repo)}(this._delegate)}goOnline(){return(0,E.Dv)("database.goOnline",0,0,arguments.length),function z4(t){(t=(0,E.m9)(t))._checkNotDeleted("goOnline"),function n4(t){t.persistentConnection_&&t.persistentConnection_.resume(zN)}(t._repo)}(this._delegate)}}df.ServerValue={TIMESTAMP:function K4(){return Z4}(),increment:t=>function Y4(t){return{".sv":{increment:t}}}(t)};var aq=Object.freeze({__proto__:null,initStandalone:function oq({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){GE(n);const a=new Qa.H0("database-standalone"),c=new Qa.zt("auth-internal",a);let h;return c.setComponent(new Qa.wA("auth-internal",()=>r,"PRIVATE")),i&&(h=new Qa.zt("app-check-internal",a),h.setComponent(new Qa.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new df(eI(t,c,h,e,o),t),namespace:s}}});const lq=df.ServerValue;function hf(t,e,n="on",r=KM){return new Qe(i=>{let s=null;return s=t[n](e,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(ce(i=>{const{snapshot:s,prevKey:o}=i;let a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),P())}function _x(t){return null==t}function vx(t){return"function"==typeof t.set}function yx(t,e){return vx(e)?e:t.ref(e)}function wx(t,e){if(function cq(t){return"string"==typeof t}(t))return e.stringCase();if(vx(t))return e.firebaseCase();if(function dq(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Ex(t){return(_x(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Cx(t,e,n){return H(...(e=Ex(e)).map(i=>hf(t,i,"on",n)))}function Ix(t,e){return function(r,i){return wx(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function gq(t){return function(n){return n?wx(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function bx(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function vq(t,e){const{payload:n,prevKey:r,key:i}=e,s=bx(t,i),o=function _q(t,e){if(_x(e))return 0;{const n=bx(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{const h={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,h],!1})}return t;case"child_added":if(s>-1)(t[s-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key)).splice(o,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(s>-1){const a=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,a),t}return t;default:return t}}function Dx(t,e,n){return function mq(t,e,n){return hf(t,"value","once",n).pipe(In(r=>{const i=[ve(r)];return e.forEach(s=>i.push(hf(t,s,"on",n))),H(...i).pipe(bg(vq,[]))}),function f3(t,e=jt){return t=t??p3,k((n,r)=>{let i,s=!0;n.subscribe(ne(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}())}(t,e=Ex(e),n)}function Sx(t,e){return function(){return hf(t,"value","on",e)}}!function uq(t){t.INTERNAL.registerComponent(new Qa.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new df(i,r)},"PUBLIC").setServiceProps({Reference:Hr,Query:Wn,Database:df,DataSnapshot:sa,enableLogging:G4,INTERNAL:aq,ServerValue:lq}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(qs.Z);const Eq=new ae("angularfire2.realtimeDatabaseURL"),Cq=new ae("angularfire2.database.use-emulator");let Iq=(()=>{class t{schedulers;database;constructor(n,r,i,s,o,a,c,h,p,g,_,y,I,A,M){this.schedulers=a;const U=c,q=jE(n,o,r);h&&cP(q,o,p,_,y,I,g,A),this.database=eP(`${q.name}.database.${i}`,"AngularFireDatabase",q.name,()=>{const N=o.runOutsideAngular(()=>q.database(i||void 0));return U&&N.useEmulator(...U),N},[U])}list(n,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>yx(this.database,n));let s=i;return r&&(s=r(i)),function yq(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Ix(r,"update"),set:Ix(r,"set"),push:i=>r.push(i),remove:gq(r),snapshotChanges:i=>Dx(t,i,n).pipe(Zo),stateChanges:i=>Cx(t,i,n).pipe(Zo),auditTrail:i=>function hq(t,e,n){return function pq(t,e,n){return function fq(t,e){return hf(t,"value","on",e).pipe(ce(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function d3(...t){const e=Fi(t);return k((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Kt(t[c]).subscribe(ne(r,h=>{s[c]=h,!a&&!o[c]&&(o[c]=!0,(a=o.every(jt))&&(o=null))},he));n.subscribe(ne(r,c=>{if(a){const h=[c,...s];r.next(e?e(...h):h)}}))})}(e),ce(([i,s])=>{const o=i.lastKeyToLoad,a=s.map(c=>c.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function h3(t){return k((e,n)=>{let r=!1,i=0;e.subscribe(ne(n,s=>(r||(r=!t(s,i++)))&&n.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),ce(i=>i.actions))}(t,Cx(t,e).pipe(bg((i,s)=>[...i,s],[])),n)}(t,i,n).pipe(Zo),valueChanges:(i,s)=>Dx(t,i,n).pipe(ce(a=>a.map(c=>s&&s.idField?{...c.payload.val(),[s.idField]:c.key}:c.payload.val())),Zo)}}(s,this)}object(n){return function wq(t,e){return{query:t,snapshotChanges:()=>Sx(t,e.schedulers.outsideAngular)().pipe(Zo),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>Sx(t,e.schedulers.outsideAngular)().pipe(Zo,ce(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>yx(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(X(Im),X(bm,8),X(Eq,8),X(eh),X(Lt),X(JM),X(Cq,8),X($E,8),X(iP,8),X(sP,8),X(oP,8),X(aP,8),X(lP,8),X(uP,8),X(YM,8))};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),bq=(()=>{class t{constructor(){qs.Z.registerVersion("angularfire",Cm.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=sn({providers:[Iq]})}return t})(),Dq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t,bootstrap:[Uz]});static#n=this.\u0275inj=sn({imports:[vH,a$,kz,zM,Rz,s3.initializeApp({apiKey:"AIzaSyDaaL_8chTmePICe53lXAROU_M9szUPIog",authDomain:"fy-nances.firebaseapp.com",projectId:"fy-nances",storageBucket:"fy-nances.appspot.com",messagingSenderId:"617745917017",appId:"1:617745917017:web:d0ac0d543e6a8f4d88bd48",measurementId:"G-Z4RD1EELNN"}),c3,bq]})}return t})();_H().bootstrapModule(Dq).catch(t=>console.error(t))},942:(ui,hn,Se)=>{Se.d(hn,{Z:()=>fn});var w=Se(90),ye=Se(859),F=Se(881),Ie=Se(877);class tt{constructor(De,ke){this._delegate=De,this.firebase=ke,(0,F._addComponent)(De,new ye.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(De,ke=F._DEFAULT_ENTRY_NAME){var pn;this._delegate.checkDestroyed();const gn=this._delegate.container.getProvider(De);return!gn.isInitialized()&&"EXPLICIT"===(null===(pn=gn.getComponent())||void 0===pn?void 0:pn.instantiationMode)&&gn.initialize(),gn.getImmediate({identifier:ke})}_removeServiceInstance(De,ke=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(ke)}_addComponent(De){(0,F._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,F._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ft=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function $e(){const rt=function tn(rt){const De={},ke={__esModule:!0,initializeApp:function yt(Le,nn={}){const $=F.initializeApp(Le,nn);if((0,w.r3)(De,$.name))return De[$.name];const Mt=new rt($,ke);return De[$.name]=Mt,Mt},app:gn,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function gt(Le){const nn=Le.name,$=nn.replace("-compat","");if(F._registerComponent(Le)&&"PUBLIC"===Le.type){const Mt=(wt=gn())=>{if("function"!=typeof wt[$])throw Ft.create("invalid-app-argument",{appName:nn});return wt[$]()};void 0!==Le.serviceProps&&(0,w.ZB)(Mt,Le.serviceProps),ke[$]=Mt,rt.prototype[$]=function(...wt){return this._getService.bind(this,nn).apply(this,Le.multipleInstances?wt:[])}}return"PUBLIC"===Le.type?ke[$]:null},removeApp:function pn(Le){delete De[Le]},useAsService:function Gn(Le,nn){return"serverAuth"===nn?null:nn},modularAPIs:F}};function gn(Le){if(!(0,w.r3)(De,Le=Le||F._DEFAULT_ENTRY_NAME))throw Ft.create("no-app",{appName:Le});return De[Le]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function it(){return Object.keys(De).map(Le=>De[Le])}}),gn.App=rt,ke}(tt);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function De(ke){(0,w.ZB)(rt,ke)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),rt}(),J=new Ie.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fn=W;!function nt(rt){(0,F.registerVersion)("@firebase/app-compat","0.2.23",rt)}()},881:(ui,hn,Se)=>{Se.r(hn),Se.d(hn,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>fi,_DEFAULT_ENTRY_NAME:()=>Mr,_addComponent:()=>Li,_addOrOverwriteComponent:()=>Dn,_apps:()=>kn,_clearComponents:()=>Yt,_components:()=>hi,_getProvider:()=>Et,_registerComponent:()=>hs,_removeServiceInstance:()=>_r,deleteApp:()=>Ln,getApp:()=>Vi,getApps:()=>Xs,initializeApp:()=>Fi,onLog:()=>eo,registerVersion:()=>Ui,setLogLevel:()=>pl});var w=Se(861),ye=Se(859),F=Se(877),Ie=Se(90);const tt=(L,C)=>C.some(Z=>L instanceof Z);let vt,Ft;const W=new WeakMap,J=new WeakMap,he=new WeakMap,Be=new WeakMap,nt=new WeakMap;let De={get(L,C,Z){if(L instanceof IDBTransaction){if("done"===C)return J.get(L);if("objectStoreNames"===C)return L.objectStoreNames||he.get(L);if("store"===C)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return yt(L[C])},set:(L,C,Z)=>(L[C]=Z,!0),has:(L,C)=>L instanceof IDBTransaction&&("done"===C||"store"===C)||C in L};function gn(L){return"function"==typeof L?function pn(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return Ft||(Ft=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...C){return L.apply(it(this),C),yt(W.get(this))}:function(...C){return yt(L.apply(it(this),C))}:function(C,...Z){const K=L.call(it(this),C,...Z);return he.set(K,C.sort?C.sort():[C]),yt(K)}}(L):(L instanceof IDBTransaction&&function rt(L){if(J.has(L))return;const C=new Promise((Z,K)=>{const te=()=>{L.removeEventListener("complete",He),L.removeEventListener("error",st),L.removeEventListener("abort",st)},He=()=>{Z(),te()},st=()=>{K(L.error||new DOMException("AbortError","AbortError")),te()};L.addEventListener("complete",He),L.addEventListener("error",st),L.addEventListener("abort",st)});J.set(L,C)}(L),tt(L,function tn(){return vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,De):L)}function yt(L){if(L instanceof IDBRequest)return function fn(L){const C=new Promise((Z,K)=>{const te=()=>{L.removeEventListener("success",He),L.removeEventListener("error",st)},He=()=>{Z(yt(L.result)),te()},st=()=>{K(L.error),te()};L.addEventListener("success",He),L.addEventListener("error",st)});return C.then(Z=>{Z instanceof IDBCursor&&W.set(Z,L)}).catch(()=>{}),nt.set(C,L),C}(L);if(Be.has(L))return Be.get(L);const C=gn(L);return C!==L&&(Be.set(L,C),nt.set(C,L)),C}const it=L=>nt.get(L),Le=["get","getKey","getAll","getAllKeys","count"],nn=["put","add","delete","clear"],$=new Map;function Mt(L,C){if(!(L instanceof IDBDatabase)||C in L||"string"!=typeof C)return;if($.get(C))return $.get(C);const Z=C.replace(/FromIndex$/,""),K=C!==Z,te=nn.includes(Z);if(!(Z in(K?IDBIndex:IDBObjectStore).prototype)||!te&&!Le.includes(Z))return;const He=function(){var st=(0,w.Z)(function*(_n,...It){const $t=this.transaction(_n,te?"readwrite":"readonly");let ca=$t.store;return K&&(ca=ca.index(It.shift())),(yield Promise.all([ca[Z](...It),te&&$t.done]))[0]});return function(It){return st.apply(this,arguments)}}();return $.set(C,He),He}!function ke(L){De=L(De)}(L=>({...L,get:(C,Z,K)=>Mt(C,Z)||L.get(C,Z,K),has:(C,Z)=>!!Mt(C,Z)||L.has(C,Z)}));class wt{constructor(C){this.container=C}getPlatformInfoString(){return this.container.getProviders().map(Z=>{if(function jt(L){return"VERSION"===L.getComponent()?.type}(Z)){const K=Z.getImmediate();return`${K.library}/${K.version}`}return null}).filter(Z=>Z).join(" ")}}const $r="@firebase/app",Qe=new F.Yd("@firebase/app"),Mr="[DEFAULT]",la={[$r]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kn=new Map,hi=new Map;function Li(L,C){try{L.container.addComponent(C)}catch(Z){Qe.debug(`Component ${C.name} failed to register with FirebaseApp ${L.name}`,Z)}}function Dn(L,C){L.container.addOrOverwriteComponent(C)}function hs(L){const C=L.name;if(hi.has(C))return Qe.debug(`There were multiple attempts to register component ${C}.`),!1;hi.set(C,L);for(const Z of kn.values())Li(Z,L);return!0}function Et(L,C){const Z=L.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),L.container.getProvider(C)}function _r(L,C,Z=Mr){Et(L,C).clearInstance(Z)}function Yt(){hi.clear()}const sr=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class or{constructor(C,Z,K){this._isDeleted=!1,this._options=Object.assign({},C),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=K,this.container.addComponent(new ye.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(C){this.checkDestroyed(),this._automaticDataCollectionEnabled=C}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(C){this._isDeleted=C}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const fi="10.6.0";function Fi(L,C={}){let Z=L;"object"!=typeof C&&(C={name:C});const K=Object.assign({name:Mr,automaticDataCollectionEnabled:!1},C),te=K.name;if("string"!=typeof te||!te)throw sr.create("bad-app-name",{appName:String(te)});if(Z||(Z=(0,Ie.aH)()),!Z)throw sr.create("no-options");const He=kn.get(te);if(He){if((0,Ie.vZ)(Z,He.options)&&(0,Ie.vZ)(K,He.config))return He;throw sr.create("duplicate-app",{appName:te})}const st=new ye.H0(te);for(const It of hi.values())st.addComponent(It);const _n=new or(Z,K,st);return kn.set(te,_n),_n}function Vi(L=Mr){const C=kn.get(L);if(!C&&L===Mr&&(0,Ie.aH)())return Fi();if(!C)throw sr.create("no-app",{appName:L});return C}function Xs(){return Array.from(kn.values())}function Ln(L){return qn.apply(this,arguments)}function qn(){return(qn=(0,w.Z)(function*(L){const C=L.name;kn.has(C)&&(kn.delete(C),yield Promise.all(L.container.getProviders().map(Z=>Z.delete())),L.isDeleted=!0)})).apply(this,arguments)}function Ui(L,C,Z){var K;let te=null!==(K=la[L])&&void 0!==K?K:L;Z&&(te+=`-${Z}`);const He=te.match(/\s|\//),st=C.match(/\s|\//);if(He||st){const _n=[`Unable to register library "${te}" with version "${C}":`];return He&&_n.push(`library name "${te}" contains illegal characters (whitespace or "/")`),He&&st&&_n.push("and"),st&&_n.push(`version name "${C}" contains illegal characters (whitespace or "/")`),void Qe.warn(_n.join(" "))}hs(new ye.wA(`${te}-version`,()=>({library:te,version:C}),"VERSION"))}function eo(L,C){if(null!==L&&"function"!=typeof L)throw sr.create("invalid-log-argument");(0,F.Am)(L,C)}function pl(L){(0,F.Ub)(L)}const ua="firebase-heartbeat-database",to=1,S="firebase-heartbeat-store";let b=null;function T(){return b||(b=function gt(L,C,{blocked:Z,upgrade:K,blocking:te,terminated:He}={}){const st=indexedDB.open(L,C),_n=yt(st);return K&&st.addEventListener("upgradeneeded",It=>{K(yt(st.result),It.oldVersion,It.newVersion,yt(st.transaction),It)}),Z&&st.addEventListener("blocked",It=>Z(It.oldVersion,It.newVersion,It)),_n.then(It=>{He&&It.addEventListener("close",()=>He()),te&&It.addEventListener("versionchange",$t=>te($t.oldVersion,$t.newVersion,$t))}).catch(()=>{}),_n}(ua,to,{upgrade:(L,C)=>{0===C&&L.createObjectStore(S)}}).catch(L=>{throw sr.create("idb-open",{originalErrorMessage:L.message})})),b}function P(){return(P=(0,w.Z)(function*(L){try{return yield(yield T()).transaction(S).objectStore(S).get(Fe(L))}catch(C){if(C instanceof Ie.ZR)Qe.warn(C.message);else{const Z=sr.create("idb-get",{originalErrorMessage:C?.message});Qe.warn(Z.message)}}})).apply(this,arguments)}function re(L,C){return ie.apply(this,arguments)}function ie(){return(ie=(0,w.Z)(function*(L,C){try{const K=(yield T()).transaction(S,"readwrite");yield K.objectStore(S).put(C,Fe(L)),yield K.done}catch(Z){if(Z instanceof Ie.ZR)Qe.warn(Z.message);else{const K=sr.create("idb-set",{originalErrorMessage:Z?.message});Qe.warn(K.message)}}})).apply(this,arguments)}function Fe(L){return`${L.name}!${L.options.appId}`}class rn{constructor(C){this.container=C,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this._storage=new Pr(Z),this._heartbeatsCachePromise=this._storage.read().then(K=>(this._heartbeatsCache=K,K))}triggerHeartbeat(){var C=this;return(0,w.Z)(function*(){var Z;const te=C.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),He=fe();if(null==(null===(Z=C._heartbeatsCache)||void 0===Z?void 0:Z.heartbeats)&&(C._heartbeatsCache=yield C._heartbeatsCachePromise),C._heartbeatsCache.lastSentHeartbeatDate!==He&&!C._heartbeatsCache.heartbeats.some(st=>st.date===He))return C._heartbeatsCache.heartbeats.push({date:He,agent:te}),C._heartbeatsCache.heartbeats=C._heartbeatsCache.heartbeats.filter(st=>{const _n=new Date(st.date).valueOf();return Date.now()-_n<=2592e6}),C._storage.overwrite(C._heartbeatsCache)})()}getHeartbeatsHeader(){var C=this;return(0,w.Z)(function*(){var Z;if(null===C._heartbeatsCache&&(yield C._heartbeatsCachePromise),null==(null===(Z=C._heartbeatsCache)||void 0===Z?void 0:Z.heartbeats)||0===C._heartbeatsCache.heartbeats.length)return"";const K=fe(),{heartbeatsToSend:te,unsentEntries:He}=function pe(L,C=1024){const Z=[];let K=L.slice();for(const te of L){const He=Z.find(st=>st.agent===te.agent);if(He){if(He.dates.push(te.date),zr(Z)>C){He.dates.pop();break}}else if(Z.push({agent:te.agent,dates:[te.date]}),zr(Z)>C){Z.pop();break}K=K.slice(1)}return{heartbeatsToSend:Z,unsentEntries:K}}(C._heartbeatsCache.heartbeats),st=(0,Ie.L)(JSON.stringify({version:2,heartbeats:te}));return C._heartbeatsCache.lastSentHeartbeatDate=K,He.length>0?(C._heartbeatsCache.heartbeats=He,yield C._storage.overwrite(C._heartbeatsCache)):(C._heartbeatsCache.heartbeats=[],C._storage.overwrite(C._heartbeatsCache)),st})()}}function fe(){return(new Date).toISOString().substring(0,10)}class Pr{constructor(C){this.app=C,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var C=this;return(0,w.Z)(function*(){return(yield C._canUseIndexedDBPromise)&&(yield function H(L){return P.apply(this,arguments)}(C.app))||{heartbeats:[]}})()}overwrite(C){var Z=this;return(0,w.Z)(function*(){var K;if(yield Z._canUseIndexedDBPromise){const He=yield Z.read();return re(Z.app,{lastSentHeartbeatDate:null!==(K=C.lastSentHeartbeatDate)&&void 0!==K?K:He.lastSentHeartbeatDate,heartbeats:C.heartbeats})}})()}add(C){var Z=this;return(0,w.Z)(function*(){var K;if(yield Z._canUseIndexedDBPromise){const He=yield Z.read();return re(Z.app,{lastSentHeartbeatDate:null!==(K=C.lastSentHeartbeatDate)&&void 0!==K?K:He.lastSentHeartbeatDate,heartbeats:[...He.heartbeats,...C.heartbeats]})}})()}}function zr(L){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:L})).length}!function ac(L){hs(new ye.wA("platform-logger",C=>new wt(C),"PRIVATE")),hs(new ye.wA("heartbeat",C=>new rn(C),"PRIVATE")),Ui($r,"0.9.23",L),Ui($r,"0.9.23","esm2017"),Ui("fire-js","")}("")},859:(ui,hn,Se)=>{Se.d(hn,{H0:()=>tn,wA:()=>F,zt:()=>tt});var w=Se(861),ye=Se(90);class F{constructor(W,J,he){this.name=W,this.instanceFactory=J,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Ie="[DEFAULT]";class tt{constructor(W,J){this.name=W,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const J=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(J)){const he=new ye.BH;if(this.instancesDeferred.set(J,he),this.isInitialized(J)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:J});Be&&he.resolve(Be)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(W){var J;const he=this.normalizeInstanceIdentifier(W?.identifier),Be=null!==(J=W?.optional)&&void 0!==J&&J;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(nt){if(Be)return null;throw nt}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Ft($e){return"EAGER"===$e.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[J,he]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(J);try{const nt=this.getOrInitializeService({instanceIdentifier:Be});he.resolve(nt)}catch{}}}}clearInstance(W=Ie){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,w.Z)(function*(){const J=Array.from(W.instances.values());yield Promise.all([...J.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...J.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Ie){return this.instances.has(W)}getOptions(W=Ie){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:J={}}=W,he=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:he,options:J});for(const[nt,fn]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(nt)&&fn.resolve(Be);return Be}onInit(W,J){var he;const Be=this.normalizeInstanceIdentifier(J),nt=null!==(he=this.onInitCallbacks.get(Be))&&void 0!==he?he:new Set;nt.add(W),this.onInitCallbacks.set(Be,nt);const fn=this.instances.get(Be);return fn&&W(fn,Be),()=>{nt.delete(W)}}invokeOnInitCallbacks(W,J){const he=this.onInitCallbacks.get(J);if(he)for(const Be of he)try{Be(W,J)}catch{}}getOrInitializeService({instanceIdentifier:W,options:J={}}){let he=this.instances.get(W);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:($e=W,$e===Ie?void 0:$e),options:J}),this.instances.set(W,he),this.instancesOptions.set(W,J),this.invokeOnInitCallbacks(he,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,he)}catch{}var $e;return he||null}normalizeInstanceIdentifier(W=Ie){return this.component?this.component.multipleInstances?W:Ie:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tn{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const J=this.getProvider(W.name);if(J.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);J.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const J=new tt(W,this);return this.providers.set(W,J),J}getProviders(){return Array.from(this.providers.values())}}},877:(ui,hn,Se)=>{Se.d(hn,{Am:()=>$e,Ub:()=>tn,Yd:()=>Ft,in:()=>ye});const w=[];var ye=(()=>{return(W=ye||(ye={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",ye;var W})();const F={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Ie=ye.INFO,tt={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},vt=(W,J,...he)=>{if(J<W.logLevel)return;const Be=(new Date).toISOString(),nt=tt[J];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[nt](`[${Be}]  ${W.name}:`,...he)};class Ft{constructor(J){this.name=J,this._logLevel=Ie,this._logHandler=vt,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in ye))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?F[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...J),this._logHandler(this,ye.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...J),this._logHandler(this,ye.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...J),this._logHandler(this,ye.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...J),this._logHandler(this,ye.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...J),this._logHandler(this,ye.ERROR,...J)}}function tn(W){w.forEach(J=>{J.setLogLevel(W)})}function $e(W,J){for(const he of w){let Be=null;J&&J.level&&(Be=F[J.level]),he.userLogHandler=null===W?null:(nt,fn,...rt)=>{const De=rt.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");fn>=(Be??nt.logLevel)&&W({level:ye[fn].toLowerCase(),message:De,args:rt,type:nt.name})}}}},898:(ui,hn,Se)=>{Se.r(hn);var w=Se(861),ye=Se(942),F=Se(90),Ie=Se(881),tt=Se(877),vt=Se(582),Ft=Se(859);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he_EMAIL_SIGNIN="EMAIL_SIGNIN",he_PASSWORD_RESET="PASSWORD_RESET",he_RECOVER_EMAIL="RECOVER_EMAIL",he_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",he_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",he_VERIFY_EMAIL="VERIFY_EMAIL";const fn=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},rt=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pn=new tt.Yd("@firebase/auth");function yt(d,...l){pn.logLevel<=tt.in.ERROR&&pn.error(`Auth (${Ie.SDK_VERSION}): ${d}`,...l)}function it(d,...l){throw nn(d,...l)}function gt(d,...l){return nn(d,...l)}function Gn(d,l,u){const f=Object.assign(Object.assign({},rt()),{[l]:u});return new F.LL("auth","Firebase",f).create(l,{appName:d.name})}function Le(d,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&it(d,"argument-error"),Gn(d,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nn(d,...l){if("string"!=typeof d){const u=l[0],f=[...l.slice(1)];return f[0]&&(f[0].appName=d.name),d._errorFactory.create(u,...f)}return De.create(d,...l)}function $(d,l,...u){if(!d)throw nn(l,...u)}function Mt(d){const l="INTERNAL ASSERTION FAILED: "+d;throw yt(l),new Error(l)}function wt(d,l){d||Mt(l)}function jt(){var d;return typeof self<"u"&&(null===(d=self.location)||void 0===d?void 0:d.href)||""}function $r(){return"http:"===Wr()||"https:"===Wr()}function Wr(){var d;return typeof self<"u"&&(null===(d=self.location)||void 0===d?void 0:d.protocol)||null}class ci{constructor(l,u){this.shortDelay=l,this.longDelay=u,wt(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Qe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($r()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function x(d,l){wt(d.emulator,"Emulator should always be set here");const{url:u}=d.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class O{static initialize(l,u,f){this.fetchImpl=l,u&&(this.headersImpl=u),f&&(this.responseImpl=f)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},j=new ci(3e4,6e4);function z(d,l){return d.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:d.tenantId}):l}function k(d,l,u,f){return ne.apply(this,arguments)}function ne(){return(ne=(0,w.Z)(function*(d,l,u,f,m={}){return Ke(d,m,(0,w.Z)(function*(){let v={},D={};f&&("GET"===l?D=f:v={body:JSON.stringify(f)});const R=(0,F.xO)(Object.assign({key:d.config.apiKey},D)).slice(1),B=yield d._getAdditionalHeaders();return B["Content-Type"]="application/json",d.languageCode&&(B["X-Firebase-Locale"]=d.languageCode),O.fetch()(Pt(d,d.config.apiHost,u,R),Object.assign({method:l,headers:B,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function Ke(d,l,u){return ce.apply(this,arguments)}function ce(){return(ce=(0,w.Z)(function*(d,l,u){d._canInitEmulator=!1;const f=Object.assign(Object.assign({},V),l);try{const m=new mn(d),v=yield Promise.race([u(),m.promise]);m.clearNetworkTimeout();const D=yield v.json();if("needConfirmation"in D)throw Zt(d,"account-exists-with-different-credential",D);if(v.ok&&!("errorMessage"in D))return D;{const R=v.ok?D.errorMessage:D.error.message,[B,ee]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===B)throw Zt(d,"credential-already-in-use",D);if("EMAIL_EXISTS"===B)throw Zt(d,"email-already-in-use",D);if("USER_DISABLED"===B)throw Zt(d,"user-disabled",D);const le=f[B]||B.toLowerCase().replace(/[_\s]+/g,"-");if(ee)throw Gn(d,le,ee);it(d,le)}}catch(m){if(m instanceof F.ZR)throw m;it(d,"network-request-failed",{message:String(m)})}})).apply(this,arguments)}function ge(d,l,u,f){return Je.apply(this,arguments)}function Je(){return(Je=(0,w.Z)(function*(d,l,u,f,m={}){const v=yield k(d,l,u,f,m);return"mfaPendingCredential"in v&&it(d,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function Pt(d,l,u,f){const m=`${l}${u}?${f}`;return d.config.emulator?x(d.config,m):`${d.config.apiScheme}://${m}`}function mt(d){switch(d){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,f)=>{this.timer=setTimeout(()=>f(gt(this.auth,"network-request-failed")),j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zt(d,l,u){const f={appName:d.name};u.email&&(f.email=u.email),u.phoneNumber&&(f.phoneNumber=u.phoneNumber);const m=gt(d,l,f);return m.customData._tokenResponse=u,m}function xn(d){return void 0!==d&&void 0!==d.getResponse}function On(d){return void 0!==d&&void 0!==d.enterprise}class ir{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return mt(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function di(){return(di=(0,w.Z)(function*(d){return(yield k(d,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kt(d,l){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,w.Z)(function*(d,l){return k(d,"GET","/v2/recaptchaConfig",z(d,l))})).apply(this,arguments)}function Mr(){return(Mr=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function kn(){return(kn=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Dn(d){if(d)try{const l=new Date(Number(d));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function _r(){return(_r=(0,w.Z)(function*(d,l=!1){const u=(0,F.m9)(d),f=yield u.getIdToken(l),m=Js(f);$(m&&m.exp&&m.auth_time&&m.iat,u.auth,"internal-error");const v="object"==typeof m.firebase?m.firebase:void 0,D=v?.sign_in_provider;return{claims:m,token:f,authTime:Dn(Yt(m.auth_time)),issuedAtTime:Dn(Yt(m.iat)),expirationTime:Dn(Yt(m.exp)),signInProvider:D||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function Yt(d){return 1e3*Number(d)}function Js(d){const[l,u,f]=d.split(".");if(void 0===l||void 0===u||void 0===f)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const m=(0,F.tV)(u);return m?JSON.parse(m):(yt("Failed to decode base64 JWT payload"),null)}catch(m){return yt("Caught error parsing JWT payload as JSON",m?.toString()),null}}function or(d,l){return fi.apply(this,arguments)}function fi(){return(fi=(0,w.Z)(function*(d,l,u=!1){if(u)return l;try{return yield l}catch(f){throw f instanceof F.ZR&&function Fi({code:d}){return"auth/user-disabled"===d||"auth/user-token-expired"===d}(f)&&d.auth.currentUser===d&&(yield d.auth.signOut()),f}})).apply(this,arguments)}class Vi{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const f=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),f}{this.errorBackoff=3e4;const m=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,m)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const f=this.getInterval(l);this.timerId=setTimeout((0,w.Z)(function*(){yield u.iteration()}),f)}iteration(){var l=this;return(0,w.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Xs{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dn(this.lastLoginAt),this.creationTime=Dn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ln(d){return qn.apply(this,arguments)}function qn(){return qn=(0,w.Z)(function*(d){var l;const u=d.auth,f=yield d.getIdToken(),m=yield or(d,function hi(d,l){return Li.apply(this,arguments)}(u,{idToken:f}));$(m?.users.length,u,"internal-error");const v=m.users[0];d._notifyReloadListener(v);const D=null!==(l=v.providerUserInfo)&&void 0!==l&&l.length?function ua(d){return d.map(l=>{var{providerId:u}=l,f=(0,vt._T)(l,["providerId"]);return{providerId:u,uid:f.rawId||"",displayName:f.displayName||null,email:f.email||null,phoneNumber:f.phoneNumber||null,photoURL:f.photoUrl||null}})}(v.providerUserInfo):[],R=function pl(d,l){return[...d.filter(f=>!l.some(m=>m.providerId===f.providerId)),...l]}(d.providerData,D),le=!!d.isAnonymous&&!(d.email&&v.passwordHash||R?.length),ue={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:R,metadata:new Xs(v.createdAt,v.lastLoginAt),isAnonymous:le};Object.assign(d,ue)}),qn.apply(this,arguments)}function eo(){return(eo=(0,w.Z)(function*(d){const l=(0,F.m9)(d);yield Ln(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function S(){return(S=(0,w.Z)(function*(d,l){const u=yield Ke(d,{},(0,w.Z)(function*(){const f=(0,F.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:m,apiKey:v}=d.config,D=Pt(d,m,"/v1/token",`key=${v}`),R=yield d._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",O.fetch()(D,{method:"POST",headers:R,body:f})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function T(){return(T=(0,w.Z)(function*(d,l){return k(d,"POST","/v2/accounts:revokeToken",z(d,l))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){$(l.idToken,"internal-error"),$(typeof l.idToken<"u","internal-error"),$(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function sr(d){const l=Js(d);return $(l,"internal-error"),$(typeof l.exp<"u","internal-error"),$(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var f=this;return(0,w.Z)(function*(){return $(!f.accessToken||f.refreshToken,l,"user-token-expired"),u||!f.accessToken||f.isExpired?f.refreshToken?(yield f.refresh(l,f.refreshToken),f.accessToken):null:f.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var f=this;return(0,w.Z)(function*(){const{accessToken:m,refreshToken:v,expiresIn:D}=yield function to(d,l){return S.apply(this,arguments)}(l,u);f.updateTokensAndExpiration(m,v,Number(D))})()}updateTokensAndExpiration(l,u,f){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*f}static fromJSON(l,u){const{refreshToken:f,accessToken:m,expirationTime:v}=u,D=new H;return f&&($("string"==typeof f,"internal-error",{appName:l}),D.refreshToken=f),m&&($("string"==typeof m,"internal-error",{appName:l}),D.accessToken=m),v&&($("number"==typeof v,"internal-error",{appName:l}),D.expirationTime=v),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function P(d,l){$("string"==typeof d||typeof d>"u","internal-error",{appName:l})}class re{constructor(l){var{uid:u,auth:f,stsTokenManager:m}=l,v=(0,vt._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=f,this.stsTokenManager=m,this.accessToken=m.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new Xs(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,w.Z)(function*(){const f=yield or(u,u.stsTokenManager.getToken(u.auth,l));return $(f,u.auth,"internal-error"),u.accessToken!==f&&(u.accessToken=f,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),f})()}getIdTokenResult(l){return function Et(d){return _r.apply(this,arguments)}(this,l)}reload(){return function Ui(d){return eo.apply(this,arguments)}(this)}_assign(l){this!==l&&($(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new re(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var f=this;return(0,w.Z)(function*(){let m=!1;l.idToken&&l.idToken!==f.stsTokenManager.accessToken&&(f.stsTokenManager.updateFromServerResponse(l),m=!0),u&&(yield Ln(f)),yield f.auth._persistUserIfCurrent(f),m&&f.auth._notifyListenersIfCurrent(f)})()}delete(){var l=this;return(0,w.Z)(function*(){const u=yield l.getIdToken();return yield or(l,function aa(d,l){return Mr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var f,m,v,D,R,B,ee,le;const ue=null!==(f=u.displayName)&&void 0!==f?f:void 0,St=null!==(m=u.email)&&void 0!==m?m:void 0,dr=null!==(v=u.phoneNumber)&&void 0!==v?v:void 0,Mo=null!==(D=u.photoURL)&&void 0!==D?D:void 0,Xl=null!==(R=u.tenantId)&&void 0!==R?R:void 0,Ps=null!==(B=u._redirectEventId)&&void 0!==B?B:void 0,Ip=null!==(ee=u.createdAt)&&void 0!==ee?ee:void 0,Nd=null!==(le=u.lastLoginAt)&&void 0!==le?le:void 0,{uid:xd,emailVerified:bp,isAnonymous:Dp,providerData:eu,stsTokenManager:Od}=u;$(xd&&Od,l,"internal-error");const tu=H.fromJSON(this.name,Od);$("string"==typeof xd,l,"internal-error"),P(ue,l.name),P(St,l.name),$("boolean"==typeof bp,l,"internal-error"),$("boolean"==typeof Dp,l,"internal-error"),P(dr,l.name),P(Mo,l.name),P(Xl,l.name),P(Ps,l.name),P(Ip,l.name),P(Nd,l.name);const Pa=new re({uid:xd,auth:l,email:St,emailVerified:bp,displayName:ue,isAnonymous:Dp,photoURL:Mo,phoneNumber:dr,tenantId:Xl,stsTokenManager:tu,createdAt:Ip,lastLoginAt:Nd});return eu&&Array.isArray(eu)&&(Pa.providerData=eu.map(Po=>Object.assign({},Po))),Ps&&(Pa._redirectEventId=Ps),Pa}static _fromIdTokenResponse(l,u,f=!1){return(0,w.Z)(function*(){const m=new H;m.updateFromServerResponse(u);const v=new re({uid:u.localId,auth:l,stsTokenManager:m,isAnonymous:f});return yield Ln(v),v})()}}const ie=new Map;function Fe(d){wt(d instanceof Function,"Expected a class definition");let l=ie.get(d);return l?(wt(l instanceof d,"Instance stored in cache mismatched with class"),l):(l=new d,ie.set(d,l),l)}const Ct=(()=>{class d{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(u,f){var m=this;return(0,w.Z)(function*(){m.storage[u]=f})()}_get(u){var f=this;return(0,w.Z)(function*(){const m=f.storage[u];return void 0===m?null:m})()}_remove(u){var f=this;return(0,w.Z)(function*(){delete f.storage[u]})()}_addListener(u,f){}_removeListener(u,f){}}return d.type="NONE",d})();function rn(d,l,u){return`firebase:${d}:${l}:${u}`}class fe{constructor(l,u,f){this.persistence=l,this.auth=u,this.userKey=f;const{config:m,name:v}=this.auth;this.fullUserKey=rn(this.userKey,m.apiKey,v),this.fullPersistenceKey=rn("persistence",m.apiKey,v),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,w.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?re._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,w.Z)(function*(){if(u.persistence===l)return;const f=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,f?u.setCurrentUser(f):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,f="authUser"){return(0,w.Z)(function*(){if(!u.length)return new fe(Fe(Ct),l,f);const m=(yield Promise.all(u.map(function(){var ee=(0,w.Z)(function*(le){if(yield le._isAvailable())return le});return function(le){return ee.apply(this,arguments)}}()))).filter(ee=>ee);let v=m[0]||Fe(Ct);const D=rn(f,l.config.apiKey,l.name);let R=null;for(const ee of u)try{const le=yield ee._get(D);if(le){const ue=re._fromJSON(l,le);ee!==v&&(R=ue),v=ee;break}}catch{}const B=m.filter(ee=>ee._shouldAllowMigration);return v._shouldAllowMigration&&B.length?(v=B[0],R&&(yield v._set(D,R.toJSON())),yield Promise.all(u.map(function(){var ee=(0,w.Z)(function*(le){if(le!==v)try{yield le._remove(D)}catch{}});return function(le){return ee.apply(this,arguments)}}())),new fe(v,l,f)):new fe(v,l,f)})()}}function pe(d){const l=d.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(L(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Pr(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Z(l))return"Blackberry";if(K(l))return"Webos";if(zr(l))return"Safari";if((l.includes("chrome/")||ac(l))&&!l.includes("edge/"))return"Chrome";if(C(l))return"Android";{const f=d.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===f?.length)return f[1]}return"Other"}function Pr(d=(0,F.z$)()){return/firefox\//i.test(d)}function zr(d=(0,F.z$)()){const l=d.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ac(d=(0,F.z$)()){return/crios\//i.test(d)}function L(d=(0,F.z$)()){return/iemobile/i.test(d)}function C(d=(0,F.z$)()){return/android/i.test(d)}function Z(d=(0,F.z$)()){return/blackberry/i.test(d)}function K(d=(0,F.z$)()){return/webos/i.test(d)}function te(d=(0,F.z$)()){return/iphone|ipad|ipod/i.test(d)||/macintosh/i.test(d)&&/mobile/i.test(d)}function It(d=(0,F.z$)()){return te(d)||C(d)||K(d)||Z(d)||/windows phone/i.test(d)||L(d)}function ca(d,l=[]){let u;switch(d){case"Browser":u=pe((0,F.z$)());break;case"Worker":u=`${pe((0,F.z$)())}-${d}`;break;default:u=d}const f=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${Ie.SDK_VERSION}/${f}`}class d_{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const f=v=>new Promise((D,R)=>{try{D(l(v))}catch(B){R(B)}});f.onAbort=u,this.queue.push(f);const m=this.queue.length-1;return()=>{this.queue[m]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,w.Z)(function*(){if(u.auth.currentUser===l)return;const f=[];try{for(const m of u.queue)yield m(l),m.onAbort&&f.push(m.onAbort)}catch(m){f.reverse();for(const v of f)try{v()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:m?.message})}})()}}function Gr(){return(Gr=(0,w.Z)(function*(d,l={}){return k(d,"GET","/v2/passwordPolicy",z(d,l))})).apply(this,arguments)}class aI{constructor(l){var u,f,m,v;const D=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=D.minPasswordLength)&&void 0!==u?u:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(m=null===(f=l.allowedNonAlphanumericCharacters)||void 0===f?void 0:f.join(""))&&void 0!==m?m:"",this.forceUpgradeOnSignin=null!==(v=l.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,f,m,v,D,R;const B={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,B),this.validatePasswordCharacterOptions(l,B),B.isValid&&(B.isValid=null===(u=B.meetsMinPasswordLength)||void 0===u||u),B.isValid&&(B.isValid=null===(f=B.meetsMaxPasswordLength)||void 0===f||f),B.isValid&&(B.isValid=null===(m=B.containsLowercaseLetter)||void 0===m||m),B.isValid&&(B.isValid=null===(v=B.containsUppercaseLetter)||void 0===v||v),B.isValid&&(B.isValid=null===(D=B.containsNumericCharacter)||void 0===D||D),B.isValid&&(B.isValid=null===(R=B.containsNonAlphanumericCharacter)||void 0===R||R),B}validatePasswordLengthOptions(l,u){const f=this.customStrengthOptions.minPasswordLength,m=this.customStrengthOptions.maxPasswordLength;f&&(u.meetsMinPasswordLength=l.length>=f),m&&(u.meetsMaxPasswordLength=l.length<=m)}validatePasswordCharacterOptions(l,u){let f;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let m=0;m<l.length;m++)f=l.charAt(m),this.updatePasswordCharacterOptionsStatuses(u,f>="a"&&f<="z",f>="A"&&f<="Z",f>="0"&&f<="9",this.allowedNonAlphanumericCharacters.includes(f))}updatePasswordCharacterOptionsStatuses(l,u,f,m,v){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=f)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=m)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=v))}}class lI{constructor(l,u,f,m){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=f,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gf(this),this.idTokenSubscription=new gf(this),this.beforeStateQueue=new d_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(l,u){var f=this;return u&&(this._popupRedirectResolver=Fe(u)),this._initializationPromise=this.queue((0,w.Z)(function*(){var m,v;if(!f._deleted&&(f.persistenceManager=yield fe.create(f,l),!f._deleted)){if(null!==(m=f._popupRedirectResolver)&&void 0!==m&&m._shouldInitProactively)try{yield f._popupRedirectResolver._initialize(f)}catch{}yield f.initializeCurrentUser(u),f.lastNotifiedUid=(null===(v=f.currentUser)||void 0===v?void 0:v.uid)||null,!f._deleted&&(f._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,w.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,w.Z)(function*(){var f;const m=yield u.assertedPersistence.getCurrentUser();let v=m,D=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const R=null===(f=u.redirectUser)||void 0===f?void 0:f._redirectEventId,B=v?._redirectEventId,ee=yield u.tryRedirectSignIn(l);(!R||R===B)&&ee?.user&&(v=ee.user,D=!0)}if(!v)return u.directlySetCurrentUser(null);if(!v._redirectEventId){if(D)try{yield u.beforeStateQueue.runMiddleware(v)}catch(R){v=m,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(R))}return v?u.reloadAndSetCurrentUserOrClear(v):u.directlySetCurrentUser(null)}return $(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===v._redirectEventId?u.directlySetCurrentUser(v):u.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(l){var u=this;return(0,w.Z)(function*(){let f=null;try{f=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return f})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,w.Z)(function*(){try{yield Ln(l)}catch(f){if("auth/network-request-failed"!==f?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ki(){if(typeof navigator>"u")return null;const d=navigator;return d.languages&&d.languages[0]||d.language||null}()}_delete(){var l=this;return(0,w.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,w.Z)(function*(){const f=l?(0,F.m9)(l):null;return f&&$(f.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(f&&f._clone(u))})()}_updateCurrentUser(l,u=!1){var f=this;return(0,w.Z)(function*(){if(!f._deleted)return l&&$(f.tenantId===l.tenantId,f,"tenant-id-mismatch"),u||(yield f.beforeStateQueue.runMiddleware(l)),f.queue((0,w.Z)(function*(){yield f.directlySetCurrentUser(l),f.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,w.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,w.Z)(function*(){yield u.assertedPersistence.setPersistence(Fe(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,w.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const f=u._getPasswordPolicyInternal();return f.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):f.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,w.Z)(function*(){const u=yield function sI(d){return Gr.apply(this,arguments)}(l),f=new aI(u);null===l.tenantId?l._projectPasswordPolicy=f:l._tenantPasswordPolicies[l.tenantId]=f})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new F.LL("auth","Firebase",l())}onAuthStateChanged(l,u,f){return this.registerStateListener(this.authStateSubscription,l,u,f)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,f){return this.registerStateListener(this.idTokenSubscription,l,u,f)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const f=this.onAuthStateChanged(()=>{f(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,w.Z)(function*(){if(u.currentUser){const f=yield u.currentUser.getIdToken(),m={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:f};null!=u.tenantId&&(m.tenantId=u.tenantId),yield function b(d,l){return T.apply(this,arguments)}(u,m)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var f=this;return(0,w.Z)(function*(){const m=yield f.getOrInitRedirectPersistenceManager(u);return null===l?m.removeCurrentUser():m.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,w.Z)(function*(){if(!u.redirectPersistenceManager){const f=l&&Fe(l)||u._popupRedirectResolver;$(f,u,"argument-error"),u.redirectPersistenceManager=yield fe.create(u,[Fe(f._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,w.Z)(function*(){var f,m;return u._isInitialized&&(yield u.queue((0,w.Z)(function*(){}))),(null===(f=u._currentUser)||void 0===f?void 0:f._redirectEventId)===l?u._currentUser:(null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,w.Z)(function*(){if(l===u.currentUser)return u.queue((0,w.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const f=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==f&&(this.lastNotifiedUid=f,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,f,m){if(this._deleted)return()=>{};const v="function"==typeof u?u:u.next.bind(u);let D=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if($(R,this,"internal-error"),R.then(()=>{D||v(this.currentUser)}),"function"==typeof u){const B=l.addObserver(u,f,m);return()=>{D=!0,B()}}{const B=l.addObserver(u);return()=>{D=!0,B()}}}directlySetCurrentUser(l){var u=this;return(0,w.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=ca(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,w.Z)(function*(){var u;const f={"X-Client-Version":l.clientVersion};l.app.options.appId&&(f["X-Firebase-gmpid"]=l.app.options.appId);const m=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();m&&(f["X-Firebase-Client"]=m);const v=yield l._getAppCheckToken();return v&&(f["X-Firebase-AppCheck"]=v),f})()}_getAppCheckToken(){var l=this;return(0,w.Z)(function*(){var u;const f=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return f?.error&&function gn(d,...l){pn.logLevel<=tt.in.WARN&&pn.warn(`Auth (${Ie.SDK_VERSION}): ${d}`,...l)}(`Error while retrieving App Check token: ${f.error}`),f?.token})()}}function bt(d){return(0,F.m9)(d)}class gf{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,F.ne)(u=>this.observer=u)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lc(d){return new Promise((l,u)=>{const f=document.createElement("script");f.setAttribute("src",d),f.onload=l,f.onerror=m=>{const v=gt("internal-error");v.customData=m,u(v)},f.type="text/javascript",f.charset="UTF-8",function uI(){var d,l;return null!==(l=null===(d=document.getElementsByTagName("head"))||void 0===d?void 0:d[0])&&void 0!==l?l:document}().appendChild(f)})}function h_(d){return`__${d}${Math.floor(1e6*Math.random())}`}const cI="NO_RECAPTCHA";class f_{constructor(l){this.type="recaptcha-enterprise",this.auth=bt(l)}verify(l="verify",u=!1){var f=this;return(0,w.Z)(function*(){function v(){return v=(0,w.Z)(function*(R){if(!u){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var B=(0,w.Z)(function*(ee,le){Kt(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ue=>{if(void 0!==ue.recaptchaKey){const St=new ir(ue);return null==R.tenantId?R._agentRecaptchaConfig=St:R._tenantRecaptchaConfigs[R.tenantId]=St,ee(St.siteKey)}le(new Error("recaptcha Enterprise site key undefined"))}).catch(ue=>{le(ue)})});return function(ee,le){return B.apply(this,arguments)}}())}),v.apply(this,arguments)}function D(R,B,ee){const le=window.grecaptcha;On(le)?le.enterprise.ready(()=>{le.enterprise.execute(R,{action:l}).then(ue=>{B(ue)}).catch(()=>{B(cI)})}):ee(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,B)=>{(function m(R){return v.apply(this,arguments)})(f.auth).then(ee=>{if(!u&&On(window.grecaptcha))D(ee,R,B);else{if(typeof window>"u")return void B(new Error("RecaptchaVerifier is only supported in browser"));lc("https://www.google.com/recaptcha/enterprise.js?render="+ee).then(()=>{D(ee,R,B)}).catch(le=>{B(le)})}}).catch(ee=>{B(ee)})})})()}}function p_(d,l,u){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(d,l,u,f=!1){const m=new f_(d);let v;try{v=yield m.verify(u)}catch{v=yield m.verify(u,!0)}const D=Object.assign({},l);return Object.assign(D,f?{captchaResp:v}:{captchaResponse:v}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function gl(d,l,u,f){return sn.apply(this,arguments)}function sn(){return sn=(0,w.Z)(function*(d,l,u,f){var m;if(null!==(m=d._getRecaptchaConfig())&&void 0!==m&&m.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield p_(d,l,u,"getOobCode"===u);return f(d,v)}return f(d,l).catch(function(){var v=(0,w.Z)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield p_(d,l,u,"getOobCode"===u);return f(d,R)}return Promise.reject(D)});return function(D){return v.apply(this,arguments)}}())}),sn.apply(this,arguments)}function da(d){const l=d.indexOf(":");return l<0?"":d.substr(0,l+1)}function hc(d){if(!d)return null;const l=Number(d);return isNaN(l)?null:l}class me{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return Mt("not implemented")}_getIdTokenResponse(l){return Mt("not implemented")}_linkToIdToken(l,u){return Mt("not implemented")}_getReauthenticationResolver(l){return Mt("not implemented")}}function _l(d,l){return fc.apply(this,arguments)}function fc(){return(fc=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:resetPassword",z(d,l))})).apply(this,arguments)}function vl(){return(vl=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function dI(d,l){return ht.apply(this,arguments)}function ht(){return(ht=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function _f(){return(_f=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:update",z(d,l))})).apply(this,arguments)}function fI(d,l){return fs.apply(this,arguments)}function fs(){return(fs=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signInWithPassword",z(d,l))})).apply(this,arguments)}function no(d,l){return ro.apply(this,arguments)}function ro(){return(ro=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:sendOobCode",z(d,l))})).apply(this,arguments)}function pc(){return(pc=(0,w.Z)(function*(d,l){return no(d,l)})).apply(this,arguments)}function v_(d,l){return yl.apply(this,arguments)}function yl(){return(yl=(0,w.Z)(function*(d,l){return no(d,l)})).apply(this,arguments)}function ha(d,l){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,w.Z)(function*(d,l){return no(d,l)})).apply(this,arguments)}function X(){return(X=(0,w.Z)(function*(d,l){return no(d,l)})).apply(this,arguments)}function je(){return(je=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signInWithEmailLink",z(d,l))})).apply(this,arguments)}function fa(){return(fa=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signInWithEmailLink",z(d,l))})).apply(this,arguments)}class pi extends me{constructor(l,u,f,m=null){super("password",f),this._email=l,this._password=u,this._tenantId=m}static _fromEmailAndPassword(l,u){return new pi(l,u,"password")}static _fromEmailAndCode(l,u,f=null){return new pi(l,u,"emailLink",f)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,w.Z)(function*(){switch(u.signInMethod){case"password":return gl(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fI);case"emailLink":return function vf(d,l){return je.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:it(l,"internal-error")}})()}_linkToIdToken(l,u){var f=this;return(0,w.Z)(function*(){switch(f.signInMethod){case"password":return gl(l,{idToken:u,returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dI);case"emailLink":return function wl(d,l){return fa.apply(this,arguments)}(l,{idToken:u,email:f._email,oobCode:f._password});default:it(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function gi(d,l){return gc.apply(this,arguments)}function gc(){return(gc=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signInWithIdp",z(d,l))})).apply(this,arguments)}class on extends me{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new on(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):it("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:f,signInMethod:m}=u,v=(0,vt._T)(u,["providerId","signInMethod"]);if(!f||!m)return null;const D=new on(f,m);return D.idToken=v.idToken||void 0,D.accessToken=v.accessToken||void 0,D.secret=v.secret,D.nonce=v.nonce,D.pendingToken=v.pendingToken||null,D}_getIdTokenResponse(l){return gi(l,this.buildRequest())}_linkToIdToken(l,u){const f=this.buildRequest();return f.idToken=u,gi(l,f)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,gi(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,F.xO)(u)}return l}}function wr(){return(wr=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:sendVerificationCode",z(d,l))})).apply(this,arguments)}function Xe(){return(Xe=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signInWithPhoneNumber",z(d,l))})).apply(this,arguments)}function pa(){return(pa=(0,w.Z)(function*(d,l){const u=yield ge(d,"POST","/v1/accounts:signInWithPhoneNumber",z(d,l));if(u.temporaryProof)throw Zt(d,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const mc={USER_NOT_FOUND:"user-not-found"};function Nr(){return(Nr=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signInWithPhoneNumber",z(d,Object.assign(Object.assign({},l),{operation:"REAUTH"})),mc)})).apply(this,arguments)}class xr extends me{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new xr({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new xr({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function mi(d,l){return Xe.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function El(d,l){return pa.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function yf(d,l){return Nr.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:f,verificationCode:m}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:f,code:m}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:f,phoneNumber:m,temporaryProof:v}=l;return f||u||m||v?new xr({verificationId:u,verificationCode:f,phoneNumber:m,temporaryProof:v}):null}}class ga{constructor(l){var u,f,m,v,D,R;const B=(0,F.zd)((0,F.pd)(l)),ee=null!==(u=B.apiKey)&&void 0!==u?u:null,le=null!==(f=B.oobCode)&&void 0!==f?f:null,ue=function E_(d){switch(d){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(m=B.mode)&&void 0!==m?m:null);$(ee&&le&&ue,"argument-error"),this.apiKey=ee,this.operation=ue,this.code=le,this.continueUrl=null!==(v=B.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(D=B.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(R=B.tenantId)&&void 0!==R?R:null}static parseLink(l){const u=function Hi(d){const l=(0,F.zd)((0,F.pd)(d)).link,u=l?(0,F.zd)((0,F.pd)(l)).deep_link_id:null,f=(0,F.zd)((0,F.pd)(d)).deep_link_id;return(f?(0,F.zd)((0,F.pd)(f)).link:null)||f||u||l||d}(l);try{return new ga(u)}catch{return null}}}let _c=(()=>{class d{constructor(){this.providerId=d.PROVIDER_ID}static credential(u,f){return pi._fromEmailAndPassword(u,f)}static credentialWithLink(u,f){const m=ga.parseLink(f);return $(m,"argument-error"),pi._fromEmailAndCode(u,m.code,m.tenantId)}}return d.PROVIDER_ID="password",d.EMAIL_PASSWORD_SIGN_IN_METHOD="password",d.EMAIL_LINK_SIGN_IN_METHOD="emailLink",d})();class Nt{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class io extends Nt{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class ps extends io{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return $("providerId"in u&&"signInMethod"in u,"argument-error"),on._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return $(l.idToken||l.accessToken,"argument-error"),on._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return ps.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return ps.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:f,oauthTokenSecret:m,pendingToken:v,nonce:D,providerId:R}=l;if(!f&&!m&&!u&&!v||!R)return null;try{return new ps(R)._credential({idToken:u,accessToken:f,nonce:D,pendingToken:v})}catch{return null}}}let we=(()=>{class d extends io{constructor(){super("facebook.com")}static credential(u){return on._fromParams({providerId:d.PROVIDER_ID,signInMethod:d.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return d.credentialFromTaggedObject(u)}static credentialFromError(u){return d.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return d.credential(u.oauthAccessToken)}catch{return null}}}return d.FACEBOOK_SIGN_IN_METHOD="facebook.com",d.PROVIDER_ID="facebook.com",d})(),Fn=(()=>{class d extends io{constructor(){super("google.com"),this.addScope("profile")}static credential(u,f){return on._fromParams({providerId:d.PROVIDER_ID,signInMethod:d.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:f})}static credentialFromResult(u){return d.credentialFromTaggedObject(u)}static credentialFromError(u){return d.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:f,oauthAccessToken:m}=u;if(!f&&!m)return null;try{return d.credential(f,m)}catch{return null}}}return d.GOOGLE_SIGN_IN_METHOD="google.com",d.PROVIDER_ID="google.com",d})(),ot=(()=>{class d extends io{constructor(){super("github.com")}static credential(u){return on._fromParams({providerId:d.PROVIDER_ID,signInMethod:d.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return d.credentialFromTaggedObject(u)}static credentialFromError(u){return d.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return d.credential(u.oauthAccessToken)}catch{return null}}}return d.GITHUB_SIGN_IN_METHOD="github.com",d.PROVIDER_ID="github.com",d})();class Qt extends me{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return gi(l,this.buildRequest())}_linkToIdToken(l,u){const f=this.buildRequest();return f.idToken=u,gi(l,f)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,gi(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:f,signInMethod:m,pendingToken:v}=u;return f&&m&&v&&f===m?new Qt(f,v):null}static _create(l,u){return new Qt(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tn extends Nt{constructor(l){$(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Tn.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Tn.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Qt.fromJSON(l);return $(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:f}=l;if(!u||!f)return null;try{return Qt._create(f,u)}catch{return null}}}let vc=(()=>{class d extends io{constructor(){super("twitter.com")}static credential(u,f){return on._fromParams({providerId:d.PROVIDER_ID,signInMethod:d.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:f})}static credentialFromResult(u){return d.credentialFromTaggedObject(u)}static credentialFromError(u){return d.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:f,oauthTokenSecret:m}=u;if(!f||!m)return null;try{return d.credential(f,m)}catch{return null}}}return d.TWITTER_SIGN_IN_METHOD="twitter.com",d.PROVIDER_ID="twitter.com",d})();function yc(d,l){return oo.apply(this,arguments)}function oo(){return(oo=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signUp",z(d,l))})).apply(this,arguments)}class Wt{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,f,m=!1){return(0,w.Z)(function*(){const v=yield re._fromIdTokenResponse(l,f,m),D=oe(f);return new Wt({user:v,providerId:D,_tokenResponse:f,operationType:u})})()}static _forOperation(l,u,f){return(0,w.Z)(function*(){yield l._updateTokensIfNecessary(f,!0);const m=oe(f);return new Wt({user:l,providerId:m,_tokenResponse:f,operationType:u})})()}}function oe(d){return d.providerId?d.providerId:"phoneNumber"in d?"phone":null}function Dt(){return(Dt=(0,w.Z)(function*(d){var l;const u=bt(d);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new Wt({user:u.currentUser,providerId:null,operationType:"signIn"});const f=yield yc(u,{returnSecureToken:!0}),m=yield Wt._fromIdTokenResponse(u,"signIn",f,!0);return yield u._updateCurrentUser(m.user),m})).apply(this,arguments)}class Zn extends F.ZR{constructor(l,u,f,m){var v;super(u.code,u.message),this.operationType=f,this.user=m,Object.setPrototypeOf(this,Zn.prototype),this.customData={appName:l.name,tenantId:null!==(v=l.tenantId)&&void 0!==v?v:void 0,_serverResponse:u.customData._serverResponse,operationType:f}}static _fromErrorAndOperation(l,u,f,m){return new Zn(l,u,f,m)}}function ji(d,l,u,f){return("reauthenticate"===l?u._getReauthenticationResolver(d):u._getIdTokenResponse(d)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?Zn._fromErrorAndOperation(d,v,l,f):v})}function vn(d){return new Set(d.map(({providerId:l})=>l).filter(l=>!!l))}function xt(){return xt=(0,w.Z)(function*(d,l){const u=(0,F.m9)(d);yield Te(!0,u,l);const{providerUserInfo:f}=yield function la(d,l){return kn.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),m=vn(f||[]);return u.providerData=u.providerData.filter(v=>m.has(v.providerId)),m.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),xt.apply(this,arguments)}function lo(d,l){return uo.apply(this,arguments)}function uo(){return(uo=(0,w.Z)(function*(d,l,u=!1){const f=yield or(d,l._linkToIdToken(d.auth,yield d.getIdToken()),u);return Wt._forOperation(d,"link",f)})).apply(this,arguments)}function Te(d,l,u){return ma.apply(this,arguments)}function ma(){return(ma=(0,w.Z)(function*(d,l,u){yield Ln(l);const m=!1===d?"provider-already-linked":"no-such-provider";$(vn(l.providerData).has(u)===d,l.auth,m)})).apply(this,arguments)}function co(d,l){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,w.Z)(function*(d,l,u=!1){const{auth:f}=d,m="reauthenticate";try{const v=yield or(d,ji(f,m,l,d),u);$(v.idToken,f,"internal-error");const D=Js(v.idToken);$(D,f,"internal-error");const{sub:R}=D;return $(d.uid===R,f,"user-mismatch"),Wt._forOperation(d,m,v)}catch(v){throw"auth/user-not-found"===v?.code&&it(f,"user-mismatch"),v}})).apply(this,arguments)}function gs(d,l){return an.apply(this,arguments)}function an(){return(an=(0,w.Z)(function*(d,l,u=!1){const f="signIn",m=yield ji(d,f,l),v=yield Wt._fromIdTokenResponse(d,f,m);return u||(yield d._updateCurrentUser(v.user)),v})).apply(this,arguments)}function $i(d,l){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,w.Z)(function*(d,l){return gs(bt(d),l)})).apply(this,arguments)}function Or(d,l){return ms.apply(this,arguments)}function ms(){return(ms=(0,w.Z)(function*(d,l){const u=(0,F.m9)(d);return yield Te(!1,u,l.providerId),lo(u,l)})).apply(this,arguments)}function wc(d,l){return ft.apply(this,arguments)}function ft(){return(ft=(0,w.Z)(function*(d,l){return co((0,F.m9)(d),l)})).apply(this,arguments)}function _a(){return(_a=(0,w.Z)(function*(d,l){return ge(d,"POST","/v1/accounts:signInWithCustomToken",z(d,l))})).apply(this,arguments)}function ho(){return ho=(0,w.Z)(function*(d,l){const u=bt(d),f=yield function gI(d,l){return _a.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),m=yield Wt._fromIdTokenResponse(u,"signIn",f);return yield u._updateCurrentUser(m.user),m}),ho.apply(this,arguments)}class zi{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?Gi._fromServerResponse(l,u):"totpInfo"in u?yn._fromServerResponse(l,u):it(l,"internal-error")}}class Gi extends zi{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new Gi(u)}}class yn extends zi{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new yn(u)}}function Ec(d,l,u){var f;$((null===(f=u.url)||void 0===f?void 0:f.length)>0,d,"invalid-continue-uri"),$(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,d,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&($(u.iOS.bundleId.length>0,d,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&($(u.android.packageName.length>0,d,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function Vn(d){return ar.apply(this,arguments)}function ar(){return(ar=(0,w.Z)(function*(d){const l=bt(d);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function _s(){return(_s=(0,w.Z)(function*(d,l,u){const f=bt(d),m={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&Ec(f,m,u),yield gl(f,m,"getOobCode",v_)})).apply(this,arguments)}function lr(){return lr=(0,w.Z)(function*(d,l,u){yield _l((0,F.m9)(d),{oobCode:l,newPassword:u}).catch(function(){var f=(0,w.Z)(function*(m){throw"auth/password-does-not-meet-requirements"===m.code&&Vn(d),m});return function(m){return f.apply(this,arguments)}}())}),lr.apply(this,arguments)}function Ef(){return Ef=(0,w.Z)(function*(d,l){yield function hI(d,l){return _f.apply(this,arguments)}((0,F.m9)(d),{oobCode:l})}),Ef.apply(this,arguments)}function Cf(d,l){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,w.Z)(function*(d,l){const u=(0,F.m9)(d),f=yield _l(u,{oobCode:l}),m=f.requestType;switch($(m,u,"internal-error"),m){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(f.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(f.mfaInfo,u,"internal-error");default:$(f.email,u,"internal-error")}let v=null;return f.mfaInfo&&(v=zi._fromServerResponse(bt(u),f.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.newEmail:f.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.email:f.newEmail)||null,multiFactorInfo:v},operation:m}})).apply(this,arguments)}function If(){return(If=(0,w.Z)(function*(d,l){const{data:u}=yield Cf((0,F.m9)(d),l);return u.email})).apply(this,arguments)}function bf(){return(bf=(0,w.Z)(function*(d,l,u){const f=bt(d),D=yield gl(f,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yc).catch(B=>{throw"auth/password-does-not-meet-requirements"===B.code&&Vn(d),B}),R=yield Wt._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(R.user),R})).apply(this,arguments)}function Df(){return(Df=(0,w.Z)(function*(d,l,u){const f=bt(d),m={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function v(D,R){$(R.handleCodeInApp,f,"argument-error"),R&&Ec(f,D,R)})(m,u),yield gl(f,m,"getOobCode",ha)})).apply(this,arguments)}function Sf(){return(Sf=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d),m=_c.credentialWithLink(l,u||jt());return $(m._tenantId===(f.tenantId||null),f,"tenant-id-mismatch"),$i(f,m)})).apply(this,arguments)}function Tf(){return(Tf=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:createAuthUri",z(d,l))})).apply(this,arguments)}function bl(){return bl=(0,w.Z)(function*(d,l){const f={identifier:l,continueUri:$r()?jt():"http://localhost"},{signinMethods:m}=yield function CI(d,l){return Tf.apply(this,arguments)}((0,F.m9)(d),f);return m||[]}),bl.apply(this,arguments)}function Rf(){return Rf=(0,w.Z)(function*(d,l){const u=(0,F.m9)(d),m={requestType:"VERIFY_EMAIL",idToken:yield d.getIdToken()};l&&Ec(u.auth,m,l);const{email:v}=yield function __(d,l){return pc.apply(this,arguments)}(u.auth,m);v!==d.email&&(yield d.reload())}),Rf.apply(this,arguments)}function _i(){return _i=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield d.getIdToken(),newEmail:l};u&&Ec(f.auth,v,u);const{email:D}=yield function y_(d,l){return X.apply(this,arguments)}(f.auth,v);D!==d.email&&(yield d.reload())}),_i.apply(this,arguments)}function Kn(){return(Kn=(0,w.Z)(function*(d,l){return k(d,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function bc(){return bc=(0,w.Z)(function*(d,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const f=(0,F.m9)(d),v={idToken:yield f.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},D=yield or(f,function I_(d,l){return Kn.apply(this,arguments)}(f.auth,v));f.displayName=D.displayName||null,f.photoURL=D.photoUrl||null;const R=f.providerData.find(({providerId:B})=>"password"===B);R&&(R.displayName=f.displayName,R.photoURL=f.photoURL),yield f._updateTokensIfNecessary(D)}),bc.apply(this,arguments)}function Dc(d,l,u){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,w.Z)(function*(d,l,u){const{auth:f}=d,v={idToken:yield d.getIdToken(),returnSecureToken:!0};l&&(v.email=l),u&&(v.password=u);const D=yield or(d,function yr(d,l){return vl.apply(this,arguments)}(f,v));yield d._updateTokensIfNecessary(D,!0)}),Sc.apply(this,arguments)}class fo{constructor(l,u,f={}){this.isNewUser=l,this.providerId=u,this.profile=f}}class ur extends fo{constructor(l,u,f,m){super(l,u,f),this.username=m}}class Nf extends fo{constructor(l,u){super(l,"facebook.com",u)}}class xf extends ur{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class wn extends fo{constructor(l,u){super(l,"google.com",u)}}class D_ extends ur{constructor(l,u,f){super(l,"twitter.com",u,f)}}function Dl(d){const{user:l,_tokenResponse:u}=d;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function Tc(d){var l,u;if(!d)return null;const{providerId:f}=d,m=d.rawUserInfo?JSON.parse(d.rawUserInfo):{},v=d.isNewUser||"identitytoolkit#SignupNewUserResponse"===d.kind;if(!f&&d?.idToken){const D=null===(u=null===(l=Js(d.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(D)return new fo(v,"anonymous"!==D&&"custom"!==D?D:null)}if(!f)return null;switch(f){case"facebook.com":return new Nf(v,m);case"github.com":return new xf(v,m);case"google.com":return new wn(v,m);case"twitter.com":return new D_(v,m,d.screenName||null);case"custom":case"anonymous":return new fo(v,null);default:return new fo(v,f,m)}}(u)}class po{constructor(l,u,f){this.type=l,this.credential=u,this.user=f}static _fromIdtoken(l,u){return new po("enroll",l,u)}static _fromMfaPendingCredential(l){return new po("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,f;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return po._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(f=l.multiFactorSession)&&void 0!==f&&f.idToken)return po._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Rc{constructor(l,u,f){this.session=l,this.hints=u,this.signInResolver=f}static _fromError(l,u){const f=bt(l),m=u.customData._serverResponse,v=(m.mfaInfo||[]).map(R=>zi._fromServerResponse(f,R));$(m.mfaPendingCredential,f,"internal-error");const D=po._fromMfaPendingCredential(m.mfaPendingCredential);return new Rc(D,v,function(){var R=(0,w.Z)(function*(B){const ee=yield B._process(f,D);delete m.mfaInfo,delete m.mfaPendingCredential;const le=Object.assign(Object.assign({},m),{idToken:ee.idToken,refreshToken:ee.refreshToken});switch(u.operationType){case"signIn":const ue=yield Wt._fromIdTokenResponse(f,u.operationType,le);return yield f._updateCurrentUser(ue.user),ue;case"reauthenticate":return $(u.user,f,"internal-error"),Wt._forOperation(u.user,u.operationType,le);default:it(f,"internal-error")}});return function(B){return R.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,w.Z)(function*(){return u.signInResolver(l)})()}}class qe{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(f=>zi._fromServerResponse(l.auth,f)))})}static _fromUser(l){return new qe(l)}getSession(){var l=this;return(0,w.Z)(function*(){return po._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var f=this;return(0,w.Z)(function*(){const m=l,v=yield f.getSession(),D=yield or(f.user,m._process(f.user.auth,v,u));return yield f.user._updateTokensIfNecessary(D),f.user.reload()})()}unenroll(l){var u=this;return(0,w.Z)(function*(){const f="string"==typeof l?l:l.uid,m=yield u.user.getIdToken();try{const v=yield or(u.user,function G(d,l){return k(d,"POST","/v2/accounts/mfaEnrollment:withdraw",z(d,l))}(u.user.auth,{idToken:m,mfaEnrollmentId:f}));u.enrolledFactors=u.enrolledFactors.filter(({uid:D})=>D!==f),yield u.user._updateTokensIfNecessary(v),yield u.user.reload()}catch(v){throw v}})()}}const Mc=new WeakMap,zt="__sak";class Pc{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(zt,"1"),this.storage.removeItem(zt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tl=(()=>{class d extends Pc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,f)=>this.onStorageEvent(u,f),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function va(){const d=(0,F.z$)();return zr(d)||te(d)}()&&function $t(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=It(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const f of Object.keys(this.listeners)){const m=this.storage.getItem(f),v=this.localCache[f];m!==v&&u(f,v,m)}}onStorageEvent(u,f=!1){if(!u.key)return void this.forAllChangedKeys((R,B,ee)=>{this.notifyListeners(R,ee)});const m=u.key;if(f?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(m);if(u.newValue!==R)null!==u.newValue?this.storage.setItem(m,u.newValue):this.storage.removeItem(m);else if(this.localCache[m]===u.newValue&&!f)return}const v=()=>{const R=this.storage.getItem(m);!f&&this.localCache[m]===R||this.notifyListeners(m,R)},D=this.storage.getItem(m);!function _n(){return(0,F.w1)()&&10===document.documentMode}()||D===u.newValue||u.newValue===u.oldValue?v():setTimeout(v,10)}notifyListeners(u,f){this.localCache[u]=f;const m=this.listeners[u];if(m)for(const v of Array.from(m))v(f&&JSON.parse(f))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,f,m)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:f,newValue:m}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,f){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(f)}_removeListener(u,f){this.listeners[u]&&(this.listeners[u].delete(f),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,f){var m=()=>super._set,v=this;return(0,w.Z)(function*(){yield m().call(v,u,f),v.localCache[u]=JSON.stringify(f)})()}_get(u){var f=()=>super._get,m=this;return(0,w.Z)(function*(){const v=yield f().call(m,u);return m.localCache[u]=JSON.stringify(v),v})()}_remove(u){var f=()=>super._remove,m=this;return(0,w.Z)(function*(){yield f().call(m,u),delete m.localCache[u]})()}}return d.type="LOCAL",d})(),vi=(()=>{class d extends Pc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,f){}_removeListener(u,f){}}return d.type="SESSION",d})();let yi=(()=>{class d{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const f=this.receivers.find(v=>v.isListeningto(u));if(f)return f;const m=new d(u);return this.receivers.push(m),m}isListeningto(u){return this.eventTarget===u}handleEvent(u){var f=this;return(0,w.Z)(function*(){const m=u,{eventId:v,eventType:D,data:R}=m.data,B=f.handlersMap[D];if(!B?.size)return;m.ports[0].postMessage({status:"ack",eventId:v,eventType:D});const ee=Array.from(B).map(function(){var ue=(0,w.Z)(function*(St){return St(m.origin,R)});return function(St){return ue.apply(this,arguments)}}()),le=yield function Un(d){return Promise.all(d.map(function(){var l=(0,w.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(f){return{fulfilled:!1,reason:f}}});return function(u){return l.apply(this,arguments)}}()))}(ee);m.ports[0].postMessage({status:"done",eventId:v,eventType:D,response:le})})()}_subscribe(u,f){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(f)}_unsubscribe(u,f){this.handlersMap[u]&&f&&this.handlersMap[u].delete(f),(!f||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return d.receivers=[],d})();function go(d="",l=10){let u="";for(let f=0;f<l;f++)u+=Math.floor(10*Math.random());return d+u}class mo{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,f=50){var m=this;return(0,w.Z)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let D,R;return new Promise((B,ee)=>{const le=go("",20);v.port1.start();const ue=setTimeout(()=>{ee(new Error("unsupported_event"))},f);R={messageChannel:v,onMessage(St){const dr=St;if(dr.data.eventId===le)switch(dr.data.status){case"ack":clearTimeout(ue),D=setTimeout(()=>{ee(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),B(dr.data.response);break;default:clearTimeout(ue),clearTimeout(D),ee(new Error("invalid_response"))}}},m.handlers.add(R),v.port1.addEventListener("message",R.onMessage),m.target.postMessage({eventType:l,eventId:le,data:u},[v.port2])}).finally(()=>{R&&m.removeMessageHandler(R)})})()}}function ct(){return window}function Al(){return typeof ct().WorkerGlobalScope<"u"&&"function"==typeof ct().importScripts}function xc(){return(xc=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lc="firebaseLocalStorageDb",Fc=1,Rl="firebaseLocalStorage",Vc="fbase_key";class ys{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function ya(d,l){return d.transaction([Rl],l?"readwrite":"readonly").objectStore(Rl)}function Ml(){const d=indexedDB.open(Lc,Fc);return new Promise((l,u)=>{d.addEventListener("error",()=>{u(d.error)}),d.addEventListener("upgradeneeded",()=>{const f=d.result;try{f.createObjectStore(Rl,{keyPath:Vc})}catch(m){u(m)}}),d.addEventListener("success",(0,w.Z)(function*(){const f=d.result;f.objectStoreNames.contains(Rl)?l(f):(f.close(),yield function Ff(){const d=indexedDB.deleteDatabase(Lc);return new ys(d).toPromise()}(),l(yield Ml()))}))})}function Uc(d,l,u){return wa.apply(this,arguments)}function wa(){return(wa=(0,w.Z)(function*(d,l,u){const f=ya(d,!0).put({[Vc]:l,value:u});return new ys(f).toPromise()})).apply(this,arguments)}function Bc(){return(Bc=(0,w.Z)(function*(d,l){const u=ya(d,!1).get(l),f=yield new ys(u).toPromise();return void 0===f?null:f.value})).apply(this,arguments)}function An(d,l){const u=ya(d,!0).delete(l);return new ys(u).toPromise()}const _o=(()=>{class d{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,w.Z)(function*(){return u.db||(u.db=yield Ml()),u.db})()}_withRetries(u){var f=this;return(0,w.Z)(function*(){let m=0;for(;;)try{const v=yield f._openDb();return yield u(v)}catch(v){if(m++>3)throw v;f.db&&(f.db.close(),f.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,w.Z)(function*(){return Al()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,w.Z)(function*(){u.receiver=yi._getInstance(function kc(){return Al()?self:null}()),u.receiver._subscribe("keyChanged",function(){var f=(0,w.Z)(function*(m,v){return{keyProcessed:(yield u._poll()).includes(v.key)}});return function(m,v){return f.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var f=(0,w.Z)(function*(m,v){return["keyChanged"]});return function(m,v){return f.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,w.Z)(function*(){var f,m;if(u.activeServiceWorker=yield function O_(){return xc.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new mo(u.activeServiceWorker);const v=yield u.sender._send("ping",{},800);v&&null!==(f=v[0])&&void 0!==f&&f.fulfilled&&null!==(m=v[0])&&void 0!==m&&m.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var f=this;return(0,w.Z)(function*(){if(f.sender&&f.activeServiceWorker&&function Oc(){var d;return(null===(d=navigator?.serviceWorker)||void 0===d?void 0:d.controller)||null}()===f.activeServiceWorker)try{yield f.sender._send("keyChanged",{key:u},f.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const u=yield Ml();return yield Uc(u,zt,"1"),yield An(u,zt),!0}catch{}return!1})()}_withPendingWrite(u){var f=this;return(0,w.Z)(function*(){f.pendingWrites++;try{yield u()}finally{f.pendingWrites--}})()}_set(u,f){var m=this;return(0,w.Z)(function*(){return m._withPendingWrite((0,w.Z)(function*(){return yield m._withRetries(v=>Uc(v,u,f)),m.localCache[u]=f,m.notifyServiceWorker(u)}))})()}_get(u){var f=this;return(0,w.Z)(function*(){const m=yield f._withRetries(v=>function k_(d,l){return Bc.apply(this,arguments)}(v,u));return f.localCache[u]=m,m})()}_remove(u){var f=this;return(0,w.Z)(function*(){return f._withPendingWrite((0,w.Z)(function*(){return yield f._withRetries(m=>An(m,u)),delete f.localCache[u],f.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,w.Z)(function*(){const f=yield u._withRetries(D=>{const R=ya(D,!1).getAll();return new ys(R).toPromise()});if(!f)return[];if(0!==u.pendingWrites)return[];const m=[],v=new Set;for(const{fbase_key:D,value:R}of f)v.add(D),JSON.stringify(u.localCache[D])!==JSON.stringify(R)&&(u.notifyListeners(D,R),m.push(D));for(const D of Object.keys(u.localCache))u.localCache[D]&&!v.has(D)&&(u.notifyListeners(D,null),m.push(D));return m})()}notifyListeners(u,f){this.localCache[u]=f;const m=this.listeners[u];if(m)for(const v of Array.from(m))v(f)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,f){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(f)}_removeListener(u,f){this.listeners[u]&&(this.listeners[u].delete(f),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return d.type="LOCAL",d})(),Es=1e12;class Nl{constructor(l){this.auth=l,this.counter=Es,this._widgets=new Map}render(l,u){const f=this.counter;return this._widgets.set(f,new Hc(l,this.auth.name,u||{})),this.counter++,f}reset(l){var u;const f=l||Es;null===(u=this._widgets.get(f))||void 0===u||u.delete(),this._widgets.delete(f)}getResponse(l){var u;return(null===(u=this._widgets.get(l||Es))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,w.Z)(function*(){var f;return null===(f=u._widgets.get(l||Es))||void 0===f||f.execute(),""})()}}class Hc{constructor(l,u,f){this.params=f,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const m="string"==typeof l?document.getElementById(l):l;$(m,"argument-error",{appName:u}),this.container=m,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bf(d){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<d;f++)l.push(u.charAt(Math.floor(Math.random()*u.length)));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jc=h_("rcb"),vo=new ci(3e4,6e4);class U_{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=ct().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return $(function AI(d){return d.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(d)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&xn(ct().grecaptcha)?Promise.resolve(ct().grecaptcha):new Promise((f,m)=>{const v=ct().setTimeout(()=>{m(gt(l,"network-request-failed"))},vo.get());ct()[jc]=()=>{ct().clearTimeout(v),delete ct()[jc];const R=ct().grecaptcha;if(!R||!xn(R))return void m(gt(l,"internal-error"));const B=R.render;R.render=(ee,le)=>{const ue=B(ee,le);return this.counter++,ue},this.hostLanguage=u,f(R)},lc(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:jc,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(v),m(gt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=ct().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $c{load(l){return(0,w.Z)(function*(){return new Nl(l)})()}clearedOneInstance(){}}const B_="recaptcha",H_={theme:"light",type:"image"};class j_{constructor(l,u,f=Object.assign({},H_)){this.parameters=f,this.type=B_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(l),this.isInvisible="invisible"===this.parameters.size,$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const m="string"==typeof u?document.getElementById(u):u;$(m,this.auth,"argument-error"),this.container=m,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $c:new U_,this.validateStartingState()}verify(){var l=this;return(0,w.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),f=l.getAssertedRecaptcha();return f.getResponse(u)||new Promise(v=>{const D=R=>{R&&(l.tokenChangeListeners.delete(D),v(R))};l.tokenChangeListeners.add(D),l.isInvisible&&f.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(f=>f(u)),"function"==typeof l)l(u);else if("string"==typeof l){const f=ct()[l];"function"==typeof f&&f(u)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,w.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const f=document.createElement("div");u.appendChild(f),u=f}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,w.Z)(function*(){$($r()&&!Al(),l.auth,"internal-error"),yield function RI(){let d=null;return new Promise(l=>{"complete"!==document.readyState?(d=()=>l(),window.addEventListener("load",d)):l()}).catch(l=>{throw d&&window.removeEventListener("load",d),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function Ys(d){return di.apply(this,arguments)}(l.auth);$(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hf{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=xr._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function xl(){return(xl=(0,w.Z)(function*(d,l,u){const f=bt(d),m=yield Is(f,l,(0,F.m9)(u));return new Hf(m,v=>$i(f,v))})).apply(this,arguments)}function Cs(){return(Cs=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d);yield Te(!1,f,"phone");const m=yield Is(f.auth,l,(0,F.m9)(u));return new Hf(m,v=>Or(f,v))})).apply(this,arguments)}function Ol(){return(Ol=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d),m=yield Is(f.auth,l,(0,F.m9)(u));return new Hf(m,v=>wc(f,v))})).apply(this,arguments)}function Is(d,l,u){return zc.apply(this,arguments)}function zc(){return zc=(0,w.Z)(function*(d,l,u){var f;const m=yield u.verify();try{let v;if($("string"==typeof m,d,"argument-error"),$(u.type===B_,d,"argument-error"),v="string"==typeof l?{phoneNumber:l}:l,"session"in v){const D=v.session;if("phoneNumber"in v)return $("enroll"===D.type,d,"internal-error"),(yield function M_(d,l){return k(d,"POST","/v2/accounts/mfaEnrollment:start",z(d,l))}(d,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:m}})).phoneSessionInfo.sessionInfo;{$("signin"===D.type,d,"internal-error");const R=(null===(f=v.multiFactorHint)||void 0===f?void 0:f.uid)||v.multiFactorUid;return $(R,d,"missing-multi-factor-info"),(yield function Uf(d,l){return k(d,"POST","/v2/accounts/mfaSignIn:start",z(d,l))}(d,{mfaPendingCredential:D.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:m}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function qr(d,l){return wr.apply(this,arguments)}(d,{phoneNumber:v.phoneNumber,recaptchaToken:m});return D}}finally{u._reset()}}),zc.apply(this,arguments)}function Ca(){return(Ca=(0,w.Z)(function*(d,l){yield lo((0,F.m9)(d),l)})).apply(this,arguments)}let Zi=(()=>{class d{constructor(u){this.providerId=d.PROVIDER_ID,this.auth=bt(u)}verifyPhoneNumber(u,f){return Is(this.auth,u,(0,F.m9)(f))}static credential(u,f){return xr._fromVerification(u,f)}static credentialFromResult(u){return d.credentialFromTaggedObject(u)}static credentialFromError(u){return d.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:f,temporaryProof:m}=u;return f&&m?xr._fromTokenResponse(f,m):null}}return d.PROVIDER_ID="phone",d.PHONE_SIGN_IN_METHOD="phone",d})();function yo(d,l){return l?Fe(l):($(d._popupRedirectResolver,d,"argument-error"),d._popupRedirectResolver)}class Ll extends me{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return gi(l,this._buildIdpRequest())}_linkToIdToken(l,u){return gi(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return gi(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Wf(d){return gs(d.auth,new Ll(d),d.bypassAuthState)}function $_(d){const{auth:l,user:u}=d;return $(u,l,"internal-error"),co(u,new Ll(d),d.bypassAuthState)}function Kr(d){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,w.Z)(function*(d){const{auth:l,user:u}=d;return $(u,l,"internal-error"),lo(u,new Ll(d),d.bypassAuthState)})).apply(this,arguments)}class Ia{constructor(l,u,f,m,v=!1){this.auth=l,this.resolver=f,this.user=m,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,w.Z)(function*(f,m){l.pendingPromise={resolve:f,reject:m};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(v){l.reject(v)}});return function(f,m){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,w.Z)(function*(){const{urlResponse:f,sessionId:m,postBody:v,tenantId:D,error:R,type:B}=l;if(R)return void u.reject(R);const ee={auth:u.auth,requestUri:f,sessionId:m,tenantId:D||void 0,postBody:v||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(B)(ee))}catch(le){u.reject(le)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Wf;case"linkViaPopup":case"linkViaRedirect":return Kr;case"reauthViaPopup":case"reauthViaRedirect":return $_;default:it(this.auth,"internal-error")}}resolve(l){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qc=new ci(2e3,1e4);function ba(){return(ba=(0,w.Z)(function*(d,l,u){const f=bt(d);Le(d,l,Nt);const m=yo(f,u);return new Vl(f,"signInViaPopup",l,m).executeNotNull()})).apply(this,arguments)}function Kc(){return(Kc=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d);Le(f.auth,l,Nt);const m=yo(f.auth,u);return new Vl(f.auth,"reauthViaPopup",l,m,f).executeNotNull()})).apply(this,arguments)}function Fl(){return(Fl=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d);Le(f.auth,l,Nt);const m=yo(f.auth,u);return new Vl(f.auth,"linkViaPopup",l,m,f).executeNotNull()})).apply(this,arguments)}let Vl=(()=>{class d extends Ia{constructor(u,f,m,v,D){super(u,f,v,D),this.provider=m,this.authWindow=null,this.pollId=null,d.currentPopupAction&&d.currentPopupAction.cancel(),d.currentPopupAction=this}executeNotNull(){var u=this;return(0,w.Z)(function*(){const f=yield u.execute();return $(f,u.auth,"internal-error"),f})()}onExecution(){var u=this;return(0,w.Z)(function*(){wt(1===u.filter.length,"Popup operations only handle one event");const f=go();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],f),u.authWindow.associatedEvent=f,u.resolver._originValidation(u.auth).catch(m=>{u.reject(m)}),u.resolver._isIframeWebStorageSupported(u.auth,m=>{m||u.reject(gt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,d.currentPopupAction=null}pollUserCancellation(){const u=()=>{var f,m;this.pollId=null!==(m=null===(f=this.authWindow)||void 0===f?void 0:f.window)&&void 0!==m&&m.closed?window.setTimeout(()=>{this.pollId=null,this.reject(gt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,qc.get())};u()}}return d.currentPopupAction=null,d})();const qf="pendingRedirect",Da=new Map;class Ul extends Ia{constructor(l,u,f=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,f),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,w.Z)(function*(){let f=Da.get(u.auth._key());if(!f){try{const v=(yield function bs(d,l){return Yc.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;f=()=>Promise.resolve(v)}catch(m){f=()=>Promise.reject(m)}Da.set(u.auth._key(),f)}return u.bypassAuthState||Da.set(u.auth._key(),()=>Promise.resolve(null)),f()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,f=this;return(0,w.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(f,l);if("unknown"!==l.type){if(l.eventId){const m=yield f.auth._redirectUserForId(l.eventId);if(m)return f.user=m,u().call(f,l);f.resolve(null)}}else f.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function Yc(){return(Yc=(0,w.Z)(function*(d,l){const u=jl(l),f=ln(d);if(!(yield f._isAvailable()))return!1;const m="true"===(yield f._get(u));return yield f._remove(u),m})).apply(this,arguments)}function Bl(d,l){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,w.Z)(function*(d,l){return ln(d)._set(jl(l),"true")})).apply(this,arguments)}function Qc(d,l){Da.set(d._key(),l)}function ln(d){return Fe(d._redirectPersistence)}function jl(d){return rn(qf,d.config.apiKey,d.name)}function W_(d,l,u){return function Zf(d,l,u){return Eo.apply(this,arguments)}(d,l,u)}function Eo(){return(Eo=(0,w.Z)(function*(d,l,u){const f=bt(d);Le(d,l,Nt),yield f._initializationPromise;const m=yo(f,u);return yield Bl(m,f),m._openRedirect(f,l,"signInViaRedirect")})).apply(this,arguments)}function Co(d,l,u){return function Io(d,l,u){return Ki.apply(this,arguments)}(d,l,u)}function Ki(){return(Ki=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d);Le(f.auth,l,Nt),yield f.auth._initializationPromise;const m=yo(f.auth,u);yield Bl(m,f.auth);const v=yield z_(f);return m._openRedirect(f.auth,l,"reauthViaRedirect",v)})).apply(this,arguments)}function Kf(d,l,u){return function Jc(d,l,u){return Yi.apply(this,arguments)}(d,l,u)}function Yi(){return(Yi=(0,w.Z)(function*(d,l,u){const f=(0,F.m9)(d);Le(f.auth,l,Nt),yield f.auth._initializationPromise;const m=yo(f.auth,u);yield Te(!1,f,l.providerId),yield Bl(m,f.auth);const v=yield z_(f);return m._openRedirect(f.auth,l,"linkViaRedirect",v)})).apply(this,arguments)}function Xc(){return(Xc=(0,w.Z)(function*(d,l){return yield bt(d)._initializationPromise,ae(d,l,!1)})).apply(this,arguments)}function ae(d,l){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,w.Z)(function*(d,l,u=!1){const f=bt(d),m=yo(f,l),D=yield new Ul(f,m,u).execute();return D&&!u&&(delete D.user._redirectEventId,yield f._persistUserIfCurrent(D.user),yield f._setRedirectUser(null,l)),D})).apply(this,arguments)}function z_(d){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,w.Z)(function*(d){const l=go(`${d.uid}:::`);return d._redirectEventId=l,yield d.auth._setRedirectUser(d),yield d.auth._persistUserIfCurrent(d),l})).apply(this,arguments)}class G_{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(f=>{this.isEventForConsumer(l,f)&&(u=!0,this.sendToConsumer(l,f),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Sa(d){switch(d.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z_(d);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var f;if(l.error&&!Z_(l)){const m=(null===(f=l.error.code)||void 0===f?void 0:f.split("auth/")[1])||"internal-error";u.onError(gt(this.auth,m))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const f=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&f}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(l))}saveEventToCache(l){this.cachedEventUids.add(q_(l)),this.lastProcessedEventTime=Date.now()}}function q_(d){return[d.type,d.eventId,d.sessionId,d.tenantId].filter(l=>l).join("-")}function Z_({type:d,error:l}){return"unknown"===d&&"auth/no-auth-event"===l?.code}function K_(d){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,w.Z)(function*(d,l={}){return k(d,"GET","/v1/projects",l)})).apply(this,arguments)}const Jt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ed=/^https?/;function td(){return(td=(0,w.Z)(function*(d){if(d.config.emulator)return;const{authorizedDomains:l}=yield K_(d);for(const u of l)try{if(Cr(u))return}catch{}it(d,"unauthorized-domain")})).apply(this,arguments)}function Cr(d){const l=jt(),{protocol:u,hostname:f}=new URL(l);if(d.startsWith("chrome-extension://")){const D=new URL(d);return""===D.hostname&&""===f?"chrome-extension:"===u&&d.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&D.hostname===f}if(!ed.test(u))return!1;if(Jt.test(d))return f===d;const m=d.replace(/\./g,"\\.");return new RegExp("^(.+\\."+m+"|"+m+")$","i").test(f)}const Ds=new ci(3e4,6e4);function nd(){const d=ct().___jsl;if(d?.H)for(const l of Object.keys(d.H))if(d.H[l].r=d.H[l].r||[],d.H[l].L=d.H[l].L||[],d.H[l].r=[...d.H[l].L],d.CP)for(let u=0;u<d.CP.length;u++)d.CP[u]=null}let Qi=null;const NI=new ci(5e3,15e3),Q_="__/auth/iframe",xI="emulator/auth/iframe",cr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bo(d){const l=d.config;$(l.authDomain,d,"auth-domain-config-required");const u=l.emulator?x(l,xI):`https://${d.config.authDomain}/${Q_}`,f={apiKey:l.apiKey,appName:d.name,v:Ie.SDK_VERSION},m=rd.get(d.config.apiHost);m&&(f.eid=m);const v=d._getFrameworks();return v.length&&(f.fw=v.join(",")),`${u}?${(0,F.xO)(f).slice(1)}`}function Wl(){return Wl=(0,w.Z)(function*(d){const l=yield function Y_(d){return Qi=Qi||function $l(d){return new Promise((l,u)=>{var f,m,v;function D(){nd(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{nd(),u(gt(d,"network-request-failed"))},timeout:Ds.get()})}if(null!==(m=null===(f=ct().gapi)||void 0===f?void 0:f.iframes)&&void 0!==m&&m.Iframe)l(gapi.iframes.getContext());else{if(null===(v=ct().gapi)||void 0===v||!v.load){const R=h_("iframefcb");return ct()[R]=()=>{gapi.load?D():u(gt(d,"network-request-failed"))},lc(`https://apis.google.com/js/api.js?onload=${R}`).catch(B=>u(B))}D()}}).catch(l=>{throw Qi=null,l})}(d),Qi}(d),u=ct().gapi;return $(u,d,"internal-error"),l.open({where:document.body,url:bo(d),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cr,dontclear:!0},f=>new Promise(function(){var m=(0,w.Z)(function*(v,D){yield f.restyle({setHideOnLeave:!1});const R=gt(d,"network-request-failed"),B=ct().setTimeout(()=>{D(R)},NI.get());function ee(){ct().clearTimeout(B),v(f)}f.ping(ee).then(ee,()=>{D(R)})});return function(v,D){return m.apply(this,arguments)}}()))}),Wl.apply(this,arguments)}const J_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X_=500,ev=600,tv="_blank",nv="http://localhost";class Xf{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const sd="__/auth/handler",Do="emulator/auth/handler",ep=encodeURIComponent("fac");function Ss(d,l,u,f,m,v){return od.apply(this,arguments)}function od(){return(od=(0,w.Z)(function*(d,l,u,f,m,v){$(d.config.authDomain,d,"auth-domain-config-required"),$(d.config.apiKey,d,"invalid-api-key");const D={apiKey:d.config.apiKey,appName:d.name,authType:u,redirectUrl:f,v:Ie.SDK_VERSION,eventId:m};if(l instanceof Nt){l.setDefaultLanguage(d.languageCode),D.providerId=l.providerId||"",(0,F.xb)(l.getCustomParameters())||(D.customParameters=JSON.stringify(l.getCustomParameters()));for(const[le,ue]of Object.entries(v||{}))D[le]=ue}if(l instanceof io){const le=l.getScopes().filter(ue=>""!==ue);le.length>0&&(D.scopes=le.join(","))}d.tenantId&&(D.tid=d.tenantId);const R=D;for(const le of Object.keys(R))void 0===R[le]&&delete R[le];const B=yield d._getAppCheckToken(),ee=B?`#${ep}=${encodeURIComponent(B)}`:"";return`${function tp({config:d}){return d.emulator?x(d,Do):`https://${d.authDomain}/${sd}`}(d)}?${(0,F.xO)(R).slice(1)}${ee}`})).apply(this,arguments)}const Ts="webStorageSupport",ad=class Gl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vi,this._completeRedirectFn=ae,this._overrideRedirectResult=Qc}_openPopup(l,u,f,m){var v=this;return(0,w.Z)(function*(){var D;wt(null===(D=v.eventManagers[l._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const R=yield Ss(l,u,f,jt(),m);return function id(d,l,u,f=X_,m=ev){const v=Math.max((window.screen.availHeight-m)/2,0).toString(),D=Math.max((window.screen.availWidth-f)/2,0).toString();let R="";const B=Object.assign(Object.assign({},J_),{width:f.toString(),height:m.toString(),top:v,left:D}),ee=(0,F.z$)().toLowerCase();u&&(R=ac(ee)?tv:u),Pr(ee)&&(l=l||nv,B.scrollbars="yes");const le=Object.entries(B).reduce((St,[dr,Mo])=>`${St}${dr}=${Mo},`,"");if(function st(d=(0,F.z$)()){var l;return te(d)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(ee)&&"_self"!==R)return function zl(d,l){const u=document.createElement("a");u.href=d,u.target=l;const f=document.createEvent("MouseEvent");f.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(f)}(l||"",R),new Xf(null);const ue=window.open(l||"",R,le);$(ue,d,"popup-blocked");try{ue.focus()}catch{}return new Xf(ue)}(l,R,go())})()}_openRedirect(l,u,f,m){var v=this;return(0,w.Z)(function*(){return yield v._originValidation(l),function x_(d){ct().location.href=d}(yield Ss(l,u,f,jt(),m)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:m,promise:v}=this.eventManagers[u];return m?Promise.resolve(m):(wt(v,"If manager is not set, promise should be"),v)}const f=this.initAndGetManager(l);return this.eventManagers[u]={promise:f},f.catch(()=>{delete this.eventManagers[u]}),f}initAndGetManager(l){var u=this;return(0,w.Z)(function*(){const f=yield function OI(d){return Wl.apply(this,arguments)}(l),m=new G_(l);return f.register("authEvent",v=>($(v?.authEvent,l,"invalid-auth-event"),{status:m.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:m},u.iframes[l._key()]=f,m})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(Ts,{type:Ts},m=>{var v;const D=null===(v=m?.[0])||void 0===v?void 0:v[Ts];void 0!==D&&u(!!D),it(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Ta(d){return td.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return It()||zr()||te()}};class rv{constructor(l){this.factorId=l}_process(l,u,f){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,f);case"signin":return this._finalizeSignIn(l,u.credential);default:return Mt("unexpected MultiFactorSessionType")}}}class ld extends rv{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new ld(l)}_finalizeEnroll(l,u,f){return function kf(d,l){return k(d,"POST","/v2/accounts/mfaEnrollment:finalize",z(d,l))}(l,{idToken:u,displayName:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function L_(d,l){return k(d,"POST","/v2/accounts/mfaSignIn:finalize",z(d,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let So=(()=>{class d{constructor(){}static assertion(u){return ld._fromCredential(u)}}return d.FACTOR_ID="phone",d})();var np="@firebase/auth";class ov{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,w.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(f=>{l(f?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ji(){return window}(0,F.Pz)("authIdTokenMaxAge"),function lv(d){(0,Ie._registerComponent)(new Ft.wA("auth",(l,{options:u})=>{const f=l.getProvider("app").getImmediate(),m=l.getProvider("heartbeat"),v=l.getProvider("app-check-internal"),{apiKey:D,authDomain:R}=f.options;$(D&&!D.includes(":"),"invalid-api-key",{appName:f.name});const B={apiKey:D,authDomain:R,clientPlatform:d,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ca(d)},ee=new lI(f,m,v,B);return function g_(d,l){const u=l?.persistence||[],f=(Array.isArray(u)?u:[u]).map(Fe);l?.errorMap&&d._updateErrorMap(l.errorMap),d._initializeWithPersistence(f,l?.popupRedirectResolver)}(ee,u),ee},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,f)=>{l.getProvider("auth-internal").initialize()})),(0,Ie._registerComponent)(new Ft.wA("auth-internal",l=>{const u=bt(l.getProvider("auth").getImmediate());return new ov(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)(np,"1.4.0",function av(d){switch(d){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(d)),(0,Ie.registerVersion)(np,"1.4.0","esm2017")}("Browser");const kI=2e3;function cd(){return cd=(0,w.Z)(function*(d,l,u){var f;const{BuildInfo:m}=Ji();wt(l.sessionId,"AuthEvent did not contain a session ID");const v=yield function VI(d){return lp.apply(this,arguments)}(l.sessionId),D={};return te()?D.ibi=m.packageName:C()?D.apn=m.packageName:it(d,"operation-not-supported-in-this-environment"),m.displayName&&(D.appDisplayName=m.displayName),D.sessionId=v,Ss(d,u,l.type,void 0,null!==(f=l.eventId)&&void 0!==f?f:void 0,D)}),cd.apply(this,arguments)}function op(){return(op=(0,w.Z)(function*(d){const{BuildInfo:l}=Ji(),u={};te()?u.iosBundleId=l.packageName:C()?u.androidPackageName=l.packageName:it(d,"operation-not-supported-in-this-environment"),yield K_(d,u)})).apply(this,arguments)}function ap(){return(ap=(0,w.Z)(function*(d,l,u){const{cordova:f}=Ji();let m=()=>{};try{yield new Promise((v,D)=>{let R=null;function B(){var ue;v();const St=null===(ue=f.plugins.browsertab)||void 0===ue?void 0:ue.close;"function"==typeof St&&St(),"function"==typeof u?.close&&u.close()}function ee(){R||(R=window.setTimeout(()=>{D(gt(d,"redirect-cancelled-by-user"))},kI))}function le(){"visible"===document?.visibilityState&&ee()}l.addPassiveListener(B),document.addEventListener("resume",ee,!1),C()&&document.addEventListener("visibilitychange",le,!1),m=()=>{l.removePassiveListener(B),document.removeEventListener("resume",ee,!1),document.removeEventListener("visibilitychange",le,!1),R&&window.clearTimeout(R)}})}finally{m()}})).apply(this,arguments)}function lp(){return(lp=(0,w.Z)(function*(d){const l=function UI(d){if(wt(/[0-9a-zA-Z]+/.test(d),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(d);const l=new ArrayBuffer(d.length),u=new Uint8Array(l);for(let f=0;f<d.length;f++)u[f]=d.charCodeAt(f);return u}(d),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(m=>m.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const cv=20;class up extends G_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,w.Z)(function*(){yield l.initPromise})()}}function pd(d){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,w.Z)(function*(d){const l=yield gd()._get(md(d));return l&&(yield gd()._remove(md(d))),l})).apply(this,arguments)}function dv(){const d=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let u=0;u<cv;u++){const f=Math.floor(Math.random()*l.length);d.push(l.charAt(f))}return d.join("")}function gd(){return Fe(Tl)}function md(d){return rn("authEvent",d.config.apiKey,d.name)}function Yl(d){if(!d?.includes("?"))return{};const[l,...u]=d.split("?");return(0,F.zd)(u.join("?"))}const hp=class fv{constructor(){this._redirectPersistence=vi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ae,this._overrideRedirectResult=Qc}_initialize(l){var u=this;return(0,w.Z)(function*(){const f=l._key();let m=u.eventManagers.get(f);return m||(m=new up(l),u.eventManagers.set(f,m),u.attachCallbackListeners(l,m)),m})()}_openPopup(l){it(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,f,m){var v=this;return(0,w.Z)(function*(){!function FI(d){var l,u,f,m,v,D,R,B,ee,le;const ue=Ji();$("function"==typeof(null===(l=ue?.universalLinks)||void 0===l?void 0:l.subscribe),d,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$(typeof(null===(u=ue?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$("function"==typeof(null===(v=null===(m=null===(f=ue?.cordova)||void 0===f?void 0:f.plugins)||void 0===m?void 0:m.browsertab)||void 0===v?void 0:v.openUrl),d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(B=null===(R=null===(D=ue?.cordova)||void 0===D?void 0:D.plugins)||void 0===R?void 0:R.browsertab)||void 0===B?void 0:B.isAvailable),d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(le=null===(ee=ue?.cordova)||void 0===ee?void 0:ee.InAppBrowser)||void 0===le?void 0:le.open),d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const D=yield v._initialize(l);yield D.initialized(),D.resetRedirect(),function wo(){Da.clear()}(),yield v._originValidation(l);const R=function fd(d,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:dv(),postBody:null,tenantId:d.tenantId,error:gt(d,"no-auth-event")}}(l,f,m);yield function cp(d,l){return gd()._set(md(d),l)}(l,R);const B=yield function uv(d,l,u){return cd.apply(this,arguments)}(l,R,u),ee=yield function LI(d){const{cordova:l}=Ji();return new Promise(u=>{l.plugins.browsertab.isAvailable(f=>{let m=null;f?l.plugins.browsertab.openUrl(d):m=l.InAppBrowser.open(d,function He(d=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(d)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(d)}()?"_blank":"_system","location=yes"),u(m)})})}(B);return function hd(d,l,u){return ap.apply(this,arguments)}(l,D,ee)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function dd(d){return op.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:f,handleOpenURL:m,BuildInfo:v}=Ji(),D=setTimeout((0,w.Z)(function*(){yield pd(l),u.onEvent(fp())}),500),R=function(){var le=(0,w.Z)(function*(ue){clearTimeout(D);const St=yield pd(l);let dr=null;St&&ue?.url&&(dr=function Qn(d,l){var u,f;const m=function _d(d){const l=Yl(d),u=l.link?decodeURIComponent(l.link):void 0,f=Yl(u).link,m=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Yl(m).link||m||f||u||d}(l);if(m.includes("/__/auth/callback")){const v=Yl(m),D=v.firebaseError?function dp(d){try{return JSON.parse(d)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,R=null===(f=null===(u=D?.code)||void 0===u?void 0:u.split("auth/"))||void 0===f?void 0:f[1],B=R?gt(R):null;return B?{type:d.type,eventId:d.eventId,tenantId:d.tenantId,error:B,urlResponse:null,sessionId:null,postBody:null}:{type:d.type,eventId:d.eventId,tenantId:d.tenantId,sessionId:d.sessionId,urlResponse:m,postBody:null}}return null}(St,ue.url)),u.onEvent(dr||fp())});return function(St){return le.apply(this,arguments)}}();typeof f<"u"&&"function"==typeof f.subscribe&&f.subscribe(null,R);const B=m,ee=`${v.packageName.toLowerCase()}://`;Ji().handleOpenURL=function(){var le=(0,w.Z)(function*(ue){if(ue.toLowerCase().startsWith(ee)&&R({url:ue}),"function"==typeof B)try{B(ue)}catch(St){console.error(St)}});return function(ue){return le.apply(this,arguments)}}()}};function fp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:gt("no-auth-event")}}const pp=1e3;function As(){var d;return(null===(d=self?.location)||void 0===d?void 0:d.protocol)||null}function To(d=(0,F.z$)()){return!("file:"!==As()&&"ionic:"!==As()&&"capacitor:"!==As()||!d.toLowerCase().match(/iphone|ipad|ipod|android/))}function vp(){try{const d=self.localStorage,l=go();if(d)return d.setItem(l,"1"),d.removeItem(l),!function _p(d=(0,F.z$)()){return function mp(){return(0,F.w1)()&&11===document?.documentMode}()||function gv(d=(0,F.z$)()){return/Edge\/\d+/.test(d)}(d)}()||(0,F.hl)()}catch{return Ql()&&(0,F.hl)()}return!1}function Ql(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yd(){return(function Rn(){return"http:"===As()||"https:"===As()}()||(0,F.ru)()||To())&&!function gp(){return(0,F.b$)()||(0,F.UG)()}()&&vp()&&!Ql()}function wd(){return To()&&typeof document<"u"}function Ed(){return(Ed=(0,w.Z)(function*(){return!!wd()&&new Promise(d=>{const l=setTimeout(()=>{d(!1)},pp);document.addEventListener("deviceready",()=>{clearTimeout(l),d(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},Ra=$,Ao="persistence";function Id(d){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,w.Z)(function*(d){yield d._initializationPromise;const l=Dd(),u=rn(Ao,d.config.apiKey,d.name);l&&l.setItem(u,d._getPersistence())})).apply(this,arguments)}function Dd(){var d;try{return(null===(d=function Cd(){return typeof window<"u"?window:null}())||void 0===d?void 0:d.sessionStorage)||null}catch{return null}}const Ro=$;class Yr{constructor(){this.browserResolver=Fe(ad),this.cordovaResolver=Fe(hp),this.underlyingResolver=null,this._redirectPersistence=vi,this._completeRedirectFn=ae,this._overrideRedirectResult=Qc}_initialize(l){var u=this;return(0,w.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,f,m){var v=this;return(0,w.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(l,u,f,m)})()}_openRedirect(l,u,f,m){var v=this;return(0,w.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(l,u,f,m)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return wd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ro(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,w.Z)(function*(){if(l.underlyingResolver)return;const u=yield function mv(){return Ed.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function Sd(d){return d.unwrap()}function Td(d){return yp(d)}function yp(d){const{_tokenResponse:l}=d instanceof F.ZR?d.customData:d;if(!l)return null;if(!(d instanceof F.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return Zi.credentialFromResult(d);const u=l.providerId;if(!u||u===$e.PASSWORD)return null;let f;switch(u){case $e.GOOGLE:f=Fn;break;case $e.FACEBOOK:f=we;break;case $e.GITHUB:f=ot;break;case $e.TWITTER:f=vc;break;default:const{oauthIdToken:m,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:R,nonce:B}=l;return v||D||m||R?R?u.startsWith("saml.")?Qt._create(u,R):on._fromParams({providerId:u,signInMethod:u,pendingToken:R,idToken:m,accessToken:v}):new ps(u).credential({idToken:m,accessToken:v,rawNonce:B}):null}return d instanceof F.ZR?f.credentialFromError(d):f.credentialFromResult(d)}function Xn(d,l){return l.catch(u=>{throw u instanceof F.ZR&&function yv(d,l){var u;const f=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new wv(d,function R_(d,l){var u;const f=(0,F.m9)(d),m=l;return $(l.customData.operationType,f,"argument-error"),$(null===(u=m.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,f,"argument-error"),Rc._fromError(f,m)}(d,l));else if(f){const m=yp(l),v=l;m&&(v.credential=m,v.tenantId=f.tenantId||void 0,v.email=f.email||void 0,v.phoneNumber=f.phoneNumber||void 0)}}(d,u),u}).then(u=>{const m=u.user;return{operationType:u.operationType,credential:Td(u),additionalUserInfo:Dl(u),user:Qr.getOrCreate(m)}})}function Ad(d,l){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,w.Z)(function*(d,l){const u=yield l;return{verificationId:u.verificationId,confirm:f=>Xn(d,u.confirm(f))}})).apply(this,arguments)}class wv{constructor(l,u){this.resolver=u,this.auth=function vv(d){return d.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Xn(Sd(this.auth),this.resolver.resolveSignIn(l))}}class Qr{constructor(l){this._delegate=l,this.multiFactor=function N_(d){const l=(0,F.m9)(d);return Mc.has(l)||Mc.set(l,qe._fromUser(l)),Mc.get(l)}(l)}static getOrCreate(l){return Qr.USER_MAP.has(l)||Qr.USER_MAP.set(l,new Qr(l)),Qr.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,w.Z)(function*(){return Xn(u.auth,Or(u._delegate,l))})()}linkWithPhoneNumber(l,u){var f=this;return(0,w.Z)(function*(){return Ad(f.auth,function jf(d,l,u){return Cs.apply(this,arguments)}(f._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,w.Z)(function*(){return Xn(u.auth,function Gf(d,l,u){return Fl.apply(this,arguments)}(u._delegate,l,Yr))})()}linkWithRedirect(l){var u=this;return(0,w.Z)(function*(){return yield Id(bt(u.auth)),Kf(u._delegate,l,Yr)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,w.Z)(function*(){return Xn(u.auth,wc(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Ad(this.auth,function $f(d,l,u){return Ol.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return Xn(this.auth,function Zc(d,l,u){return Kc.apply(this,arguments)}(this._delegate,l,Yr))}reauthenticateWithRedirect(l){var u=this;return(0,w.Z)(function*(){return yield Id(bt(u.auth)),Co(u._delegate,l,Yr)})()}sendEmailVerification(l){return function II(d,l){return Rf.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,w.Z)(function*(){return yield function ao(d,l){return xt.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function b_(d,l){return Dc((0,F.m9)(d),l,null)}(this._delegate,l)}updatePassword(l){return function Pf(d,l){return Dc((0,F.m9)(d),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function kl(d,l){return Ca.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Mf(d,l){return bc.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function bI(d,l,u){return _i.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qr.USER_MAP=new WeakMap;const Rs=$;let Md=(()=>{class d{constructor(u,f){if(this.app=u,f.isInitialized())return this._delegate=f.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:m}=u.options;Rs(m,"invalid-api-key",{appName:u.name}),Rs(m,"invalid-api-key",{appName:u.name});const v=typeof window<"u"?Yr:void 0;this._delegate=f.initialize({options:{persistence:Ev(m,u.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(fn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,f){!function cc(d,l,u){const f=bt(d);$(f._canInitEmulator,f,"emulator-config-failed"),$(/^https?:\/\//.test(l),f,"invalid-emulator-scheme");const m=!!u?.disableWarnings,v=da(l),{host:D,port:R}=function dc(d){const l=da(d),u=/(\/\/)?([^?#/]+)/.exec(d.substr(l.length));if(!u)return{host:"",port:null};const f=u[2].split("@").pop()||"",m=/^(\[[^\]]+\])(:|$)/.exec(f);if(m){const v=m[1];return{host:v,port:hc(f.substr(v.length+1))}}{const[v,D]=f.split(":");return{host:v,port:hc(D)}}}(l);f.config.emulator={url:`${v}//${D}${null===R?"":`:${R}`}/`},f.settings.appVerificationDisabledForTesting=!0,f.emulatorConfig=Object.freeze({host:D,port:R,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:m})}),m||function m_(){function d(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",d):d())}()}(this._delegate,u,f)}applyActionCode(u){return function C_(d,l){return Ef.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return Cf(this._delegate,u)}confirmPasswordReset(u,f){return function Il(d,l,u){return lr.apply(this,arguments)}(this._delegate,u,f)}createUserWithEmailAndPassword(u,f){var m=this;return(0,w.Z)(function*(){return Xn(m._delegate,function _I(d,l,u){return bf.apply(this,arguments)}(m._delegate,u,f))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function Af(d,l){return bl.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function wI(d,l){return"EMAIL_SIGNIN"===ga.parseLink(l)?.operation}(0,u)}getRedirectResult(){var u=this;return(0,w.Z)(function*(){Rs(yd(),u._delegate,"operation-not-supported-in-this-environment");const f=yield function MI(d,l){return Xc.apply(this,arguments)}(u._delegate,Yr);return f?Xn(u._delegate,Promise.resolve(f)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function pv(d,l){bt(d)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,f,m){const{next:v,error:D,complete:R}=Jl(u,f,m);return this._delegate.onAuthStateChanged(v,D,R)}onIdTokenChanged(u,f,m){const{next:v,error:D,complete:R}=Jl(u,f,m);return this._delegate.onIdTokenChanged(v,D,R)}sendSignInLinkToEmail(u,f){return function yI(d,l,u){return Df.apply(this,arguments)}(this._delegate,u,f)}sendPasswordResetEmail(u,f){return function Cc(d,l,u){return _s.apply(this,arguments)}(this._delegate,u,f||void 0)}setPersistence(u){var f=this;return(0,w.Z)(function*(){let m;switch(function _v(d,l){Ra(Object.values(Bn).includes(l),d,"invalid-persistence-type"),(0,F.b$)()?Ra(l!==Bn.SESSION,d,"unsupported-persistence-type"):(0,F.UG)()?Ra(l===Bn.NONE,d,"unsupported-persistence-type"):Ql()?Ra(l===Bn.NONE||l===Bn.LOCAL&&(0,F.hl)(),d,"unsupported-persistence-type"):Ra(l===Bn.NONE||vp(),d,"unsupported-persistence-type")}(f._delegate,u),u){case Bn.SESSION:m=vi;break;case Bn.LOCAL:m=(yield Fe(_o)._isAvailable())?_o:Tl;break;case Bn.NONE:m=Ct;break;default:return it("argument-error",{appName:f._delegate.name})}return f._delegate.setPersistence(m)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return Xn(this._delegate,function Ne(d){return Dt.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return Xn(this._delegate,$i(this._delegate,u))}signInWithCustomToken(u){return Xn(this._delegate,function wf(d,l){return ho.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,f){return Xn(this._delegate,function vI(d,l,u){return $i((0,F.m9)(d),_c.credential(l,u)).catch(function(){var f=(0,w.Z)(function*(m){throw"auth/password-does-not-meet-requirements"===m.code&&Vn(d),m});return function(m){return f.apply(this,arguments)}}())}(this._delegate,u,f))}signInWithEmailLink(u,f){return Xn(this._delegate,function EI(d,l,u){return Sf.apply(this,arguments)}(this._delegate,u,f))}signInWithPhoneNumber(u,f){return Ad(this._delegate,function Wc(d,l,u){return xl.apply(this,arguments)}(this._delegate,u,f))}signInWithPopup(u){var f=this;return(0,w.Z)(function*(){return Rs(yd(),f._delegate,"operation-not-supported-in-this-environment"),Xn(f._delegate,function zf(d,l,u){return ba.apply(this,arguments)}(f._delegate,u,Yr))})()}signInWithRedirect(u){var f=this;return(0,w.Z)(function*(){return Rs(yd(),f._delegate,"operation-not-supported-in-this-environment"),yield Id(f._delegate),W_(f._delegate,u,Yr)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function mI(d,l){return If.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return d.Persistence=Bn,d})();function Jl(d,l,u){let f=d;"function"!=typeof d&&({next:f,error:l,complete:u}=d);const m=f;return{next:D=>m(D&&Qr.getOrCreate(D)),error:l,complete:u}}function Ev(d,l){const u=function bd(d,l){const u=Dd();if(!u)return[];const f=rn(Ao,d,l);switch(u.getItem(f)){case Bn.NONE:return[Ct];case Bn.LOCAL:return[_o,vi];case Bn.SESSION:return[vi];default:return[]}}(d,l);if(typeof self<"u"&&!u.includes(_o)&&u.push(_o),typeof window<"u")for(const f of[Tl,vi])u.includes(f)||u.push(f);return u.includes(Ct)||u.push(Ct),u}class Pd{constructor(){this.providerId="phone",this._delegate=new Zi(Sd(ye.Z.auth()))}static credential(l,u){return Zi.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Pd.PHONE_SIGN_IN_METHOD=Zi.PHONE_SIGN_IN_METHOD,Pd.PROVIDER_ID=Zi.PROVIDER_ID;const wp=$;class Ep{constructor(l,u,f=ye.Z.app()){var m;wp(null===(m=f.options)||void 0===m?void 0:m.apiKey,"invalid-api-key",{appName:f.name}),this._delegate=new j_(f.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cp(d){d.INTERNAL.registerComponent(new Ft.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),f=l.getProvider("auth");return new Md(u,f)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:he_EMAIL_SIGNIN,PASSWORD_RESET:he_PASSWORD_RESET,RECOVER_EMAIL:he_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:he_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:he_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:he_VERIFY_EMAIL}},EmailAuthProvider:_c,FacebookAuthProvider:we,GithubAuthProvider:ot,GoogleAuthProvider:Fn,OAuthProvider:ps,SAMLAuthProvider:Tn,PhoneAuthProvider:Pd,PhoneMultiFactorGenerator:So,RecaptchaVerifier:Ep,TwitterAuthProvider:vc,Auth:Md,AuthCredential:me,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),d.registerVersion("@firebase/auth-compat","0.4.9")}(ye.Z)},861:(ui,hn,Se)=>{function w(F,Ie,tt,vt,Ft,tn,$e){try{var W=F[tn]($e),J=W.value}catch(he){return void tt(he)}W.done?Ie(J):Promise.resolve(J).then(vt,Ft)}function ye(F){return function(){var Ie=this,tt=arguments;return new Promise(function(vt,Ft){var tn=F.apply(Ie,tt);function $e(J){w(tn,vt,Ft,$e,W,"next",J)}function W(J){w(tn,vt,Ft,$e,W,"throw",J)}$e(void 0)})}}Se.d(hn,{Z:()=>ye})},582:(ui,hn,Se)=>{function Ie(x,O){var V={};for(var j in x)Object.prototype.hasOwnProperty.call(x,j)&&O.indexOf(j)<0&&(V[j]=x[j]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var z=0;for(j=Object.getOwnPropertySymbols(x);z<j.length;z++)O.indexOf(j[z])<0&&Object.prototype.propertyIsEnumerable.call(x,j[z])&&(V[j[z]]=x[j[z]])}return V}function he(x,O,V,j){return new(V||(V=Promise))(function(k,ne){function Ke(Je){try{ge(j.next(Je))}catch(Pt){ne(Pt)}}function ce(Je){try{ge(j.throw(Je))}catch(Pt){ne(Pt)}}function ge(Je){Je.done?k(Je.value):function z(k){return k instanceof V?k:new V(function(ne){ne(k)})}(Je.value).then(Ke,ce)}ge((j=j.apply(x,O||[])).next())})}function yt(x){return this instanceof yt?(this.v=x,this):new yt(x)}function it(x,O,V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,j=V.apply(x,O||[]),k=[];return z={},ne("next"),ne("throw"),ne("return"),z[Symbol.asyncIterator]=function(){return this},z;function ne(mt){j[mt]&&(z[mt]=function(mn){return new Promise(function(Zt,xn){k.push([mt,mn,Zt,xn])>1||Ke(mt,mn)})})}function Ke(mt,mn){try{!function ce(mt){mt.value instanceof yt?Promise.resolve(mt.value.v).then(ge,Je):Pt(k[0][2],mt)}(j[mt](mn))}catch(Zt){Pt(k[0][3],Zt)}}function ge(mt){Ke("next",mt)}function Je(mt){Ke("throw",mt)}function Pt(mt,mn){mt(mn),k.shift(),k.length&&Ke(k[0][0],k[0][1])}}function Gn(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V,O=x[Symbol.asyncIterator];return O?O.call(x):(x=function rt(x){var O="function"==typeof Symbol&&Symbol.iterator,V=O&&x[O],j=0;if(V)return V.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&j>=x.length&&(x=void 0),{value:x&&x[j++],done:!x}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}(x),V={},j("next"),j("throw"),j("return"),V[Symbol.asyncIterator]=function(){return this},V);function j(k){V[k]=x[k]&&function(ne){return new Promise(function(Ke,ce){!function z(k,ne,Ke,ce){Promise.resolve(ce).then(function(ge){k({value:ge,done:Ke})},ne)}(Ke,ce,(ne=x[k](ne)).done,ne.value)})}}}Se.d(hn,{FC:()=>it,KL:()=>Gn,_T:()=>Ie,mG:()=>he,qq:()=>yt}),"function"==typeof SuppressedError&&SuppressedError}},ui=>{ui(ui.s=793)}]);