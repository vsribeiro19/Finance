"use strict";(self.webpackChunkFinance=self.webpackChunkFinance||[]).push([[179],{808:(Fs,Kn,Le)=>{Le.d(Kn,{$:()=>Ri,A:()=>se,G:()=>Pt,K:()=>D_,L:()=>ol,N:()=>$s,P:()=>op,R:()=>VT,U:()=>ge,V:()=>jf,W:()=>k_,X:()=>He,Y:()=>li,Z:()=>Du,_:()=>uo,a:()=>J_,a0:()=>Ie,a1:()=>Xn,a2:()=>va,a3:()=>dl,a4:()=>Wf,a5:()=>vs,a6:()=>Ru,a7:()=>Es,a8:()=>yT,a9:()=>vT,aA:()=>ve,aB:()=>$t,aC:()=>te,aD:()=>GT,aE:()=>B,aF:()=>$e,aG:()=>dp,aH:()=>Ca,aI:()=>py,aJ:()=>Dn,aN:()=>Pi,aQ:()=>kn,aa:()=>QM,ab:()=>ZM,ac:()=>YM,ad:()=>JM,ae:()=>XM,af:()=>tx,ag:()=>j_,ah:()=>nx,ak:()=>qi,al:()=>ET,am:()=>wT,ap:()=>xr,aq:()=>TT,as:()=>bT,at:()=>Jf,au:()=>Xt,av:()=>ne,aw:()=>G,ax:()=>ht,ay:()=>Rd,az:()=>Al,b:()=>ud,c:()=>ap,d:()=>jT,e:()=>lp,f:()=>cp,g:()=>Cl,h:()=>Dd,i:()=>fd,j:()=>bl,k:()=>Bu,l:()=>ly,m:()=>iC,p:()=>Gt,r:()=>Nu,s:()=>ux,u:()=>UT});var b=Le(861),q=Le(90),k=Le(881),Se=Le(877),Rt=Le(582),an=Le(859);const Gt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pt=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Qn=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new Se.Yd("@firebase/auth");function mn(p,...c){Ge.logLevel<=Se.in.ERROR&&Ge.error(`Auth (${k.SDK_VERSION}): ${p}`,...c)}function ht(p,...c){throw ot(p,...c)}function $t(p,...c){return ot(p,...c)}function Ti(p,c,h){const g=Object.assign(Object.assign({},Qn()),{[c]:h});return new q.LL("auth","Firebase",g).create(c,{appName:p.name})}function $n(p,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&ht(p,"argument-error"),Ti(p,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(p,...c){if("string"!=typeof p){const h=c[0],g=[...c.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(h,...g)}return _t.create(p,...c)}function te(p,c,...h){if(!p)throw ot(c,...h)}function wt(p){const c="INTERNAL ASSERTION FAILED: "+p;throw mn(c),new Error(c)}function Xt(p,c){p||wt(c)}function Cn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function bn(){return"http:"===ds()||"https:"===ds()}function ds(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class ri{constructor(c,h){this.shortDelay=c,this.longDelay=h,Xt(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function hs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bn()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oo(p,c){Xt(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class ${static initialize(c,h,g){this.fetchImpl=c,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},z=new ri(3e4,6e4);function U(p,c){return p.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:p.tenantId}):c}function Z(p,c,h,g){return K.apply(this,arguments)}function K(){return(K=(0,b.Z)(function*(p,c,h,g,y={}){return ce(p,y,(0,b.Z)(function*(){let I={},N={};g&&("GET"===c?N=g:I={body:JSON.stringify(g)});const j=(0,q.xO)(Object.assign({key:p.config.apiKey},N)).slice(1),X=yield p._getAdditionalHeaders();return X["Content-Type"]="application/json",p.languageCode&&(X["X-Firebase-Locale"]=p.languageCode),$.fetch()(It(p,p.config.apiHost,h,j),Object.assign({method:c,headers:X,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function ce(p,c,h){return ct.apply(this,arguments)}function ct(){return(ct=(0,b.Z)(function*(p,c,h){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},W),c);try{const y=new qt(p),I=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const N=yield I.json();if("needConfirmation"in N)throw un(p,"account-exists-with-different-credential",N);if(I.ok&&!("errorMessage"in N))return N;{const j=I.ok?N.errorMessage:N.error.message,[X,Ce]=j.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===X)throw un(p,"credential-already-in-use",N);if("EMAIL_EXISTS"===X)throw un(p,"email-already-in-use",N);if("USER_DISABLED"===X)throw un(p,"user-disabled",N);const Fe=g[X]||X.toLowerCase().replace(/[_\s]+/g,"-");if(Ce)throw Ti(p,Fe,Ce);ht(p,Fe)}}catch(y){if(y instanceof q.ZR)throw y;ht(p,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function ue(p,c,h,g){return Me.apply(this,arguments)}function Me(){return(Me=(0,b.Z)(function*(p,c,h,g,y={}){const I=yield Z(p,c,h,g,y);return"mfaPendingCredential"in I&&ht(p,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function It(p,c,h,g){const y=`${c}${h}?${g}`;return p.config.emulator?oo(p.config,y):`${p.config.apiScheme}://${y}`}function ln(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g($t(this.auth,"network-request-failed")),z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(p,c,h){const g={appName:p.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const y=$t(p,c,g);return y.customData._tokenResponse=h,y}function jn(p){return void 0!==p&&void 0!==p.getResponse}function Zn(p){return void 0!==p&&void 0!==p.enterprise}class ur{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===c)return ln(h.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function $i(){return($i=(0,b.Z)(function*(p){return(yield Z(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ls(p,c){return ft.apply(this,arguments)}function ft(){return(ft=(0,b.Z)(function*(p,c){return Z(p,"GET","/v2/recaptchaConfig",U(p,c))})).apply(this,arguments)}function Bs(){return(Bs=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function ps(){return(ps=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ci(){return(Ci=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function bi(p){if(p)try{const c=new Date(Number(p));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Nt(){return(Nt=(0,b.Z)(function*(p,c=!1){const h=(0,q.m9)(p),g=yield h.getIdToken(c),y=An(g);te(y&&y.exp&&y.auth_time&&y.iat,h.auth,"internal-error");const I="object"==typeof y.firebase?y.firebase:void 0,N=I?.sign_in_provider;return{claims:y,token:g,authTime:bi(si(y.auth_time)),issuedAtTime:bi(si(y.iat)),expirationTime:bi(si(y.exp)),signInProvider:N||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function si(p){return 1e3*Number(p)}function An(p){const[c,h,g]=p.split(".");if(void 0===c||void 0===h||void 0===g)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const y=(0,q.tV)(h);return y?JSON.parse(y):(mn("Failed to decode base64 JWT payload"),null)}catch(y){return mn("Caught error parsing JWT payload as JSON",y?.toString()),null}}function cn(p,c){return _n.apply(this,arguments)}function _n(){return(_n=(0,b.Z)(function*(p,c,h=!1){if(h)return c;try{return yield c}catch(g){throw g instanceof q.ZR&&function gs({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class ji{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const y=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,y)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(c);this.timerId=setTimeout((0,b.Z)(function*(){yield h.iteration()}),g)}iteration(){var c=this;return(0,b.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&c.schedule(!0))}c.schedule()})()}}class ms{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=bi(this.lastLoginAt),this.creationTime=bi(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(p){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,b.Z)(function*(p){var c;const h=p.auth,g=yield p.getIdToken(),y=yield cn(p,function Er(p,c){return Ci.apply(this,arguments)}(h,{idToken:g}));te(y?.users.length,h,"internal-error");const I=y.users[0];p._notifyReloadListener(I);const N=null!==(c=I.providerUserInfo)&&void 0!==c&&c.length?function Po(p){return p.map(c=>{var{providerId:h}=c,g=(0,Rt._T)(c,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(I.providerUserInfo):[],j=function rl(p,c){return[...p.filter(g=>!c.some(y=>y.providerId===g.providerId)),...c]}(p.providerData,N),Fe=!!p.isAnonymous&&!(p.email&&I.passwordHash||j?.length),At={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:j,metadata:new ms(I.createdAt,I.lastLoginAt),isAnonymous:Fe};Object.assign(p,At)}),Hn.apply(this,arguments)}function Di(){return(Di=(0,b.Z)(function*(p){const c=(0,q.m9)(p);yield Yn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Us(){return(Us=(0,b.Z)(function*(p,c){const h=yield ce(p,{},(0,b.Z)(function*(){const g=(0,q.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:y,apiKey:I}=p.config,N=It(p,y,"/v1/token",`key=${I}`),j=yield p._getAdditionalHeaders();return j["Content-Type"]="application/x-www-form-urlencoded",$.fetch()(N,{method:"POST",headers:j,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function R(){return(R=(0,b.Z)(function*(p,c){return Z(p,"POST","/v2/accounts:revokeToken",U(p,c))})).apply(this,arguments)}class w{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){te(c.idToken,"internal-error"),te(typeof c.idToken<"u","internal-error"),te(typeof c.refreshToken<"u","internal-error");const h="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Tu(p){const c=An(p);return te(c,"internal-error"),te(typeof c.exp<"u","internal-error"),te(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}getToken(c,h=!1){var g=this;return(0,b.Z)(function*(){return te(!g.accessToken||g.refreshToken,c,"user-token-expired"),h||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(c,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var g=this;return(0,b.Z)(function*(){const{accessToken:y,refreshToken:I,expiresIn:N}=yield function fa(p,c){return Us.apply(this,arguments)}(c,h);g.updateTokensAndExpiration(y,I,Number(N))})()}updateTokensAndExpiration(c,h,g){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(c,h){const{refreshToken:g,accessToken:y,expirationTime:I}=h,N=new w;return g&&(te("string"==typeof g,"internal-error",{appName:c}),N.refreshToken=g),y&&(te("string"==typeof y,"internal-error",{appName:c}),N.accessToken=y),I&&(te("number"==typeof I,"internal-error",{appName:c}),N.expirationTime=I),N}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new w,this.toJSON())}_performRefresh(){return wt("not implemented")}}function C(p,c){te("string"==typeof p||typeof p>"u","internal-error",{appName:c})}class E{constructor(c){var{uid:h,auth:g,stsTokenManager:y}=c,I=(0,Rt._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=y,this.accessToken=y.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new ms(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,b.Z)(function*(){const g=yield cn(h,h.stsTokenManager.getToken(h.auth,c));return te(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(c){return function wr(p){return Nt.apply(this,arguments)}(this,c)}reload(){return function Mr(p){return Di.apply(this,arguments)}(this)}_assign(c){this!==c&&(te(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const h=new E(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(c){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var g=this;return(0,b.Z)(function*(){let y=!1;c.idToken&&c.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(c),y=!0),h&&(yield Yn(g)),yield g.auth._persistUserIfCurrent(g),y&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var c=this;return(0,b.Z)(function*(){const h=yield c.getIdToken();return yield cn(c,function Vs(p,c){return Bs.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var g,y,I,N,j,X,Ce,Fe;const At=null!==(g=h.displayName)&&void 0!==g?g:void 0,xi=null!==(y=h.email)&&void 0!==y?y:void 0,Ra=null!==(I=h.phoneNumber)&&void 0!==I?I:void 0,xd=null!==(N=h.photoURL)&&void 0!==N?N:void 0,Ep=null!==(j=h.tenantId)&&void 0!==j?j:void 0,$u=null!==(X=h._redirectEventId)&&void 0!==X?X:void 0,wp=null!==(Ce=h.createdAt)&&void 0!==Ce?Ce:void 0,Ip=null!==(Fe=h.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:Nd,emailVerified:qr,isAnonymous:Dy,providerData:Tp,stsTokenManager:Sy}=h;te(Nd&&Sy,c,"internal-error");const Ry=w.fromJSON(this.name,Sy);te("string"==typeof Nd,c,"internal-error"),C(At,c.name),C(xi,c.name),te("boolean"==typeof qr,c,"internal-error"),te("boolean"==typeof Dy,c,"internal-error"),C(Ra,c.name),C(xd,c.name),C(Ep,c.name),C($u,c.name),C(wp,c.name),C(Ip,c.name);const ju=new E({uid:Nd,auth:c,email:xi,emailVerified:qr,displayName:At,isAnonymous:Dy,photoURL:xd,phoneNumber:Ra,tenantId:Ep,stsTokenManager:Ry,createdAt:wp,lastLoginAt:Ip});return Tp&&Array.isArray(Tp)&&(ju.providerData=Tp.map(cC=>Object.assign({},cC))),$u&&(ju._redirectEventId=$u),ju}static _fromIdTokenResponse(c,h,g=!1){return(0,b.Z)(function*(){const y=new w;y.updateFromServerResponse(h);const I=new E({uid:h.localId,auth:c,stsTokenManager:y,isAnonymous:g});return yield Yn(I),I})()}}const O=new Map;function B(p){Xt(p instanceof Function,"Expected a class definition");let c=O.get(p);return c?(Xt(c instanceof p,"Instance stored in cache mismatched with class"),c):(c=new p,O.set(p,c),c)}const ge=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(h,g){var y=this;return(0,b.Z)(function*(){y.storage[h]=g})()}_get(h){var g=this;return(0,b.Z)(function*(){const y=g.storage[h];return void 0===y?null:y})()}_remove(h){var g=this;return(0,b.Z)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return p.type="NONE",p})();function $e(p,c,h){return`firebase:${p}:${c}:${h}`}class bt{constructor(c,h,g){this.persistence=c,this.auth=h,this.userKey=g;const{config:y,name:I}=this.auth;this.fullUserKey=$e(this.userKey,y.apiKey,I),this.fullPersistenceKey=$e("persistence",y.apiKey,I),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,b.Z)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?E._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,b.Z)(function*(){if(h.persistence===c)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,g="authUser"){return(0,b.Z)(function*(){if(!h.length)return new bt(B(ge),c,g);const y=(yield Promise.all(h.map(function(){var Ce=(0,b.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return Ce.apply(this,arguments)}}()))).filter(Ce=>Ce);let I=y[0]||B(ge);const N=$e(g,c.config.apiKey,c.name);let j=null;for(const Ce of h)try{const Fe=yield Ce._get(N);if(Fe){const At=E._fromJSON(c,Fe);Ce!==I&&(j=At),I=Ce;break}}catch{}const X=y.filter(Ce=>Ce._shouldAllowMigration);return I._shouldAllowMigration&&X.length?(I=X[0],j&&(yield I._set(N,j.toJSON())),yield Promise.all(h.map(function(){var Ce=(0,b.Z)(function*(Fe){if(Fe!==I)try{yield Fe._remove(N)}catch{}});return function(Fe){return Ce.apply(this,arguments)}}())),new bt(I,c,g)):new bt(I,c,g)})()}}function ye(p){const c=p.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(il(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(fe(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(S(c))return"Blackberry";if(ee(c))return"Webos";if(Je(c))return"Safari";if((c.includes("chrome/")||cr(c))&&!c.includes("edge/"))return"Chrome";if(G(c))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function fe(p=(0,q.z$)()){return/firefox\//i.test(p)}function Je(p=(0,q.z$)()){const c=p.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function cr(p=(0,q.z$)()){return/crios\//i.test(p)}function il(p=(0,q.z$)()){return/iemobile/i.test(p)}function G(p=(0,q.z$)()){return/android/i.test(p)}function S(p=(0,q.z$)()){return/blackberry/i.test(p)}function ee(p=(0,q.z$)()){return/webos/i.test(p)}function ne(p=(0,q.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function ve(p=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function dr(p=(0,q.z$)()){return ne(p)||G(p)||ee(p)||S(p)||/windows phone/i.test(p)||il(p)}function Nn(p,c=[]){let h;switch(p){case"Browser":h=ye((0,q.z$)());break;case"Worker":h=`${ye((0,q.z$)())}-${p}`;break;default:h=p}const g=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${k.SDK_VERSION}/${g}`}class Qc{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,h){const g=I=>new Promise((N,j)=>{try{N(c(I))}catch(X){j(X)}});g.onAbort=h,this.queue.push(g);const y=this.queue.length-1;return()=>{this.queue[y]=()=>Promise.resolve()}}runMiddleware(c){var h=this;return(0,b.Z)(function*(){if(h.auth.currentUser===c)return;const g=[];try{for(const y of h.queue)yield y(c),y.onAbort&&g.push(y.onAbort)}catch(y){g.reverse();for(const I of g)try{I()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:y?.message})}})()}}function w_(){return(w_=(0,b.Z)(function*(p,c={}){return Z(p,"GET","/v2/passwordPolicy",U(p,c))})).apply(this,arguments)}class zM{constructor(c){var h,g,y,I;const N=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=N.minPasswordLength)&&void 0!==h?h:6,N.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=N.maxPasswordLength),void 0!==N.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=N.containsLowercaseCharacter),void 0!==N.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=N.containsUppercaseCharacter),void 0!==N.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=N.containsNumericCharacter),void 0!==N.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=N.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(y=null===(g=c.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==y?y:"",this.forceUpgradeOnSignin=null!==(I=c.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=c.schemaVersion}validatePassword(c){var h,g,y,I,N,j;const X={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,X),this.validatePasswordCharacterOptions(c,X),X.isValid&&(X.isValid=null===(h=X.meetsMinPasswordLength)||void 0===h||h),X.isValid&&(X.isValid=null===(g=X.meetsMaxPasswordLength)||void 0===g||g),X.isValid&&(X.isValid=null===(y=X.containsLowercaseLetter)||void 0===y||y),X.isValid&&(X.isValid=null===(I=X.containsUppercaseLetter)||void 0===I||I),X.isValid&&(X.isValid=null===(N=X.containsNumericCharacter)||void 0===N||N),X.isValid&&(X.isValid=null===(j=X.containsNonAlphanumericCharacter)||void 0===j||j),X}validatePasswordLengthOptions(c,h){const g=this.customStrengthOptions.minPasswordLength,y=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=c.length>=g),y&&(h.meetsMaxPasswordLength=c.length<=y)}validatePasswordCharacterOptions(c,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let y=0;y<c.length;y++)g=c.charAt(y),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(c,h,g,y,I){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=I))}}class WM{constructor(c,h,g,y){this.app=c,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new Qc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(c,h){var g=this;return h&&(this._popupRedirectResolver=B(h)),this._initializationPromise=this.queue((0,b.Z)(function*(){var y,I;if(!g._deleted&&(g.persistenceManager=yield bt.create(g,c),!g._deleted)){if(null!==(y=g._popupRedirectResolver)&&void 0!==y&&y._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(I=g.currentUser)||void 0===I?void 0:I.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,b.Z)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h,!0)}})()}initializeCurrentUser(c){var h=this;return(0,b.Z)(function*(){var g;const y=yield h.assertedPersistence.getCurrentUser();let I=y,N=!1;if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const j=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,X=I?._redirectEventId,Ce=yield h.tryRedirectSignIn(c);(!j||j===X)&&Ce?.user&&(I=Ce.user,N=!0)}if(!I)return h.directlySetCurrentUser(null);if(!I._redirectEventId){if(N)try{yield h.beforeStateQueue.runMiddleware(I)}catch(j){I=y,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(j))}return I?h.reloadAndSetCurrentUserOrClear(I):h.directlySetCurrentUser(null)}return te(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===I._redirectEventId?h.directlySetCurrentUser(I):h.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(c){var h=this;return(0,b.Z)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,b.Z)(function*(){try{yield Yn(c)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function qe(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var c=this;return(0,b.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,b.Z)(function*(){const g=c?(0,q.m9)(c):null;return g&&te(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(c,h=!1){var g=this;return(0,b.Z)(function*(){if(!g._deleted)return c&&te(g.tenantId===c.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(c)),g.queue((0,b.Z)(function*(){yield g.directlySetCurrentUser(c),g.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,b.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var h=this;return this.queue((0,b.Z)(function*(){yield h.assertedPersistence.setPersistence(B(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var h=this;return(0,b.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,b.Z)(function*(){const h=yield function lT(p){return w_.apply(this,arguments)}(c),g=new zM(h);null===c.tenantId?c._projectPasswordPolicy=g:c._tenantPasswordPolicies[c.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new q.LL("auth","Firebase",c())}onAuthStateChanged(c,h,g){return this.registerStateListener(this.authStateSubscription,c,h,g)}beforeAuthStateChanged(c,h){return this.beforeStateQueue.pushCallback(c,h)}onIdTokenChanged(c,h,g){return this.registerStateListener(this.idTokenSubscription,c,h,g)}authStateReady(){return new Promise((c,h)=>{if(this.currentUser)c();else{const g=this.onAuthStateChanged(()=>{g(),c()},h)}})}revokeAccessToken(c){var h=this;return(0,b.Z)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:g};null!=h.tenantId&&(y.tenantId=h.tenantId),yield function M(p,c){return R.apply(this,arguments)}(h,y)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var g=this;return(0,b.Z)(function*(){const y=yield g.getOrInitRedirectPersistenceManager(h);return null===c?y.removeCurrentUser():y.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,b.Z)(function*(){if(!h.redirectPersistenceManager){const g=c&&B(c)||h._popupRedirectResolver;te(g,h,"argument-error"),h.redirectPersistenceManager=yield bt.create(h,[B(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,b.Z)(function*(){var g,y;return h._isInitialized&&(yield h.queue((0,b.Z)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===c?h._currentUser:(null===(y=h.redirectUser)||void 0===y?void 0:y._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,b.Z)(function*(){if(c===h.currentUser)return h.queue((0,b.Z)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,g,y){if(this._deleted)return()=>{};const I="function"==typeof h?h:h.next.bind(h);let N=!1;const j=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(j,this,"internal-error"),j.then(()=>{N||I(this.currentUser)}),"function"==typeof h){const X=c.addObserver(h,g,y);return()=>{N=!0,X()}}{const X=c.addObserver(h);return()=>{N=!0,X()}}}directlySetCurrentUser(c){var h=this;return(0,b.Z)(function*(){h.currentUser&&h.currentUser!==c&&h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh(),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,b.Z)(function*(){var h;const g={"X-Client-Version":c.clientVersion};c.app.options.appId&&(g["X-Firebase-gmpid"]=c.app.options.appId);const y=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();y&&(g["X-Firebase-Client"]=y);const I=yield c._getAppCheckToken();return I&&(g["X-Firebase-AppCheck"]=I),g})()}_getAppCheckToken(){var c=this;return(0,b.Z)(function*(){var h;const g=yield null===(h=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function lr(p,...c){Ge.logLevel<=Se.in.WARN&&Ge.warn(`Auth (${k.SDK_VERSION}): ${p}`,...c)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Dn(p){return(0,q.m9)(p)}class uT{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,q.ne)(h=>this.observer=h)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function I_(p){return new Promise((c,h)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=c,g.onerror=y=>{const I=$t("internal-error");I.customData=y,h(I)},g.type="text/javascript",g.charset="UTF-8",function cT(){var p,c;return null!==(c=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==c?c:document}().appendChild(g)})}function T_(p){return`__${p}${Math.floor(1e6*Math.random())}`}const Ft="NO_RECAPTCHA";class dT{constructor(c){this.type="recaptcha-enterprise",this.auth=Dn(c)}verify(c="verify",h=!1){var g=this;return(0,b.Z)(function*(){function I(){return I=(0,b.Z)(function*(j){if(!h){if(null==j.tenantId&&null!=j._agentRecaptchaConfig)return j._agentRecaptchaConfig.siteKey;if(null!=j.tenantId&&void 0!==j._tenantRecaptchaConfigs[j.tenantId])return j._tenantRecaptchaConfigs[j.tenantId].siteKey}return new Promise(function(){var X=(0,b.Z)(function*(Ce,Fe){Ls(j,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(At=>{if(void 0!==At.recaptchaKey){const xi=new ur(At);return null==j.tenantId?j._agentRecaptchaConfig=xi:j._tenantRecaptchaConfigs[j.tenantId]=xi,Ce(xi.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch(At=>{Fe(At)})});return function(Ce,Fe){return X.apply(this,arguments)}}())}),I.apply(this,arguments)}function N(j,X,Ce){const Fe=window.grecaptcha;Zn(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute(j,{action:c}).then(At=>{X(At)}).catch(()=>{X(Ft)})}):Ce(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((j,X)=>{(function y(j){return I.apply(this,arguments)})(g.auth).then(Ce=>{if(!h&&Zn(window.grecaptcha))N(Ce,j,X);else{if(typeof window>"u")return void X(new Error("RecaptchaVerifier is only supported in browser"));I_("https://www.google.com/recaptcha/enterprise.js?render="+Ce).then(()=>{N(Ce,j,X)}).catch(Fe=>{X(Fe)})}}).catch(Ce=>{X(Ce)})})})()}}function hT(p,c,h){return C_.apply(this,arguments)}function C_(){return(C_=(0,b.Z)(function*(p,c,h,g=!1){const y=new dT(p);let I;try{I=yield y.verify(h)}catch{I=yield y.verify(h,!0)}const N=Object.assign({},c);return Object.assign(N,g?{captchaResp:I}:{captchaResponse:I}),Object.assign(N,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(N,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),N})).apply(this,arguments)}function we(p,c,h,g){return b_.apply(this,arguments)}function b_(){return b_=(0,b.Z)(function*(p,c,h,g){var y;if(null!==(y=p._getRecaptchaConfig())&&void 0!==y&&y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield hT(p,c,h,"getOobCode"===h);return g(p,I)}return g(p,c).catch(function(){var I=(0,b.Z)(function*(N){if("auth/missing-recaptcha-token"===N.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const j=yield hT(p,c,h,"getOobCode"===h);return g(p,j)}return Promise.reject(N)});return function(N){return I.apply(this,arguments)}}())}),b_.apply(this,arguments)}function D_(p,c,h){const g=Dn(p);te(g._canInitEmulator,g,"emulator-config-failed"),te(/^https?:\/\//.test(c),g,"invalid-emulator-scheme");const y=!!h?.disableWarnings,I=Of(c),{host:N,port:j}=function Zc(p){const c=Of(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(c.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",y=/^(\[[^\]]+\])(:|$)/.exec(g);if(y){const I=y[1];return{host:I,port:Yc(g.substr(I.length+1))}}{const[I,N]=g.split(":");return{host:I,port:Yc(N)}}}(c);g.config.emulator={url:`${I}//${N}${null===j?"":`:${j}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:N,port:j,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:y})}),y||function S_(){function p(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function Of(p){const c=p.indexOf(":");return c<0?"":p.substr(0,c+1)}function Yc(p){if(!p)return null;const c=Number(p);return isNaN(c)?null:c}class ol{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return wt("not implemented")}_getIdTokenResponse(c){return wt("not implemented")}_linkToIdToken(c,h){return wt("not implemented")}_getReauthenticationResolver(c){return wt("not implemented")}}function Ue(p,c){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:resetPassword",U(p,c))})).apply(this,arguments)}function oi(){return(oi=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function R_(p,c){return P_.apply(this,arguments)}function P_(){return(P_=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function M_(){return(M_=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:update",U(p,c))})).apply(this,arguments)}function qM(p,c){return x_.apply(this,arguments)}function x_(){return(x_=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signInWithPassword",U(p,c))})).apply(this,arguments)}function xo(p,c){return bu.apply(this,arguments)}function bu(){return(bu=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:sendOobCode",U(p,c))})).apply(this,arguments)}function Ff(){return(Ff=(0,b.Z)(function*(p,c){return xo(p,c)})).apply(this,arguments)}function gT(p,c){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,b.Z)(function*(p,c){return xo(p,c)})).apply(this,arguments)}function N_(p,c){return pa.apply(this,arguments)}function pa(){return(pa=(0,b.Z)(function*(p,c){return xo(p,c)})).apply(this,arguments)}function Vf(){return(Vf=(0,b.Z)(function*(p,c){return xo(p,c)})).apply(this,arguments)}function Xc(){return(Xc=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signInWithEmailLink",U(p,c))})).apply(this,arguments)}function ll(){return(ll=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signInWithEmailLink",U(p,c))})).apply(this,arguments)}class ga extends ol{constructor(c,h,g,y=null){super("password",g),this._email=c,this._password=h,this._tenantId=y}static _fromEmailAndPassword(c,h){return new ga(c,h,"password")}static _fromEmailAndCode(c,h,g=null){return new ga(c,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,b.Z)(function*(){switch(h.signInMethod){case"password":return we(c,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qM);case"emailLink":return function ae(p,c){return Xc.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:ht(c,"internal-error")}})()}_linkToIdToken(c,h){var g=this;return(0,b.Z)(function*(){switch(g.signInMethod){case"password":return we(c,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R_);case"emailLink":return function rt(p,c){return ll.apply(this,arguments)}(c,{idToken:h,email:g._email,oobCode:g._password});default:ht(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Si(p,c){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signInWithIdp",U(p,c))})).apply(this,arguments)}class $s extends ol{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new $s(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):ht("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:y}=h,I=(0,Rt._T)(h,["providerId","signInMethod"]);if(!g||!y)return null;const N=new $s(g,y);return N.idToken=I.idToken||void 0,N.accessToken=I.accessToken||void 0,N.secret=I.secret,N.nonce=I.nonce,N.pendingToken=I.pendingToken||null,N}_getIdTokenResponse(c){return Si(c,this.buildRequest())}_linkToIdToken(c,h){const g=this.buildRequest();return g.idToken=h,Si(c,g)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Si(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,q.xO)(h)}return c}}function zi(){return(zi=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:sendVerificationCode",U(p,c))})).apply(this,arguments)}function ys(){return(ys=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signInWithPhoneNumber",U(p,c))})).apply(this,arguments)}function ul(){return(ul=(0,b.Z)(function*(p,c){const h=yield ue(p,"POST","/v1/accounts:signInWithPhoneNumber",U(p,c));if(h.temporaryProof)throw un(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Uf={USER_NOT_FOUND:"user-not-found"};function ed(){return(ed=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signInWithPhoneNumber",U(p,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Uf)})).apply(this,arguments)}class jr extends ol{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new jr({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new jr({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function _s(p,c){return ys.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function Ot(p,c){return ul.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function $f(p,c){return ed.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:g,verificationCode:y}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:g,code:y}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:I}=c;return g||h||y||I?new jr({verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:I}):null}}class ai{constructor(c){var h,g,y,I,N,j;const X=(0,q.zd)((0,q.pd)(c)),Ce=null!==(h=X.apiKey)&&void 0!==h?h:null,Fe=null!==(g=X.oobCode)&&void 0!==g?g:null,At=function Au(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(y=X.mode)&&void 0!==y?y:null);te(Ce&&Fe&&At,"argument-error"),this.apiKey=Ce,this.operation=At,this.code=Fe,this.continueUrl=null!==(I=X.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(N=X.languageCode)&&void 0!==N?N:null,this.tenantId=null!==(j=X.tenantId)&&void 0!==j?j:null}static parseLink(c){const h=function _T(p){const c=(0,q.zd)((0,q.pd)(p)).link,h=c?(0,q.zd)((0,q.pd)(c)).deep_link_id:null,g=(0,q.zd)((0,q.pd)(p)).deep_link_id;return(g?(0,q.zd)((0,q.pd)(g)).link:null)||g||h||c||p}(c);try{return new ai(h)}catch{return null}}}let jf=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,g){return ga._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const y=ai.parseLink(g);return te(y,"argument-error"),ga._fromEmailAndCode(h,y.code,y.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class lo{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class vn extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Du extends vn{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return te("providerId"in h&&"signInMethod"in h,"argument-error"),$s._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return te(c.idToken||c.accessToken,"argument-error"),$s._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Du.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Du.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:y,pendingToken:I,nonce:N,providerId:j}=c;if(!g&&!y&&!h&&!I||!j)return null;try{return new Du(j)._credential({idToken:h,accessToken:g,nonce:N,pendingToken:I})}catch{return null}}}let k_=(()=>{class p extends vn{constructor(){super("facebook.com")}static credential(h){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),He=(()=>{class p extends vn{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:y}=h;if(!g&&!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),li=(()=>{class p extends vn{constructor(){super("github.com")}static credential(h){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class kn extends ol{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return Si(c,this.buildRequest())}_linkToIdToken(c,h){const g=this.buildRequest();return g.idToken=h,Si(c,g)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Si(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:y,pendingToken:I}=h;return g&&y&&I&&g===y?new kn(g,I):null}static _create(c,h){return new kn(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uo extends lo{constructor(c){te(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return uo.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return uo.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=kn.fromJSON(c);return te(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:g}=c;if(!h||!g)return null;try{return kn._create(g,h)}catch{return null}}}let Ri=(()=>{class p extends vn{constructor(){super("twitter.com")}static credential(h,g){return $s._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:y}=h;if(!g||!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Hf(p,c){return td.apply(this,arguments)}function td(){return(td=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signUp",U(p,c))})).apply(this,arguments)}class Hr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,g,y=!1){return(0,b.Z)(function*(){const I=yield E._fromIdTokenResponse(c,g,y),N=js(g);return new Hr({user:I,providerId:N,_tokenResponse:g,operationType:h})})()}static _forOperation(c,h,g){return(0,b.Z)(function*(){yield c._updateTokensIfNecessary(g,!0);const y=js(g);return new Hr({user:c,providerId:y,_tokenResponse:g,operationType:h})})()}}function js(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Ie(p){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,b.Z)(function*(p){var c;const h=Dn(p);if(yield h._initializationPromise,null!==(c=h.currentUser)&&void 0!==c&&c.isAnonymous)return new Hr({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield Hf(h,{returnSecureToken:!0}),y=yield Hr._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(y.user),y})).apply(this,arguments)}class tn extends q.ZR{constructor(c,h,g,y){var I;super(h.code,h.message),this.operationType=g,this.user=y,Object.setPrototypeOf(this,tn.prototype),this.customData={appName:c.name,tenantId:null!==(I=c.tenantId)&&void 0!==I?I:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(c,h,g,y){return new tn(c,h,g,y)}}function Wi(p,c,h,g){return("reauthenticate"===c?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?tn._fromErrorAndOperation(p,I,c,g):I})}function No(p){return new Set(p.map(({providerId:c})=>c).filter(c=>!!c))}function xr(p,c){return ko.apply(this,arguments)}function ko(){return ko=(0,b.Z)(function*(p,c){const h=(0,q.m9)(p);yield ma(!0,h,c);const{providerUserInfo:g}=yield function fs(p,c){return ps.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),y=No(g||[]);return h.providerData=h.providerData.filter(I=>y.has(I.providerId)),y.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),ko.apply(this,arguments)}function En(p,c){return cl.apply(this,arguments)}function cl(){return(cl=(0,b.Z)(function*(p,c,h=!1){const g=yield cn(p,c._linkToIdToken(p.auth,yield p.getIdToken()),h);return Hr._forOperation(p,"link",g)})).apply(this,arguments)}function ma(p,c,h){return tt.apply(this,arguments)}function tt(){return(tt=(0,b.Z)(function*(p,c,h){yield Yn(c);const y=!1===p?"provider-already-linked":"no-such-provider";te(No(c.providerData).has(h)===p,c.auth,y)})).apply(this,arguments)}function nd(p,c){return _a.apply(this,arguments)}function _a(){return(_a=(0,b.Z)(function*(p,c,h=!1){const{auth:g}=p,y="reauthenticate";try{const I=yield cn(p,Wi(g,y,c,p),h);te(I.idToken,g,"internal-error");const N=An(I.idToken);te(N,g,"internal-error");const{sub:j}=N;return te(p.uid===j,g,"user-mismatch"),Hr._forOperation(p,y,I)}catch(I){throw"auth/user-not-found"===I?.code&&ht(g,"user-mismatch"),I}})).apply(this,arguments)}function zf(p,c){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,b.Z)(function*(p,c,h=!1){const g="signIn",y=yield Wi(p,g,c),I=yield Hr._fromIdTokenResponse(p,g,y);return h||(yield p._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Xn(p,c){return ya.apply(this,arguments)}function ya(){return(ya=(0,b.Z)(function*(p,c){return zf(Dn(p),c)})).apply(this,arguments)}function va(p,c){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,b.Z)(function*(p,c){const h=(0,q.m9)(p);return yield ma(!1,h,c.providerId),En(h,c)})).apply(this,arguments)}function dl(p,c){return rd.apply(this,arguments)}function rd(){return(rd=(0,b.Z)(function*(p,c){return nd((0,q.m9)(p),c)})).apply(this,arguments)}function O_(){return(O_=(0,b.Z)(function*(p,c){return ue(p,"POST","/v1/accounts:signInWithCustomToken",U(p,c))})).apply(this,arguments)}function Wf(p,c){return id.apply(this,arguments)}function id(){return id=(0,b.Z)(function*(p,c){const h=Dn(p),g=yield function nn(p,c){return O_.apply(this,arguments)}(h,{token:c,returnSecureToken:!0}),y=yield Hr._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(y.user),y}),id.apply(this,arguments)}class Fo{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?hl._fromServerResponse(c,h):"totpInfo"in h?Lo._fromServerResponse(c,h):ht(c,"internal-error")}}class hl extends Fo{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new hl(h)}}class Lo extends Fo{constructor(c){super("totp",c)}static _fromServerResponse(c,h){return new Lo(h)}}function hr(p,c,h){var g;te((null===(g=h.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),te(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(te(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(te(h.android.packageName.length>0,p,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function F_(p){return zr.apply(this,arguments)}function zr(){return(zr=(0,b.Z)(function*(p){const c=Dn(p);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function vs(p,c,h){return Su.apply(this,arguments)}function Su(){return(Su=(0,b.Z)(function*(p,c,h){const g=Dn(p),y={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};h&&hr(g,y,h),yield we(g,y,"getOobCode",gT)})).apply(this,arguments)}function Ru(p,c,h){return fl.apply(this,arguments)}function fl(){return fl=(0,b.Z)(function*(p,c,h){yield Ue((0,q.m9)(p),{oobCode:c,newPassword:h}).catch(function(){var g=(0,b.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&F_(p),y});return function(y){return g.apply(this,arguments)}}())}),fl.apply(this,arguments)}function Es(p,c){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,b.Z)(function*(p,c){yield function en(p,c){return M_.apply(this,arguments)}((0,q.m9)(p),{oobCode:c})}),Gf.apply(this,arguments)}function yT(p,c){return qf.apply(this,arguments)}function qf(){return(qf=(0,b.Z)(function*(p,c){const h=(0,q.m9)(p),g=yield Ue(h,{oobCode:c}),y=g.requestType;switch(te(y,h,"internal-error"),y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(g.mfaInfo,h,"internal-error");default:te(g.email,h,"internal-error")}let I=null;return g.mfaInfo&&(I=Fo._fromServerResponse(Dn(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:I},operation:y}})).apply(this,arguments)}function vT(p,c){return L_.apply(this,arguments)}function L_(){return(L_=(0,b.Z)(function*(p,c){const{data:h}=yield yT((0,q.m9)(p),c);return h.email})).apply(this,arguments)}function QM(p,c,h){return V_.apply(this,arguments)}function V_(){return(V_=(0,b.Z)(function*(p,c,h){const g=Dn(p),N=yield we(g,{returnSecureToken:!0,email:c,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hf).catch(X=>{throw"auth/password-does-not-meet-requirements"===X.code&&F_(p),X}),j=yield Hr._fromIdTokenResponse(g,"signIn",N);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}function ZM(p,c,h){return Xn((0,q.m9)(p),jf.credential(c,h)).catch(function(){var g=(0,b.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&F_(p),y});return function(y){return g.apply(this,arguments)}}())}function YM(p,c,h){return B_.apply(this,arguments)}function B_(){return(B_=(0,b.Z)(function*(p,c,h){const g=Dn(p),y={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function I(N,j){te(j.handleCodeInApp,g,"argument-error"),j&&hr(g,N,j)})(y,h),yield we(g,y,"getOobCode",N_)})).apply(this,arguments)}function JM(p,c){return"EMAIL_SIGNIN"===ai.parseLink(c)?.operation}function XM(p,c,h){return U_.apply(this,arguments)}function U_(){return(U_=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p),y=jf.credentialWithLink(c,h||Cn());return te(y._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Xn(g,y)})).apply(this,arguments)}function $_(){return($_=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:createAuthUri",U(p,c))})).apply(this,arguments)}function tx(p,c){return sd.apply(this,arguments)}function sd(){return sd=(0,b.Z)(function*(p,c){const g={identifier:c,continueUri:bn()?Cn():"http://localhost"},{signinMethods:y}=yield function ex(p,c){return $_.apply(this,arguments)}((0,q.m9)(p),g);return y||[]}),sd.apply(this,arguments)}function j_(p,c){return H_.apply(this,arguments)}function H_(){return H_=(0,b.Z)(function*(p,c){const h=(0,q.m9)(p),y={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};c&&hr(h.auth,y,c);const{email:I}=yield function Jc(p,c){return Ff.apply(this,arguments)}(h.auth,y);I!==p.email&&(yield p.reload())}),H_.apply(this,arguments)}function nx(p,c,h){return z_.apply(this,arguments)}function z_(){return z_=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:c};h&&hr(g.auth,I,h);const{email:N}=yield function al(p,c){return Vf.apply(this,arguments)}(g.auth,I);N!==p.email&&(yield p.reload())}),z_.apply(this,arguments)}function Kf(){return(Kf=(0,b.Z)(function*(p,c){return Z(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function qi(p,c){return od.apply(this,arguments)}function od(){return od=(0,b.Z)(function*(p,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const g=(0,q.m9)(p),I={idToken:yield g.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},N=yield cn(g,function Ea(p,c){return Kf.apply(this,arguments)}(g.auth,I));g.displayName=N.displayName||null,g.photoURL=N.photoUrl||null;const j=g.providerData.find(({providerId:X})=>"password"===X);j&&(j.displayName=g.displayName,j.photoURL=g.photoURL),yield g._updateTokensIfNecessary(N)}),od.apply(this,arguments)}function ET(p,c){return Qf((0,q.m9)(p),c,null)}function wT(p,c){return Qf((0,q.m9)(p),null,c)}function Qf(p,c,h){return ad.apply(this,arguments)}function ad(){return ad=(0,b.Z)(function*(p,c,h){const{auth:g}=p,I={idToken:yield p.getIdToken(),returnSecureToken:!0};c&&(I.email=c),h&&(I.password=h);const N=yield cn(p,function pT(p,c){return oi.apply(this,arguments)}(g,I));yield p._updateTokensIfNecessary(N,!0)}),ad.apply(this,arguments)}class Vo{constructor(c,h,g={}){this.isNewUser=c,this.providerId=h,this.profile=g}}class W_ extends Vo{constructor(c,h,g,y){super(c,h,g),this.username=y}}class Ki extends Vo{constructor(c,h){super(c,"facebook.com",h)}}class G_ extends W_{constructor(c,h){super(c,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class q_ extends Vo{constructor(c,h){super(c,"google.com",h)}}class Ir extends W_{constructor(c,h,g){super(c,"twitter.com",h,g)}}function TT(p){const{user:c,_tokenResponse:h}=p;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function IT(p){var c,h;if(!p)return null;const{providerId:g}=p,y=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},I=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const N=null===(h=null===(c=An(p.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(N)return new Vo(I,"anonymous"!==N&&"custom"!==N?N:null)}if(!g)return null;switch(g){case"facebook.com":return new Ki(I,y);case"github.com":return new G_(I,y);case"google.com":return new q_(I,y);case"twitter.com":return new Ir(I,y,p.screenName||null);case"custom":case"anonymous":return new Vo(I,null);default:return new Vo(I,g,y)}}(h)}class Bo{constructor(c,h,g){this.type=c,this.credential=h,this.user=g}static _fromIdtoken(c,h){return new Bo("enroll",c,h)}static _fromMfaPendingCredential(c){return new Bo("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,g;if(c?.multiFactorSession){if(null!==(h=c.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Bo._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(g=c.multiFactorSession)&&void 0!==g&&g.idToken)return Bo._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Q_{constructor(c,h,g){this.session=c,this.hints=h,this.signInResolver=g}static _fromError(c,h){const g=Dn(c),y=h.customData._serverResponse,I=(y.mfaInfo||[]).map(j=>Fo._fromServerResponse(g,j));te(y.mfaPendingCredential,g,"internal-error");const N=Bo._fromMfaPendingCredential(y.mfaPendingCredential);return new Q_(N,I,function(){var j=(0,b.Z)(function*(X){const Ce=yield X._process(g,N);delete y.mfaInfo,delete y.mfaPendingCredential;const Fe=Object.assign(Object.assign({},y),{idToken:Ce.idToken,refreshToken:Ce.refreshToken});switch(h.operationType){case"signIn":const At=yield Hr._fromIdTokenResponse(g,h.operationType,Fe);return yield g._updateCurrentUser(At.user),At;case"reauthenticate":return te(h.user,g,"internal-error"),Hr._forOperation(h.user,h.operationType,Fe);default:ht(g,"internal-error")}});return function(X){return j.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,b.Z)(function*(){return h.signInResolver(c)})()}}function bT(p,c){var h;const g=(0,q.m9)(p),y=c;return te(c.customData.operationType,g,"argument-error"),te(null===(h=y.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),Q_._fromError(g,y)}class Y{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>Fo._fromServerResponse(c.auth,g)))})}static _fromUser(c){return new Y(c)}getSession(){var c=this;return(0,b.Z)(function*(){return Bo._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,h){var g=this;return(0,b.Z)(function*(){const y=c,I=yield g.getSession(),N=yield cn(g.user,y._process(g.user.auth,I,h));return yield g.user._updateTokensIfNecessary(N),g.user.reload()})()}unenroll(c){var h=this;return(0,b.Z)(function*(){const g="string"==typeof c?c:c.uid,y=yield h.user.getIdToken();try{const I=yield cn(h.user,function PT(p,c){return Z(p,"POST","/v2/accounts/mfaEnrollment:withdraw",U(p,c))}(h.user.auth,{idToken:y,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:N})=>N!==g),yield h.user._updateTokensIfNecessary(I),yield h.user.reload()}catch(I){throw I}})()}}const yt=new WeakMap;function Jf(p){const c=(0,q.m9)(p);return yt.has(c)||yt.set(c,Y._fromUser(c)),yt.get(c)}const gl="__sak";class fr{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(gl,"1"),this.storage.removeItem(gl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const ud=(()=>{class p extends fr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Z_(){const p=(0,q.z$)();return Je(p)||ne(p)}()&&function yn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dr(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const y=this.storage.getItem(g),I=this.localCache[g];y!==I&&h(g,I,y)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((j,X,Ce)=>{this.notifyListeners(j,Ce)});const y=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const j=this.storage.getItem(y);if(h.newValue!==j)null!==h.newValue?this.storage.setItem(y,h.newValue):this.storage.removeItem(y);else if(this.localCache[y]===h.newValue&&!g)return}const I=()=>{const j=this.storage.getItem(y);!g&&this.localCache[y]===j||this.notifyListeners(y,j)},N=this.storage.getItem(y);!function kt(){return(0,q.w1)()&&10===document.documentMode}()||N===h.newValue||h.newValue===h.oldValue?I():setTimeout(I,10)}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const I of Array.from(y))I(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,y)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var y=()=>super._set,I=this;return(0,b.Z)(function*(){yield y().call(I,h,g),I.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,y=this;return(0,b.Z)(function*(){const I=yield g().call(y,h);return y.localCache[h]=JSON.stringify(I),I})()}_remove(h){var g=()=>super._remove,y=this;return(0,b.Z)(function*(){yield g().call(y,h),delete y.localCache[h]})()}}return p.type="LOCAL",p})(),J_=(()=>{class p extends fr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return p.type="SESSION",p})();let Wr=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(I=>I.isListeningto(h));if(g)return g;const y=new p(h);return this.receivers.push(y),y}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,b.Z)(function*(){const y=h,{eventId:I,eventType:N,data:j}=y.data,X=g.handlersMap[N];if(!X?.size)return;y.ports[0].postMessage({status:"ack",eventId:I,eventType:N});const Ce=Array.from(X).map(function(){var At=(0,b.Z)(function*(xi){return xi(y.origin,j)});return function(xi){return At.apply(this,arguments)}}()),Fe=yield function X_(p){return Promise.all(p.map(function(){var c=(0,b.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return c.apply(this,arguments)}}()))}(Ce);y.ports[0].postMessage({status:"done",eventId:I,eventType:N,response:Fe})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Pi(p="",c=10){let h="";for(let g=0;g<c;g++)h+=Math.floor(10*Math.random());return p+h}class ey{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,g=50){var y=this;return(0,b.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let N,j;return new Promise((X,Ce)=>{const Fe=Pi("",20);I.port1.start();const At=setTimeout(()=>{Ce(new Error("unsupported_event"))},g);j={messageChannel:I,onMessage(xi){const Ra=xi;if(Ra.data.eventId===Fe)switch(Ra.data.status){case"ack":clearTimeout(At),N=setTimeout(()=>{Ce(new Error("timeout"))},3e3);break;case"done":clearTimeout(N),X(Ra.data.response);break;default:clearTimeout(At),clearTimeout(N),Ce(new Error("invalid_response"))}}},y.handlers.add(j),I.port1.addEventListener("message",j.onMessage),y.target.postMessage({eventType:c,eventId:Fe,data:h},[I.port2])}).finally(()=>{j&&y.removeMessageHandler(j)})})()}}function rn(){return window}function Xf(){return typeof rn().WorkerGlobalScope<"u"&&"function"==typeof rn().importScripts}function ep(){return(ep=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cd="firebaseLocalStorageDb",ny=1,ml="firebaseLocalStorage",ry="fbase_key";class _l{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function yl(p,c){return p.transaction([ml],c?"readwrite":"readonly").objectStore(ml)}function dd(){const p=indexedDB.open(cd,ny);return new Promise((c,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(ml,{keyPath:ry})}catch(y){h(y)}}),p.addEventListener("success",(0,b.Z)(function*(){const g=p.result;g.objectStoreNames.contains(ml)?c(g):(g.close(),yield function iy(){const p=indexedDB.deleteDatabase(cd);return new _l(p).toPromise()}(),c(yield dd()))}))})}function np(p,c,h){return hd.apply(this,arguments)}function hd(){return(hd=(0,b.Z)(function*(p,c,h){const g=yl(p,!0).put({[ry]:c,value:h});return new _l(g).toPromise()})).apply(this,arguments)}function ip(){return(ip=(0,b.Z)(function*(p,c){const h=yl(p,!1).get(c),g=yield new _l(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function sy(p,c){const h=yl(p,!0).delete(c);return new _l(h).toPromise()}const fd=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,b.Z)(function*(){return h.db||(h.db=yield dd()),h.db})()}_withRetries(h){var g=this;return(0,b.Z)(function*(){let y=0;for(;;)try{const I=yield g._openDb();return yield h(I)}catch(I){if(y++>3)throw I;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,b.Z)(function*(){return Xf()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,b.Z)(function*(){h.receiver=Wr._getInstance(function tp(){return Xf()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,b.Z)(function*(y,I){return{keyProcessed:(yield h._poll()).includes(I.key)}});return function(y,I){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,b.Z)(function*(y,I){return["keyChanged"]});return function(y,I){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,b.Z)(function*(){var g,y;if(h.activeServiceWorker=yield function ty(){return ep.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new ey(h.activeServiceWorker);const I=yield h.sender._send("ping",{},800);I&&null!==(g=I[0])&&void 0!==g&&g.fulfilled&&null!==(y=I[0])&&void 0!==y&&y.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,b.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function MT(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const h=yield dd();return yield np(h,gl,"1"),yield sy(h,gl),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,b.Z)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var y=this;return(0,b.Z)(function*(){return y._withPendingWrite((0,b.Z)(function*(){return yield y._withRetries(I=>np(I,h,g)),y.localCache[h]=g,y.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,b.Z)(function*(){const y=yield g._withRetries(I=>function rp(p,c){return ip.apply(this,arguments)}(I,h));return g.localCache[h]=y,y})()}_remove(h){var g=this;return(0,b.Z)(function*(){return g._withPendingWrite((0,b.Z)(function*(){return yield g._withRetries(y=>sy(y,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,b.Z)(function*(){const g=yield h._withRetries(N=>{const j=yl(N,!1).getAll();return new _l(j).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const y=[],I=new Set;for(const{fbase_key:N,value:j}of g)I.add(N),JSON.stringify(h.localCache[N])!==JSON.stringify(j)&&(h.notifyListeners(N,j),y.push(N));for(const N of Object.keys(h.localCache))h.localCache[N]&&!I.has(N)&&(h.notifyListeners(N,null),y.push(N));return y})()}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const I of Array.from(y))I(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Ta=1e12;class pd{constructor(c){this.auth=c,this.counter=Ta,this._widgets=new Map}render(c,h){const g=this.counter;return this._widgets.set(g,new gd(c,this.auth.name,h||{})),this.counter++,g}reset(c){var h;const g=c||Ta;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(c){var h;return(null===(h=this._widgets.get(c||Ta))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,b.Z)(function*(){var g;return null===(g=h._widgets.get(c||Ta))||void 0===g||g.execute(),""})()}}class gd{constructor(c,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const y="string"==typeof c?document.getElementById(c):c;te(y,"argument-error",{appName:h}),this.container=y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sp(p){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)c.push(h.charAt(Math.floor(Math.random()*h.length)));return c.join("")}(50);const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const md=T_("rcb"),FT=new ri(3e4,6e4);class Mu{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=rn().grecaptcha)||void 0===c||!c.render)}load(c,h=""){return te(function LT(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),c,"argument-error"),this.shouldResolveImmediately(h)&&jn(rn().grecaptcha)?Promise.resolve(rn().grecaptcha):new Promise((g,y)=>{const I=rn().setTimeout(()=>{y($t(c,"network-request-failed"))},FT.get());rn()[md]=()=>{rn().clearTimeout(I),delete rn()[md];const j=rn().grecaptcha;if(!j||!jn(j))return void y($t(c,"internal-error"));const X=j.render;j.render=(Ce,Fe)=>{const At=X(Ce,Fe);return this.counter++,At},this.hostLanguage=h,g(j)},I_(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:md,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(I),y($t(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var h;return!(null===(h=rn().grecaptcha)||void 0===h||!h.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ax{load(c){return(0,b.Z)(function*(){return new pd(c)})()}clearedOneInstance(){}}const _d="recaptcha",lx={theme:"light",type:"image"};class VT{constructor(c,h,g=Object.assign({},lx)){this.parameters=g,this.type=_d,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dn(c),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const y="string"==typeof h?document.getElementById(h):h;te(y,this.auth,"argument-error"),this.container=y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ax:new Mu,this.validateStartingState()}verify(){var c=this;return(0,b.Z)(function*(){c.assertNotDestroyed();const h=yield c.render(),g=c.getAssertedRecaptcha();return g.getResponse(h)||new Promise(I=>{const N=j=>{j&&(c.tokenChangeListeners.delete(N),I(j))};c.tokenChangeListeners.add(N),c.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof c)c(h);else if("string"==typeof c){const g=rn()[c];"function"==typeof g&&g(h)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,b.Z)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,b.Z)(function*(){te(bn()&&!Xf(),c.auth,"internal-error"),yield function BT(){let p=null;return new Promise(c=>{"complete"!==document.readyState?(p=()=>c(),window.addEventListener("load",p)):c()}).catch(c=>{throw p&&window.removeEventListener("load",p),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function ii(p){return $i.apply(this,arguments)}(c.auth);te(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ay{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=jr._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function ux(p,c,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,b.Z)(function*(p,c,h){const g=Dn(p),y=yield ku(g,c,(0,q.m9)(h));return new ay(y,I=>Xn(g,I))})).apply(this,arguments)}function ly(p,c,h){return yd.apply(this,arguments)}function yd(){return(yd=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p);yield ma(!1,g,"phone");const y=yield ku(g.auth,c,(0,q.m9)(h));return new ay(y,I=>va(g,I))})).apply(this,arguments)}function Nu(p,c,h){return vd.apply(this,arguments)}function vd(){return(vd=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p),y=yield ku(g.auth,c,(0,q.m9)(h));return new ay(y,I=>dl(g,I))})).apply(this,arguments)}function ku(p,c,h){return El.apply(this,arguments)}function El(){return El=(0,b.Z)(function*(p,c,h){var g;const y=yield h.verify();try{let I;if(te("string"==typeof y,p,"argument-error"),te(h.type===_d,p,"argument-error"),I="string"==typeof c?{phoneNumber:c}:c,"session"in I){const N=I.session;if("phoneNumber"in I)return te("enroll"===N.type,p,"internal-error"),(yield function AT(p,c){return Z(p,"POST","/v2/accounts/mfaEnrollment:start",U(p,c))}(p,{idToken:N.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:y}})).phoneSessionInfo.sessionInfo;{te("signin"===N.type,p,"internal-error");const j=(null===(g=I.multiFactorHint)||void 0===g?void 0:g.uid)||I.multiFactorUid;return te(j,p,"missing-multi-factor-info"),(yield function xT(p,c){return Z(p,"POST","/v2/accounts/mfaSignIn:start",U(p,c))}(p,{mfaPendingCredential:N.credential,mfaEnrollmentId:j,phoneSignInInfo:{recaptchaToken:y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:N}=yield function ao(p,c){return zi.apply(this,arguments)}(p,{phoneNumber:I.phoneNumber,recaptchaToken:y});return N}}finally{h._reset()}}),El.apply(this,arguments)}function UT(p,c){return wl.apply(this,arguments)}function wl(){return(wl=(0,b.Z)(function*(p,c){yield En((0,q.m9)(p),c)})).apply(this,arguments)}let op=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=Dn(h)}verifyPhoneNumber(h,g){return ku(this.auth,h,(0,q.m9)(g))}static credential(h,g){return jr._fromVerification(h,g)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:y}=h;return g&&y?jr._fromTokenResponse(g,y):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function zs(p,c){return c?B(c):(te(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class uy extends ol{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Si(c,this._buildIdpRequest())}_linkToIdToken(c,h){return Si(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return Si(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function cy(p){return zf(p.auth,new uy(p),p.bypassAuthState)}function dy(p){const{auth:c,user:h}=p;return te(h,c,"internal-error"),nd(h,new uy(p),p.bypassAuthState)}function $T(p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,b.Z)(function*(p){const{auth:c,user:h}=p;return te(h,c,"internal-error"),En(h,new uy(p),p.bypassAuthState)})).apply(this,arguments)}class hy{constructor(c,h,g,y,I=!1){this.auth=c,this.resolver=g,this.user=y,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,b.Z)(function*(g,y){c.pendingPromise={resolve:g,reject:y};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(I){c.reject(I)}});return function(g,y){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,b.Z)(function*(){const{urlResponse:g,sessionId:y,postBody:I,tenantId:N,error:j,type:X}=c;if(j)return void h.reject(j);const Ce={auth:h.auth,requestUri:g,sessionId:y,tenantId:N||void 0,postBody:I||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(X)(Ce))}catch(Fe){h.reject(Fe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return cy;case"linkViaPopup":case"linkViaRedirect":return $T;case"reauthViaPopup":case"reauthViaRedirect":return dy;default:ht(this.auth,"internal-error")}}resolve(c){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ed=new ri(2e3,1e4);function ap(p,c,h){return wd.apply(this,arguments)}function wd(){return(wd=(0,b.Z)(function*(p,c,h){const g=Dn(p);$n(p,c,lo);const y=zs(g,h);return new Td(g,"signInViaPopup",c,y).executeNotNull()})).apply(this,arguments)}function lp(p,c,h){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p);$n(g.auth,c,lo);const y=zs(g.auth,h);return new Td(g.auth,"reauthViaPopup",c,y,g).executeNotNull()})).apply(this,arguments)}function jT(p,c,h){return Id.apply(this,arguments)}function Id(){return(Id=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p);$n(g.auth,c,lo);const y=zs(g.auth,h);return new Td(g.auth,"linkViaPopup",c,y,g).executeNotNull()})).apply(this,arguments)}let Td=(()=>{class p extends hy{constructor(h,g,y,I,N){super(h,g,I,N),this.provider=y,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,b.Z)(function*(){const g=yield h.execute();return te(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,b.Z)(function*(){Xt(1===h.filter.length,"Popup operations only handle one event");const g=Pi();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(y=>{h.reject(y)}),h.resolver._isIframeWebStorageSupported(h.auth,y=>{y||h.reject($t(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,y;this.pollId=null!==(y=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==y&&y.closed?window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Ed.get())};h()}}return p.currentPopupAction=null,p})();const fy="pendingRedirect",Il=new Map;class HT extends hy{constructor(c,h,g=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,b.Z)(function*(){let g=Il.get(h.auth._key());if(!g){try{const I=(yield function Cd(p,c){return ho.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;g=()=>Promise.resolve(I)}catch(y){g=()=>Promise.reject(y)}Il.set(h.auth._key(),g)}return h.bypassAuthState||Il.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,g=this;return(0,b.Z)(function*(){if("signInViaRedirect"===c.type)return h().call(g,c);if("unknown"!==c.type){if(c.eventId){const y=yield g.auth._redirectUserForId(c.eventId);if(y)return g.user=y,h().call(g,c);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function ho(){return(ho=(0,b.Z)(function*(p,c){const h=pr(c),g=gy(p);if(!(yield g._isAvailable()))return!1;const y="true"===(yield g._get(h));return yield g._remove(h),y})).apply(this,arguments)}function up(p,c){return bd.apply(this,arguments)}function bd(){return(bd=(0,b.Z)(function*(p,c){return gy(p)._set(pr(c),"true")})).apply(this,arguments)}function py(){Il.clear()}function Ca(p,c){Il.set(p._key(),c)}function gy(p){return B(p._redirectPersistence)}function pr(p){return $e(fy,p.config.apiKey,p.name)}function cp(p,c,h){return function zT(p,c,h){return Ad.apply(this,arguments)}(p,c,h)}function Ad(){return(Ad=(0,b.Z)(function*(p,c,h){const g=Dn(p);$n(p,c,lo),yield g._initializationPromise;const y=zs(g,h);return yield up(y,g),y._openRedirect(g,c,"signInViaRedirect")})).apply(this,arguments)}function Dd(p,c,h){return function Tl(p,c,h){return Uo.apply(this,arguments)}(p,c,h)}function Uo(){return(Uo=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p);$n(g.auth,c,lo),yield g.auth._initializationPromise;const y=zs(g.auth,h);yield up(y,g.auth);const I=yield WT(g);return y._openRedirect(g.auth,c,"reauthViaRedirect",I)})).apply(this,arguments)}function Cl(p,c,h){return function my(p,c,h){return Fu.apply(this,arguments)}(p,c,h)}function Fu(){return(Fu=(0,b.Z)(function*(p,c,h){const g=(0,q.m9)(p);$n(g.auth,c,lo),yield g.auth._initializationPromise;const y=zs(g.auth,h);yield ma(!1,g,c.providerId),yield up(y,g.auth);const I=yield WT(g);return y._openRedirect(g.auth,c,"linkViaRedirect",I)})).apply(this,arguments)}function bl(p,c){return _y.apply(this,arguments)}function _y(){return(_y=(0,b.Z)(function*(p,c){return yield Dn(p)._initializationPromise,dp(p,c,!1)})).apply(this,arguments)}function dp(p,c){return me.apply(this,arguments)}function me(){return(me=(0,b.Z)(function*(p,c,h=!1){const g=Dn(p),y=zs(g,c),N=yield new HT(g,y,h).execute();return N&&!h&&(delete N.user._redirectEventId,yield g._persistUserIfCurrent(N.user),yield g._setRedirectUser(null,c)),N})).apply(this,arguments)}function WT(p){return yy.apply(this,arguments)}function yy(){return(yy=(0,b.Z)(function*(p){const c=Pi(`${p.uid}:::`);return p._redirectEventId=c,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),c})).apply(this,arguments)}class GT{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(c,g)&&(h=!0,this.sendToConsumer(c,g),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function dx(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(p);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var g;if(c.error&&!KT(c)){const y=(null===(g=c.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError($t(this.auth,y))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const g=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&g}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(c))}saveEventToCache(c){this.cachedEventUids.add(qT(c)),this.lastProcessedEventTime=Date.now()}}function qT(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(c=>c).join("-")}function KT({type:p,error:c}){return"unknown"===p&&"auth/no-auth-event"===c?.code}function Al(p){return vy.apply(this,arguments)}function vy(){return(vy=(0,b.Z)(function*(p,c={}){return Z(p,"GET","/v1/projects",c)})).apply(this,arguments)}const hx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,er=/^https?/;function ba(){return(ba=(0,b.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:c}=yield Al(p);for(const h of c)try{if(QT(h))return}catch{}ht(p,"unauthorized-domain")})).apply(this,arguments)}function QT(p){const c=Cn(),{protocol:h,hostname:g}=new URL(c);if(p.startsWith("chrome-extension://")){const N=new URL(p);return""===N.hostname&&""===g?"chrome-extension:"===h&&p.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&N.hostname===g}if(!er.test(h))return!1;if(hx.test(p))return g===p;const y=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+y+"|"+y+")$","i").test(g)}const Yi=new ri(3e4,6e4);function $o(){const p=rn().___jsl;if(p?.H)for(const c of Object.keys(p.H))if(p.H[c].r=p.H[c].r||[],p.H[c].L=p.H[c].L||[],p.H[c].r=[...p.H[c].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let Aa=null;const ZT=new ri(5e3,15e3),fx="__/auth/iframe",YT="emulator/auth/iframe",px={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fp(p){const c=p.config;te(c.authDomain,p,"auth-domain-config-required");const h=c.emulator?oo(c,YT):`https://${p.config.authDomain}/${fx}`,g={apiKey:c.apiKey,appName:p.name,v:k.SDK_VERSION},y=Mi.get(p.config.apiHost);y&&(g.eid=y);const I=p._getFrameworks();return I.length&&(g.fw=I.join(",")),`${h}?${(0,q.xO)(g).slice(1)}`}function wy(){return wy=(0,b.Z)(function*(p){const c=yield function Lu(p){return Aa=Aa||function Ey(p){return new Promise((c,h)=>{var g,y,I;function N(){$o(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{$o(),h($t(p,"network-request-failed"))},timeout:Yi.get()})}if(null!==(y=null===(g=rn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==y&&y.Iframe)c(gapi.iframes.getContext());else{if(null===(I=rn().gapi)||void 0===I||!I.load){const j=T_("iframefcb");return rn()[j]=()=>{gapi.load?N():h($t(p,"network-request-failed"))},I_(`https://apis.google.com/js/api.js?onload=${j}`).catch(X=>h(X))}N()}}).catch(c=>{throw Aa=null,c})}(p),Aa}(p),h=rn().gapi;return te(h,p,"internal-error"),c.open({where:document.body,url:fp(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:px,dontclear:!0},g=>new Promise(function(){var y=(0,b.Z)(function*(I,N){yield g.restyle({setHideOnLeave:!1});const j=$t(p,"network-request-failed"),X=rn().setTimeout(()=>{N(j)},ZT.get());function Ce(){rn().clearTimeout(X),I(g)}g.ping(Ce).then(Ce,()=>{N(j)})});return function(I,N){return y.apply(this,arguments)}}()))}),wy.apply(this,arguments)}const Iy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JT=500,XT=600,eC="_blank",tC="http://localhost";class Ty{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sd="__/auth/handler",gp="emulator/auth/handler",di=encodeURIComponent("fac");function Rd(p,c,h,g,y,I){return Da.apply(this,arguments)}function Da(){return(Da=(0,b.Z)(function*(p,c,h,g,y,I){te(p.config.authDomain,p,"auth-domain-config-required"),te(p.config.apiKey,p,"invalid-api-key");const N={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:g,v:k.SDK_VERSION,eventId:y};if(c instanceof lo){c.setDefaultLanguage(p.languageCode),N.providerId=c.providerId||"",(0,q.xb)(c.getCustomParameters())||(N.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Fe,At]of Object.entries(I||{}))N[Fe]=At}if(c instanceof vn){const Fe=c.getScopes().filter(At=>""!==At);Fe.length>0&&(N.scopes=Fe.join(","))}p.tenantId&&(N.tid=p.tenantId);const j=N;for(const Fe of Object.keys(j))void 0===j[Fe]&&delete j[Fe];const X=yield p._getAppCheckToken(),Ce=X?`#${di}=${encodeURIComponent(X)}`:"";return`${function rC({config:p}){return p.emulator?oo(p,gp):`https://${p.authDomain}/${Sd}`}(p)}?${(0,q.xO)(j).slice(1)}${Ce}`})).apply(this,arguments)}const Pd="webStorageSupport",Bu=class Vu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J_,this._completeRedirectFn=dp,this._overrideRedirectResult=Ca}_openPopup(c,h,g,y){var I=this;return(0,b.Z)(function*(){var N;Xt(null===(N=I.eventManagers[c._key()])||void 0===N?void 0:N.manager,"_initialize() not called before _openPopup()");const j=yield Rd(c,h,g,Cn(),y);return function nC(p,c,h,g=JT,y=XT){const I=Math.max((window.screen.availHeight-y)/2,0).toString(),N=Math.max((window.screen.availWidth-g)/2,0).toString();let j="";const X=Object.assign(Object.assign({},Iy),{width:g.toString(),height:y.toString(),top:I,left:N}),Ce=(0,q.z$)().toLowerCase();h&&(j=cr(Ce)?eC:h),fe(Ce)&&(c=c||tC,X.scrollbars="yes");const Fe=Object.entries(X).reduce((xi,[Ra,xd])=>`${xi}${Ra}=${xd},`,"");if(function dt(p=(0,q.z$)()){var c;return ne(p)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Ce)&&"_self"!==j)return function pp(p,c){const h=document.createElement("a");h.href=p,h.target=c;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(c||"",j),new Ty(null);const At=window.open(c||"",j,Fe);te(At,p,"popup-blocked");try{At.focus()}catch{}return new Ty(At)}(c,j,Pi())})()}_openRedirect(c,h,g,y){var I=this;return(0,b.Z)(function*(){return yield I._originValidation(c),function co(p){rn().location.href=p}(yield Rd(c,h,g,Cn(),y)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:y,promise:I}=this.eventManagers[h];return y?Promise.resolve(y):(Xt(I,"If manager is not set, promise should be"),I)}const g=this.initAndGetManager(c);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(c){var h=this;return(0,b.Z)(function*(){const g=yield function Dl(p){return wy.apply(this,arguments)}(c),y=new GT(c);return g.register("authEvent",I=>(te(I?.authEvent,c,"invalid-auth-event"),{status:y.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:y},h.iframes[c._key()]=g,y})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(Pd,{type:Pd},y=>{var I;const N=null===(I=y?.[0])||void 0===I?void 0:I[Pd];void 0!==N&&h(!!N),ht(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function hp(p){return ba.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return dr()||Je()||ne()}};class Cy{constructor(c){this.factorId=c}_process(c,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,g);case"signin":return this._finalizeSignIn(c,h.credential);default:return wt("unexpected MultiFactorSessionType")}}}class mp extends Cy{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new mp(c)}_finalizeEnroll(c,h,g){return function DT(p,c){return Z(p,"POST","/v2/accounts/mfaEnrollment:finalize",U(p,c))}(c,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function oy(p,c){return Z(p,"POST","/v2/accounts/mfaSignIn:finalize",U(p,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let iC=(()=>{class p{constructor(){}static assertion(h){return mp._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var yp="@firebase/auth";class gx{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,b.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(g=>{c(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);h&&(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,q.Pz)("authIdTokenMaxAge"),function oC(p){(0,k._registerComponent)(new an.wA("auth",(c,{options:h})=>{const g=c.getProvider("app").getImmediate(),y=c.getProvider("heartbeat"),I=c.getProvider("app-check-internal"),{apiKey:N,authDomain:j}=g.options;te(N&&!N.includes(":"),"invalid-api-key",{appName:g.name});const X={apiKey:N,authDomain:j,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(p)},Ce=new WM(g,y,I,X);return function A_(p,c){const h=c?.persistence||[],g=(Array.isArray(h)?h:[h]).map(B);c?.errorMap&&p._updateErrorMap(c.errorMap),p._initializeWithPersistence(g,c?.popupRedirectResolver)}(Ce,h),Ce},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,g)=>{c.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new an.wA("auth-internal",c=>{const h=Dn(c.getProvider("auth").getImmediate());return new gx(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(yp,"1.4.0",function sC(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,k.registerVersion)(yp,"1.4.0","esm2017")}("Browser")},90:(Fs,Kn,Le)=>{Le.d(Kn,{BH:()=>Ti,DV:()=>ur,Dv:()=>si,GJ:()=>jn,L:()=>Ct,LL:()=>K,P0:()=>mn,Pz:()=>$t,Sg:()=>$n,UG:()=>wt,UI:()=>$i,US:()=>an,Wj:()=>cn,Wl:()=>Me,Yr:()=>ri,ZB:()=>Ae,ZR:()=>Z,aH:()=>ht,b$:()=>bn,cI:()=>ue,dS:()=>gs,eu:()=>W,g5:()=>k,gK:()=>An,gQ:()=>Er,h$:()=>Gt,hl:()=>$,hu:()=>q,jU:()=>Xt,lb:()=>_n,m9:()=>Us,ne:()=>Ci,p$:()=>se,pd:()=>ps,r3:()=>Zn,ru:()=>Cn,tV:()=>Q,uI:()=>te,ug:()=>ji,vZ:()=>Ls,w1:()=>hs,w9:()=>un,xO:()=>Bs,xb:()=>ii,z$:()=>ot,zd:()=>fs});const b={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},q=function(M,R){if(!M)throw k(R)},k=function(M){return new Error("Firebase Database ("+b.SDK_VERSION+") INTERNAL ASSERT FAILED: "+M)},Se=function(M){const R=[];let w=0;for(let C=0;C<M.length;C++){let E=M.charCodeAt(C);E<128?R[w++]=E:E<2048?(R[w++]=E>>6|192,R[w++]=63&E|128):55296==(64512&E)&&C+1<M.length&&56320==(64512&M.charCodeAt(C+1))?(E=65536+((1023&E)<<10)+(1023&M.charCodeAt(++C)),R[w++]=E>>18|240,R[w++]=E>>12&63|128,R[w++]=E>>6&63|128,R[w++]=63&E|128):(R[w++]=E>>12|224,R[w++]=E>>6&63|128,R[w++]=63&E|128)}return R},an={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(M,R){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const w=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let E=0;E<M.length;E+=3){const O=M[E],B=E+1<M.length,Te=B?M[E+1]:0,ge=E+2<M.length,$e=ge?M[E+2]:0;let fe=(15&Te)<<2|$e>>6,Je=63&$e;ge||(Je=64,B||(fe=64)),C.push(w[O>>2],w[(3&O)<<4|Te>>4],w[fe],w[Je])}return C.join("")},encodeString(M,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(M):this.encodeByteArray(Se(M),R)},decodeString(M,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(M):function(M){const R=[];let w=0,C=0;for(;w<M.length;){const E=M[w++];if(E<128)R[C++]=String.fromCharCode(E);else if(E>191&&E<224){const O=M[w++];R[C++]=String.fromCharCode((31&E)<<6|63&O)}else if(E>239&&E<365){const ge=((7&E)<<18|(63&M[w++])<<12|(63&M[w++])<<6|63&M[w++])-65536;R[C++]=String.fromCharCode(55296+(ge>>10)),R[C++]=String.fromCharCode(56320+(1023&ge))}else{const O=M[w++],B=M[w++];R[C++]=String.fromCharCode((15&E)<<12|(63&O)<<6|63&B)}}return R.join("")}(this.decodeStringToByteArray(M,R))},decodeStringToByteArray(M,R){this.init_();const w=R?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let E=0;E<M.length;){const O=w[M.charAt(E++)],Te=E<M.length?w[M.charAt(E)]:0;++E;const $e=E<M.length?w[M.charAt(E)]:64;++E;const ye=E<M.length?w[M.charAt(E)]:64;if(++E,null==O||null==Te||null==$e||null==ye)throw new xn;C.push(O<<2|Te>>4),64!==$e&&(C.push(Te<<4&240|$e>>2),64!==ye&&C.push($e<<6&192|ye))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class xn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gt=function(M){const R=Se(M);return an.encodeByteArray(R,!0)},Ct=function(M){return Gt(M).replace(/\./g,"")},Q=function(M){try{return an.decodeString(M,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function se(M){return Ae(void 0,M)}function Ae(M,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===M&&(M={});break;case Array:M=[];break;default:return R}for(const w in R)!R.hasOwnProperty(w)||!Ye(w)||(M[w]=Ae(M[w],R[w]));return M}function Ye(M){return"__proto__"!==M}const Ge=()=>{try{return function Pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const M=process.env.__FIREBASE_DEFAULTS__;return M?JSON.parse(M):void 0})()||(()=>{if(typeof document>"u")return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=M&&Q(M[1]);return R&&JSON.parse(R)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},mn=M=>{const R=(M=>{var R,w;return null===(w=null===(R=Ge())||void 0===R?void 0:R.emulatorHosts)||void 0===w?void 0:w[M]})(M);if(!R)return;const w=R.lastIndexOf(":");if(w<=0||w+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const C=parseInt(R.substring(w+1),10);return"["===R[0]?[R.substring(1,w-1),C]:[R.substring(0,w),C]},ht=()=>{var M;return null===(M=Ge())||void 0===M?void 0:M.config},$t=M=>{var R;return null===(R=Ge())||void 0===R?void 0:R[`_${M}`]};class Ti{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,w)=>{this.resolve=R,this.reject=w})}wrapCallback(R){return(w,C)=>{w?this.reject(w):this.resolve(C),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(w):R(w,C))}}}function $n(M,R){if(M.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const C=R||"demo-project",E=M.iat||0,O=M.sub||M.user_id;if(!O)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const B=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:E,exp:E+3600,auth_time:E,sub:O,user_id:O,firebase:{sign_in_provider:"custom",identities:{}}},M);return[Ct(JSON.stringify({alg:"none",type:"JWT"})),Ct(JSON.stringify(B)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function wt(){var M;const R=null===(M=Ge())||void 0===M?void 0:M.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xt(){return"object"==typeof self&&self.self===self}function Cn(){const M="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof M&&void 0!==M.id}function bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hs(){const M=ot();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function ri(){return!0===b.NODE_CLIENT||!0===b.NODE_ADMIN}function $(){try{return"object"==typeof indexedDB}catch{return!1}}function W(){return new Promise((M,R)=>{try{let w=!0;const C="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(C);E.onsuccess=()=>{E.result.close(),w||self.indexedDB.deleteDatabase(C),M(!0)},E.onupgradeneeded=()=>{w=!1},E.onerror=()=>{var O;R((null===(O=E.error)||void 0===O?void 0:O.message)||"")}}catch(w){R(w)}})}class Z extends Error{constructor(R,w,C){super(w),this.code=R,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,Z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(R,w,C){this.service=R,this.serviceName=w,this.errors=C}create(R,...w){const C=w[0]||{},E=`${this.service}/${R}`,O=this.errors[R],B=O?function ce(M,R){return M.replace(ct,(w,C)=>{const E=R[C];return null!=E?String(E):`<${C}?>`})}(O,C):"Error";return new Z(E,`${this.serviceName}: ${B} (${E}).`,C)}}const ct=/\{\$([^}]+)}/g;function ue(M){return JSON.parse(M)}function Me(M){return JSON.stringify(M)}const It=function(M){let R={},w={},C={},E="";try{const O=M.split(".");R=ue(Q(O[0])||""),w=ue(Q(O[1])||""),E=O[2],C=w.d||{},delete w.d}catch{}return{header:R,claims:w,data:C,signature:E}},un=function(M){const w=It(M).claims;return!!w&&"object"==typeof w&&w.hasOwnProperty("iat")},jn=function(M){const R=It(M).claims;return"object"==typeof R&&!0===R.admin};function Zn(M,R){return Object.prototype.hasOwnProperty.call(M,R)}function ur(M,R){if(Object.prototype.hasOwnProperty.call(M,R))return M[R]}function ii(M){for(const R in M)if(Object.prototype.hasOwnProperty.call(M,R))return!1;return!0}function $i(M,R,w){const C={};for(const E in M)Object.prototype.hasOwnProperty.call(M,E)&&(C[E]=R.call(w,M[E],E,M));return C}function Ls(M,R){if(M===R)return!0;const w=Object.keys(M),C=Object.keys(R);for(const E of w){if(!C.includes(E))return!1;const O=M[E],B=R[E];if(ft(O)&&ft(B)){if(!Ls(O,B))return!1}else if(O!==B)return!1}for(const E of C)if(!w.includes(E))return!1;return!0}function ft(M){return null!==M&&"object"==typeof M}function Bs(M){const R=[];for(const[w,C]of Object.entries(M))Array.isArray(C)?C.forEach(E=>{R.push(encodeURIComponent(w)+"="+encodeURIComponent(E))}):R.push(encodeURIComponent(w)+"="+encodeURIComponent(C));return R.length?"&"+R.join("&"):""}function fs(M){const R={};return M.replace(/^\?/,"").split("&").forEach(C=>{if(C){const[E,O]=C.split("=");R[decodeURIComponent(E)]=decodeURIComponent(O)}}),R}function ps(M){const R=M.indexOf("?");if(!R)return"";const w=M.indexOf("#",R);return M.substring(R,w>0?w:void 0)}class Er{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let R=1;R<this.blockSize;++R)this.pad_[R]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(R,w){w||(w=0);const C=this.W_;if("string"==typeof R)for(let ye=0;ye<16;ye++)C[ye]=R.charCodeAt(w)<<24|R.charCodeAt(w+1)<<16|R.charCodeAt(w+2)<<8|R.charCodeAt(w+3),w+=4;else for(let ye=0;ye<16;ye++)C[ye]=R[w]<<24|R[w+1]<<16|R[w+2]<<8|R[w+3],w+=4;for(let ye=16;ye<80;ye++){const fe=C[ye-3]^C[ye-8]^C[ye-14]^C[ye-16];C[ye]=4294967295&(fe<<1|fe>>>31)}let $e,bt,E=this.chain_[0],O=this.chain_[1],B=this.chain_[2],Te=this.chain_[3],ge=this.chain_[4];for(let ye=0;ye<80;ye++){ye<40?ye<20?($e=Te^O&(B^Te),bt=1518500249):($e=O^B^Te,bt=1859775393):ye<60?($e=O&B|Te&(O|B),bt=2400959708):($e=O^B^Te,bt=3395469782);const fe=(E<<5|E>>>27)+$e+ge+bt+C[ye]&4294967295;ge=Te,Te=B,B=4294967295&(O<<30|O>>>2),O=E,E=fe}this.chain_[0]=this.chain_[0]+E&4294967295,this.chain_[1]=this.chain_[1]+O&4294967295,this.chain_[2]=this.chain_[2]+B&4294967295,this.chain_[3]=this.chain_[3]+Te&4294967295,this.chain_[4]=this.chain_[4]+ge&4294967295}update(R,w){if(null==R)return;void 0===w&&(w=R.length);const C=w-this.blockSize;let E=0;const O=this.buf_;let B=this.inbuf_;for(;E<w;){if(0===B)for(;E<=C;)this.compress_(R,E),E+=this.blockSize;if("string"==typeof R){for(;E<w;)if(O[B]=R.charCodeAt(E),++B,++E,B===this.blockSize){this.compress_(O),B=0;break}}else for(;E<w;)if(O[B]=R[E],++B,++E,B===this.blockSize){this.compress_(O),B=0;break}}this.inbuf_=B,this.total_+=w}digest(){const R=[];let w=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let E=this.blockSize-1;E>=56;E--)this.buf_[E]=255&w,w/=256;this.compress_(this.buf_);let C=0;for(let E=0;E<5;E++)for(let O=24;O>=0;O-=8)R[C]=this.chain_[E]>>O&255,++C;return R}}function Ci(M,R){const w=new bi(M,R);return w.subscribe.bind(w)}class bi{constructor(R,w){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=w,this.task.then(()=>{R(this)}).catch(C=>{this.error(C)})}next(R){this.forEachObserver(w=>{w.next(R)})}error(R){this.forEachObserver(w=>{w.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,w,C){let E;if(void 0===R&&void 0===w&&void 0===C)throw new Error("Missing Observer.");E=function wr(M,R){if("object"!=typeof M||null===M)return!1;for(const w of R)if(w in M&&"function"==typeof M[w])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:w,complete:C},void 0===E.next&&(E.next=Nt),void 0===E.error&&(E.error=Nt),void 0===E.complete&&(E.complete=Nt);const O=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?E.error(this.finalError):E.complete()}catch{}}),this.observers.push(E),O}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let w=0;w<this.observers.length;w++)this.sendOne(w,R)}sendOne(R,w){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{w(this.observers[R])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nt(){}const si=function(M,R,w,C){let E;if(C<R?E="at least "+R:C>w&&(E=0===w?"none":"no more than "+w),E)throw new Error(M+" failed: Was called with "+C+(1===C?" argument.":" arguments.")+" Expects "+E+".")};function An(M,R){return`${M} failed: ${R} argument `}function cn(M,R,w,C){if((!C||w)&&"function"!=typeof w)throw new Error(An(M,R)+"must be a valid function.")}function _n(M,R,w,C){if((!C||w)&&("object"!=typeof w||null===w))throw new Error(An(M,R)+"must be a valid context object.")}const gs=function(M){const R=[];let w=0;for(let C=0;C<M.length;C++){let E=M.charCodeAt(C);if(E>=55296&&E<=56319){const O=E-55296;C++,q(C<M.length,"Surrogate pair missing trail surrogate."),E=65536+(O<<10)+(M.charCodeAt(C)-56320)}E<128?R[w++]=E:E<2048?(R[w++]=E>>6|192,R[w++]=63&E|128):E<65536?(R[w++]=E>>12|224,R[w++]=E>>6&63|128,R[w++]=63&E|128):(R[w++]=E>>18|240,R[w++]=E>>12&63|128,R[w++]=E>>6&63|128,R[w++]=63&E|128)}return R},ji=function(M){let R=0;for(let w=0;w<M.length;w++){const C=M.charCodeAt(w);C<128?R++:C<2048?R+=2:C>=55296&&C<=56319?(R+=4,w++):R+=3}return R};function Us(M){return M&&M._delegate?M._delegate:M}},214:(Fs,Kn,Le)=>{function b(n){return"function"==typeof n}function q(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const k=q(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Se(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(b(r))try{r()}catch(s){e=s instanceof k?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Gt(s)}catch(o){e=e??[],o instanceof k?e=[...e,...o.errors]:e.push(o)}}if(e)throw new k(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gt(e);else{if(e instanceof Rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Se(t,e)}remove(e){const{_finalizers:t}=this;t&&Se(t,e),e instanceof Rt&&e._removeParent(this)}}Rt.EMPTY=(()=>{const n=new Rt;return n.closed=!0,n})();const an=Rt.EMPTY;function xn(n){return n instanceof Rt||n&&"closed"in n&&b(n.remove)&&b(n.add)&&b(n.unsubscribe)}function Gt(n){b(n)?n():n.unsubscribe()}const Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Q={setTimeout(n,e,...t){const{delegate:r}=Q;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Q;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function se(n){Q.setTimeout(()=>{const{onUnhandledError:e}=Ct;if(!e)throw n;e(n)})}function Ae(){}const Ye=_t("C",void 0,void 0);function _t(n,e,t){return{kind:n,value:e,error:t}}let We=null;function Ge(n){if(Ct.useDeprecatedSynchronousErrorHandling){const e=!We;if(e&&(We={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=We;if(We=null,t)throw r}}else n()}class mn extends Rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xn(e)&&e.add(this)):this.destination=Xt}static create(e,t,r){return new $n(e,t,r)}next(e){this.isStopped?wt(function Qn(n){return _t("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wt(function Pt(n){return _t("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wt(Ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function $t(n,e){return ht.call(n,e)}class Ti{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ot(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ot(r)}else ot(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ot(t)}}}class $n extends mn{constructor(e,t,r){let i;if(super(),b(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ct.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$t(e.next,s),error:e.error&&$t(e.error,s),complete:e.complete&&$t(e.complete,s)}):i=e}this.destination=new Ti(i)}}function ot(n){Ct.useDeprecatedSynchronousErrorHandling?function lr(n){Ct.useDeprecatedSynchronousErrorHandling&&We&&(We.errorThrown=!0,We.error=n)}(n):se(n)}function wt(n,e){const{onStoppedNotification:t}=Ct;t&&Q.setTimeout(()=>t(n,e))}const Xt={closed:!0,next:Ae,error:function te(n){throw n},complete:Ae},Cn="function"==typeof Symbol&&Symbol.observable||"@@observable";function bn(n){return n}function hs(n){return 0===n.length?bn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function $(n){return n&&n instanceof mn||function oo(n){return n&&b(n.next)&&b(n.error)&&b(n.complete)}(n)&&xn(n)}(t)?t:new $n(t,r,i);return Ge(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ri(r))((i,s)=>{const o=new $n({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Cn](){return this}pipe(...t){return hs(t)(this)}toPromise(t){return new(t=ri(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ri(n){var e;return null!==(e=n??Ct.Promise)&&void 0!==e?e:Promise}const W=q(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class n extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new U(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new W}next(t){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?an:(this.currentObservers=null,s.push(t),new Rt(()=>{this.currentObservers=null,Se(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new qe;return t.source=this,t}}return n.create=(e,t)=>new U(e,t),n})();class U extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:an}}function Z(n){return b(n?.lift)}function K(n){return e=>{if(Z(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(n,e,t,r,i){return new ct(n,e,t,r,i)}class ct extends mn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(n,e){return K((t,r)=>{let i=0;t.subscribe(ce(r,s=>{r.next(n.call(e,s,i++))}))})}var Me=Le(582);const It=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ln(n){return b(n?.then)}function qt(n){return b(n[Cn])}function un(n){return Symbol.asyncIterator&&b(n?.[Symbol.asyncIterator])}function jn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ur=function Zn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ii(n){return b(n?.[ur])}function $i(n){return(0,Me.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Me.qq)(t.read());if(i)return yield(0,Me.qq)(void 0);yield yield(0,Me.qq)(r)}}finally{t.releaseLock()}})}function Ls(n){return b(n?.getReader)}function ft(n){if(n instanceof qe)return n;if(null!=n){if(qt(n))return function Vs(n){return new qe(e=>{const t=n[Cn]();if(b(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(It(n))return function Bs(n){return new qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ln(n))return function fs(n){return new qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,se)})}(n);if(un(n))return Er(n);if(ii(n))return function ps(n){return new qe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ls(n))return function Ci(n){return Er($i(n))}(n)}throw jn(n)}function Er(n){return new qe(e=>{(function bi(n,e){var t,r,i,s;return(0,Me.mG)(this,void 0,void 0,function*(){try{for(t=(0,Me.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ai(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Nt(n,e,t=1/0){return b(e)?Nt((r,i)=>ue((s,o)=>e(r,s,i,o))(ft(n(r,i))),t):("number"==typeof e&&(t=e),K((r,i)=>function wr(n,e,t,r,i,s,o,a){const l=[];let u=0,d=0,f=!1;const m=()=>{f&&!l.length&&!u&&e.complete()},_=T=>u<r?v(T):l.push(T),v=T=>{s&&e.next(T),u++;let A=!1;ft(t(T,d++)).subscribe(ce(e,x=>{i?.(x),s?_(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;l.length&&u<r;){const x=l.shift();o?Ai(e,o,()=>v(x)):v(x)}m()}catch(x){e.error(x)}}))};return n.subscribe(ce(e,_,()=>{f=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function si(n=1/0){return Nt(bn,n)}const An=new qe(n=>n.complete());function _n(n){return n&&b(n.schedule)}function gs(n){return n[n.length-1]}function ji(n){return b(gs(n))?n.pop():void 0}function ms(n){return _n(gs(n))?n.pop():void 0}function Hn(n,e=0){return K((t,r)=>{t.subscribe(ce(r,i=>Ai(r,n,()=>r.next(i),e),()=>Ai(r,n,()=>r.complete(),e),i=>Ai(r,n,()=>r.error(i),e)))})}function Mr(n,e=0){return K((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Us(n,e){if(!n)throw new Error("Iterable cannot be null");return new qe(t=>{Ai(t,e,()=>{const r=n[Symbol.asyncIterator]();Ai(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function w(n,e){return e?function R(n,e){if(null!=n){if(qt(n))return function Di(n,e){return ft(n).pipe(Mr(e),Hn(e))}(n,e);if(It(n))return function Po(n,e){return new qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ln(n))return function rl(n,e){return ft(n).pipe(Mr(e),Hn(e))}(n,e);if(un(n))return Us(n,e);if(ii(n))return function fa(n,e){return new qe(t=>{let r;return Ai(t,e,()=>{r=n[ur](),Ai(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>b(r?.return)&&r.return()})}(n,e);if(Ls(n))return function M(n,e){return Us($i(n),e)}(n,e)}throw jn(n)}(n,e):ft(n)}function C(...n){const e=ms(n),t=function Yn(n,e){return"number"==typeof gs(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ft(r[0]):si(t)(w(r,e)):An}function E(n={}){const{connector:e=(()=>new z),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,u=0,d=!1,f=!1;const m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),o=l=void 0,d=f=!1},v=()=>{const T=o;_(),T?.unsubscribe()};return K((T,A)=>{u++,!f&&!d&&m();const x=l=l??e();A.add(()=>{u--,0===u&&!f&&!d&&(a=O(v,i))}),x.subscribe(A),!o&&u>0&&(o=new $n({next:F=>x.next(F),error:F=>{f=!0,m(),a=O(_,t,F),x.error(F)},complete:()=>{d=!0,m(),a=O(_,r),x.complete()}}),ft(T).subscribe(o))})(s)}}function O(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new $n({next:()=>{r.unsubscribe(),n()}});return ft(e(...t)).subscribe(r)}function B(n){for(let e in n)if(n[e]===B)return e;throw Error("Could not find renamed property on target object.")}function Te(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function $e(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const bt=B({__forward_ref__:B});function ye(n){return n.__forward_ref__=ye,n.toString=function(){return ge(this())},n}function fe(n){return Je(n)?n():n}function Je(n){return"function"==typeof n&&n.hasOwnProperty(bt)&&n.__forward_ref__===ye}function cr(n){return n&&!!n.\u0275providers}const G="https://g.co/ng/security#xss";class S extends Error{constructor(e,t){super(ee(e,t)),this.code=e}}function ee(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function yn(n,e){throw new S(-201,!1)}function Hi(n,e){null==n&&function Ft(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jn(n){return{providers:n.providers||[],imports:n.imports||[]}}function sl(n){return A_(n,Zc)||A_(n,S_)}function A_(n,e){return n.hasOwnProperty(e)?n[e]:null}function Of(n){return n&&(n.hasOwnProperty(Yc)||n.hasOwnProperty(ol))?n[Yc]:null}const Zc=B({\u0275prov:B}),Yc=B({\u0275inj:B}),S_=B({ngInjectableDef:B}),ol=B({ngInjectorDef:B});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let Cu;function oi(n){const e=Cu;return Cu=n,e}function R_(n,e,t){const r=sl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ue.Optional?null:void 0!==e?e:void yn(ge(n))}const en=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xo={},bu="__NG_DI_FLAG__",Jc="ngTempTokenPath",Ff="ngTokenPath",gT=/\n/gm,Lf="\u0275",N_="__source";let pa;function al(n){const e=pa;return pa=n,e}function Vf(n,e=Ue.Default){if(void 0===pa)throw new S(-203,!1);return null===pa?R_(n,void 0,e):pa.get(n,e&Ue.Optional?null:void 0,e)}function ae(n,e=Ue.Default){return(function pT(){return Cu}()||Vf)(fe(n),e)}function rt(n,e=Ue.Default){return ae(n,ll(e))}function ll(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ga(n){const e=[];for(let t=0;t<n.length;t++){const r=fe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=Ue.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Bf(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function Si(n,e){return n[bu]=e,n.prototype[bu]=e,n}function Bf(n){return n[bu]}function ao(n){return{toString:n}.toString()}var zi=(()=>((zi=zi||{})[zi.OnPush=0]="OnPush",zi[zi.Default=1]="Default",zi))(),_s=(()=>{return(n=_s||(_s={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",_s;var n})();const ys={},Ot=[],ul=B({\u0275cmp:B}),Uf=B({\u0275dir:B}),$f=B({\u0275pipe:B}),ed=B({\u0275mod:B}),jr=B({\u0275fac:B}),Au=B({__NG_ELEMENT_ID__:B});let _T=0;function ai(n){return ao(()=>{const e=Hf(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||_s.Emulated,id:"c"+_T++,styles:n.styles||Ot,_:null,schemas:n.schemas||null,tView:null};td(t);const r=n.dependencies;return t.directiveDefs=Hr(r,!1),t.pipeDefs=Hr(r,!0),t})}function jf(n){return Lt(n)||kn(n)}function lo(n){return null!==n}function vn(n){return ao(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function k_(n,e){if(null==n)return ys;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function He(n){return ao(()=>{const e=Hf(n);return td(e),e})}function li(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Lt(n){return n[ul]||null}function kn(n){return n[Uf]||null}function ui(n){return n[$f]||null}function Ri(n,e){const t=n[ed]||null;if(!t&&!0===e)throw new Error(`Type ${ge(n)} does not have '\u0275mod' property.`);return t}function Hf(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:k_(n.inputs,e),outputs:k_(n.outputs)}}function td(n){n.features?.forEach(e=>e(n))}function Hr(n,e){if(!n)return null;const t=e?ui:jf;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(lo)}const js=0,Ie=1,Xe=2,tn=3,Wi=4,No=5,xr=6,ko=7,En=8,cl=9,ma=10,tt=11,nd=12,_a=13,zf=14,Oo=15,Xn=16,ya=17,va=18,Gi=19,dl=20,rd=21,nn=22,Wf=1,id=2,Fo=7,hl=8,Lo=9,hr=10;function zr(n){return Array.isArray(n)&&"object"==typeof n[Wf]}function vs(n){return Array.isArray(n)&&!0===n[Wf]}function Su(n){return 0!=(4&n.flags)}function Ru(n){return n.componentOffset>-1}function fl(n){return 1==(1&n.flags)}function Es(n){return!!n.template}function Gf(n){return 0!=(256&n[Xe])}function Ea(n,e){return n.hasOwnProperty(jr)?n[jr]:null}class Kf{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function qi(){return od}function od(n){return n.type.prototype.ngOnChanges&&(n.setInput=wT),ET}function ET(){const n=ad(this),e=n?.current;if(e){const t=n.previous;if(t===ys)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wT(n,e,t,r){const i=this.declaredInputs[t],s=ad(n)||function IT(n,e){return n[Qf]=e}(n,{previous:ys,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Kf(l&&l.currentValue,e,a===ys),n[r]=e}qi.ngInherit=!0;const Qf="__ngSimpleChanges__";function ad(n){return n[Qf]||null}const Ki=function(n,e,t){},G_="svg";function Ir(n){for(;Array.isArray(n);)n=n[js];return n}function Zf(n,e){return Ir(e[n])}function Qi(n,e){return Ir(e[n.index])}function ld(n,e){return n.data[e]}function pl(n,e){return n[e]}function ci(n,e){const t=e[n];return zr(t)?t:t[js]}function Yf(n){return 64==(64&n[Xe])}function wa(n,e){return null==e?null:n[e]}function CT(n){n[va]=0}function K_(n,e){n[No]+=e;let t=n,r=n[tn];for(;null!==r&&(1===e&&1===t[No]||-1===e&&0===t[No]);)r[No]+=e,t=r,r=r[tn]}const Ke={lFrame:dd(null),bindingsEnabled:!0};function ST(){return Ke.bindingsEnabled}function Y(){return Ke.lFrame.lView}function yt(){return Ke.lFrame.tView}function Jf(n){return Ke.lFrame.contextLView=n,n[En]}function gl(n){return Ke.lFrame.contextLView=null,n}function fr(){let n=Z_();for(;null!==n&&64===n.type;)n=n.parent;return n}function Z_(){return Ke.lFrame.currentTNode}function Hs(n,e){const t=Ke.lFrame;t.currentTNode=n,t.isParent=e}function Y_(){return Ke.lFrame.isParent}function ud(){Ke.lFrame.isParent=!1}function Wr(){const n=Ke.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function rn(){return Ke.lFrame.bindingIndex++}function co(n){const e=Ke.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ep(n,e){const t=Ke.lFrame;t.bindingIndex=t.bindingRootIndex=n,tp(e)}function tp(n){Ke.lFrame.currentDirectiveIndex=n}function cd(n){const e=Ke.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function ml(n){Ke.lFrame.currentQueryIndex=n}function ry(n){const e=n[Ie];return 2===e.type?e.declTNode:1===e.type?n[xr]:null}function _l(n,e,t){if(t&Ue.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Ue.Host||(i=ry(s),null===i||(s=s[Oo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ke.lFrame=iy();return r.currentTNode=e,r.lView=n,!0}function yl(n){const e=iy(),t=n[Ie];Ke.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function iy(){const n=Ke.lFrame,e=null===n?null:n.child;return null===e?dd(n):e}function dd(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function np(){const n=Ke.lFrame;return Ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const hd=np;function rp(){const n=np();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gr(){return Ke.lFrame.selectedIndex}function Ia(n){Ke.lFrame.selectedIndex=n}function Sn(){const n=Ke.lFrame;return ld(n.tView,n.selectedIndex)}function fd(){Ke.lFrame.currentNamespace=G_}function Ta(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),u&&((n.viewHooks??(n.viewHooks=[])).push(t,u),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,u)),null!=d&&(n.destroyHooks??(n.destroyHooks=[])).push(t,d)}}function pd(n,e,t){md(n,e,3,t)}function gd(n,e,t,r){(3&n[Xe])===t&&md(n,e,t,r)}function sp(n,e){let t=n[Xe];(3&t)===e&&(t&=2047,t+=1,n[Xe]=t)}function md(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[va]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[va]+=65536),(a<s||-1==s)&&(FT(n,t,e,l),n[va]=(4294901760&n[va])+l+2),l++}function FT(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[Xe]>>11<n[va]>>16&&(3&n[Xe])===e){n[Xe]+=2048,Ki(4,a,s);try{s.call(a)}finally{Ki(5,a,s)}}}else{Ki(4,a,s);try{s.call(a)}finally{Ki(5,a,s)}}}const vl=-1;class Mu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function xu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];yd(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function ly(n){return 3===n||4===n||6===n}function yd(n){return 64===n.charCodeAt(0)}function Nu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||vd(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function vd(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function ku(n){return n!==vl}function El(n){return 32767&n}function wl(n,e){let t=function UT(n){return n>>16}(n),r=e;for(;t>0;)r=r[Oo],t--;return r}let op=!0;function zs(n){const e=op;return op=n,e}const cy=255,dy=5;let $T=0;const Zi={};function Ed(n,e){const t=wd(n,e);if(-1!==t)return t;const r=e[Ie];r.firstCreatePass&&(n.injectorIndex=e.length,ap(r.data,n),ap(e,null),ap(r.blueprint,null));const i=lp(n,e),s=n.injectorIndex;if(ku(i)){const o=El(i),a=wl(i,e),l=a[Ie].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function ap(n,e){n.push(0,0,0,0,0,0,0,0,e)}function wd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Ad(i),null===r)return vl;if(t++,i=i[Oo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return vl}function Ou(n,e,t){!function hy(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Au)&&(r=t[Au]),null==r&&(r=t[Au]=$T++);const i=r&cy;e.data[n+(i>>dy)]|=1<<i}(n,e,t)}function Id(n,e,t){if(t&Ue.Optional||void 0!==n)return n;yn()}function Td(n,e,t,r){if(t&Ue.Optional&&void 0===r&&(r=null),!(t&(Ue.Self|Ue.Host))){const i=n[cl],s=oi(void 0);try{return i?i.get(e,r,t&Ue.Optional):R_(e,r,t&Ue.Optional)}finally{oi(s)}}return Id(r,0,t)}function fy(n,e,t,r=Ue.Default,i){if(null!==n){if(1024&e[Xe]){const o=function zT(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[Xe]&&!(256&o[Xe]);){const a=Il(s,o,t,r|Ue.Self,Zi);if(a!==Zi)return a;let l=s.parent;if(!l){const u=o[rd];if(u){const d=u.get(t,Zi,r);if(d!==Zi)return d}l=Ad(o),o=o[Oo]}s=l}return i}(n,e,t,r,Zi);if(o!==Zi)return o}const s=Il(n,e,t,r,Zi);if(s!==Zi)return s}return Td(e,t,r,i)}function Il(n,e,t,r,i){const s=function up(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Au)?n[Au]:void 0;return"number"==typeof e?e>=0?e&cy:gy:e}(t);if("function"==typeof s){if(!_l(e,n,r))return r&Ue.Host?Id(i,0,r):Td(e,t,r,i);try{const o=s(r);if(null!=o||r&Ue.Optional)return o;yn()}finally{hd()}}else if("number"==typeof s){let o=null,a=wd(n,e),l=vl,u=r&Ue.Host?e[Xn][xr]:null;for((-1===a||r&Ue.SkipSelf)&&(l=-1===a?lp(n,e):e[a+8],l!==vl&&py(r,!1)?(o=e[Ie],a=El(l),e=wl(l,e)):a=-1);-1!==a;){const d=e[Ie];if(bd(s,a,d.data)){const f=HT(a,e,t,o,r,u);if(f!==Zi)return f}l=e[a+8],l!==vl&&py(r,e[Ie].data[a+8]===u)&&bd(s,a,e)?(o=d,a=El(l),e=wl(l,e)):a=-1}}return i}function HT(n,e,t,r,i,s){const o=e[Ie],a=o.data[n+8],d=function Cd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,d=s>>20,m=i?a+d:n.directiveEnd;for(let _=r?a:a+d;_<m;_++){const v=o[_];if(_<l&&t===v||_>=l&&v.type===t)return _}if(i){const _=o[l];if(_&&Es(_)&&_.type===t)return l}return null}(a,o,t,null==r?Ru(a)&&op:r!=o&&0!=(3&a.type),i&Ue.Host&&s===a);return null!==d?ho(e,o,d,a):Zi}function ho(n,e,t,r){let i=n[t];const s=e.data;if(function LT(n){return n instanceof Mu}(i)){const o=i;o.resolving&&function dt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ve(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}(s[t]));const a=zs(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?oi(o.injectImpl):null;_l(n,r,Ue.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function OT(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=od(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&oi(l),zs(a),o.resolving=!1,hd()}}return i}function bd(n,e,t){return!!(t[e+(n>>dy)]&1<<n)}function py(n,e){return!(n&Ue.Self||n&Ue.Host&&e)}class Ca{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return fy(this._tNode,this._lView,e,ll(r),t)}}function gy(){return new Ca(fr(),Y())}function pr(n){return ao(()=>{const e=n.prototype.constructor,t=e[jr]||cp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[jr]||cp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cp(n){return Je(n)?()=>{const e=cp(fe(n));return e&&e()}:Ea(n)}function Ad(n){const e=n[Ie],t=e.type;return 2===t?e.declTNode:1===t?n[xr]:null}const Uo="__parameters__";function bl(n,e,t){return ao(()=>{const r=function Fu(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,d){const f=l.hasOwnProperty(Uo)?l[Uo]:Object.defineProperty(l,Uo,{value:[]})[Uo];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class me{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=we({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $o(n,e){n.forEach(t=>Array.isArray(t)?$o(t,e):e(t))}function Ey(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Aa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Mi(n,e,t){let r=Dl(n,e);return r>=0?n[1|r]=t:(r=~r,function YT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function fp(n,e){const t=Dl(n,e);if(t>=0)return n[1|t]}function Dl(n,e){return function Iy(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const di=Si(bl("Optional"),8),Da=Si(bl("SkipSelf"),4);var qr=(()=>((qr=qr||{})[qr.Important=1]="Important",qr[qr.DashCase=2]="DashCase",qr))();const ju=new Map;let cC=0;const hC="__ngContext__";function hi(n,e){zr(e)?(n[hC]=e[dl],function bq(n){ju.set(n[dl],n)}(e)):n[hC]=e}let fC;function pC(n,e){return fC(n,e)}function bp(n){const e=n[tn];return vs(e)?e[tn]:e}function gC(n){return Tx(n[_a])}function mC(n){return Tx(n[Wi])}function Tx(n){for(;null!==n&&!vs(n);)n=n[Wi];return n}function kd(n,e,t,r,i){if(null!=r){let s,o=!1;vs(r)?s=r:zr(r)&&(o=!0,r=r[js]);const a=Ir(r);0===n&&null!==t?null==i?Rx(e,t,a):Hu(e,t,a,i||null,!0):1===n&&null!==t?Hu(e,t,a,i||null,!0):2===n?function TC(n,e,t){const r=Py(n,e);r&&function Wq(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Kq(n,e,t,r,i){const s=t[Fo];s!==Ir(t)&&kd(e,n,r,s,i);for(let a=hr;a<t.length;a++){const l=t[a];Ap(l[Ie],l,n,e,r,s)}}(e,n,s,t,i)}}function yC(n,e,t){return n.createElement(e,t)}function bx(n,e){const t=n[Lo],r=t.indexOf(e),i=e[tn];512&e[Xe]&&(e[Xe]&=-513,K_(i,-1)),t.splice(r,1)}function vC(n,e){if(n.length<=hr)return;const t=hr+e,r=n[t];if(r){const i=r[ya];null!==i&&i!==n&&bx(i,r),e>0&&(n[t-1][Wi]=r[Wi]);const s=Aa(n,hr+e);!function Lq(n,e){Ap(n,e,e[tt],2,null,null),e[js]=null,e[xr]=null}(r[Ie],r);const o=s[Gi];null!==o&&o.detachView(s[Ie]),r[tn]=null,r[Wi]=null,r[Xe]&=-65}return r}function Ax(n,e){if(!(128&e[Xe])){const t=e[tt];t.destroyNode&&Ap(n,e,t,3,null,null),function Uq(n){let e=n[_a];if(!e)return EC(n[Ie],n);for(;e;){let t=null;if(zr(e))t=e[_a];else{const r=e[hr];r&&(t=r)}if(!t){for(;e&&!e[Wi]&&e!==n;)zr(e)&&EC(e[Ie],e),e=e[tn];null===e&&(e=n),zr(e)&&EC(e[Ie],e),t=e&&e[Wi]}e=t}}(e)}}function EC(n,e){if(!(128&e[Xe])){e[Xe]&=-65,e[Xe]|=128,function zq(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Mu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Ki(4,a,l);try{l.call(a)}finally{Ki(5,a,l)}}else{Ki(4,i,s);try{s.call(i)}finally{Ki(5,i,s)}}}}}(n,e),function Hq(n,e){const t=n.cleanup,r=e[ko];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[ko]=null}}(n,e),1===e[Ie].type&&e[tt].destroy();const t=e[ya];if(null!==t&&vs(e[tn])){t!==e[tn]&&bx(t,e);const r=e[Gi];null!==r&&r.detachView(n)}!function Aq(n){ju.delete(n[dl])}(e)}}function Dx(n,e,t){return function Sx(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[js];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===_s.None||s===_s.Emulated)return null}return Qi(r,t)}}(n,e.parent,t)}function Hu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Rx(n,e,t){n.appendChild(e,t)}function Px(n,e,t,r,i){null!==r?Hu(n,e,t,r,i):Rx(n,e,t)}function Py(n,e){return n.parentNode(e)}let wC,Ny,AC,ky,Nx=function xx(n,e,t){return 40&n.type?Qi(n,t):null};function My(n,e,t,r){const i=Dx(n,r,e),s=e[tt],a=function Mx(n,e,t){return Nx(n,e,t)}(r.parent||e[xr],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Px(s,i,t[l],a,!1);else Px(s,i,t,a,!1);void 0!==wC&&wC(s,r,e,t,i)}function xy(n,e){if(null!==e){const t=e.type;if(3&t)return Qi(e,n);if(4&t)return IC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return xy(n,r);{const i=n[e.index];return vs(i)?IC(-1,i):Ir(i)}}if(32&t)return pC(e,n)()||Ir(n[e.index]);{const r=Ox(n,e);return null!==r?Array.isArray(r)?r[0]:xy(bp(n[Xn]),r):xy(n,e.next)}}return null}function Ox(n,e){return null!==e?n[Xn][xr].projection[e.projection]:null}function IC(n,e){const t=hr+n+1;if(t<e.length){const r=e[t],i=r[Ie].firstChild;if(null!==i)return xy(r,i)}return e[Fo]}function CC(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&hi(Ir(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)CC(n,e,t.child,r,i,s,!1),kd(e,n,i,a,s);else if(32&l){const u=pC(t,r);let d;for(;d=u();)kd(e,n,i,d,s);kd(e,n,i,a,s)}else 16&l?Fx(n,e,r,t,i,s):kd(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Ap(n,e,t,r,i,s){CC(t,r,n.firstChild,e,i,s,!1)}function Fx(n,e,t,r,i,s){const o=t[Xn],l=o[xr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)kd(e,n,i,l[u],s);else CC(n,e,l,o[tn],i,s,!0)}function Lx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Vx(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&xu(n,e,r),null!==i&&Lx(n,e,i),null!==s&&function Zq(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Od(n){return function bC(){if(void 0===Ny&&(Ny=null,en.trustedTypes))try{Ny=en.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ny}()?.createHTML(n)||n}function Ux(n){return function DC(){if(void 0===ky&&(ky=null,en.trustedTypes))try{ky=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ky}()?.createHTML(n)||n}class zu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${G})`}}class t4 extends zu{getTypeName(){return"HTML"}}class n4 extends zu{getTypeName(){return"Style"}}class r4 extends zu{getTypeName(){return"Script"}}class i4 extends zu{getTypeName(){return"URL"}}class s4 extends zu{getTypeName(){return"ResourceURL"}}function ws(n){return n instanceof zu?n.changingThisBreaksApplicationSecurity:n}function jo(n,e){const t=function o4(n){return n instanceof zu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${G})`)}return t===e}class h4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Od(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class f4{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Od(e),t}}const g4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Oy(n){return(n=String(n)).match(g4)?n:"unsafe:"+n}function Pa(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Dp(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const zx=Pa("area,br,col,hr,img,wbr"),Wx=Pa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gx=Pa("rp,rt"),SC=Dp(zx,Dp(Wx,Pa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dp(Gx,Pa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dp(Gx,Wx)),RC=Pa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qx=Dp(RC,Pa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),m4=Pa("script,style,template");class _4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!SC.hasOwnProperty(t))return this.sanitizedSomething=!0,!m4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!qx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;RC[a]&&(l=Oy(l)),this.buf.push(" ",o,'="',Kx(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();SC.hasOwnProperty(t)&&!zx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Kx(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const y4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v4=/([^\#-~ |!])/g;function Kx(n){return n.replace(/&/g,"&amp;").replace(y4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(v4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fy;function Qx(n,e){let t=null;try{Fy=Fy||function Hx(n){const e=new f4(n);return function p4(){try{return!!(new window.DOMParser).parseFromString(Od(""),"text/html")}catch{return!1}}()?new h4(e):e}(n);let r=e?String(e):"";t=Fy.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Fy.getInertBodyElement(r)}while(r!==s);return Od((new _4).sanitizeChildren(PC(t)||t))}finally{if(t){const r=PC(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function PC(n){return"content"in n&&function E4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function MC(n){const e=function Sp(){const n=Y();return n&&n[nd]}();return e?Ux(e.sanitize(sn.HTML,n)||""):jo(n,"HTML")?Ux(ws(n)):Qx(function Bx(){return void 0!==AC?AC:typeof document<"u"?document:void 0}(),ne(n))}const Ly=new me("ENVIRONMENT_INITIALIZER"),Xx=new me("INJECTOR",-1),eN=new me("INJECTOR_DEF_TYPES");class tN{get(e,t=xo){if(t===xo){const r=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw r.name="NullInjectorError",r}return t}}function D4(...n){return{\u0275providers:nN(0,n),\u0275fromNgModule:!0}}function nN(n,...e){const t=[],r=new Set;let i;return $o(e,s=>{const o=s;xC(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&rN(i,t),t}function rN(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];NC(i,s=>{e.push(s)})}}function xC(n,e,t,r){if(!(n=fe(n)))return!1;let i=null,s=Of(n);const o=!s&&Lt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Of(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)xC(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{$o(s.imports,d=>{xC(d,e,t,r)&&(u||(u=[]),u.push(d))})}finally{}void 0!==u&&rN(u,e)}if(!a){const u=Ea(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:Ot},{provide:eN,useValue:i,multi:!0},{provide:Ly,useValue:()=>ae(i),multi:!0})}const l=s.providers;null==l||a||NC(l,d=>{e.push(d)})}}return i!==n&&void 0!==n.providers}function NC(n,e){for(let t of n)cr(t)&&(t=t.\u0275providers),Array.isArray(t)?NC(t,e):e(t)}const S4=B({provide:String,useValue:B});function kC(n){return null!==n&&"object"==typeof n&&S4 in n}function Wu(n){return"function"==typeof n}const OC=new me("Set Injector scope."),Vy={},P4={};let FC;function By(){return void 0===FC&&(FC=new tN),FC}class Ma{}class oN extends Ma{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,VC(e,o=>this.processProvider(o)),this.records.set(Xx,Fd(void 0,this)),i.has("environment")&&this.records.set(Ma,Fd(void 0,this));const s=this.records.get(OC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eN.multi,Ot,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=al(this),r=oi(void 0);try{return e()}finally{al(t),oi(r)}}get(e,t=xo,r=Ue.Default){this.assertNotDestroyed(),r=ll(r);const i=al(this),s=oi(void 0);try{if(!(r&Ue.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function O4(n){return"function"==typeof n||"object"==typeof n&&n instanceof me}(e)&&sl(e);a=l&&this.injectableDefInScope(l)?Fd(LC(e),Vy):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Ue.Self?By():this.parent).get(e,t=r&Ue.Optional&&t===xo?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Jc]=o[Jc]||[]).unshift(ge(e)),i)throw o;return function mT(n,e,t,r){const i=n[Jc];throw e[N_]&&i.unshift(e[N_]),n.message=function $s(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Lf?n.slice(2):n;let i=ge(e);if(Array.isArray(e))i=e.map(ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(gT,"\n  ")}`}("\n"+n.message,i,t,r),n[Ff]=i,n[Jc]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{oi(s),al(i)}}resolveInjectorInitializers(){const e=al(this),t=oi(void 0);try{const r=this.get(Ly.multi,Ot,Ue.Self);for(const i of r)i()}finally{al(e),oi(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ge(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=Wu(e=fe(e))?e:fe(e&&e.provide);const r=function x4(n){return kC(n)?Fd(void 0,n.useValue):Fd(aN(n),Vy)}(e);if(Wu(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Fd(void 0,Vy,!0),i.factory=()=>ga(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Vy&&(t.value=P4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function k4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=fe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function LC(n){const e=sl(n),t=null!==e?e.factory:Ea(n);if(null!==t)return t;if(n instanceof me)throw new S(204,!1);if(n instanceof Function)return function M4(n){const e=n.length;if(e>0)throw function Lu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function D_(n){return n&&(n[Zc]||n[S_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function aN(n,e,t){let r;if(Wu(n)){const i=fe(n);return Ea(i)||LC(i)}if(kC(n))r=()=>fe(n.useValue);else if(function sN(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ga(n.deps||[]));else if(function iN(n){return!(!n||!n.useExisting)}(n))r=()=>ae(fe(n.useExisting));else{const i=fe(n&&(n.useClass||n.provide));if(!function N4(n){return!!n.deps}(n))return Ea(i)||LC(i);r=()=>new i(...ga(n.deps))}return r}function Fd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VC(n,e){for(const t of n)Array.isArray(t)?VC(t,e):t&&cr(t)?VC(t.\u0275providers,e):e(t)}class F4{}class lN{}class V4{resolveComponentFactory(e){throw function L4(n){const e=Error(`No component factory found for ${ge(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ld=(()=>{class n{}return n.NULL=new V4,n})();function B4(){return Vd(fr(),Y())}function Vd(n,e){return new Xi(Qi(n,e))}let Xi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=B4,n})();class Rp{}let xa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $4(){const n=Y(),t=ci(fr().index,n);return(zr(t)?t:n)[tt]}(),n})(),j4=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>null}),n})();class Bd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cN=new Bd("15.2.10"),BC={},UC="ngOriginalError";function $C(n){return n[UC]}class Ud{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$C(e);for(;t&&$C(t);)t=$C(t);return t||null}}function Na(n){return n instanceof Function?n():n}function hN(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const fN="ng-template";function X4(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==hN(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function pN(n){return 4===n.type&&n.value!==fN}function e3(n,e,t){return e===(4!==n.type||t?n.value:fN)}function t3(n,e,t){let r=4;const i=n.attrs||[],s=function i3(n){for(let e=0;e<n.length;e++)if(ly(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!e3(n,l,t)||""===l&&1===e.length){if(fo(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!X4(n.attrs,u,t)){if(fo(r))return!1;o=!0}continue}const f=n3(8&r?"class":l,i,pN(n),t);if(-1===f){if(fo(r))return!1;o=!0;continue}if(""!==u){let m;m=f>s?"":i[f+1].toLowerCase();const _=8&r?m:null;if(_&&-1!==hN(_,u,0)||2&r&&u!==m){if(fo(r))return!1;o=!0}}}}else{if(!o&&!fo(r)&&!fo(l))return!1;if(o&&fo(l))continue;o=!1,r=l|1&r}}return fo(r)||o}function fo(n){return 0==(1&n)}function n3(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function s3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function gN(n,e,t=!1){for(let r=0;r<e.length;r++)if(t3(n,e[r],t))return!0;return!1}function mN(n,e){return n?":not("+e.trim()+")":e}function a3(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!fo(o)&&(e+=mN(s,i),i=""),r=o,s=s||!fo(r);t++}return""!==i&&(e+=mN(s,i)),e}const nt={};function Yt(n){_N(yt(),Y(),Gr()+n,!1)}function _N(n,e,t,r){if(!r)if(3==(3&e[Xe])){const s=n.preOrderCheckHooks;null!==s&&pd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&gd(e,s,0,t)}Ia(t)}function wN(n,e=null,t=null,r){const i=IN(n,e,t,r);return i.resolveInjectorInitializers(),i}function IN(n,e=null,t=null,r,i=new Set){const s=[t||Ot,D4(n)];return r=r||("object"==typeof n?void 0:ge(n)),new oN(s,e||By(),r||null,i)}let fi=(()=>{class n{static create(t,r){if(Array.isArray(t))return wN({name:""},r,t,"");{const i=t.name??"";return wN({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=xo,n.NULL=new tN,n.\u0275prov=we({token:n,providedIn:"any",factory:()=>ae(Xx)}),n.__NG_ELEMENT_ID__=-1,n})();function J(n,e=Ue.Default){const t=Y();return null===t?ae(n,e):fy(fr(),t,fe(n),e)}function PN(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];ml(t[r]),o.contentQueries(2,e[s],s)}}}function $y(n,e,t,r,i,s,o,a,l,u,d){const f=e.blueprint.slice();return f[js]=i,f[Xe]=76|r,(null!==d||n&&1024&n[Xe])&&(f[Xe]|=1024),CT(f),f[tn]=f[Oo]=n,f[En]=t,f[ma]=o||n&&n[ma],f[tt]=a||n&&n[tt],f[nd]=l||n&&n[nd]||null,f[cl]=u||n&&n[cl]||null,f[xr]=s,f[dl]=function Cq(){return cC++}(),f[rd]=d,f[Xn]=2==e.type?n[Xn]:f,f}function Hd(n,e,t,r,i){let s=n.data[e];if(null===s)s=function GC(n,e,t,r,i){const s=Z_(),o=Y_(),l=n.data[e]=function N3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function Xf(){return Ke.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Pu(){const n=Ke.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Hs(s,!0),s}function Pp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qC(n,e,t){yl(e);try{const r=n.viewQuery;null!==r&&n0(1,r,t);const i=n.template;null!==i&&MN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&PN(n,e),n.staticViewQueries&&n0(2,n.viewQuery,t);const s=n.components;null!==s&&function P3(n,e){for(let t=0;t<e.length;t++)X3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Xe]&=-5,rp()}}function jy(n,e,t,r){const i=e[Xe];if(128!=(128&i)){yl(e);try{CT(e),function ey(n){return Ke.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&MN(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&pd(e,u,null)}else{const u=n.preOrderHooks;null!==u&&gd(e,u,0,null),sp(e,0)}if(function Y3(n){for(let e=gC(n);null!==e;e=mC(e)){if(!e[id])continue;const t=e[Lo];for(let r=0;r<t.length;r++){const i=t[r];512&i[Xe]||K_(i[tn],1),i[Xe]|=512}}}(e),function Z3(n){for(let e=gC(n);null!==e;e=mC(e))for(let t=hr;t<e.length;t++){const r=e[t],i=r[Ie];Yf(r)&&jy(i,r,i.template,r[En])}}(e),null!==n.contentQueries&&PN(n,e),o){const u=n.contentCheckHooks;null!==u&&pd(e,u)}else{const u=n.contentHooks;null!==u&&gd(e,u,1),sp(e,1)}!function S3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ia(~i);else{const s=i,o=t[++r],a=t[++r];ep(o,s),a(2,e[s])}}}finally{Ia(-1)}}(n,e);const a=n.components;null!==a&&function R3(n,e){for(let t=0;t<e.length;t++)J3(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&n0(2,l,r),o){const u=n.viewCheckHooks;null!==u&&pd(e,u)}else{const u=n.viewHooks;null!==u&&gd(e,u,2),sp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Xe]&=-41,512&e[Xe]&&(e[Xe]&=-513,K_(e[tn],-1))}finally{rp()}}}function MN(n,e,t,r,i){const s=Gr(),o=2&r;try{Ia(-1),o&&e.length>nn&&_N(n,e,nn,!1),Ki(o?2:0,i),t(r,i)}finally{Ia(s),Ki(o?3:1,i)}}function KC(n,e,t){if(Su(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function QC(n,e,t){ST()&&(function U3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ru(t)&&function q3(n,e,t){const r=Qi(e,n),i=xN(t),s=n[ma],o=Hy(n,$y(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ed(t,e),hi(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],u=ho(e,n,a,t);hi(u,e),null!==o&&K3(0,a-i,u,l,0,o),Es(l)&&(ci(t.index,e)[En]=ho(e,n,a,t))}}(n,e,t,Qi(t,e)),64==(64&t.flags)&&LN(n,e,t))}function ZC(n,e,t=Qi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function xN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=YC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function YC(n,e,t,r,i,s,o,a,l,u){const d=nn+r,f=d+i,m=function M3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:nt);return t}(d,f),_="function"==typeof u?u():u;return m[Ie]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1}}function kN(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?ON(t,e,i,s):r.hasOwnProperty(i)&&ON(t,e,r[i],s)}return t}function ON(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Is(n,e,t,r,i,s,o,a){const l=Qi(e,t);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(r0(n,t,d,r,i),Ru(e)&&function F3(n,e){const t=ci(e,n);16&t[Xe]||(t[Xe]|=32)}(t,e.index)):3&e.type&&(r=function O3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function JC(n,e,t,r){if(ST()){const i=null===r?null:{"":-1},s=function j3(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(gN(e,o.selectors,!1))if(r||(r=[]),Es(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),XC(n,e,a.length)}else r.unshift(o),XC(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&FN(n,e,t,o,i,a),i&&function H3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Nu(t.mergedAttrs,t.attrs)}function FN(n,e,t,r,i,s){for(let u=0;u<r.length;u++)Ou(Ed(t,e),n,r[u].type);!function W3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Pp(n,e,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];t.mergedAttrs=Nu(t.mergedAttrs,d.hostAttrs),G3(n,t,e,l,d),z3(l,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function k3(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,u=null;for(let d=e.directiveStart;d<i;d++){const f=s[d],m=t?t.get(f):null,v=m?m.outputs:null;l=kN(f.inputs,d,l,m?m.inputs:null),u=kN(f.outputs,d,u,v);const T=null===l||null===o||pN(e)?null:Q3(l,d,o);a.push(T)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(n,t,s)}function LN(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function MT(){return Ke.lFrame.currentDirectiveIndex}();try{Ia(s);for(let a=r;a<i;a++){const l=n.data[a],u=e[a];tp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$3(l,u)}}finally{Ia(-1),tp(o)}}function $3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function XC(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function z3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Es(e)&&(t[""]=n)}}function G3(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ea(i.type)),o=new Mu(s,Es(i),J);n.blueprint[r]=o,t[r]=o,function V3(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function B3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Pp(n,t,i.hostVars,nt),i)}function Ho(n,e,t,r,i,s){const o=Qi(n,e);!function e0(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ne(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[tt],o,s,n.value,t,r,i)}function K3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],d=o[l++],f=o[l++];null!==a?r.setInput(t,f,u,d):t[d]=f}}}function Q3(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function VN(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function J3(n,e){const t=ci(e,n);if(Yf(t)){const r=t[Ie];48&t[Xe]?jy(r,t,r.template,t[En]):t[No]>0&&t0(t)}}function t0(n){for(let r=gC(n);null!==r;r=mC(r))for(let i=hr;i<r.length;i++){const s=r[i];if(Yf(s))if(512&s[Xe]){const o=s[Ie];jy(o,s,o.template,s[En])}else s[No]>0&&t0(s)}const t=n[Ie].components;if(null!==t)for(let r=0;r<t.length;r++){const i=ci(t[r],n);Yf(i)&&i[No]>0&&t0(i)}}function X3(n,e){const t=ci(e,n),r=t[Ie];(function e9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),qC(r,t,t[En])}function Hy(n,e){return n[_a]?n[zf][Wi]=e:n[_a]=e,n[zf]=e,e}function zy(n){for(;n;){n[Xe]|=32;const e=bp(n);if(Gf(n)&&!e)return n;n=e}return null}function Wy(n,e,t,r=!0){const i=e[ma];i.begin&&i.begin();try{jy(n,e,n.template,t)}catch(o){throw r&&jN(e,o),o}finally{i.end&&i.end()}}function n0(n,e,t){ml(0),e(n,t)}function BN(n){return n[ko]||(n[ko]=[])}function UN(n){return n.cleanup||(n.cleanup=[])}function jN(n,e){const t=n[cl],r=t?t.get(Ud,null):null;r&&r.handleError(e)}function r0(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],u=n.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Gy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=$e(i,a):2==s&&(r=$e(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function qy(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ir(s)),vs(s))for(let a=hr;a<s.length;a++){const l=s[a],u=l[Ie].firstChild;null!==u&&qy(l[Ie],l,u,r)}const o=t.type;if(8&o)qy(n,e,t.child,r);else if(32&o){const a=pC(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Ox(e,t);if(Array.isArray(a))r.push(...a);else{const l=bp(e[Xn]);qy(l[Ie],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Mp{get rootNodes(){const e=this._lView,t=e[Ie];return qy(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(e){this._lView[En]=e}get destroyed(){return 128==(128&this._lView[Xe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[tn];if(vs(e)){const t=e[hl],r=t?t.indexOf(this):-1;r>-1&&(vC(e,r),Aa(t,r))}this._attachedToViewContainer=!1}Ax(this._lView[Ie],this._lView)}onDestroy(e){!function NN(n,e,t,r){const i=BN(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&UN(n).push(r,i.length-1))}(this._lView[Ie],this._lView,null,e)}markForCheck(){zy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xe]&=-65}reattach(){this._lView[Xe]|=64}detectChanges(){Wy(this._lView[Ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bq(n,e){Ap(n,e,e[tt],2,null,null)}(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class t9 extends Mp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Wy(e[Ie],e,e[En],!1)}checkNoChanges(){}get context(){return null}}class HN extends Ld{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Lt(e);return new xp(t,this.ngModule)}}function zN(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class r9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ll(r);const i=this.injector.get(e,BC,r);return i!==BC||t===BC?i:this.parentInjector.get(e,t,r)}}class xp extends lN{get inputs(){return zN(this.componentDef.inputs)}get outputs(){return zN(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function l3(n){return n.map(a3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ma?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new r9(e,s):e,a=o.get(Rp,null);if(null===a)throw new S(407,!1);const l=o.get(j4,null),u=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=r?function x3(n,e,t){return n.selectRootElement(e,t===_s.ShadowDom)}(u,r,this.componentDef.encapsulation):yC(u,d,function n9(n){const e=n.toLowerCase();return"svg"===e?G_:"math"===e?"math":null}(d)),m=this.componentDef.onPush?288:272,_=YC(0,null,null,1,0,null,null,null,null,null),v=$y(null,_,null,m,null,null,a,u,l,o,null);let T,A;yl(v);try{const x=this.componentDef;let F,P=null;x.findHostDirectiveDefs?(F=[],P=new Map,x.findHostDirectiveDefs(x,F,P),F.push(x)):F=[x];const V=function s9(n,e){const t=n[Ie],r=nn;return n[r]=e,Hd(t,r,2,"#host",null)}(v,f),oe=function o9(n,e,t,r,i,s,o,a){const l=i[Ie];!function a9(n,e,t,r){for(const i of n)e.mergedAttrs=Nu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Gy(e,e.mergedAttrs,!0),null!==t&&Vx(r,t,e))}(r,n,e,o);const u=s.createRenderer(e,t),d=$y(i,xN(t),null,t.onPush?32:16,i[n.index],n,s,u,a||null,null,null);return l.firstCreatePass&&XC(l,n,r.length-1),Hy(i,d),i[n.index]=d}(V,f,x,F,v,a,u);A=ld(_,nn),f&&function u9(n,e,t,r){if(r)xu(n,t,["ng-version",cN.full]);else{const{attrs:i,classes:s}=function u3(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!fo(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&xu(n,t,i),s&&s.length>0&&Lx(n,t,s.join(" "))}}(u,x,f,r),void 0!==t&&function c9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(A,this.ngContentSelectors,t),T=function l9(n,e,t,r,i,s){const o=fr(),a=i[Ie],l=Qi(o,i);FN(a,i,o,t,null,r);for(let d=0;d<t.length;d++)hi(ho(i,a,o.directiveStart+d,o),i);LN(a,i,o),l&&hi(l,i);const u=ho(i,a,o.directiveStart+o.componentOffset,o);if(n[En]=i[En]=u,null!==s)for(const d of s)d(u,e);return KC(a,o,n),u}(oe,x,F,P,v,[d9]),qC(_,v,null)}finally{rp()}return new i9(this.componentType,T,Vd(A,v),v,A)}}class i9 extends F4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new t9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;r0(s[Ie],s,i,e,t),zy(ci(this._tNode.index,s))}}get injector(){return new Ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function d9(){const n=fr();Ta(Y()[Ie],n)}function Kt(n){let e=function WN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Es(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=s0(n.inputs),o.declaredInputs=s0(n.declaredInputs),o.outputs=s0(n.outputs);const a=i.hostBindings;a&&g9(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&f9(n,l),u&&p9(n,u),Te(n.inputs,i.inputs),Te(n.declaredInputs,i.declaredInputs),Te(n.outputs,i.outputs),Es(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Kt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function h9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Nu(i.hostAttrs,t=Nu(t,i.hostAttrs))}}(r)}function s0(n){return n===ys?{}:n===Ot?[]:n}function f9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function p9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function g9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Ky(n){return!!o0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function o0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zo(n,e,t){return n[e]=t}function pi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Qy(n,e,t,r,i){const s=function Gu(n,e,t,r){const i=pi(n,e,t);return pi(n,e+1,r)||i}(n,e,t,r);return pi(n,e+2,i)||s}function es(n,e,t,r){const i=Y();return pi(i,rn(),e)&&(yt(),Ho(Sn(),i,n,e,t,r)),es}function gi(n,e,t,r,i,s,o,a){const l=Y(),u=yt(),d=n+nn,f=u.firstCreatePass?function b9(n,e,t,r,i,s,o,a,l){const u=e.consts,d=Hd(e,n,4,o||null,wa(u,a));JC(e,t,d,wa(u,l)),Ta(e,d);const f=d.tView=YC(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}(d,u,l,e,t,r,i,s,o):u.data[d];Hs(f,!1);const m=l[tt].createComment("");My(u,l,m,f),hi(m,l),Hy(l,l[d]=VN(m,l,m,f)),fl(f)&&QC(u,l,f),null!=o&&ZC(l,f,a)}function gr(n,e,t){const r=Y();return pi(r,rn(),e)&&Is(yt(),Sn(),r,n,e,r[tt],t,!1),gr}function a0(n,e,t,r,i){const o=i?"class":"style";r0(n,t,e.inputs[o],o,r)}function ke(n,e,t,r){const i=Y(),s=yt(),o=nn+n,a=i[tt],l=s.firstCreatePass?function D9(n,e,t,r,i,s){const o=e.consts,l=Hd(e,n,2,r,wa(o,i));return JC(e,t,l,wa(o,s)),null!==l.attrs&&Gy(l,l.attrs,!1),null!==l.mergedAttrs&&Gy(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],u=i[o]=yC(a,e,function kT(){return Ke.lFrame.currentNamespace}()),d=fl(l);return Hs(l,!0),Vx(a,u,l),32!=(32&l.flags)&&My(s,i,u,l),0===function bT(){return Ke.lFrame.elementDepthCount}()&&hi(u,i),function AT(){Ke.lFrame.elementDepthCount++}(),d&&(QC(s,i,l),KC(s,l,i)),null!==r&&ZC(i,l),ke}function Ve(){let n=fr();Y_()?ud():(n=n.parent,Hs(n,!1));const e=n;!function DT(){Ke.lFrame.elementDepthCount--}();const t=yt();return t.firstCreatePass&&(Ta(t,n),Su(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function VT(n){return 0!=(8&n.flags)}(e)&&a0(t,e,Y(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function BT(n){return 0!=(16&n.flags)}(e)&&a0(t,e,Y(),e.stylesWithoutHost,!1),Ve}function Nr(n,e,t,r){return ke(n,e,t,r),Ve(),Nr}function kp(n,e,t){const r=Y(),i=yt(),s=n+nn,o=i.firstCreatePass?function S9(n,e,t,r,i){const s=e.consts,o=wa(s,r),a=Hd(e,n,8,"ng-container",o);return null!==o&&Gy(a,o,!0),JC(e,t,a,wa(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Hs(o,!0);const a=r[s]=r[tt].createComment("");return My(i,r,a,o),hi(a,r),fl(o)&&(QC(i,r,o),KC(i,o,r)),null!=t&&ZC(r,o),kp}function Op(){let n=fr();const e=yt();return Y_()?ud():(n=n.parent,Hs(n,!1)),e.firstCreatePass&&(Ta(e,n),Su(n)&&e.queries.elementEnd(n)),Op}function l0(){return Y()}function Fp(n){return!!n&&"function"==typeof n.then}function ok(n){return!!n&&"function"==typeof n.subscribe}const u0=ok;function kr(n,e,t,r){const i=Y(),s=yt(),o=fr();return function lk(n,e,t,r,i,s,o){const a=fl(r),u=n.firstCreatePass&&UN(n),d=e[En],f=BN(e);let m=!0;if(3&r.type||o){const T=Qi(r,e),A=o?o(T):T,x=f.length,F=o?V=>o(Ir(V[r.index])):r.index;let P=null;if(!o&&a&&(P=function R9(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[ko],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,m=!1;else{s=ck(r,e,d,s,!1);const V=t.listen(A,i,s);f.push(s,V),u&&u.push(i,F,x,x+1)}}else s=ck(r,e,d,s,!1);const _=r.outputs;let v;if(m&&null!==_&&(v=_[i])){const T=v.length;if(T)for(let A=0;A<T;A+=2){const oe=e[v[A]][v[A+1]].subscribe(s),le=f.length;f.push(s,oe),u&&u.push(i,r.index,le,-(le+1))}}}(s,i,i[tt],o,n,e,r),kr}function uk(n,e,t,r){try{return Ki(6,e,t),!1!==t(r)}catch(i){return jN(n,i),!1}finally{Ki(7,e,t)}}function ck(n,e,t,r,i){return function s(o){if(o===Function)return r;zy(n.componentOffset>-1?ci(n.index,e):e);let l=uk(e,t,r,o),u=s.__ngNextListenerFn__;for(;u;)l=uk(e,t,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ts(n=1){return function ip(n){return(Ke.lFrame.contextLView=function sy(n,e){for(;n>0;)e=e[Oo],n--;return e}(n,Ke.lFrame.contextLView))[En]}(n)}function Zy(n,e){return n<<17|e<<2}function Sl(n){return n>>17&32767}function d0(n){return 2|n}function qu(n){return(131068&n)>>2}function h0(n,e){return-131069&n|e<<2}function f0(n){return 1|n}function Ek(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Sl(s):qu(s),l=!1;for(;0!==a&&(!1===l||o);){const d=n[a+1];V9(n[a],e)&&(l=!0,n[a+1]=r?f0(d):d0(d)),a=r?Sl(d):qu(d)}l&&(n[t+1]=r?d0(s):f0(s))}function V9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Dl(n,e)>=0}const Tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wk(n){return n.substring(Tr.key,Tr.keyEnd)}function Ik(n,e){const t=Tr.textEnd;return t===e?-1:(e=Tr.keyEnd=function j9(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Tr.key=e,t),Xd(n,e,t))}function Xd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function eh(n,e,t){return po(n,e,t,!1),eh}function Yy(n,e){return po(n,e,null,!0),Yy}function Oa(n){!function go(n,e,t,r){const i=yt(),s=co(2);i.firstUpdatePass&&Sk(i,null,s,r);const o=Y();if(t!==nt&&pi(o,s,t)){const a=i.data[Gr()];if(xk(a,r)&&!Dk(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=$e(l,t||"")),a0(i,a,o,t,r)}else!function J9(n,e,t,r,i,s,o,a){i===nt&&(i=Ot);let l=0,u=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==d||null!==f;){const m=l<i.length?i[l+1]:void 0,_=u<s.length?s[u+1]:void 0;let T,v=null;d===f?(l+=2,u+=2,m!==_&&(v=f,T=_)):null===f||null!==d&&d<f?(l+=2,v=d):(u+=2,v=f,T=_),null!==v&&Pk(n,e,t,r,v,T,o,a),d=l<i.length?i[l]:null,f=u<s.length?s[u]:null}}(i,a,o,o[tt],o[s+1],o[s+1]=function Z9(n,e,t){if(null==t||""===t)return Ot;const r=[],i=ws(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(Y9,Go,n,!0)}function Go(n,e){for(let t=function U9(n){return function Ck(n){Tr.key=0,Tr.keyEnd=0,Tr.value=0,Tr.valueEnd=0,Tr.textEnd=n.length}(n),Ik(n,Xd(n,0,Tr.textEnd))}(e);t>=0;t=Ik(e,t))Mi(n,wk(e),!0)}function po(n,e,t,r){const i=Y(),s=yt(),o=co(2);s.firstUpdatePass&&Sk(s,n,o,r),e!==nt&&pi(i,o,e)&&Pk(s,s.data[Gr()],i,i[tt],n,i[o+1]=function X9(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ge(ws(n)))),n}(e,t),r,o)}function Dk(n,e){return e>=n.expandoStartIndex}function Sk(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Gr()],o=Dk(n,t);xk(s,r)&&null===e&&!o&&(e=!1),e=function G9(n,e,t,r){const i=cd(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Lp(t=p0(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=p0(i,n,e,t,r),null===s){let l=function q9(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==qu(r))return n[Sl(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=p0(null,n,e,l[1],r),l=Lp(l,e.attrs,r),function K9(n,e,t,r){n[Sl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function Q9(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Lp(r,n[s].hostAttrs,t);return Lp(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function F9(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Sl(o),l=qu(o);n[r]=t;let d,u=!1;if(Array.isArray(t)?(d=t[1],(null===d||Dl(t,d)>0)&&(u=!0)):d=t,i)if(0!==l){const m=Sl(n[a+1]);n[r+1]=Zy(m,a),0!==m&&(n[m+1]=h0(n[m+1],r)),n[a+1]=function k9(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Zy(a,0),0!==a&&(n[a+1]=h0(n[a+1],r)),a=r;else n[r+1]=Zy(l,0),0===a?a=r:n[l+1]=h0(n[l+1],r),l=r;u&&(n[r+1]=d0(n[r+1])),Ek(n,d,r,!0),Ek(n,d,r,!1),function L9(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Dl(s,e)>=0&&(t[r+1]=f0(t[r+1]))}(e,d,n,r,s),o=Zy(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function p0(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Lp(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Lp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mi(n,o,!!t||e[++s]))}return void 0===n?null:n}function Y9(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Mi(n,r,t)}function Pk(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,u=l[a+1],d=function O9(n){return 1==(1&n)}(u)?Mk(l,e,t,i,qu(u),o):void 0;Jy(d)||(Jy(s)||function N9(n){return 2==(2&n)}(u)&&(s=Mk(l,null,t,i,a,o)),function Qq(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:qr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qr.Important),n.setStyle(t,r,i,s))}}(r,o,Zf(Gr(),t),i,s))}function Mk(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),d=u?l[1]:l,f=null===d;let m=t[i+1];m===nt&&(m=f?Ot:void 0);let _=f?fp(m,r):d===r?m:void 0;if(u&&!Jy(_)&&(_=fp(l,r)),Jy(_)&&(a=_,o))return a;const v=n[i+1];i=o?Sl(v):qu(v)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=fp(l,r))}return a}function Jy(n){return void 0!==n}function xk(n,e){return 0!=(n.flags&(e?8:16))}function Qe(n,e=""){const t=Y(),r=yt(),i=n+nn,s=r.firstCreatePass?Hd(r,i,1,e,null):r.data[i],o=t[i]=function _C(n,e){return n.createText(e)}(t[tt],e);My(r,t,o,s),Hs(s,!1)}function th(n){return qo("",n,""),th}function qo(n,e,t){const r=Y(),i=function Wd(n,e,t,r){return pi(n,rn(),t)?e+ne(t)+r:nt}(r,n,e,t);return i!==nt&&function ka(n,e,t){const r=Zf(e,n);!function Cx(n,e,t){n.setValue(e,t)}(n[tt],r,t)}(r,Gr(),i),qo}function g0(n,e,t){const r=Y();if(pi(r,rn(),e)){const s=yt(),o=Sn();Is(s,o,r,n,e,function $N(n,e,t){return(null===n||Es(n))&&(t=function TT(n){for(;Array.isArray(n);){if("object"==typeof n[Wf])return n;n=n[js]}return null}(t[e.index])),t[tt]}(cd(s.data),o,r),t,!0)}return g0}const Ku=void 0;var v5=["en",[["a","p"],["AM","PM"],Ku],[["AM","PM"],Ku,Ku],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ku,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ku,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ku,"{1} 'at' {0}",Ku],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function y5(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let nh={};function Ni(n){const e=function w5(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Jk(e);if(t)return t;const r=e.split("-")[0];if(t=Jk(r),t)return t;if("en"===r)return v5;throw new S(701,!1)}function Jk(n){return n in nh||(nh[n]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[n]),nh[n]}var Ee=(()=>((Ee=Ee||{})[Ee.LocaleId=0]="LocaleId",Ee[Ee.DayPeriodsFormat=1]="DayPeriodsFormat",Ee[Ee.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ee[Ee.DaysFormat=3]="DaysFormat",Ee[Ee.DaysStandalone=4]="DaysStandalone",Ee[Ee.MonthsFormat=5]="MonthsFormat",Ee[Ee.MonthsStandalone=6]="MonthsStandalone",Ee[Ee.Eras=7]="Eras",Ee[Ee.FirstDayOfWeek=8]="FirstDayOfWeek",Ee[Ee.WeekendRange=9]="WeekendRange",Ee[Ee.DateFormat=10]="DateFormat",Ee[Ee.TimeFormat=11]="TimeFormat",Ee[Ee.DateTimeFormat=12]="DateTimeFormat",Ee[Ee.NumberSymbols=13]="NumberSymbols",Ee[Ee.NumberFormats=14]="NumberFormats",Ee[Ee.CurrencyCode=15]="CurrencyCode",Ee[Ee.CurrencySymbol=16]="CurrencySymbol",Ee[Ee.CurrencyName=17]="CurrencyName",Ee[Ee.Currencies=18]="Currencies",Ee[Ee.Directionality=19]="Directionality",Ee[Ee.PluralCase=20]="PluralCase",Ee[Ee.ExtraData=21]="ExtraData",Ee))();const rh="en-US";let Xk=rh;function y0(n,e,t,r,i){if(n=fe(n),Array.isArray(n))for(let s=0;s<n.length;s++)y0(n[s],e,t,r,i);else{const s=yt(),o=Y();let a=Wu(n)?n:fe(n.provide),l=aN(n);const u=fr(),d=1048575&u.providerIndexes,f=u.directiveStart,m=u.providerIndexes>>20;if(Wu(n)||!n.multi){const _=new Mu(l,i,J),v=E0(a,e,i?d:d+m,f);-1===v?(Ou(Ed(u,o),s,a),v0(s,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(_),o.push(_)):(t[v]=_,o[v]=_)}else{const _=E0(a,e,d+m,f),v=E0(a,e,d,d+m),A=v>=0&&t[v];if(i&&!A||!i&&!(_>=0&&t[_])){Ou(Ed(u,o),s,a);const x=function y6(n,e,t,r,i){const s=new Mu(n,t,J);return s.multi=[],s.index=e,s.componentProviders=0,CO(s,i,r&&!t),s}(i?_6:m6,t.length,i,r,l);!i&&A&&(t[v].providerFactory=x),v0(s,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(x),o.push(x)}else v0(s,n,_>-1?_:v,CO(t[i?v:_],l,!i&&r));!i&&r&&A&&t[v].componentProviders++}}}function v0(n,e,t,r){const i=Wu(e),s=function R4(n){return!!n.useClass}(e);if(i||s){const l=(s?fe(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=u.indexOf(t);-1===d?u.push(t,[r,l]):u[d+1].push(r,l)}else u.push(t,l)}}}function CO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function E0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function m6(n,e,t,r){return w0(this.multi,[])}function _6(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ho(t,t[Ie],this.providerFactory.index,r);s=a.slice(0,o),w0(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],w0(i,s);return s}function w0(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function wn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function g6(n,e,t){const r=yt();if(r.firstCreatePass){const i=Es(n);y0(t,r.data,r.blueprint,i,!0),y0(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ih{}class bO{}class AO extends ih{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HN(this);const r=Ri(e);this._bootstrapComponents=Na(r.bootstrap),this._r3Injector=IN(e,t,[{provide:ih,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],ge(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class I0 extends bO{constructor(e){super(),this.moduleType=e}create(e){return new AO(this.moduleType,e)}}class E6 extends ih{constructor(e,t,r){super(),this.componentFactoryResolver=new HN(this),this.instance=null;const i=new oN([...e,{provide:ih,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],t||By(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function rv(n,e,t=null){return new E6(n,e,t).injector}let w6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=nN(0,t.type),i=r.length>0?rv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=we({token:n,providedIn:"environment",factory:()=>new n(ae(Ma))}),n})();function iv(n){n.getStandaloneInjector=e=>e.get(w6).getOrCreateStandaloneInjector(n)}function Hp(n,e){const t=n[e];return t===nt?void 0:t}function C0(n,e){const t=yt();let r;const i=n+nn;t.firstCreatePass?(r=function B6(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ea(r.type)),o=oi(J);try{const a=zs(!1),l=s();return zs(a),function A9(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Y(),i,l),l}finally{oi(o)}}function BO(n,e,t){const r=n+nn,i=Y(),s=pl(i,r);return zp(i,r)?function kO(n,e,t,r,i,s){const o=e+t;return pi(n,o,i)?zo(n,o+1,s?r.call(s,i):r(i)):Hp(n,o+1)}(i,Wr(),e,s.transform,t,s):s.transform(t)}function UO(n,e,t,r,i){const s=n+nn,o=Y(),a=pl(o,s);return zp(o,s)?function FO(n,e,t,r,i,s,o,a){const l=e+t;return Qy(n,l,i,s,o)?zo(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):Hp(n,l+3)}(o,Wr(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function zp(n,e){return n[Ie].data[e].pure}function b0(n){return e=>{setTimeout(n,void 0,e)}}const Wn=class H6 extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=b0(s),i&&(i=b0(i)),o&&(o=b0(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Rt&&e.add(a),a}};let Fa=(()=>{class n{}return n.__NG_ELEMENT_ID__=q6,n})();const W6=Fa,G6=class extends W6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=$y(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[ya]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Gi];return null!==o&&(i[Gi]=o.createEmbeddedView(r)),qC(r,i,e),new Mp(i)}};function q6(){return sv(fr(),Y())}function sv(n,e){return 4&n.type?new G6(e,n,Vd(n,e)):null}let mo=(()=>{class n{}return n.__NG_ELEMENT_ID__=K6,n})();function K6(){return function HO(n,e){let t;const r=e[n.index];if(vs(r))t=r;else{let i;if(8&n.type)i=Ir(r);else{const s=e[tt];i=s.createComment("");const o=Qi(n,e);Hu(s,Py(s,o),i,function Gq(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=VN(r,e,i,n),Hy(e,t)}return new $O(t,n,e)}(fr(),Y())}const Q6=mo,$O=class extends Q6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vd(this._hostTNode,this._hostLView)}get injector(){return new Ca(this._hostTNode,this._hostLView)}get parentInjector(){const e=lp(this._hostTNode,this._hostLView);if(ku(e)){const t=wl(e,this._hostLView),r=El(e);return new Ca(t[Ie].data[r+8],t)}return new Ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=jO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function ba(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const f=t||{};a=f.index,r=f.injector,i=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const l=o?e:new xp(Lt(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?u:this.parentInjector).get(Ma,null);m&&(s=m)}const d=l.create(u,i,void 0,s);return this.insert(d.hostView,a),d}insert(e,t){const r=e._lView,i=r[Ie];if(function sx(n){return vs(n[tn])}(r)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const f=r[tn],m=new $O(f,f[xr],f[tn]);m.detach(m.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function $q(n,e,t,r){const i=hr+r,s=t.length;r>0&&(t[i-1][Wi]=e),r<s-hr?(e[Wi]=t[i],Ey(t,hr+r,e)):(t.push(e),e[Wi]=null),e[tn]=t;const o=e[ya];null!==o&&t!==o&&function jq(n,e){const t=n[Lo];e[Xn]!==e[tn][tn][Xn]&&(n[id]=!0),null===t?n[Lo]=[e]:t.push(e)}(o,e);const a=e[Gi];null!==a&&a.insertView(n),e[Xe]|=64}(i,r,o,s);const a=IC(s,o),l=r[tt],u=Py(l,o[Fo]);return null!==u&&function Vq(n,e,t,r,i,s){r[js]=i,r[xr]=e,Ap(n,r,t,1,i,s)}(i,o[xr],l,r,u,a),e.attachToViewContainerRef(),Ey(D0(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=jO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=vC(this._lContainer,t);r&&(Aa(D0(this._lContainer),t),Ax(r[Ie],r))}detach(e){const t=this._adjustIndex(e,-1),r=vC(this._lContainer,t);return r&&null!=Aa(D0(this._lContainer),t)?new Mp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function jO(n){return n[hl]}function D0(n){return n[hl]||(n[hl]=[])}function JO(n,e){return sv(n,e)}function av(...n){}const Gp=new me("Application Initializer");let lv=(()=>{class n{constructor(t){this.appInits=t,this.resolve=av,this.reject=av,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Fp(s))t.push(s);else if(u0(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ae(Gp,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qp=new me("AppId",{providedIn:"root",factory:function m1(){return`${V0()}${V0()}${V0()}`}});function V0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _1=new me("Platform Initializer"),Qu=new me("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),y1=new me("AnimationModuleType");let I8=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ko=new me("LocaleId",{providedIn:"root",factory:()=>rt(Ko,Ue.Optional|Ue.SkipSelf)||function T8(){return typeof $localize<"u"&&$localize.locale||rh}()});class b8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let v1=(()=>{class n{compileModuleSync(t){return new I0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Na(Ri(t).declarations).reduce((o,a)=>{const l=Lt(a);return l&&o.push(new xp(l)),o},[]);return new b8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S8=(()=>Promise.resolve(0))();function B0(n){typeof Zone>"u"?S8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Vt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wn(!1),this.onMicrotaskEmpty=new Wn(!1),this.onStable=new Wn(!1),this.onError=new Wn(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function R8(){let n=en.requestAnimationFrame,e=en.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function x8(n){const e=()=>{!function M8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(en,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$0(n),n.isCheckStableRunning=!0,U0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return I1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),T1(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return I1(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),T1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,$0(n),U0(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vt.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Vt.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,P8,av,av);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const P8={};function U0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function I1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T1(n){n._nesting--,U0(n)}class N8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wn,this.onMicrotaskEmpty=new Wn,this.onStable=new Wn,this.onError=new Wn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const C1=new me(""),uv=new me("");let z0,j0=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,z0||(function k8(n){z0=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vt.assertNotInAngularZone(),B0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())B0(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(ae(Vt),ae(H0),ae(uv))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),H0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return z0?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const La=!1;let Rl=null;const b1=new me("AllowMultipleToken"),W0=new me("PlatformDestroyListeners"),A1=new me("appBootstrapListener");class D1{constructor(e,t){this.name=e,this.token=t}}function R1(n,e,t=[]){const r=`Platform: ${e}`,i=new me(r);return(s=[])=>{let o=G0();if(!o||o.injector.get(b1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function L8(n){if(Rl&&!Rl.get(b1,!1))throw new S(400,!1);Rl=n;const e=n.get(M1);(function S1(n){const e=n.get(_1,null);e&&e.forEach(t=>t())})(n)}(function P1(n=[],e){return fi.create({name:e,providers:[{provide:OC,useValue:"platform"},{provide:W0,useValue:new Set([()=>Rl=null])},...n]})}(a,r))}return function B8(n){const e=G0();if(!e)throw new S(401,!1);return e}()}}function G0(){return Rl?.get(M1)??null}let M1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function N1(n,e){let t;return t="noop"===n?new N8:("zone.js"===n?void 0:n)||new Vt(e),t}(r?.ngZone,function x1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Vt,useValue:i}];return i.run(()=>{const o=fi.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Ud,null);if(!l)throw new S(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:d=>{l.handleError(d)}});a.onDestroy(()=>{cv(this._modules,a),u.unsubscribe()})}),function k1(n,e,t){try{const r=t();return Fp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(lv);return u.runInitializers(),u.donePromise.then(()=>(function eO(n){Hi(n,"Expected localeId to be defined"),"string"==typeof n&&(Xk=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ko,rh)||rh),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=O1({},r);return function O8(n,e,t){const r=new I0(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Pl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new S(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(W0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ae(fi))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function O1(n,e){return Array.isArray(e)?e.reduce(O1,n):{...n,...e}}let Pl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new qe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),B0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=C(s,o.pipe(E()))}bootstrap(t,r){const i=t instanceof lN;if(!this._injector.get(lv).done){!i&&function uo(n){const e=Lt(n)||kn(n)||ui(n);return null!==e&&e.standalone}(t);throw new S(405,La)}let o;o=i?t:this._injector.get(Ld).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function F8(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ih),u=o.create(fi.NULL,[],r||o.selector,a),d=u.location.nativeElement,f=u.injector.get(C1,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),cv(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;cv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(A1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>cv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ae(Vt),ae(Ma),ae(Ud))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let dv=(()=>{class n{}return n.__NG_ELEMENT_ID__=$8,n})();function $8(n){return function j8(n,e,t){if(Ru(n)&&!t){const r=ci(n.index,e);return new Mp(r,r)}return 47&n.type?new Mp(e[Xn],e):null}(fr(),Y(),16==(16&n))}class U1{constructor(){}supports(e){return Ky(e)}create(e){return new K8(e)}}const q8=(n,e)=>e;class K8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||q8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<j1(r,i,s)?t:r,a=j1(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,d=l-i;if(u!=d){for(let m=0;m<u;m++){const _=m<s.length?s[m]:s[m]=0,v=_+m;d<=v&&v<u&&(s[m]=_+1)}s[o.previousIndex]=d-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ky(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function I9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Q8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Q8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Z8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class $1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Z8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class H1{constructor(){}supports(e){return e instanceof Map||o0(e)}create(){return new Y8}}class Y8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||o0(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new J8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class J8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function z1(){return new pv([new U1])}let pv=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||z1()),deps:[[n,new Da,new di]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:z1}),n})();function W1(){return new ah([new H1])}let ah=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||W1()),deps:[[n,new Da,new di]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:W1}),n})();const tK=R1(null,"core",[]);let nK=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ae(Pl))},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({}),n})();function lh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let J0=null;function Va(){return J0}class sK{}const mr=new me("DocumentToken");let X0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return function oK(){return ae(G1)}()},providedIn:"platform"}),n})();const aK=new me("Location Initialized");let G1=(()=>{class n extends X0{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Va().getBaseHref(this._doc)}onPopState(t){const r=Va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){q1()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){q1()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ae(mr))},n.\u0275prov=we({token:n,factory:function(){return function lK(){return new G1(ae(mr))}()},providedIn:"platform"}),n})();function q1(){return!!window.history.pushState}function eb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function K1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ba(n){return n&&"?"!==n[0]?"?"+n:n}let Yu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(Z1)},providedIn:"root"}),n})();const Q1=new me("appBaseHref");let Z1=(()=>{class n extends Yu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??rt(mr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return eb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ba(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ba(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ba(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ae(X0),ae(Q1,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uK=(()=>{class n extends Yu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=eb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ba(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ba(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ae(X0),ae(Q1,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),tb=(()=>{class n{constructor(t){this._subject=new Wn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function hK(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(K1(Y1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ba(r))}normalize(t){return n.stripTrailingSlash(function dK(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Y1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ba(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ba(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ba,n.joinWithSlash=eb,n.stripTrailingSlash=K1,n.\u0275fac=function(t){return new(t||n)(ae(Yu))},n.\u0275prov=we({token:n,factory:function(){return function cK(){return new tb(ae(Yu))}()},providedIn:"root"}),n})();function Y1(n){return n.replace(/\/index.html$/,"")}var ns=(()=>((ns=ns||{})[ns.Decimal=0]="Decimal",ns[ns.Percent=1]="Percent",ns[ns.Currency=2]="Currency",ns[ns.Scientific=3]="Scientific",ns))(),je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Group=1]="Group",je[je.List=2]="List",je[je.PercentSign=3]="PercentSign",je[je.PlusSign=4]="PlusSign",je[je.MinusSign=5]="MinusSign",je[je.Exponential=6]="Exponential",je[je.SuperscriptingExponent=7]="SuperscriptingExponent",je[je.PerMille=8]="PerMille",je[je.Infinity=9]="Infinity",je[je.NaN=10]="NaN",je[je.TimeSeparator=11]="TimeSeparator",je[je.CurrencyDecimal=12]="CurrencyDecimal",je[je.CurrencyGroup=13]="CurrencyGroup",je))();function Gs(n,e){const t=Ni(n),r=t[Ee.NumberSymbols][e];if(typeof r>"u"){if(e===je.CurrencyDecimal)return t[Ee.NumberSymbols][je.Decimal];if(e===je.CurrencyGroup)return t[Ee.NumberSymbols][je.Group]}return r}const VK=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rF=22,Tv=".",Qp="0",BK=";",UK=",",ob="#";function ub(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class XK{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uF=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new XK(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),cF(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{cF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(J(mo),J(Fa),J(pv))},n.\u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function cF(n,e){n.context.$implicit=e.item}let Cv=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new t7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(J(mo),J(Fa))},n.\u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class t7{constructor(){this.$implicit=null,this.ngIf=null}}function dF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ge(e)}'.`)}function vo(n,e){return new S(2100,!1)}class i7{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class s7{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const o7=new s7,a7=new i7;let fF=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Fp(t))return o7;if(ok(t))return a7;throw vo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(J(dv,16))},n.\u0275pipe=li({name:"async",type:n,pure:!1,standalone:!0}),n})(),pb=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function gb(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function zK(n,e,t){return function ab(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let u=function GK(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(Tv))>-1&&(e=e.replace(Tv,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Qp;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Qp;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>rF&&(r=r.splice(0,rF-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(u=function WK(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(u));let d=e.minInt,f=e.minFrac,m=e.maxFrac;if(s){const F=s.match(VK);if(null===F)throw new Error(`${s} is not a valid digit info`);const P=F[1],V=F[3],oe=F[5];null!=P&&(d=ub(P)),null!=V&&(f=ub(V)),null!=oe?m=ub(oe):null!=V&&f>m&&(m=f)}!function qK(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const u=e+n.integerLen,d=r.reduceRight(function(f,m,_,v){return v[_]=(m+=f)<10?m:m-10,l&&(0===v[_]&&_>=u?v.pop():l=!1),m>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}(u,f,m);let _=u.digits,v=u.integerLen;const T=u.exponent;let A=[];for(l=_.every(F=>!F);v<d;v++)_.unshift(0);for(;v<0;v++)_.unshift(0);v>0?A=_.splice(v,_.length):(A=_,_=[0]);const x=[];for(_.length>=e.lgSize&&x.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)x.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&x.unshift(_.join("")),a=x.join(Gs(t,r)),A.length&&(a+=Gs(t,i)+A.join("")),T&&(a+=Gs(t,je.Exponential)+"+"+T)}else a=Gs(t,je.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function lb(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(BK),i=r[0],s=r[1],o=-1!==i.indexOf(Tv)?i.split(Tv):[i.substring(0,i.lastIndexOf(Qp)+1),i.substring(i.lastIndexOf(Qp)+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf(ob));for(let d=0;d<l.length;d++){const f=l.charAt(d);f===Qp?t.minFrac=t.maxFrac=d+1:f===ob?t.maxFrac=d+1:t.posSuf+=f}const u=a.split(UK);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const d=i.length-t.posPre.length-t.posSuf.length,f=s.indexOf(ob);t.negPre=s.substring(0,f).replace(/'/g,""),t.negSuf=s.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function nb(n,e){return Ni(n)[Ee.NumberFormats][e]}(e,ns.Decimal),Gs(e,je.MinusSign)),e,je.Group,je.Decimal,t)}(function mb(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw vo()}}}return n.\u0275fac=function(t){return new(t||n)(J(Ko,16))},n.\u0275pipe=li({name:"number",type:n,pure:!0,standalone:!0}),n})();let gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({}),n})();const mF="browser";function _F(n){return n===mF}let S7=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>new R7(ae(mr),window)}),n})();class R7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function P7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yF(this.window.history)||yF(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yF(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class iQ extends sK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vb extends iQ{static makeCurrent(){!function iK(n){J0||(J0=n)}(new vb)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sQ(){return Yp=Yp||document.querySelector("base"),Yp?Yp.getAttribute("href"):null}();return null==t?null:function oQ(n){Dv=Dv||document.createElement("a"),Dv.setAttribute("href",n);const e=Dv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ZK(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Dv,Yp=null;const TF=new me("TRANSITION_ID"),lQ=[{provide:Gp,useFactory:function aQ(n,e,t){return()=>{t.get(lv).donePromise.then(()=>{const r=Va(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[TF,mr,fi],multi:!0}];let cQ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Sv=new me("EventManagerPlugins");let Rv=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ae(Sv),ae(Vt))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class CF{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Va().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let bF=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),Jp=(()=>{class n extends bF{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(ae(mr))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Eb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wb=/%COMP%/g,SF=new me("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function RF(n,e){return e.flat(100).map(t=>t.replace(wb,n))}function PF(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pv=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Ib(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof NF?i.applyToHost(t):i instanceof Tb&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case _s.Emulated:s=new NF(o,a,r,this.appId,l);break;case _s.ShadowDom:return new _Q(o,a,t,r);default:s=new Tb(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ae(Rv),ae(Jp),ae(qp),ae(SF))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class Ib{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Eb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Eb[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Eb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qr.DashCase|qr.Important)?e.style.setProperty(t,r,i&qr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,PF(r)):this.eventManager.addEventListener(e,t,PF(r))}}function xF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _Q extends Ib{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=RF(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tb extends Ib{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=RF(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class NF extends Tb{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function pQ(n){return"_ngcontent-%COMP%".replace(wb,n)}(o),this.hostAttr=function gQ(n){return"_nghost-%COMP%".replace(wb,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let yQ=(()=>{class n extends CF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(ae(mr))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const kF=["alt","control","meta","shift"],vQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wQ=(()=>{class n extends CF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Va().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kF.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=vQ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kF.forEach(o=>{o!==i&&(0,EQ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ae(mr))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const FF=[{provide:Qu,useValue:mF},{provide:_1,useValue:function IQ(){vb.makeCurrent()},multi:!0},{provide:mr,useFactory:function CQ(){return function e4(n){AC=n}(document),document},deps:[]}],bQ=R1(tK,"browser",FF),LF=new me(""),VF=[{provide:uv,useClass:class uQ{addToWindow(e){en.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},en.getAllAngularTestabilities=()=>e.getAllTestabilities(),en.getAllAngularRootElements=()=>e.getAllRootElements(),en.frameworkStabilizers||(en.frameworkStabilizers=[]),en.frameworkStabilizers.push(r=>{const i=en.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Va().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:C1,useClass:j0,deps:[Vt,H0,uv]},{provide:j0,useClass:j0,deps:[Vt,H0,uv]}],BF=[{provide:OC,useValue:"root"},{provide:Ud,useFactory:function TQ(){return new Ud},deps:[]},{provide:Sv,useClass:yQ,multi:!0,deps:[mr,Vt,Qu]},{provide:Sv,useClass:wQ,multi:!0,deps:[mr]},{provide:Pv,useClass:Pv,deps:[Rv,Jp,qp,SF]},{provide:Rp,useExisting:Pv},{provide:bF,useExisting:Jp},{provide:Jp,useClass:Jp,deps:[mr]},{provide:Rv,useClass:Rv,deps:[Sv,Vt]},{provide:class M7{},useClass:cQ,deps:[]},[]];let UF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:qp,useValue:t.appId},{provide:TF,useExisting:qp},lQ]}}}return n.\u0275fac=function(t){return new(t||n)(ae(LF,12))},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({providers:[...BF,...VF],imports:[gF,nK]}),n})(),$F=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ae(mr))},n.\u0275prov=we({token:n,factory:function(t){let r=null;return r=t?new t:function DQ(){return new $F(ae(mr))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(t){let r=null;return r=t?new(t||n):ae(WF),r},providedIn:"root"}),n})(),WF=(()=>{class n extends zF{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case sn.NONE:return r;case sn.HTML:return jo(r,"HTML")?ws(r):Qx(this._doc,String(r)).toString();case sn.STYLE:return jo(r,"Style")?ws(r):r;case sn.SCRIPT:if(jo(r,"Script"))return ws(r);throw new Error("unsafe value used in a script context");case sn.URL:return jo(r,"URL")?ws(r):Oy(String(r));case sn.RESOURCE_URL:if(jo(r,"ResourceURL"))return ws(r);throw new Error(`unsafe value used in a resource URL context (see ${G})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${G})`)}}bypassSecurityTrustHtml(t){return function a4(n){return new t4(n)}(t)}bypassSecurityTrustStyle(t){return function l4(n){return new n4(n)}(t)}bypassSecurityTrustScript(t){return function u4(n){return new r4(n)}(t)}bypassSecurityTrustUrl(t){return function c4(n){return new i4(n)}(t)}bypassSecurityTrustResourceUrl(t){return function d4(n){return new s4(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ae(mr))},n.\u0275prov=we({token:n,factory:function(t){let r=null;return r=t?new t:function xQ(n){return new WF(n.get(mr))}(ae(fi)),r},providedIn:"root"}),n})();function xe(...n){return w(n,ms(n))}class Eo extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Mv=q(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:NQ}=Array,{getPrototypeOf:kQ,prototype:OQ,keys:FQ}=Object;function GF(n){if(1===n.length){const e=n[0];if(NQ(e))return{args:e,keys:null};if(function LQ(n){return n&&"object"==typeof n&&kQ(n)===OQ}(e)){const t=FQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:VQ}=Array;function Ab(n){return ue(e=>function BQ(n,e){return VQ(e)?n(...e):n(e)}(n,e))}function qF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function KF(...n){const e=ms(n),t=ji(n),{args:r,keys:i}=GF(n);if(0===r.length)return w([],e);const s=new qe(function UQ(n,e,t=bn){return r=>{QF(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)QF(e,()=>{const u=w(n[l],e);let d=!1;u.subscribe(ce(r,f=>{s[l]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>qF(i,o):bn));return t?s.pipe(Ab(t)):s}function QF(n,e,t){n?Ai(t,n,e):e()}function Xp(...n){return function $Q(){return si(1)}()(w(n,ms(n)))}function xv(n){return new qe(e=>{ft(n()).subscribe(e)})}function uh(n,e){const t=b(n)?n:()=>n,r=i=>i.error(t());return new qe(e?i=>e.schedule(r,0,i):r)}function Db(){return K((n,e)=>{let t=null;n._refCount++;const r=ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Sb extends qe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Z(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rt;const t=this.getSubject();e.add(this.source.subscribe(ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rt.EMPTY)}return e}refCount(){return Db()(this)}}function Fn(n,e){return K((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ce(r,l=>{i?.unsubscribe();let u=0;const d=s++;ft(n(l,d)).subscribe(i=ce(r,f=>r.next(e?e(l,f,d,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rs(n){return n<=0?()=>An:K((e,t)=>{let r=0;e.subscribe(ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Oi(n,e){return K((t,r)=>{let i=0;t.subscribe(ce(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Nv(n){return K((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ZF(n=HQ){return K((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function HQ(){return new Mv}function $a(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Oi((i,s)=>n(i,s,r)):bn,rs(1),t?Nv(e):ZF(()=>new Mv))}function Ju(n,e){return b(e)?Nt(n,e,1):Nt(n,1)}function br(n,e,t){const r=b(n)||e||t?{next:n,error:e,complete:t}:n;return r?K((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ce(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):bn}function ja(n){return K((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ce(t,void 0,void 0,o=>{s=ft(n(o,ja(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function kv(n,e){return K(function zQ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(ce(o,d=>{const f=u++;l=a?n(l,d,f):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Rb(n){return n<=0?()=>An:K((e,t)=>{let r=[];e.subscribe(ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function YF(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Oi((i,s)=>n(i,s,r)):bn,Rb(1),t?Nv(e):ZF(()=>new Mv))}function JF(n){return ue(()=>n)}function Pb(n){return K((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const it="primary",eg=Symbol("RouteTitle");class GQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ch(n){return new GQ(n)}function qQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!XF(n[i],e[i]))return!1;return!0}function XF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function eL(n){return Array.prototype.concat.apply([],n)}function tL(n){return n.length>0?n[n.length-1]:null}function Kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xl(n){return u0(n)?n:Fp(n)?w(Promise.resolve(n)):xe(n)}const Ov=!1,QQ={exact:function iL(n,e,t){if(!Xu(n.segments,e.segments)||!Fv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!iL(n.children[r],e.children[r],t))return!1;return!0},subset:sL},nL={exact:function ZQ(n,e){return Qo(n,e)},subset:function YQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XF(n[t],e[t]))},ignored:()=>!0};function rL(n,e,t){return QQ[t.paths](n.root,e.root,t.matrixParams)&&nL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sL(n,e,t){return oL(n,e,e.segments,t)}function oL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Xu(i,t)||e.hasChildren()||!Fv(i,t,r))}if(n.segments.length===t.length){if(!Xu(n.segments,t)||!Fv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!sL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Xu(n.segments,i)&&Fv(n.segments,i,r)&&n.children[it])&&oL(n.children[it],e,s,r)}}function Fv(n,e,t){return e.every((r,i)=>nL[t](n[i].parameters,r.parameters))}class Nl{constructor(e=new pt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ch(this.queryParams)),this._queryParamMap}toString(){return eZ.serialize(this)}}class pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lv(this)}}class tg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ch(this.parameters)),this._parameterMap}toString(){return uL(this)}}function Xu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ng=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return new Mb},providedIn:"root"}),n})();class Mb{parse(e){const t=new uZ(e);return new Nl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rg(e.root,!0)}`,r=function rZ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Vv(t)}=${Vv(i)}`).join("&"):`${Vv(t)}=${Vv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const eZ=new Mb;function Lv(n){return n.segments.map(e=>uL(e)).join("/")}function rg(n,e){if(!n.hasChildren())return Lv(n);if(e){const t=n.children[it]?rg(n.children[it],!1):"",r=[];return Kr(n.children,(i,s)=>{s!==it&&r.push(`${s}:${rg(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function XQ(n,e){let t=[];return Kr(n.children,(r,i)=>{i===it&&(t=t.concat(e(r,i)))}),Kr(n.children,(r,i)=>{i!==it&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===it?[rg(n.children[it],!1)]:[`${i}:${rg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${Lv(n)}/${t[0]}`:`${Lv(n)}/(${t.join("//")})`}}function aL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vv(n){return aL(n).replace(/%3B/gi,";")}function xb(n){return aL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bv(n){return decodeURIComponent(n)}function lL(n){return Bv(n.replace(/\+/g,"%20"))}function uL(n){return`${xb(n.path)}${function nZ(n){return Object.keys(n).map(e=>`;${xb(e)}=${xb(n[e])}`).join("")}(n.parameters)}`}const iZ=/^[^\/()?;=#]+/;function Uv(n){const e=n.match(iZ);return e?e[0]:""}const sZ=/^[^=?&#]+/,aZ=/^[^&#]+/;class uZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[it]=new pt(e,t)),r}parseSegment(){const e=Uv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,Ov);return this.capture(e),new tg(Bv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Uv(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Uv(this.remaining);i&&(r=i,this.capture(r))}e[Bv(t)]=Bv(r)}parseQueryParam(e){const t=function oZ(n){const e=n.match(sZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function lZ(n){const e=n.match(aZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lL(t),s=lL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Uv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,Ov);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=it);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[it]:new pt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,Ov)}}function Nb(n){return n.segments.length>0?new pt([],{[it]:n}):n}function $v(n){const e={};for(const r of Object.keys(n.children)){const s=$v(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function cZ(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new pt(n.segments.concat(e.segments),e.children)}return n}(new pt(n.segments,e))}function ec(n){return n instanceof Nl}const kb=!1;function dZ(n,e,t,r,i){if(0===t.length)return dh(e.root,e.root,e.root,r,i);const s=function pL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fL(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Kr(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fL(t,e,r)}(t);return s.toRoot()?dh(e.root,e.root,new pt([],{}),r,i):function o(l){const u=function fZ(n,e,t,r){if(n.isAbsolute)return new hh(e.root,!0,0);if(-1===r)return new hh(t,t===e.root,0);return function gL(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,kb&&"Invalid number of '../'");i=r.segments.length}return new hh(r,!1,i-s)}(t,r+(ig(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),d=u.processChildren?fh(u.segmentGroup,u.index,s.commands):Ob(u.segmentGroup,u.index,s.commands);return dh(e.root,u.segmentGroup,d,r,i)}(n.snapshot?._lastPathIndex)}function ig(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sg(n){return"object"==typeof n&&null!=n&&n.outlets}function dh(n,e,t,r,i){let o,s={};r&&Kr(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),o=n===e?t:hL(n,e,t);const a=Nb($v(o));return new Nl(a,s,i)}function hL(n,e,t){const r={};return Kr(n.children,(i,s)=>{r[s]=i===e?t:hL(i,e,t)}),new pt(n.segments,r)}class fL{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ig(r[0]))throw new S(4003,kb&&"Root segment cannot have matrix parameters");const i=r.find(sg);if(i&&i!==tL(r))throw new S(4004,kb&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ob(n,e,t){if(n||(n=new pt([],{})),0===n.segments.length&&n.hasChildren())return fh(n,e,t);const r=function gZ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(sg(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!_L(l,u,o))return s;r+=2}else{if(!_L(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new pt(n.segments.slice(0,r.pathIndex),{});return s.children[it]=new pt(n.segments.slice(r.pathIndex),n.children),fh(s,0,i)}return r.match&&0===i.length?new pt(n.segments,{}):r.match&&!n.hasChildren()?Fb(n,e,t):r.match?fh(n,0,i):Fb(n,e,t)}function fh(n,e,t){if(0===t.length)return new pt(n.segments,{});{const r=function pZ(n){return sg(n[0])?n[0].outlets:{[it]:n}}(t),i={};if(!r[it]&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const s=fh(n.children[it],e,t);return new pt(n.segments,s.children)}return Kr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ob(n.children[o],e,s))}),Kr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new pt(n.segments,i)}}function Fb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(sg(s)){const l=mZ(s.outlets);return new pt(r,l)}if(0===i&&ig(t[0])){r.push(new tg(n.segments[e].path,mL(t[0]))),i++;continue}const o=sg(s)?s.outlets[it]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ig(a)?(r.push(new tg(o,mL(a))),i+=2):(r.push(new tg(o,{})),i++)}return new pt(r,{})}function mZ(n){const e={};return Kr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Fb(new pt([],{}),0,t))}),e}function mL(n){const e={};return Kr(n,(t,r)=>e[r]=`${t}`),e}function _L(n,e,t){return n==t.path&&Qo(e,t.parameters)}const og="imperative";class Zo{constructor(e,t){this.id=e,this.url=t}}class Lb extends Zo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tc extends Zo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jv extends Zo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hv extends Zo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Vb extends Zo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _Z extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yZ extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vZ extends Zo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class EZ extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wZ extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let PZ=(()=>{class n{createUrlTree(t,r,i,s,o,a){return dZ(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),xZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(e){return PZ.\u0275fac(e)},providedIn:"root"}),n})();class vL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Bb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Bb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ub(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ub(e,this._root).map(t=>t.value)}}function Bb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Bb(n,t);if(r)return r}return null}function Ub(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ub(n,t);if(r.length)return r.unshift(e),r}return[]}class Ha{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ph(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EL extends vL{constructor(e,t){super(e),this.snapshot=t,$b(this,e)}toString(){return this.snapshot.toString()}}function wL(n,e){const t=function NZ(n,e){const o=new zv([],{},{},"",{},it,e,null,n.root,-1,{});return new TL("",new Ha(o,[]))}(n,e),r=new Eo([new tg("",{})]),i=new Eo({}),s=new Eo({}),o=new Eo({}),a=new Eo(""),l=new gh(r,i,o,a,s,it,e,t.root);return l.snapshot=t.root,new EL(new Ha(l,[]),t)}class gh{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ue(u=>u[eg]))??xe(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>ch(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>ch(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IL(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zv{get title(){return this.data?.[eg]}constructor(e,t,r,i,s,o,a,l,u,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ch(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ch(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TL extends vL{constructor(e,t){super(t),this.url=e,$b(this,t)}toString(){return CL(this._root)}}function $b(n,e){e.value._routerState=n,e.children.forEach(t=>$b(n,t))}function CL(n){const e=n.children.length>0?` { ${n.children.map(CL).join(", ")} } `:"";return`${n.value}${e}`}function jb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qo(e.params,t.params)||n.params.next(t.params),function KQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hb(n,e){const t=Qo(n.params,e.params)&&function JQ(n,e){return Xu(n,e)&&n.every((t,r)=>Qo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hb(n.parent,e.parent))}function ag(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function FZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ag(n,r,i);return ag(n,r)})}(n,e,t);return new Ha(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ag(n,a)),o}}const r=function LZ(n){return new gh(new Eo(n.url),new Eo(n.params),new Eo(n.queryParams),new Eo(n.fragment),new Eo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ag(n,s));return new Ha(r,i)}}const zb="ngNavigationCancelingError";function bL(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AL(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function AL(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[zb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function DL(n){return SL(n)&&ec(n.url)}function SL(n){return n&&n[zb]}class VZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lg,this.attachRef=null}}let lg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new VZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wv=!1;let RL=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new Wn,this.deactivateEvents=new Wn,this.attachEvents=new Wn,this.detachEvents=new Wn,this.parentContexts=rt(lg),this.location=rt(mo),this.changeDetector=rt(dv),this.environmentInjector=rt(Ma)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Wv);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Wv);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Wv);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,Wv);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new BZ(t,a,i.injector);if(r&&function UZ(n){return!!n.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qi]}),n})();class BZ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gh?this.route:e===lg?this.childContexts:this.parent.get(e,t)}}let Wb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ai({type:n,selectors:[["ng-component"]],standalone:!0,features:[iv],decls:1,vars:0,template:function(t,r){1&t&&Nr(0,"router-outlet")},dependencies:[RL],encapsulation:2}),n})();function PL(n,e){return n.providers&&!n._injector&&(n._injector=rv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qb(n){const e=n.children&&n.children.map(qb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=Wb),t}function Ks(n){return n.outlet||it}function ML(n,e){const t=n.filter(r=>Ks(r)===e);return t.push(...n.filter(r=>Ks(r)!==e)),t}function ug(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class WZ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ph(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Kr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ph(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ph(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ph(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new DZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(jb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ug(i.snapshot),l=a?.get(Ld)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class xL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gv{constructor(e,t){this.component=e,this.route=t}}function GZ(n,e,t){const r=n._root;return cg(r,e?e._root:null,t,[r.value])}function mh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function fT(n){return null!==sl(n)}(n)?e.get(n):n:r}function cg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ph(e);return n.children.forEach(o=>{(function KZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function QZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Xu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xu(n.url,e.url)||!Qo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hb(n,e)||!Qo(n.queryParams,e.queryParams);default:return!Hb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new xL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),cg(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gv(a.outlet.component,o))}else o&&dg(e,a,i),i.canActivateChecks.push(new xL(r)),cg(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Kr(s,(o,a)=>dg(o,t.getContext(a),i)),i}function dg(n,e,t){const r=ph(n),i=n.value;Kr(r,(s,o)=>{dg(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Gv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function hg(n){return"function"==typeof n}function Kb(n){return n instanceof Mv||"EmptyError"===n?.name}const qv=Symbol("INITIAL_VALUE");function _h(){return Fn(n=>KF(n.map(e=>e.pipe(rs(1),function jQ(...n){const e=ms(n);return K((t,r)=>{(e?Xp(n,t,e):Xp(n,t)).subscribe(r)})}(qv)))).pipe(ue(e=>{for(const t of e)if(!0!==t){if(t===qv)return qv;if(!1===t||t instanceof Nl)return t}return!0}),Oi(e=>e!==qv),rs(1)))}function NL(n){return function ds(...n){return hs(n)}(br(e=>{if(ec(e))throw bL(0,e)}),ue(e=>!0===e))}const Qb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kL(n,e,t,r,i){const s=Zb(n,e,t);return s.matched?function hY(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?xe(i.map(o=>{const a=mh(o,n);return xl(function tY(n){return n&&hg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(_h(),NL()):xe(!0)}(r=PL(e,r),e,t).pipe(ue(o=>!0===o?s:{...Qb})):xe(s)}function Zb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Qb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qQ)(t,n,e);if(!i)return{...Qb};const s={};Kr(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Kv(n,e,t,r){if(t.length>0&&function gY(n,e,t){return t.some(r=>Qv(n,e,r)&&Ks(r)!==it)}(n,t,r)){const s=new pt(e,function pY(n,e,t,r){const i={};i[it]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ks(s)!==it){const o=new pt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Ks(s)]=o}return i}(n,e,r,new pt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function mY(n,e,t){return t.some(r=>Qv(n,e,r))}(n,t,r)){const s=new pt(n.segments,function fY(n,e,t,r,i){const s={};for(const o of r)if(Qv(n,t,o)&&!i[Ks(o)]){const a=new pt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Ks(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new pt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Qv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function OL(n,e,t,r){return!!(Ks(n)===r||r!==it&&Qv(e,t,n))&&("**"===n.path||Zb(e,n,t).matched)}function FL(n,e,t){return 0===e.length&&!n.children[t]}const Zv=!1;class Yv{constructor(e){this.segmentGroup=e||null}}class LL{constructor(e){this.urlTree=e}}function fg(n){return uh(new Yv(n))}function VL(n){return uh(new LL(n))}class EY{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Kv(this.urlTree.root,[],[],this.config).segmentGroup,t=new pt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,it).pipe(ue(s=>this.createUrlTree($v(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ja(s=>{if(s instanceof LL)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Yv?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,it).pipe(ue(i=>this.createUrlTree($v(i),e.queryParams,e.fragment))).pipe(ja(i=>{throw i instanceof Yv?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Zv)}createUrlTree(e,t,r){const i=Nb(e);return new Nl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ue(s=>new pt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return w(i).pipe(Ju(s=>{const o=r.children[s],a=ML(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(l=>({segment:l,outlet:s})))}),kv((s,o)=>(s[o.outlet]=o.segment,s),{}),YF())}expandSegment(e,t,r,i,s,o){return w(r).pipe(Ju(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ja(u=>{if(u instanceof Yv)return xe(null);throw u}))),$a(a=>!!a),ja((a,l)=>{if(Kb(a))return FL(t,i,s)?xe(new pt([],{})):fg(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return OL(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):fg(t):fg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?VL(s):this.lineralizeSegments(r,s).pipe(Nt(o=>{const a=new pt(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:d}=Zb(t,i,s);if(!a)return fg(t);const f=this.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?VL(f):this.lineralizeSegments(i,f).pipe(Nt(m=>this.expandSegment(e,t,r,m.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=PL(r,e),r.loadChildren?(r._loadedRoutes?xe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new pt(i,{})))):xe(new pt(i,{}))):kL(t,r,i,e).pipe(Fn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Nt(d=>{const f=d.injector??e,m=d.routes,{segmentGroup:_,slicedSegments:v}=Kv(t,a,l,m),T=new pt(_.segments,_.children);if(0===v.length&&T.hasChildren())return this.expandChildren(f,m,T).pipe(ue(P=>new pt(a,P)));if(0===m.length&&0===v.length)return xe(new pt(a,{}));const A=Ks(r)===s;return this.expandSegment(f,T,m,v,A?it:s,!0).pipe(ue(F=>new pt(a.concat(F.segments),F.children)))})):fg(t)))}getChildConfig(e,t,r){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function dY(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?xe(!0):xe(i.map(o=>{const a=mh(o,n);return xl(function YZ(n){return n&&hg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(_h(),NL())}(e,t,r).pipe(Nt(i=>i?this.configLoader.loadChildren(e,t).pipe(br(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function yY(n){return uh(AL(Zv,3))}())):xe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return xe(r);if(i.numberOfChildren>1||!i.children[it])return e.redirectTo,uh(new S(4e3,Zv));i=i.children[it]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Nl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Kr(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new pt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new S(4001,Zv);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class IY{}class bY{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Kv(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(ue(t=>{if(null===t)return null;const r=new zv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ha(r,t),s=new TL(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=IL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return w(Object.keys(r.children)).pipe(Ju(i=>{const s=r.children[i],o=ML(t,i);return this.processSegmentGroup(e,o,s,i)}),kv((i,s)=>i&&s?(i.push(...s),i):null),function WQ(n,e=!1){return K((t,r)=>{let i=0;t.subscribe(ce(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Nv(null),YF(),ue(i=>{if(null===i)return null;const s=UL(i);return function AY(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return w(t).pipe(Ju(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),$a(o=>!!o),ja(o=>{if(Kb(o))return FL(r,i,s)?xe([]):xe(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!OL(t,r,i,s))return xe(null);let o;if("**"===t.path){const a=i.length>0?tL(i).parameters:{},l=jL(r)+i.length;o=xe({snapshot:new zv(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HL(t),Ks(t),t.component??t._loadedComponent??null,t,$L(r),l,zL(t)),consumedSegments:[],remainingSegments:[]})}else o=kL(r,t,i,e).pipe(ue(({matched:a,consumedSegments:l,remainingSegments:u,parameters:d})=>{if(!a)return null;const f=jL(r)+l.length;return{snapshot:new zv(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HL(t),Ks(t),t.component??t._loadedComponent??null,t,$L(r),f,zL(t)),consumedSegments:l,remainingSegments:u}}));return o.pipe(Fn(a=>{if(null===a)return xe(null);const{snapshot:l,consumedSegments:u,remainingSegments:d}=a;e=t._injector??e;const f=t._loadedInjector??e,m=function DY(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:_,slicedSegments:v}=Kv(r,u,d,m.filter(A=>void 0===A.redirectTo));if(0===v.length&&_.hasChildren())return this.processChildren(f,m,_).pipe(ue(A=>null===A?null:[new Ha(l,A)]));if(0===m.length&&0===v.length)return xe([new Ha(l,[])]);const T=Ks(t)===s;return this.processSegment(f,m,_,v,T?it:s).pipe(ue(A=>null===A?null:[new Ha(l,A)]))}))}}function SY(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function UL(n){const e=[],t=new Set;for(const r of n){if(!SY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=UL(r.children);e.push(new Ha(r.value,i))}return e.filter(r=>!t.has(r))}function $L(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jL(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function HL(n){return n.data||{}}function zL(n){return n.resolve||{}}function WL(n){return"string"==typeof n.title||null===n.title}function Yb(n){return Fn(e=>{const t=n(e);return t?w(t).pipe(ue(()=>e)):xe(e)})}const yh=new me("ROUTES");let Jb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(v1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=xl(t.loadComponent()).pipe(ue(qL),br(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Pb(()=>{this.componentLoaders.delete(t)})),i=new Sb(r,()=>new z).pipe(Db());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,d=!1;Array.isArray(a)?u=a:(l=a.create(t).injector,u=eL(l.get(yh,[],Ue.Self|Ue.Optional)));return{routes:u.map(qb),injector:l}}),Pb(()=>{this.childrenLoaders.delete(r)})),o=new Sb(s,()=>new z).pipe(Db());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return xl(t()).pipe(ue(qL),Nt(r=>r instanceof bO||Array.isArray(r)?xe(r):w(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qL(n){return function FY(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Xv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new z,this.configLoader=rt(Jb),this.environmentInjector=rt(Ma),this.urlSerializer=rt(ng),this.rootContexts=rt(lg),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new TZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new IZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Eo({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:og,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oi(r=>0!==r.id),ue(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Fn(r=>{let i=!1,s=!1;return xe(r).pipe(br(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Hv(o.id,t.serializeUrl(r.rawUrl),d,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),An}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return KL(o.source)&&(t.browserUrlTree=o.extractedUrl),xe(o).pipe(Fn(d=>{const f=this.transitions?.getValue();return this.events.next(new Lb(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?An:Promise.resolve(d)}),function wY(n,e,t,r){return Fn(i=>function vY(n,e,t,r,i){return new EY(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),br(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function PY(n,e,t,r,i){return Nt(s=>function CY(n,e,t,r,i,s,o="emptyOnly"){return new bY(n,e,t,r,i,o,s).recognize().pipe(Fn(a=>null===a?function TY(n){return new qe(e=>e.error(n))}(new IY):xe(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ue(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),br(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!d.extras.skipLocationChange){const m=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);t.setBrowserUrl(m,d)}t.browserUrlTree=d.urlAfterRedirects}const f=new _Z(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:f,source:m,restoredState:_,extras:v}=o,T=new Lb(d,this.urlSerializer.serialize(f),m,_);this.events.next(T);const A=wL(f,this.rootComponentType).snapshot;return xe(r={...o,targetSnapshot:A,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new Hv(o.id,t.serializeUrl(r.extractedUrl),d,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),An}}),br(o=>{const a=new yZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ue(o=>r={...o,guards:GZ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function rY(n,e){return Nt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?xe({...t,guardsResult:!0}):function iY(n,e,t,r){return w(n).pipe(Nt(i=>function cY(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?xe(s.map(a=>{const l=ug(e)??i,u=mh(a,l);return xl(function eY(n){return n&&hg(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):l.runInContext(()=>u(n,e,t,r))).pipe($a())})).pipe(_h()):xe(!0)}(i.component,i.route,t,e,r)),$a(i=>!0!==i,!0))}(o,r,i,n).pipe(Nt(a=>a&&function ZZ(n){return"boolean"==typeof n}(a)?function sY(n,e,t,r){return w(e).pipe(Ju(i=>Xp(function aY(n,e){return null!==n&&e&&e(new CZ(n)),xe(!0)}(i.route.parent,r),function oY(n,e){return null!==n&&e&&e(new AZ(n)),xe(!0)}(i.route,r),function uY(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function qZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>xv(()=>xe(o.guards.map(l=>{const u=ug(o.node)??t,d=mh(l,u);return xl(function XZ(n){return n&&hg(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe($a())})).pipe(_h())));return xe(s).pipe(_h())}(n,i.path,t),function lY(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return xe(!0);const i=r.map(s=>xv(()=>{const o=ug(e)??t,a=mh(s,o);return xl(function JZ(n){return n&&hg(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe($a())}));return xe(i).pipe(_h())}(n,i.route,t))),$a(i=>!0!==i,!0))}(r,s,n,e):xe(a)),ue(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),br(o=>{if(r.guardsResult=o.guardsResult,ec(o.guardsResult))throw bL(0,o.guardsResult);const a=new vZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Oi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Yb(o=>{if(o.guards.canActivateChecks.length)return xe(o).pipe(br(a=>{const l=new EZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Fn(a=>{let l=!1;return xe(a).pipe(function MY(n,e){return Nt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return xe(t);let s=0;return w(i).pipe(Ju(o=>function xY(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!WL(i)&&(s[eg]=i.title),function NY(n,e,t,r){const i=function kY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return xe({});const s={};return w(i).pipe(Nt(o=>function OY(n,e,t,r){const i=ug(e)??r,s=mh(n,i);return xl(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe($a(),br(a=>{s[o]=a}))),Rb(1),JF(s),ja(o=>Kb(o)?An:uh(o)))}(s,n,e,r).pipe(ue(o=>(n._resolvedData=o,n.data=IL(n,t).resolve,i&&WL(i)&&(n.data[eg]=i.title),null)))}(o.route,r,n,e)),br(()=>s++),Rb(1),Nt(o=>s===i.length?xe(t):An))})}(t.paramsInheritanceStrategy,this.environmentInjector),br({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),br(a=>{const l=new wZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Yb(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(br(d=>{l.component=d}),ue(()=>{})));for(const d of l.children)u.push(...a(d));return u};return KF(a(o.targetSnapshot.root)).pipe(Nv(),rs(1))}),Yb(()=>this.afterPreactivation()),ue(o=>{const a=function OZ(n,e,t){const r=ag(n,e._root,t?t._root:void 0);return new EL(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),br(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ue(r=>(new WZ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),rs(1),br({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new tc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Pb(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ja(o=>{if(s=!0,SL(o)){DL(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new jv(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),DL(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||KL(r.source)};t.scheduleNavigation(l,og,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Vb(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return An}))}))}cancelNavigationTransition(t,r,i){const s=new jv(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KL(n){return n!==og}let QL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===it);return r}getResolvedTitleForRoute(t){return t.data[eg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(LY)},providedIn:"root"}),n})(),LY=(()=>{class n extends QL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ae($F))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(UY)},providedIn:"root"}),n})();class BY{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let UY=(()=>{class n extends BY{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pr(n)))(r||n)}}(),n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=new me("",{providedIn:"root",factory:()=>({})});let jY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:function(){return rt(HY)},providedIn:"root"}),n})(),HY=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zY(n){throw n}function WY(n,e,t){return e.parse("/")}const GY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ts=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=rt(I8),this.isNgZoneEnabled=!1,this.options=rt(eE,{optional:!0})||{},this.errorHandler=this.options.errorHandler||zY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||WY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=rt(jY),this.routeReuseStrategy=rt(VY),this.urlCreationStrategy=rt(xZ),this.titleStrategy=rt(QL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=eL(rt(yh,{optional:!0})??[]),this.navigationTransitions=rt(Xv),this.urlSerializer=rt(ng),this.location=rt(tb),this.isNgZoneEnabled=rt(Vt)instanceof Vt&&Vt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wL(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),og,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(qb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ec(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,og,null,r)}navigate(t,r={skipLocationChange:!1}){return function KY(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new S(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...GY}:!1===r?{...qY}:r,ec(t))return rL(this.currentUrlTree,t,i);const s=this.parseUrl(t);return rL(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,d;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((f,m)=>{a=f,l=m}),d="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ZL{}let YY=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(t=>t instanceof tc),Ju(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=rv(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return w(i).pipe(si())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):xe(null);const s=i.pipe(Nt(o=>null===o?xe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?w([s,this.loader.loadComponent(r)]).pipe(si()):s})}}return n.\u0275fac=function(t){return new(t||n)(ae(Ts),ae(v1),ae(Ma),ae(ZL),ae(Jb))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tA=new me("");let YL=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function RN(){throw new Error("invalid")}()},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();var Cs=(()=>((Cs=Cs||{})[Cs.COMPLETE=0]="COMPLETE",Cs[Cs.FAILED=1]="FAILED",Cs[Cs.REDIRECTING=2]="REDIRECTING",Cs))();const vh=!1;function kl(n,e){return{\u0275kind:n,\u0275providers:e}}const nA=new me("",{providedIn:"root",factory:()=>!1});function XL(){const n=rt(fi);return e=>{const t=n.get(Pl);if(e!==t.components[0])return;const r=n.get(Ts),i=n.get(eV);1===n.get(rA)&&r.initialNavigation(),n.get(tV,null,Ue.Optional)?.setUpPreloading(),n.get(tA,null,Ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const eV=new me(vh?"bootstrap done indicator":"",{factory:()=>new z}),rA=new me(vh?"initial navigation":"",{providedIn:"root",factory:()=>1});function nJ(){let n=[];return n=vh?[{provide:Ly,multi:!0,useFactory:()=>{const e=rt(Ts);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function SZ(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],kl(1,n)}const tV=new me(vh?"router preloader":"");function rJ(n){return kl(0,[{provide:tV,useExisting:YY},{provide:ZL,useExisting:n}])}const pg=!1,nV=new me(pg?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),iJ=[tb,{provide:ng,useClass:Mb},Ts,lg,{provide:gh,useFactory:function JL(n){return n.routerState.root},deps:[Ts]},Jb,pg?{provide:nA,useValue:!0}:[]];function sJ(){return new D1("Router",Ts)}let rV=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[iJ,pg&&r?.enableTracing?nJ().\u0275providers:[],{provide:yh,multi:!0,useValue:t},{provide:nV,useFactory:uJ,deps:[[Ts,new di,new Da]]},{provide:eE,useValue:r||{}},r?.useHash?{provide:Yu,useClass:uK}:{provide:Yu,useClass:Z1},{provide:tA,useFactory:()=>{const n=rt(S7),e=rt(Vt),t=rt(eE),r=rt(Xv),i=rt(ng);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YL(i,r,n,e,t)}},r?.preloadingStrategy?rJ(r.preloadingStrategy).\u0275providers:[],{provide:D1,multi:!0,useFactory:sJ},r?.initialNavigation?cJ(r):[],[{provide:iV,useFactory:XL},{provide:A1,multi:!0,useExisting:iV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:yh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ae(nV,8))},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({imports:[Wb]}),n})();function uJ(n){if(pg&&n)throw new S(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function cJ(n){return["disabled"===n.initialNavigation?kl(3,[{provide:Gp,multi:!0,useFactory:()=>{const e=rt(Ts);return()=>{e.setUpLocationChangeListener()}}},{provide:rA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kl(2,[{provide:rA,useValue:0},{provide:Gp,multi:!0,deps:[fi],useFactory:e=>{const t=e.get(aK,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ts),s=e.get(eV);(function JY(n,e){n.events.pipe(Oi(t=>t instanceof tc||t instanceof jv||t instanceof Vb||t instanceof Hv),ue(t=>t instanceof tc||t instanceof Hv?Cs.COMPLETE:t instanceof jv&&(0===t.code||1===t.code)?Cs.REDIRECTING:Cs.FAILED),Oi(t=>t!==Cs.REDIRECTING),rs(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Xv).afterPreactivation=()=>(r(!0),s.closed?xe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const iV=new me(pg?"Router Initializer":""),hJ=[];let fJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=vn({type:n});static#n=this.\u0275inj=Jn({imports:[rV.forRoot(hJ),rV]})}return n})();var pJ=function(){function n(e,t){void 0===t&&(t=[]),this._eventType=e,this._eventFunctions=t}return n.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(t){typeof window<"u"&&window.addEventListener(e._eventType,t)})},n}();const gJ=pJ;var mJ=function(){function n(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{}}}return n.prototype.addInstance=function(e,t,r,i){if(void 0===i&&(i=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;!this._instances[e][r]||i?(i&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r||this._generateRandomId()]=t):console.warn("Flowbite: Instance with ID ".concat(r," already exists."))},n.prototype.getAllInstances=function(){return this._instances},n.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},n.prototype.getInstance=function(e,t){if(this._componentAndInstanceCheck(e,t))return this._instances[e][t]?this._instances[e][t]:void console.warn("Flowbite: Instance with ID ".concat(t," does not exist."))},n.prototype.destroyAndRemoveInstance=function(e,t){this._componentAndInstanceCheck(e,t)&&(this.destroyInstanceObject(e,t),this.removeInstance(e,t))},n.prototype.removeInstance=function(e,t){this._componentAndInstanceCheck(e,t)&&delete this._instances[e][t]},n.prototype.destroyInstanceObject=function(e,t){this._componentAndInstanceCheck(e,t)&&this._instances[e][t].destroy()},n.prototype.instanceExists=function(e,t){return!(!this._instances[e]||!this._instances[e][t])},n.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},n.prototype._componentAndInstanceCheck=function(e,t){return this._instances[e]?!!this._instances[e][t]||(console.warn("Flowbite: Instance with ID ".concat(t," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},n}(),sV=new mJ;const jt=sV;typeof window<"u"&&(window.FlowbiteInstances=sV);var tE=function(){return tE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},tE.apply(this,arguments)},nE={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},_J={id:null,override:!0},oV=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=nE),void 0===i&&(i=_J),this._instanceId=i.id?i.id:e.id,this._accordionEl=e,this._items=t,this._options=tE(tE({},nE),r),this._initialized=!1,this.init(),jt.addInstance("Accordion",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(t){t.active&&e.open(t.id);var r=function(){e.toggle(t.id)};t.triggerEl.addEventListener("click",r),t.clickHandler=r}),this._initialized=!0)},n.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},n.prototype.removeInstance=function(){jt.removeInstance("Accordion",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.getItem=function(e){return this._items.filter(function(t){return t.id===e})[0]},n.prototype.open=function(e){var t,r,i=this,s=this.getItem(e);this._options.alwaysOpen||this._items.map(function(o){var a,l;o!==s&&((a=o.triggerEl.classList).remove.apply(a,i._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,i._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"))}),(t=s.triggerEl.classList).add.apply(t,this._options.activeClasses.split(" ")),(r=s.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.add("rotate-180"),this._options.onOpen(this,s)},n.prototype.toggle=function(e){var t=this.getItem(e);t.active?this.close(e):this.open(e),this._options.onToggle(this,t)},n.prototype.close=function(e){var t,r,i=this.getItem(e);(t=i.triggerEl.classList).remove.apply(t,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.remove("rotate-180"),this._options.onClose(this,i)},n}();function iA(){document.querySelectorAll("[data-accordion]").forEach(function(n){var e=n.getAttribute("data-accordion"),t=n.getAttribute("data-active-classes"),r=n.getAttribute("data-inactive-classes"),i=[];n.querySelectorAll("[data-accordion-target]").forEach(function(s){if(s.closest("[data-accordion]")===n){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:"true"===s.getAttribute("aria-expanded")};i.push(o)}}),new oV(n,i,{alwaysOpen:"open"===e,activeClasses:t||nE.activeClasses,inactiveClasses:r||nE.inactiveClasses})})}typeof window<"u"&&(window.Accordion=oV,window.initAccordions=iA);var rE=function(){return rE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},rE.apply(this,arguments)},aV={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},yJ={id:null,override:!0},sA=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=aV),void 0===i&&(i=yJ),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=rE(rE({},aV),r),this._visible=!1,this._initialized=!1,this.init(),jt.addInstance("Collapse",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._visible=this._triggerEl.hasAttribute("aria-expanded")?"true"===this._triggerEl.getAttribute("aria-expanded"):!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},n.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},n.prototype.removeInstance=function(){jt.removeInstance("Collapse",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},n.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},n.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},n}();function oA(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(n){var e=n.getAttribute("data-collapse-toggle"),t=document.getElementById(e);t?jt.instanceExists("Collapse",t.getAttribute("id"))?new sA(t,n,{},{id:t.getAttribute("id")+"_"+jt._generateRandomId()}):new sA(t,n):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=sA,window.initCollapses=oA);var nc=function(){return nc=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},nc.apply(this,arguments)},iE={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},vJ={id:null,override:!0},lV=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=iE),void 0===i&&(i=vJ),this._instanceId=i.id?i.id:e.id,this._carouselEl=e,this._items=t,this._options=nc(nc(nc({},iE),r),{indicators:nc(nc({},iE.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),jt.addInstance("Carousel",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(t){t.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(t,r){t.el.addEventListener("click",function(){e.slideTo(r)})}),this._initialized=!0)},n.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},n.prototype.removeInstance=function(){jt.removeInstance("Carousel",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.getItem=function(e){return this._items[e]},n.prototype.slideTo=function(e){var t=this._items[e];this._rotate({left:0===t.position?this._items[this._items.length-1]:this._items[t.position-1],middle:t,right:t.position===this._items.length-1?this._items[0]:this._items[t.position+1]}),this._setActiveItem(t),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},n.prototype.next=function(){var e=this._getActiveItem();this.slideTo((e.position===this._items.length-1?this._items[0]:this._items[e.position+1]).position),this._options.onNext(this)},n.prototype.prev=function(){var e=this._getActiveItem();this.slideTo((0===e.position?this._items[this._items.length-1]:this._items[e.position-1]).position),this._options.onPrev(this)},n.prototype._rotate=function(e){this._items.map(function(t){t.el.classList.add("hidden")}),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")},n.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},n.prototype.pause=function(){clearInterval(this._intervalInstance)},n.prototype._getActiveItem=function(){return this._activeItem},n.prototype._setActiveItem=function(e){var t,r,i=this;this._activeItem=e;var s=e.position;this._indicators.length&&(this._indicators.map(function(o){var a,l;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,i._options.indicators.activeClasses.split(" ")),(l=o.el.classList).add.apply(l,i._options.indicators.inactiveClasses.split(" "))}),(t=this._indicators[s].el.classList).add.apply(t,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[s].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},n}();function aA(){document.querySelectorAll("[data-carousel]").forEach(function(n){var e=n.getAttribute("data-carousel-interval"),t="slide"===n.getAttribute("data-carousel"),r=[],i=0;n.querySelectorAll("[data-carousel-item]").length&&Array.from(n.querySelectorAll("[data-carousel-item]")).map(function(u,d){r.push({position:d,el:u}),"active"===u.getAttribute("data-carousel-item")&&(i=d)});var s=[];n.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(n.querySelectorAll("[data-carousel-slide-to]")).map(function(u){s.push({position:parseInt(u.getAttribute("data-carousel-slide-to")),el:u})});var o=new lV(n,r,{defaultPosition:i,indicators:{items:s},interval:e||iE.interval});t&&o.cycle();var a=n.querySelector("[data-carousel-next]"),l=n.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),l&&l.addEventListener("click",function(){o.prev()})})}typeof window<"u"&&(window.Carousel=lV,window.initCarousels=aA);var sE=function(){return sE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},sE.apply(this,arguments)},uV={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},EJ={id:null,override:!0},cV=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=uV),void 0===i&&(i=EJ),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=sE(sE({},uV),r),this._initialized=!1,this.init(),jt.addInstance("Dismiss",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},n.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},n.prototype.removeInstance=function(){jt.removeInstance("Dismiss",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},n}();function lA(){document.querySelectorAll("[data-dismiss-target]").forEach(function(n){var e=n.getAttribute("data-dismiss-target"),t=document.querySelector(e);t?new cV(t,n):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}function bs(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function rc(n){return n instanceof bs(n).Element||n instanceof Element}function Qs(n){return n instanceof bs(n).HTMLElement||n instanceof HTMLElement}function uA(n){return!(typeof ShadowRoot>"u")&&(n instanceof bs(n).ShadowRoot||n instanceof ShadowRoot)}typeof window<"u"&&(window.Dismiss=cV,window.initDismisses=lA);var ic=Math.max,oE=Math.min,Eh=Math.round;function cA(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dV(){return!/^((?!chrome|android).)*safari/i.test(cA())}function wh(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Qs(n)&&(i=n.offsetWidth>0&&Eh(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Eh(r.height)/n.offsetHeight||1);var a=(rc(n)?bs(n):window).visualViewport,l=!dV()&&t,u=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,m=r.height/s;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u,x:u,y:d}}function dA(n){var e=bs(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Yo(n){return n?(n.nodeName||"").toLowerCase():null}function Ol(n){return((rc(n)?n.ownerDocument:n.document)||window.document).documentElement}function hA(n){return wh(Ol(n)).left+dA(n).scrollLeft}function za(n){return bs(n).getComputedStyle(n)}function fA(n){var e=za(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function CJ(n,e,t){void 0===t&&(t=!1);var r=Qs(e),i=Qs(e)&&function TJ(n){var e=n.getBoundingClientRect(),t=Eh(e.width)/n.offsetWidth||1,r=Eh(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),s=Ol(e),o=wh(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&(("body"!==Yo(e)||fA(s))&&(a=function IJ(n){return n!==bs(n)&&Qs(n)?function wJ(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):dA(n)}(e)),Qs(e)?((l=wh(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=hA(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function pA(n){var e=wh(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function aE(n){return"html"===Yo(n)?n:n.assignedSlot||n.parentNode||(uA(n)?n.host:null)||Ol(n)}function hV(n){return["html","body","#document"].indexOf(Yo(n))>=0?n.ownerDocument.body:Qs(n)&&fA(n)?n:hV(aE(n))}function gg(n,e){var t;void 0===e&&(e=[]);var r=hV(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),s=bs(r),o=i?[s].concat(s.visualViewport||[],fA(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(gg(aE(o)))}function bJ(n){return["table","td","th"].indexOf(Yo(n))>=0}function fV(n){return Qs(n)&&"fixed"!==za(n).position?n.offsetParent:null}function mg(n){for(var e=bs(n),t=fV(n);t&&bJ(t)&&"static"===za(t).position;)t=fV(t);return t&&("html"===Yo(t)||"body"===Yo(t)&&"static"===za(t).position)?e:t||function AJ(n){var e=/firefox/i.test(cA());if(/Trident/i.test(cA())&&Qs(n)&&"fixed"===za(n).position)return null;var i=aE(n);for(uA(i)&&(i=i.host);Qs(i)&&["html","body"].indexOf(Yo(i))<0;){var s=za(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(n)||e}var is="top",Zs="bottom",Ys="right",ss="left",gA="auto",_g=[is,Zs,Ys,ss],Ih="start",yg="end",DJ="clippingParents",pV="viewport",vg="popper",SJ="reference",gV=_g.reduce(function(n,e){return n.concat([e+"-"+Ih,e+"-"+yg])},[]),mV=[].concat(_g,[gA]).reduce(function(n,e){return n.concat([e,e+"-"+Ih,e+"-"+yg])},[]),VJ=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function BJ(n){var e=new Map,t=new Set,r=[];function i(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){e.set(s.name,s)}),n.forEach(function(s){t.has(s.name)||i(s)}),r}function $J(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var _V={placement:"bottom",modifiers:[],strategy:"absolute"};function yV(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function HJ(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,s=void 0===i?_V:i;return function(a,l,u){void 0===u&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},_V,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,_={state:d,setOptions:function(x){var F="function"==typeof x?x(d.options):x;T(),d.options=Object.assign({},s,d.options,F),d.scrollParents={reference:rc(a)?gg(a):a.contextElement?gg(a.contextElement):[],popper:gg(l)};var P=function UJ(n){var e=BJ(n);return VJ.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function jJ(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,d.options.modifiers)));return d.orderedModifiers=P.filter(function(V){return V.enabled}),function v(){d.orderedModifiers.forEach(function(A){var F=A.options,V=A.effect;if("function"==typeof V){var oe=V({state:d,name:A.name,instance:_,options:void 0===F?{}:F});f.push(oe||function(){})}})}(),_.update()},forceUpdate:function(){if(!m){var x=d.elements,F=x.reference,P=x.popper;if(yV(F,P)){d.rects={reference:CJ(F,mg(P),"fixed"===d.options.strategy),popper:pA(P)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Ut){return d.modifiersData[Ut.name]=Object.assign({},Ut.data)});for(var V=0;V<d.orderedModifiers.length;V++)if(!0!==d.reset){var oe=d.orderedModifiers[V],le=oe.fn,Oe=oe.options;"function"==typeof le&&(d=le({state:d,options:void 0===Oe?{}:Oe,name:oe.name,instance:_})||d)}else d.reset=!1,V=-1}}},update:$J(function(){return new Promise(function(A){_.forceUpdate(),A(d)})}),destroy:function(){T(),m=!0}};if(!yV(a,l))return _;function T(){f.forEach(function(A){return A()}),f=[]}return _.setOptions(u).then(function(A){!m&&u.onFirstUpdate&&u.onFirstUpdate(A)}),_}}var lE={passive:!0};const WJ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function zJ(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=bs(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",t.update,lE)}),a&&l.addEventListener("resize",t.update,lE),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",t.update,lE)}),a&&l.removeEventListener("resize",t.update,lE)}},data:{}};function Jo(n){return n.split("-")[0]}function Th(n){return n.split("-")[1]}function mA(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function vV(n){var l,e=n.reference,t=n.element,r=n.placement,i=r?Jo(r):null,s=r?Th(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2;switch(i){case is:l={x:o,y:e.y-t.height};break;case Zs:l={x:o,y:e.y+e.height};break;case Ys:l={x:e.x+e.width,y:a};break;case ss:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?mA(i):null;if(null!=u){var d="y"===u?"height":"width";switch(s){case Ih:l[u]=l[u]-(e[d]/2-t[d]/2);break;case yg:l[u]=l[u]+(e[d]/2-t[d]/2)}}return l}const qJ={name:"popperOffsets",enabled:!0,phase:"read",fn:function GJ(n){var e=n.state;e.modifiersData[n.name]=vV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var KJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function EV(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,d=n.roundOffsets,f=n.isFixed,m=o.x,_=void 0===m?0:m,v=o.y,T=void 0===v?0:v,A="function"==typeof d?d({x:_,y:T}):{x:_,y:T};_=A.x,T=A.y;var x=o.hasOwnProperty("x"),F=o.hasOwnProperty("y"),P=ss,V=is,oe=window;if(u){var le=mg(t),Oe="clientHeight",Et="clientWidth";le===bs(t)&&"static"!==za(le=Ol(t)).position&&"absolute"===a&&(Oe="scrollHeight",Et="scrollWidth"),(i===is||(i===ss||i===Ys)&&s===yg)&&(V=Zs,T-=(f&&le===oe&&oe.visualViewport?oe.visualViewport.height:le[Oe])-r.height,T*=l?1:-1),i!==ss&&(i!==is&&i!==Zs||s!==yg)||(P=Ys,_-=(f&&le===oe&&oe.visualViewport?oe.visualViewport.width:le[Et])-r.width,_*=l?1:-1)}var Bn,Rr=Object.assign({position:a},u&&KJ),ni=!0===d?function QJ(n,e){var r=n.y,i=e.devicePixelRatio||1;return{x:Eh(n.x*i)/i||0,y:Eh(r*i)/i||0}}({x:_,y:T},bs(t)):{x:_,y:T};return _=ni.x,T=ni.y,Object.assign({},Rr,l?((Bn={})[V]=F?"0":"",Bn[P]=x?"0":"",Bn.transform=(oe.devicePixelRatio||1)<=1?"translate("+_+"px, "+T+"px)":"translate3d("+_+"px, "+T+"px, 0)",Bn):((e={})[V]=F?T+"px":"",e[P]=x?_+"px":"",e.transform="",e))}const YJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ZJ(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,s=t.adaptive,o=void 0===s||s,a=t.roundOffsets,l=void 0===a||a,u={placement:Jo(e.placement),variation:Th(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,EV(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,EV(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},eX={name:"applyStyles",enabled:!0,phase:"write",fn:function JJ(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Qs(s)||!Yo(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];!1===a?s.removeAttribute(o):s.setAttribute(o,!0===a?"":a)}))})},effect:function XJ(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(l,u){return l[u]="",l},{});!Qs(i)||!Yo(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}},requires:["computeStyles"]},rX={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function nX(n){var e=n.state,r=n.name,i=n.options.offset,s=void 0===i?[0,0]:i,o=mV.reduce(function(d,f){return d[f]=function tX(n,e,t){var r=Jo(n),i=[ss,is].indexOf(r)>=0?-1:1,s="function"==typeof t?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ss,Ys].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(f,e.rects,s),d},{}),a=o[e.placement],u=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a.x,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}};var iX={left:"right",right:"left",bottom:"top",top:"bottom"};function uE(n){return n.replace(/left|right|bottom|top/g,function(e){return iX[e]})}var sX={start:"end",end:"start"};function wV(n){return n.replace(/start|end/g,function(e){return sX[e]})}function IV(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&uA(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _A(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function TV(n,e,t){return e===pV?_A(function oX(n,e){var t=bs(n),r=Ol(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=dV();(u||!u&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+hA(n),y:l}}(n,t)):rc(e)?function lX(n,e){var t=wh(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):_A(function aX(n){var e,t=Ol(n),r=dA(n),i=null==(e=n.ownerDocument)?void 0:e.body,s=ic(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ic(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+hA(n),l=-r.scrollTop;return"rtl"===za(i||t).direction&&(a+=ic(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(Ol(n)))}function bV(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function AV(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function Eg(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,s=e.strategy,o=void 0===s?n.strategy:s,a=e.boundary,l=void 0===a?DJ:a,u=e.rootBoundary,d=void 0===u?pV:u,f=e.elementContext,m=void 0===f?vg:f,_=e.altBoundary,v=void 0!==_&&_,T=e.padding,A=void 0===T?0:T,x=bV("number"!=typeof A?A:AV(A,_g)),P=n.rects.popper,V=n.elements[v?m===vg?SJ:vg:m],oe=function cX(n,e,t,r){var i="clippingParents"===e?function uX(n){var e=gg(aE(n)),r=["absolute","fixed"].indexOf(za(n).position)>=0&&Qs(n)?mg(n):n;return rc(r)?e.filter(function(i){return rc(i)&&IV(i,r)&&"body"!==Yo(i)}):[]}(n):[].concat(e),s=[].concat(i,[t]),a=s.reduce(function(l,u){var d=TV(n,u,r);return l.top=ic(d.top,l.top),l.right=oE(d.right,l.right),l.bottom=oE(d.bottom,l.bottom),l.left=ic(d.left,l.left),l},TV(n,s[0],r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(rc(V)?V:V.contextElement||Ol(n.elements.popper),l,d,o),le=wh(n.elements.reference),Oe=vV({reference:le,element:P,strategy:"absolute",placement:i}),Et=_A(Object.assign({},P,Oe)),zt=m===vg?Et:le,Ut={top:oe.top-zt.top+x.top,bottom:zt.bottom-oe.bottom+x.bottom,left:oe.left-zt.left+x.left,right:zt.right-oe.right+x.right},Rr=n.modifiersData.offset;if(m===vg&&Rr){var ni=Rr[i];Object.keys(Ut).forEach(function(Bn){var da=[Ys,Zs].indexOf(Bn)>=0?1:-1,ha=[is,Zs].indexOf(Bn)>=0?"y":"x";Ut[Bn]+=ni[ha]*da})}return Ut}const pX={name:"flip",enabled:!0,phase:"main",fn:function fX(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=void 0===i||i,o=t.altAxis,a=void 0===o||o,l=t.fallbackPlacements,u=t.padding,d=t.boundary,f=t.rootBoundary,m=t.altBoundary,_=t.flipVariations,v=void 0===_||_,T=t.allowedAutoPlacements,A=e.options.placement,x=Jo(A),P=l||(x!==A&&v?function hX(n){if(Jo(n)===gA)return[];var e=uE(n);return[wV(n),e,wV(e)]}(A):[uE(A)]),V=[A].concat(P).reduce(function(Wt,Ro){return Wt.concat(Jo(Ro)===gA?function dX(n,e){void 0===e&&(e={});var i=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,u=void 0===l?mV:l,d=Th(e.placement),f=d?a?gV:gV.filter(function(v){return Th(v)===d}):_g,m=f.filter(function(v){return u.indexOf(v)>=0});0===m.length&&(m=f);var _=m.reduce(function(v,T){return v[T]=Eg(n,{placement:T,boundary:i,rootBoundary:s,padding:o})[Jo(T)],v},{});return Object.keys(_).sort(function(v,T){return _[v]-_[T]})}(e,{placement:Ro,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:T}):Ro)},[]),oe=e.rects.reference,le=e.rects.popper,Oe=new Map,Et=!0,zt=V[0],Ut=0;Ut<V.length;Ut++){var Rr=V[Ut],ni=Jo(Rr),Bn=Th(Rr)===Ih,da=[is,Zs].indexOf(ni)>=0,ha=da?"width":"height",pe=Eg(e,{placement:Rr,boundary:d,rootBoundary:f,altBoundary:m,padding:u}),De=da?Bn?Ys:ss:Bn?Zs:is;oe[ha]>le[ha]&&(De=uE(De));var Be=uE(De),ut=[];if(s&&ut.push(pe[ni]<=0),a&&ut.push(pe[De]<=0,pe[Be]<=0),ut.every(function(Wt){return Wt})){zt=Rr,Et=!1;break}Oe.set(Rr,ut)}if(Et)for(var cs=function(Ro){var Gc=V.find(function(ar){var Ui=Oe.get(ar);if(Ui)return Ui.slice(0,Ro).every(function(Ii){return Ii})});if(Gc)return zt=Gc,"break"},Pr=v?3:1;Pr>0&&"break"!==cs(Pr);Pr--);e.placement!==zt&&(e.modifiersData[r]._skip=!0,e.placement=zt,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wg(n,e,t){return ic(n,oE(e,t))}const yX={name:"preventOverflow",enabled:!0,phase:"main",fn:function _X(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=void 0===i||i,o=t.altAxis,a=void 0!==o&&o,m=t.tether,_=void 0===m||m,v=t.tetherOffset,T=void 0===v?0:v,A=Eg(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),x=Jo(e.placement),F=Th(e.placement),P=!F,V=mA(x),oe=function gX(n){return"x"===n?"y":"x"}(V),le=e.modifiersData.popperOffsets,Oe=e.rects.reference,Et=e.rects.popper,zt="function"==typeof T?T(Object.assign({},e.rects,{placement:e.placement})):T,Ut="number"==typeof zt?{mainAxis:zt,altAxis:zt}:Object.assign({mainAxis:0,altAxis:0},zt),Rr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ni={x:0,y:0};if(le){if(s){var Bn,da="y"===V?is:ss,ha="y"===V?Zs:Ys,pe="y"===V?"height":"width",De=le[V],Be=De+A[da],ut=De-A[ha],Un=_?-Et[pe]/2:0,cs=F===Ih?Oe[pe]:Et[pe],Pr=F===Ih?-Et[pe]:-Oe[pe],Os=e.elements.arrow,Wt=_&&Os?pA(Os):{width:0,height:0},Ro=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Gc=Ro[da],ar=Ro[ha],Ui=wg(0,Oe[pe],Wt[pe]),Ii=P?Oe[pe]/2-Un-Ui-Gc-Ut.mainAxis:cs-Ui-Gc-Ut.mainAxis,kf=P?-Oe[pe]/2+Un+Ui+ar+Ut.mainAxis:Pr+Ui+ar+Ut.mainAxis,qc=e.elements.arrow&&mg(e.elements.arrow),gq=null!=(Bn=Rr?.[V])?Bn:0,Bfe=De+kf-gq,mq=wg(_?oE(Be,De+Ii-gq-(qc?"y"===V?qc.clientTop||0:qc.clientLeft||0:0)):Be,De,_?ic(ut,Bfe):ut);le[V]=mq,ni[V]=mq-De}if(a){var _q,Kc=le[oe],aT="y"===oe?"height":"width",yq=Kc+A["x"===V?is:ss],vq=Kc-A["x"===V?Zs:Ys],HM=-1!==[is,ss].indexOf(x),Eq=null!=(_q=Rr?.[oe])?_q:0,wq=HM?yq:Kc-Oe[aT]-Et[aT]-Eq+Ut.altAxis,Iq=HM?Kc+Oe[aT]+Et[aT]-Eq-Ut.altAxis:vq,Tq=_&&HM?function mX(n,e,t){var r=wg(n,e,t);return r>t?t:r}(wq,Kc,Iq):wg(_?wq:yq,Kc,_?Iq:vq);le[oe]=Tq,ni[oe]=Tq-Kc}e.modifiersData[r]=ni}},requiresIfExists:["offset"]};const IX={name:"arrow",enabled:!0,phase:"main",fn:function EX(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Jo(t.placement),l=mA(a),d=[ss,Ys].indexOf(a)>=0?"height":"width";if(s&&o){var f=function(e,t){return bV("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:AV(e,_g))}(i.padding,t),m=pA(s),_="y"===l?is:ss,v="y"===l?Zs:Ys,T=t.rects.reference[d]+t.rects.reference[l]-o[l]-t.rects.popper[d],A=o[l]-t.rects.reference[l],x=mg(s),F=x?"y"===l?x.clientHeight||0:x.clientWidth||0:0,le=F/2-m[d]/2+(T/2-A/2),Oe=wg(f[_],le,F-m[d]-f[v]);t.modifiersData[r]=((e={})[l]=Oe,e.centerOffset=Oe-le,e)}},effect:function wX(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||IV(e.elements.popper,i)&&(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function DV(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function SV(n){return[is,Ys,Zs,ss].some(function(e){return n[e]>=0})}var CX=[WJ,qJ,YJ,eX,rX,pX,yX,IX,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function TX(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Eg(e,{elementContext:"reference"}),a=Eg(e,{altBoundary:!0}),l=DV(o,r),u=DV(a,i,s),d=SV(l),f=SV(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}}],yA=HJ({defaultModifiers:CX}),Fl=function(){return Fl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Fl.apply(this,arguments)},cE=function(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Ll={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},bX={id:null,override:!0},RV=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=Ll),void 0===i&&(i=bX),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Fl(Fl({},Ll),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),jt.addInstance("Dropdown",this,this._instanceId,i.override)}return n.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},n.prototype.destroy=function(){var e=this,t=this._getTriggerEvents();"click"===this._options.triggerType&&t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._clickHandler)}),"hover"===this._options.triggerType&&(t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(r,e._hoverShowTargetElHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverHideHandler),e._targetEl.removeEventListener(r,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},n.prototype.removeInstance=function(){jt.removeInstance("Dropdown",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},"click"===this._options.triggerType&&t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._clickHandler)}),this._hoverShowTriggerElHandler=function(r){"click"===r.type?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},"hover"===this._options.triggerType&&(t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(r,e._hoverShowTargetElHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverHideHandler),e._targetEl.addEventListener(r,e._hoverHideHandler)}))},n.prototype._createPopperInstance=function(){return yA(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},n.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._handleClickOutside=function(e,t){var r=e.target,i=this._options.ignoreClickOutsideClass,s=!1;i&&document.querySelectorAll(".".concat(i)).forEach(function(a){a.contains(r)&&(s=!0)}),r!==t&&!t.contains(r)&&!this._triggerEl.contains(r)&&!s&&this.isVisible()&&this.hide()},n.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},n.prototype.isVisible=function(){return this._visible},n.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return Fl(Fl({},e),{modifiers:cE(cE([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},n.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return Fl(Fl({},e),{modifiers:cE(cE([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},n}();function vA(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(n){var e=n.getAttribute("data-dropdown-toggle"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-dropdown-placement"),i=n.getAttribute("data-dropdown-offset-skidding"),s=n.getAttribute("data-dropdown-offset-distance"),o=n.getAttribute("data-dropdown-trigger"),a=n.getAttribute("data-dropdown-delay"),l=n.getAttribute("data-dropdown-ignore-click-outside-class");new RV(t,n,{placement:r||Ll.placement,triggerType:o||Ll.triggerType,offsetSkidding:i?parseInt(i):Ll.offsetSkidding,offsetDistance:s?parseInt(s):Ll.offsetDistance,delay:a?parseInt(a):Ll.delay,ignoreClickOutsideClass:l||Ll.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=RV,window.initDropdowns=vA);var dE=function(){return dE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},dE.apply(this,arguments)},hE={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},AX={id:null,override:!0},PV=function(){function n(e,t,r){void 0===e&&(e=null),void 0===t&&(t=hE),void 0===r&&(r=AX),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=dE(dE({},hE),t),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),jt.addInstance("Modal",this,this._instanceId,r.override)}return n.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(t){e._targetEl.classList.add(t)}),this._initialized=!0)},n.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},n.prototype.removeInstance=function(){jt.removeInstance("Modal",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._createBackdrop=function(){var e;if(this._isHidden){var t=document.createElement("div");t.setAttribute("modal-backdrop",""),(e=t.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(t),this._backdropEl=t}},n.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},n.prototype._setupModalCloseEventListeners=function(){var e=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(t){e._handleOutsideClick(t.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},n.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},n.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},n.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},n.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},n.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},n.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},n.prototype.isVisible=function(){return!this._isHidden},n.prototype.isHidden=function(){return this._isHidden},n.prototype.addEventListenerInstance=function(e,t,r){this._eventListenerInstances.push({element:e,type:t,handler:r})},n.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},n.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},n}();function EA(){document.querySelectorAll("[data-modal-target]").forEach(function(n){var e=n.getAttribute("data-modal-target"),t=document.getElementById(e);if(t){var r=t.getAttribute("data-modal-placement"),i=t.getAttribute("data-modal-backdrop");new PV(t,{placement:r||hE.placement,backdrop:i||hE.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(n){var e=n.getAttribute("data-modal-toggle");if(document.getElementById(e)){var r=jt.getInstance("Modal",e);if(r){var i=function(){r.toggle()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(n){var e=n.getAttribute("data-modal-show");if(document.getElementById(e)){var r=jt.getInstance("Modal",e);if(r){var i=function(){r.show()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(n){var e=n.getAttribute("data-modal-hide");if(document.getElementById(e)){var r=jt.getInstance("Modal",e);if(r){var i=function(){r.hide()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=PV,window.initModals=EA);var fE=function(){return fE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},fE.apply(this,arguments)},sc={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},DX={id:null,override:!0},MV=function(){function n(e,t,r){void 0===e&&(e=null),void 0===t&&(t=sc),void 0===r&&(r=DX),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=fE(fE({},sc),t),this._visible=!1,this._initialized=!1,this.init(),jt.addInstance("Drawer",this,this._instanceId,r.override)}return n.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(t){e._targetEl.classList.add(t)}),this._handleEscapeKey=function(t){"Escape"===t.key&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},n.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},n.prototype.removeInstance=function(){jt.removeInstance("Drawer",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(t){e._targetEl.classList.remove(t)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(t){e._targetEl.classList.add(t)})):(this._getPlacementClasses(this._options.placement).active.map(function(t){e._targetEl.classList.remove(t)}),this._getPlacementClasses(this._options.placement).inactive.map(function(t){e._targetEl.classList.add(t)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},n.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(t){e._targetEl.classList.add(t)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(t){e._targetEl.classList.remove(t)})):(this._getPlacementClasses(this._options.placement).active.map(function(t){e._targetEl.classList.add(t)}),this._getPlacementClasses(this._options.placement).inactive.map(function(t){e._targetEl.classList.remove(t)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},n.prototype._createBackdrop=function(){var e,t=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){t.hide()})}},n.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},n.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},n.prototype.isHidden=function(){return!this._visible},n.prototype.isVisible=function(){return this._visible},n.prototype.addEventListenerInstance=function(e,t,r){this._eventListenerInstances.push({element:e,type:t,handler:r})},n.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},n.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},n}();function wA(){document.querySelectorAll("[data-drawer-target]").forEach(function(n){var e=n.getAttribute("data-drawer-target"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-drawer-placement"),i=n.getAttribute("data-drawer-body-scrolling"),s=n.getAttribute("data-drawer-backdrop"),o=n.getAttribute("data-drawer-edge"),a=n.getAttribute("data-drawer-edge-offset");new MV(t,{placement:r||sc.placement,bodyScrolling:i?"true"===i:sc.bodyScrolling,backdrop:s?"true"===s:sc.backdrop,edge:o?"true"===o:sc.edge,edgeOffset:a||sc.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(n){var e=n.getAttribute("data-drawer-toggle");if(document.getElementById(e)){var r=jt.getInstance("Drawer",e);if(r){var i=function(){r.toggle()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(n){var e=n.getAttribute("data-drawer-dismiss")?n.getAttribute("data-drawer-dismiss"):n.getAttribute("data-drawer-hide");if(document.getElementById(e)){var r=jt.getInstance("Drawer",e);if(r){var i=function(){r.hide()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(n){var e=n.getAttribute("data-drawer-show");if(document.getElementById(e)){var r=jt.getInstance("Drawer",e);if(r){var i=function(){r.show()};n.addEventListener("click",i),r.addEventListenerInstance(n,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=MV,window.initDrawers=wA);var pE=function(){return pE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},pE.apply(this,arguments)},xV={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},SX={id:null,override:!0},NV=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=xV),void 0===i&&(i=SX),this._instanceId=i.id?i.id:e.id,this._tabsEl=e,this._items=t,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=pE(pE({},xV),r),this._initialized=!1,this.init(),jt.addInstance("Tabs",this,this._tabsEl.id,!0),jt.addInstance("Tabs",this,this._instanceId,i.override)}return n.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(t){t.triggerEl.addEventListener("click",function(){e.show(t.id)})}))},n.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},n.prototype.removeInstance=function(){this.destroy(),jt.removeInstance("Tabs",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.getActiveTab=function(){return this._activeTab},n.prototype.setActiveTab=function(e){this._activeTab=e},n.prototype.getTab=function(e){return this._items.filter(function(t){return t.id===e})[0]},n.prototype.show=function(e,t){var r,i,s=this;void 0===t&&(t=!1);var o=this.getTab(e);o===this._activeTab&&!t||(this._items.map(function(a){var l,u;a!==o&&((l=a.triggerEl.classList).remove.apply(l,s._options.activeClasses.split(" ")),(u=a.triggerEl.classList).add.apply(u,s._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(r=o.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=o.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},n}();function IA(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(n){var e=[],t=null;n.querySelectorAll('[role="tab"]').forEach(function(r){var i="true"===r.getAttribute("aria-selected"),s={id:r.getAttribute("data-tabs-target"),triggerEl:r,targetEl:document.querySelector(r.getAttribute("data-tabs-target"))};e.push(s),i&&(t=s.id)}),new NV(n,e,{defaultTabId:t})})}typeof window<"u"&&(window.Tabs=NV,window.initTabs=IA);var Vl=function(){return Vl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Vl.apply(this,arguments)},gE=function(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},mE={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},RX={id:null,override:!0},kV=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=mE),void 0===i&&(i=RX),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Vl(Vl({},mE),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),jt.addInstance("Tooltip",this,this._instanceId,i.override)}return n.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},n.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEvents();t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},n.prototype.removeInstance=function(){jt.removeInstance("Tooltip",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler)})},n.prototype._createPopperInstance=function(){return yA(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},n.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},n.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},n.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},n.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._handleClickOutside=function(e,t){var r=e.target;r!==t&&!t.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},n.prototype.isVisible=function(){return this._visible},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},n.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Vl(Vl({},e),{modifiers:gE(gE([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},n.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Vl(Vl({},e),{modifiers:gE(gE([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},n}();function TA(){document.querySelectorAll("[data-tooltip-target]").forEach(function(n){var e=n.getAttribute("data-tooltip-target"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-tooltip-trigger"),i=n.getAttribute("data-tooltip-placement");new kV(t,n,{placement:i||mE.placement,triggerType:r||mE.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=kV,window.initTooltips=TA);var Bl=function(){return Bl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Bl.apply(this,arguments)},_E=function(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Ig={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},PX={id:null,override:!0},OV=function(){function n(e,t,r,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=Ig),void 0===i&&(i=PX),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Bl(Bl({},Ig),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),jt.addInstance("Popover",this,i.id?i.id:this._targetEl.id,i.override)}return n.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},n.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEvents();t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler),e._targetEl.removeEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler),e._targetEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},n.prototype.removeInstance=function(){jt.removeInstance("Popover",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler),e._targetEl.addEventListener(r,e._showHandler)}),t.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler),e._targetEl.addEventListener(r,e._hideHandler)})},n.prototype._createPopperInstance=function(){return yA(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},n.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},n.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},n.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},n.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},n.prototype._handleClickOutside=function(e,t){var r=e.target;r!==t&&!t.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},n.prototype.isVisible=function(){return this._visible},n.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},n.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Bl(Bl({},e),{modifiers:_E(_E([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},n.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Bl(Bl({},e),{modifiers:_E(_E([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},n}();function CA(){document.querySelectorAll("[data-popover-target]").forEach(function(n){var e=n.getAttribute("data-popover-target"),t=document.getElementById(e);if(t){var r=n.getAttribute("data-popover-trigger"),i=n.getAttribute("data-popover-placement"),s=n.getAttribute("data-popover-offset");new OV(t,n,{placement:i||Ig.placement,offset:s?parseInt(s):Ig.offset,triggerType:r||Ig.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=OV,window.initPopovers=CA);var yE=function(){return yE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},yE.apply(this,arguments)},bA={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},MX={id:null,override:!0},FV=function(){function n(e,t,r,i,s){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),void 0===i&&(i=bA),void 0===s&&(s=MX),this._instanceId=s.id?s.id:r.id,this._parentEl=e,this._triggerEl=t,this._targetEl=r,this._options=yE(yE({},bA),i),this._visible=!1,this._initialized=!1,this.init(),jt.addInstance("Dial",this,this._instanceId,s.override)}return n.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var t=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},t.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showEventHandler),e._targetEl.addEventListener(r,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},t.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,e._hideEventHandler)}),this._initialized=!0}},n.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEventTypes(this._options.triggerType);t.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showEventHandler),e._targetEl.removeEventListener(r,e._showEventHandler)}),t.hideEvents.forEach(function(r){e._parentEl.removeEventListener(r,e._hideEventHandler)}),this._initialized=!1}},n.prototype.removeInstance=function(){jt.removeInstance("Dial",this._instanceId)},n.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},n.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},n.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},n.prototype.toggle=function(){this._visible?this.hide():this.show()},n.prototype.isHidden=function(){return!this._visible},n.prototype.isVisible=function(){return this._visible},n.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},n}();function AA(){document.querySelectorAll("[data-dial-init]").forEach(function(n){var e=n.querySelector("[data-dial-toggle]");if(e){var t=e.getAttribute("data-dial-toggle"),r=document.getElementById(t);if(r){var i=e.getAttribute("data-dial-trigger");new FV(n,e,r,{triggerType:i||bA.triggerType})}else console.error("Dial with id ".concat(t," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(n.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}function LV(){iA(),oA(),aA(),lA(),vA(),EA(),wA(),IA(),TA(),CA(),AA()}typeof window<"u"&&(window.Dial=FV,window.initDials=AA),typeof window<"u"&&(window.initFlowbite=LV),new gJ("load",[iA,oA,aA,lA,vA,EA,wA,IA,TA,CA,AA]).init();let NX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ai({type:n,selectors:[["app-sidebar"]],decls:9,vars:0,consts:[[1,"navbarLateral"],[1,"cardIconesLateral"],["role","button",1,"material-symbols-outlined"]],template:function(r,i){1&r&&(ke(0,"nav",0)(1,"div",1)(2,"ul")(3,"li")(4,"span",2),Qe(5,"home"),Ve()(),ke(6,"li")(7,"span",2),Qe(8,"settings"),Ve()()()()())},styles:[".navbarLateral[_ngcontent-%COMP%]{width:5rem;height:100vh;background-color:var(--sidebar);font-family:Roboto;color:#fff}.cardIconesLateral[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center;line-height:5rem;color:azure;cursor:pointer}span[_ngcontent-%COMP%]:hover{background-color:var(--hover-icons)}@media (max-width: 450px){.navbarLateral[_ngcontent-%COMP%]{display:none}}"]})}return n})(),kX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ai({type:n,selectors:[["app-card-faturas"]],decls:23,vars:0,consts:[[1,"card"],[1,"card-container"],["id","card-total-liquido",1,"cards"],[1,"titulo-card"],["id","card-fatura-atual",1,"cards"],["id","card-proxima-fatura",1,"cards"]],template:function(r,i){1&r&&(ke(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"span",3),Qe(5,"Total l\xedquido"),Ve(),Nr(6,"hr"),ke(7,"h1"),Qe(8,"R$ 2.356,99 "),Ve()()(),ke(9,"div")(10,"div",4)(11,"span",3),Qe(12,"Fatura atual"),Ve(),Nr(13,"hr"),ke(14,"h1"),Qe(15,"R$ 2.356,99 "),Ve()()(),ke(16,"div")(17,"div",5)(18,"span",3),Qe(19,"Pr\xf3xima fatura"),Ve(),Nr(20,"hr"),ke(21,"h1"),Qe(22,"R$ 356,99 "),Ve()()()()())},styles:[".card[_ngcontent-%COMP%]{width:100%;height:10rem;background-color:var(--background-secondary);border-radius:10px}.card-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:0 1rem;align-items:center;flex-wrap:wrap;width:100%;height:100%}.titulo-card[_ngcontent-%COMP%]{font-family:Roboto;color:#0b0b09;font-size:10pt;font-weight:500}#card-total-liquido[_ngcontent-%COMP%]{background-color:#56f452;padding:1rem}#card-fatura-atual[_ngcontent-%COMP%]{background-color:#75c1f3;padding:1rem}#card-proxima-fatura[_ngcontent-%COMP%]{background-color:#f9db49;padding:1rem}.cards[_ngcontent-%COMP%]{width:20rem;height:8rem;cursor:pointer}.cards[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:1px solid #3f3f3f;margin-top:.7rem}.cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;height:5rem;align-items:center;font-size:22pt;font-weight:500}@media (max-width: 450px){.cards[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25px}.cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:90%;justify-content:center;align-items:center;font-size:32pt}.titulo-card[_ngcontent-%COMP%]{font-size:12pt}}"]})}return n})();var Ar=Le(881);(0,Ar.registerVersion)("firebase","10.6.0","app");class LX extends Rt{constructor(e,t){super()}schedule(e,t=0){return this}}const vE={setInterval(n,e,...t){const{delegate:r}=vE;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=vE;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class VV extends LX{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return vE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&vE.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Se(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const DA={now:()=>(DA.delegate||Date).now(),delegate:void 0};class Tg{constructor(e,t=Tg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Tg.now=DA.now;class BV extends Tg{constructor(e,t=Tg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const UX=new class BX extends BV{}(class VX extends VV{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),EE=new BV(VV),$X=EE,wE=new Bd("ANGULARFIRE2_VERSION");const SA=(n,e)=>{const t=e?[e]:(0,Ar.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class RA{constructor(){return SA(jX)}}const jX="app-check";function Ch(){}class $V{zone;delegate;constructor(e,t=UX){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class HX{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ch,{},Ch,Ch)),t.pipe(br({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let IE=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new $V(Zone.current)),this.insideAngular=t.run(()=>new $V(Zone.current,EE)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ae(Vt))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function oc(n){return bh().ngZone.run(()=>n())}function Ul(n){return function WX(n){return function(t){return(t=t.lift(new HX(n.ngZone))).pipe(Mr(n.outsideAngular),Hn(n.insideAngular))}}(bh())(n)}const GX=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),oc(()=>n.apply(void 0,r))},TE=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=oc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ch,{},Ch,Ch))),r[s]=GX(r[s],t));const i=function zX(n){return bh().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof qe){const s=bh();return i.pipe(Mr(s.outsideAngular),Hn(s.insideAngular))}return oc(()=>i)}return i instanceof qe?i.pipe(Ul):i instanceof Promise?oc(()=>new Promise((s,o)=>i.then(a=>oc(()=>s(a)),a=>oc(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:oc(()=>i)};class Cg{constructor(e){return e}}class jV{constructor(){return(0,Ar.getApps)()}}const PA=new me("angularfire2._apps"),KX={provide:Cg,useFactory:function qX(n){return n&&1===n.length?n[0]:new Cg((0,Ar.getApp)())},deps:[[new di,PA]]},QX={provide:jV,deps:[[new di,PA]]};function ZX(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Cg(r)}}let YX=(()=>{class n{constructor(t){(0,Ar.registerVersion)("angularfire",wE.full,"core"),(0,Ar.registerVersion)("angularfire",wE.full,"app"),(0,Ar.registerVersion)("angular",cN.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ae(Qu))};static \u0275mod=vn({type:n});static \u0275inj=Jn({providers:[KX,QX]})}return n})();function JX(n,...e){return{ngModule:YX,providers:[{provide:PA,useFactory:ZX(n),multi:!0,deps:[Vt,fi,IE,...e]}]}}const XX=TE(Ar.initializeApp,!0);Le(808);var D=Le(90),Js=Le(877),$l=Le(859);class zV{constructor(){return SA("auth")}}var _e,Re=Le(861),ree=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wo={},NA=NA||{},et=ree||self;function CE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function bg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var kA="closure_uid_"+(1e9*Math.random()>>>0),see=0;function oee(n,e,t){return n.call.apply(n.bind,arguments)}function aee(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function mi(n,e,t){return(mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oee:aee).apply(null,arguments)}function bE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Or(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function jl(){this.s=this.s,this.o=this.o}jl.prototype.s=!1,jl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function iee(n){Object.prototype.hasOwnProperty.call(n,kA)&&n[kA]||(n[kA]=++see)}(this)},jl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function OA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function GV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(CE(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_i.prototype.h=function(){this.defaultPrevented=!0};var uee=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{et.addEventListener("test",()=>{},e),et.removeEventListener("test",()=>{},e)}catch{}return n}();function Ag(n){return/^[\s\xa0]*$/.test(n)}function AE(){var n=et.navigator;return n&&(n=n.userAgent)?n:""}function Xo(n){return-1!=AE().indexOf(n)}function FA(n){return FA[" "](n),n}FA[" "]=function(){};var VA,n,dee=Xo("Opera"),Ah=Xo("Trident")||Xo("MSIE"),qV=Xo("Edge"),LA=qV||Ah,KV=Xo("Gecko")&&!(-1!=AE().toLowerCase().indexOf("webkit")&&!Xo("Edge"))&&!(Xo("Trident")||Xo("MSIE"))&&!Xo("Edge"),hee=-1!=AE().toLowerCase().indexOf("webkit")&&!Xo("Edge");function QV(){var n=et.document;return n?n.documentMode:void 0}e:{var BA="",UA=(n=AE(),KV?/rv:([^\);]+)(\)|;)/.exec(n):qV?/Edge\/([\d\.]+)/.exec(n):Ah?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hee?/WebKit\/(\S+)/.exec(n):dee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(UA&&(BA=UA?UA[1]:""),Ah){var $A=QV();if(null!=$A&&$A>parseFloat(BA)){VA=String($A);break e}}VA=BA}var fee=et.document&&Ah&&(QV()||parseInt(VA,10))||void 0;function Dg(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(KV){e:{try{FA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dg.$.h.call(this)}}Or(Dg,_i);var pee={2:"touch",3:"pen",4:"mouse"};Dg.prototype.h=function(){Dg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sg="closure_listenable_"+(1e6*Math.random()|0),gee=0;function mee(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++gee,this.fa=this.ia=!1}function DE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function HA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function YV(n){const e={};for(const t in n)e[t]=n[t];return e}const JV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<JV.length;s++)t=JV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function SE(n){this.src=n,this.g={},this.h=0}function zA(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=WV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(DE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function WA(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}SE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=WA(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new mee(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var GA="closure_lm_"+(1e6*Math.random()|0),qA={};function e2(n,e,t,r,i){if(r&&r.once)return n2(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)e2(n,e[s],t,r,i);return null}return t=YA(t),n&&n[Sg]?n.O(e,t,bg(r)?!!r.capture:!!r,i):t2(n,e,t,!1,r,i)}function t2(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=bg(i)?!!i.capture:!!i,a=QA(n);if(a||(n[GA]=a=new SE(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function yee(){const e=vee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uee||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(i2(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function n2(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)n2(n,e[s],t,r,i);return null}return t=YA(t),n&&n[Sg]?n.P(e,t,bg(r)?!!r.capture:!!r,i):t2(n,e,t,!0,r,i)}function r2(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)r2(n,e[s],t,r,i);else r=bg(r)?!!r.capture:!!r,t=YA(t),n&&n[Sg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=WA(s=n.g[e],t,r,i))&&(DE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=QA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=WA(e,t,r,i)),(t=-1<n?e[n]:null)&&KA(t))}function KA(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Sg])zA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(i2(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=QA(e))?(zA(t,n),0==t.h&&(t.src=null,e[GA]=null)):DE(n)}}}function i2(n){return n in qA?qA[n]:qA[n]="on"+n}function vee(n,e){if(n.fa)n=!0;else{e=new Dg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&KA(n),n=t.call(r,e)}return n}function QA(n){return(n=n[GA])instanceof SE?n:null}var ZA="__closure_events_fn_"+(1e9*Math.random()>>>0);function YA(n){return"function"==typeof n?n:(n[ZA]||(n[ZA]=function(e){return n.handleEvent(e)}),n[ZA])}function Fr(){jl.call(this),this.i=new SE(this),this.S=this,this.J=null}function Qr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var i=e;XV(e=new _i(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=RE(o,r,!0,e)&&i}if(i=RE(o=e.g=n,r,!0,e)&&i,i=RE(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=RE(o=e.g=t[s],r,!1,e)&&i}function RE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&zA(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Or(Fr,jl),Fr.prototype[Sg]=!0,Fr.prototype.removeEventListener=function(n,e,t,r){r2(this,n,e,t,r)},Fr.prototype.N=function(){if(Fr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)DE(t[r]);delete n.g[e],n.h--}}this.J=null},Fr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Fr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var JA=et.JSON.stringify;function wee(){var n=XA;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var s2=new class Eee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Tee,n=>n.reset());class Tee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function bee(n){et.setTimeout(()=>{throw n},0)}let Rg,Pg=!1,XA=new class Iee{constructor(){this.h=this.g=null}add(e,t){const r=s2.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},o2=()=>{const n=et.Promise.resolve(void 0);Rg=()=>{n.then(Aee)}};var Aee=()=>{for(var n;n=wee();){try{n.h.call(n.g)}catch(t){bee(t)}var e=s2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Pg=!1};function PE(n,e){Fr.call(this),this.h=n||1,this.g=e||et,this.j=mi(this.qb,this),this.l=Date.now()}function eD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function tD(n,e,t){if("function"==typeof n)t&&(n=mi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mi(n.handleEvent,n)}return 2147483647<Number(e)?-1:et.setTimeout(n,e||0)}function a2(n){n.g=tD(()=>{n.g=null,n.i&&(n.i=!1,a2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Or(PE,Fr),(_e=PE.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qr(this,"tick"),this.ga&&(eD(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){PE.$.N.call(this),eD(this),delete this.g};class Dee extends jl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:a2(this)}N(){super.N(),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mg(n){jl.call(this),this.h=n,this.g={}}Or(Mg,jl);var l2=[];function u2(n,e,t,r){Array.isArray(t)||(t&&(l2[0]=t.toString()),t=l2);for(var i=0;i<t.length;i++){var s=e2(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function c2(n){HA(n.g,function(e,t){this.g.hasOwnProperty(t)&&KA(e)},n),n.g={}}function ME(){this.g=!0}function Dh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return JA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Mg.prototype.N=function(){Mg.$.N.call(this),c2(this)},Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ME.prototype.Ea=function(){this.g=!1},ME.prototype.info=function(){};var ac={},d2=null;function xE(){return d2=d2||new Fr}function h2(n){_i.call(this,ac.Ta,n)}function xg(n){const e=xE();Qr(e,new h2(e))}function f2(n,e){_i.call(this,ac.STAT_EVENT,n),this.stat=e}function Fi(n){const e=xE();Qr(e,new f2(e,n))}function p2(n,e){_i.call(this,ac.Ua,n),this.size=e}function Ng(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){n()},e)}ac.Ta="serverreachability",Or(h2,_i),ac.STAT_EVENT="statevent",Or(f2,_i),ac.Ua="timingevent",Or(p2,_i);var NE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},g2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nD(){}function _2(){}nD.prototype.h=null;var sD,kg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rD(){_i.call(this,"d")}function iD(){_i.call(this,"c")}function kE(){}function Og(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Mg(this),this.P=xee,this.V=new PE(n=LA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new y2}function y2(){this.i=null,this.g="",this.h=!1}Or(rD,_i),Or(iD,_i),Or(kE,nD),kE.prototype.g=function(){return new XMLHttpRequest},kE.prototype.i=function(){return{}},sD=new kE;var xee=45e3,oD={},OE={};function aD(n,e,t){n.L=1,n.v=BE(Wa(e)),n.s=t,n.S=!0,v2(n,null)}function v2(n,e){n.G=Date.now(),Fg(n),n.A=Wa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),R2(t.i,"t",r),n.C=0,t=n.l.J,n.h=new y2,n.g=X2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Dee(mi(n.Pa,n,n.g),n.O)),u2(n.U,n.g,"readystatechange",n.nb),e=n.I?YV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),xg(),function See(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");o=2<=f.length&&"type"==f[1]?o+(d+"=")+u+"&":o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function E2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function w2(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Nee(n,t),i==OE){4==e&&(n.o=4,Fi(14),r=!1),Dh(n.j,n.m,null,"[Incomplete Response]");break}if(i==oD){n.o=4,Fi(15),Dh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Dh(n.j,n.m,i,null),lD(n,i)}E2(n)&&i!=OE&&i!=oD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),gD(e),e.M=!0,Fi(11))):(Dh(n.j,n.m,t,"[Invalid Chunked Response]"),lc(n),Lg(n))}function Nee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?OE:(t=Number(e.substring(t,r)),isNaN(t)?oD:(r+=1)+t>e.length?OE:(e=e.slice(r,r+t),n.C=r+t,e))}function Fg(n){n.Y=Date.now()+n.P,I2(n,n.P)}function I2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ng(mi(n.lb,n),e)}function FE(n){n.B&&(et.clearTimeout(n.B),n.B=null)}function Lg(n){0==n.l.H||n.J||Q2(n.l,n)}function lc(n){FE(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,eD(n.V),c2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function lD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||uD(t.i,n)))if(!n.K&&uD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;WE(t),HE(t)}pD(t),Fi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ng(mi(t.ib,t),6e3));if(1>=x2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else cc(t,11)}else if((n.K||t.g==n)&&WE(t),!Ag(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const d=u[3];null!=d&&(t.ra=d,t.l.info("VER="+t.ra));const f=u[4];null!=f&&(t.Ga=f,t.l.info("SVER="+t.Ga));const m=u[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const _=n.g;if(_){const v=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||-1==v.indexOf("spdy")&&-1==v.indexOf("quic")&&-1==v.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(cD(s,s.h),s.h=null))}if(r.F){const T=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,In(r.I,r.F,T))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=J2(r,r.J?r.pa:null,r.Y),o.K){N2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(FE(a),Fg(a)),r.g=o}else q2(r);0<t.j.length&&zE(t)}else"stop"!=u[0]&&"close"!=u[0]||cc(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cc(t,7):fD(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}xg()}catch{}}function T2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(CE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Oee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(CE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function kee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(CE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(_e=Og.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==ea(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const d=ea(this.g);var e=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||LA||this.g&&(this.h.h||this.g.ja()||$2(this.g)))){this.J||4!=d||7==e||xg(),FE(this);var t=this.g.da();this.ca=t;t:if(E2(this)){var r=$2(this.g);n="";var i=r.length,s=4==ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lc(this),Lg(this);var o="";break t}this.h.i=new et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Ree(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,d,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ag(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,Fi(12),lc(this),Lg(this);break e}Dh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lD(this,t)}this.S?(w2(this,d,o),LA&&this.i&&3==d&&(u2(this.U,this.V,"tick",this.mb),this.V.start())):(Dh(this.j,this.m,o,null),lD(this,o)),4==d&&lc(this),this.i&&!this.J&&(4==d?Q2(this.l,this):(this.i=!1,Fg(this)))}else(function Xee(n){const e={};n=(n.g&&2<=ea(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ag(n[r]))continue;var t=Cee(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function _ee(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Fi(12)):(this.o=0,Fi(13)),lc(this),Lg(this)}}}catch{}},_e.mb=function(){if(this.g){var n=ea(this.g),e=this.g.ja();this.C<e.length&&(FE(this),w2(this,n,e),this.i&&4!=n&&Fg(this))}},_e.cancel=function(){this.J=!0,lc(this)},_e.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Pee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xg(),Fi(17)),lc(this),this.o=2,Lg(this)):I2(this,this.Y-n)};var C2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof uc){this.h=n.h,LE(this,n.j),this.s=n.s,this.g=n.g,VE(this,n.m),this.l=n.l;var e=n.i,t=new Ug;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),b2(this,t),this.o=n.o}else n&&(e=String(n).match(C2))?(this.h=!1,LE(this,e[1]||"",!0),this.s=Vg(e[2]||""),this.g=Vg(e[3]||"",!0),VE(this,e[4]),this.l=Vg(e[5]||"",!0),b2(this,e[6]||"",!0),this.o=Vg(e[7]||"")):(this.h=!1,this.i=new Ug(null,this.h))}function Wa(n){return new uc(n)}function LE(n,e,t){n.j=t?Vg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function VE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function b2(n,e,t){e instanceof Ug?(n.i=e,function jee(n,e){e&&!n.j&&(Hl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(D2(this,r),R2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Bg(e,Uee)),n.i=new Ug(e,n.h))}function In(n,e,t){n.i.set(e,t)}function BE(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Lee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Lee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}uc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bg(e,A2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bg(e,A2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bg(t,"/"==t.charAt(0)?Bee:Vee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bg(t,$ee)),n.join("")};var A2=/[#\/\?@]/g,Vee=/[#\?:]/g,Bee=/[#\?]/g,Uee=/[#\?@]/g,$ee=/#/g;function Ug(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Fee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function D2(n,e){Hl(n),e=Sh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function S2(n,e){return Hl(n),e=Sh(n,e),n.g.has(e)}function R2(n,e,t){D2(n,e),0<t.length&&(n.i=null,n.g.set(Sh(n,e),OA(t)),n.h+=t.length)}function Sh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function P2(n){this.l=n||zee,n=et.PerformanceNavigationTiming?0<(n=et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(et.g&&et.g.Ka&&et.g.Ka()&&et.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=Ug.prototype).add=function(n,e){Hl(this),this.i=null,n=Sh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){Hl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},_e.ta=function(){Hl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},_e.Z=function(n){Hl(this);let e=[];if("string"==typeof n)S2(this,n)&&(e=e.concat(this.g.get(Sh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return Hl(this),this.i=null,S2(this,n=Sh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var zee=10;function M2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function x2(n){return n.h?1:n.g?n.g.size:0}function uD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cD(n,e){n.g?n.g.add(e):n.h=e}function N2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function k2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return OA(n.i)}P2.prototype.cancel=function(){if(this.i=k2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Wee=class{stringify(n){return et.JSON.stringify(n,void 0)}parse(n){return et.JSON.parse(n,void 0)}};function Gee(){this.g=new Wee}function qee(n,e,t){const r=t||"";try{T2(n,function(i,s){let o=i;bg(i)&&(o=JA(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function UE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $g(n){this.l=n.ec||null,this.j=n.ob||!1}function $E(n,e){Fr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=dD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Or($g,nD),$g.prototype.g=function(){return new $E(this.l,this.j)},$g.prototype.i=function(n){return function(){return n}}({}),Or($E,Fr);var dD=0;function O2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Hg(n)}function Hg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=$E.prototype).open=function(n,e){if(this.readyState!=dD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Hg(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jg(this)),this.readyState=dD},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Hg(this)),this.g&&(this.readyState=3,Hg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jg(this):Hg(this),3==this.readyState&&O2(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,jg(this))},_e.Ya=function(n){this.g&&(this.response=n,jg(this))},_e.ka=function(){this.g&&jg(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($E.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Qee=et.JSON.parse;function Gn(n){Fr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=F2,this.L=this.M=!1}Or(Gn,Fr);var F2="",Zee=/^https?$/i,Yee=["POST","PUT"];function L2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,V2(n),jE(n)}function V2(n){n.F||(n.F=!0,Qr(n,"complete"),Qr(n,"error"))}function B2(n){if(n.h&&typeof NA<"u"&&(!n.C[1]||4!=ea(n)||2!=n.da()))if(n.v&&4==ea(n))tD(n.La,0,n);else if(Qr(n,"readystatechange"),4==ea(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(C2)[1]||null;!i&&et.self&&et.self.location&&(i=et.self.location.protocol.slice(0,-1)),r=!Zee.test(i?i.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var s=2<ea(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",V2(n)}}finally{jE(n)}}}function jE(n,e){if(n.g){U2(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch{}}}function U2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(et.clearTimeout(n.A),n.A=null)}function ea(n){return n.g?n.g.readyState:0}function $2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case F2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function j2(n){let e="";return HA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function hD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=j2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function zg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function H2(n){this.Ga=0,this.j=[],this.l=new ME,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zg("baseRetryDelayMs",5e3,n),this.hb=zg("retryDelaySeedMs",1e4,n),this.eb=zg("forwardChannelMaxRetries",2,n),this.xa=zg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new P2(n&&n.concurrentRequestLimit),this.Ja=new Gee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fD(n){if(z2(n),3==n.H){var e=n.W++,t=Wa(n.I);if(In(t,"SID",n.K),In(t,"RID",e),In(t,"TYPE","terminate"),Wg(n,t),(e=new Og(n,n.l,e)).L=2,e.v=BE(Wa(t)),t=!1,et.navigator&&et.navigator.sendBeacon)try{t=et.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&et.Image&&((new Image).src=e.v,t=!0),t||(e.g=X2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fg(e)}Y2(n)}function HE(n){n.g&&(gD(n),n.g.cancel(),n.g=null)}function z2(n){HE(n),n.u&&(et.clearTimeout(n.u),n.u=null),WE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&et.clearTimeout(n.m),n.m=null)}function zE(n){if(!M2(n.i)&&!n.m){n.m=!0;var e=n.Na;Rg||o2(),Pg||(Rg(),Pg=!0),XA.add(e,n),n.C=0}}function W2(n,e){var t;t=e?e.m:n.W++;const r=Wa(n.I);In(r,"SID",n.K),In(r,"RID",t),In(r,"AID",n.V),Wg(n,r),n.o&&n.s&&hD(r,n.o,n.s),t=new Og(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=G2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),cD(n.i,t),aD(t,r,e)}function Wg(n,e){n.na&&HA(n.na,function(t,r){In(e,r,t)}),n.h&&T2({},function(t,r){In(e,r,t)})}function G2(n,e,t){t=Math.min(n.j.length,t);var r=n.h?mi(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let u=i[l].g;const d=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{qee(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function q2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Rg||o2(),Pg||(Rg(),Pg=!0),XA.add(e,n),n.A=0}}function pD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ng(mi(n.Ma,n),Z2(n,n.A)),n.A++,0))}function gD(n){null!=n.B&&(et.clearTimeout(n.B),n.B=null)}function K2(n){n.g=new Og(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Wa(n.wa);In(e,"RID","rpc"),In(e,"SID",n.K),In(e,"AID",n.V),In(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&In(e,"TO",n.qa),In(e,"TYPE","xmlhttp"),Wg(n,e),n.o&&n.s&&hD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=BE(Wa(e)),t.s=null,t.S=!0,v2(t,n)}function WE(n){null!=n.v&&(et.clearTimeout(n.v),n.v=null)}function Q2(n,e){var t=null;if(n.g==e){WE(n),gD(n),n.g=null;var r=2}else{if(!uD(n.i,e))return;t=e.F,N2(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Qr(r=xE(),new p2(r,t)),zE(n)}else q2(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function ete(n,e){return!(x2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ng(mi(n.Na,n,e),Z2(n,n.C)),n.C++,0)))}(n,e)||2==r&&pD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:cc(n,5);break;case 4:cc(n,10);break;case 3:cc(n,6);break;default:cc(n,2)}}function Z2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function cc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=mi(n.pb,n);t||(t=new uc("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||LE(t,"https"),BE(t)),function Kee(n,e){const t=new ME;if(et.Image){const r=new Image;r.onload=bE(UE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bE(UE,t,r,"TestLoadImage: error",!1,e),r.onabort=bE(UE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bE(UE,t,r,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fi(2);n.H=0,n.h&&n.h.za(e),Y2(n),z2(n)}function Y2(n){if(n.H=0,n.ma=[],n.h){const e=k2(n.i);(0!=e.length||0!=n.j.length)&&(GV(n.ma,e),GV(n.ma,n.j),n.i.i.length=0,OA(n.j),n.j.length=0),n.h.ya()}}function J2(n,e,t){var r=t instanceof uc?Wa(t):new uc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),VE(r,r.m);else{var i=et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new uc(null);r&&LE(s,r),e&&(s.g=e),i&&VE(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&In(r,t,e),In(r,"VER",n.ra),Wg(n,r),r}function X2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gn(t&&n.Ha&&!n.va?new $g({ob:!0}):n.va)).Oa(n.J),e}function eB(){}function GE(){if(Ah&&!(10<=Number(fee)))throw Error("Environmental error: no available transport.")}function As(n,e){Fr.call(this),this.g=new H2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ag(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ag(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Rh(this)}function tB(n){rD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nB(){iD.call(this),this.status=1}function Rh(n){this.g=n}function Io(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mD(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Qt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(_e=Gn.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sD.g(),this.C=function m2(n){return n.h||(n.h=n.i())}(this.u?this.u:sD),this.g.onreadystatechange=mi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void L2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=et.FormData&&n instanceof et.FormData,!(0<=WV(Yee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U2(this),0<this.B&&((this.L=function Jee(n){return Ah&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mi(this.ua,this)):this.A=tD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){L2(this,s)}},_e.ua=function(){typeof NA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),jE(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jE(this,!0)),Gn.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?B2(this):this.kb())},_e.kb=function(){B2(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Qee(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=H2.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Og(this,this.l,n);let s=this.s;if(this.U&&(s?(s=YV(s),XV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=G2(this,i,e),In(t=Wa(this.I),"RID",n),In(t,"CVER",22),this.F&&In(t,"X-HTTP-Session-Id",this.F),Wg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(j2(s)))+"&"+e:this.o&&hD(t,this.o,s)),cD(this.i,i),this.bb&&In(t,"TYPE","init"),this.P?(In(t,"$req",e),In(t,"SID","null"),i.aa=!0,aD(i,t,null)):aD(i,t,e),this.H=2}}else 3==this.H&&(n?W2(this,n):0==this.j.length||M2(this.i)||W2(this))},_e.Ma=function(){if(this.u=null,K2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ng(mi(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fi(10),HE(this),K2(this))},_e.ib=function(){null!=this.v&&(this.v=null,HE(this),pD(this),Fi(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Fi(2)):(this.l.info("Failed to ping google.com"),Fi(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=eB.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},GE.prototype.g=function(n,e){return new As(n,e)},Or(As,Fr),As.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Fi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=J2(n,null,n.Y),zE(n)},As.prototype.close=function(){fD(this.g)},As.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=JA(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&zE(e)},As.prototype.N=function(){this.g.h=null,delete this.j,fD(this.g),delete this.g,As.$.N.call(this)},Or(tB,rD),Or(nB,iD),Or(Rh,eB),Rh.prototype.Ba=function(){Qr(this.g,"a")},Rh.prototype.Aa=function(n){Qr(this.g,new tB(n))},Rh.prototype.za=function(n){Qr(this.g,new nB)},Rh.prototype.ya=function(){Qr(this.g,"b")},Or(Io,function tte(){this.blockSize=-1}),Io.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Io.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)mD(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){mD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){mD(this,r),i=0;break}}this.h=i,this.i+=e},Io.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var nte={};function _D(n){return-128<=n&&128>n?function cee(n,e){var t=nte;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Qt([0|e],0>e?-1:0)}):new Qt([0|n],0>n?-1:0)}function ta(n){if(isNaN(n)||!isFinite(n))return Ph;if(0>n)return Zr(ta(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=yD;return new Qt(e,0)}var yD=4294967296,Ph=_D(0),vD=_D(1),iB=_D(16777216);function Ga(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Xs(n){return-1==n.h}function Zr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Qt(t,~n.h).add(vD)}function qE(n,e){return n.add(Zr(e))}function KE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Gg(n,e){this.g=n,this.h=e}function QE(n,e){if(Ga(e))throw Error("division by zero");if(Ga(n))return new Gg(Ph,Ph);if(Xs(n))return e=QE(Zr(n),e),new Gg(Zr(e.g),Zr(e.h));if(Xs(e))return e=QE(n,Zr(e)),new Gg(Zr(e.g),e.h);if(30<n.g.length){if(Xs(n)||Xs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=vD,r=e;0>=r.X(n);)t=sB(t),r=sB(r);var i=Mh(t,1),s=Mh(r,1);for(r=Mh(r,2),t=Mh(t,2);!Ga(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Mh(r,1),t=Mh(t,1)}return e=qE(n,i.R(e)),new Gg(i,e)}for(i=Ph;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ta(t)).R(e);Xs(o)||0<o.X(n);)o=(s=ta(t-=r)).R(e);Ga(s)&&(s=vD),i=i.add(s),n=qE(n,o)}return new Gg(i,n)}function sB(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Qt(t,n.h)}function Mh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Qt(i,n.h)}(_e=Qt.prototype).ea=function(){if(Xs(this))return-Zr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:yD+r)*e,e*=yD}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ga(this))return"0";if(Xs(this))return"-"+Zr(this).toString(n);for(var e=ta(Math.pow(n,6)),t=this,r="";;){var i=QE(t,e).g,s=((0<(t=qE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ga(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return Xs(n=qE(this,n))?-1:Ga(n)?0:1},_e.abs=function(){return Xs(this)?Zr(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Qt(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(Ga(this)||Ga(n))return Ph;if(Xs(this))return Xs(n)?Zr(this).R(Zr(n)):Zr(Zr(this).R(n));if(Xs(n))return Zr(this.R(Zr(n)));if(0>this.X(iB)&&0>n.X(iB))return ta(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,KE(t,2*r+2*i),t[2*r+2*i+1]+=s*l,KE(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,KE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,KE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Qt(t,0)},_e.gb=function(n){return QE(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Qt(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Qt(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Qt(t,this.h^n.h)},GE.prototype.createWebChannel=GE.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,NE.NO_ERROR=0,NE.TIMEOUT=8,NE.HTTP_ERROR=6,g2.COMPLETE="complete",_2.EventType=kg,kg.OPEN="a",kg.CLOSE="b",kg.ERROR="c",kg.MESSAGE="d",Fr.prototype.listen=Fr.prototype.O,Gn.prototype.listenOnce=Gn.prototype.P,Gn.prototype.getLastError=Gn.prototype.Sa,Gn.prototype.getLastErrorCode=Gn.prototype.Ia,Gn.prototype.getStatus=Gn.prototype.da,Gn.prototype.getResponseJson=Gn.prototype.Wa,Gn.prototype.getResponseText=Gn.prototype.ja,Gn.prototype.send=Gn.prototype.ha,Gn.prototype.setWithCredentials=Gn.prototype.Oa,Io.prototype.digest=Io.prototype.l,Io.prototype.reset=Io.prototype.reset,Io.prototype.update=Io.prototype.j,Qt.prototype.add=Qt.prototype.add,Qt.prototype.multiply=Qt.prototype.R,Qt.prototype.modulo=Qt.prototype.gb,Qt.prototype.compare=Qt.prototype.X,Qt.prototype.toNumber=Qt.prototype.ea,Qt.prototype.toString=Qt.prototype.toString,Qt.prototype.getBits=Qt.prototype.D,Qt.fromNumber=ta,Qt.fromString=function rB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zr(rB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ta(Math.pow(e,8)),r=Ph,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=ta(Math.pow(e,s)),r=r.R(s).add(ta(o))):r=(r=r.R(t)).add(ta(o))}return r};var rte=wo.createWebChannelTransport=function(){return new GE},ite=wo.getStatEventTarget=function(){return xE()},ED=wo.ErrorCode=NE,ste=wo.EventType=g2,ote=wo.Event=ac,oB=wo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ate=wo.FetchXmlHttpFactory=$g,ZE=wo.WebChannel=_2,lte=wo.XhrIo=Gn,ute=wo.Md5=Io,xh=wo.Integer=Qt;const aB="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Nh="10.5.2";const zl=new Js.Yd("@firebase/firestore");function kh(){return zl.logLevel}function re(n,...e){if(zl.logLevel<=Js.in.DEBUG){const t=e.map(wD);zl.debug(`Firestore (${Nh}): ${n}`,...t)}}function rr(n,...e){if(zl.logLevel<=Js.in.ERROR){const t=e.map(wD);zl.error(`Firestore (${Nh}): ${n}`,...t)}}function Ds(n,...e){if(zl.logLevel<=Js.in.WARN){const t=e.map(wD);zl.warn(`Firestore (${Nh}): ${n}`,...t)}}function wD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function be(n="Unexpected state"){const e=`FIRESTORE (${Nh}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function Pe(n,e){n||be()}function de(n,e){return n}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends D.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class dte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hte{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable((0,Re.Z)(function*(){yield u.promise,yield s(r.currentUser)}))},l=u=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe("string"==typeof r.accessToken),new lB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(null===e||"string"==typeof e),new Lr(e)}}class fte{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pte{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new fte(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pe("string"==typeof t.token),this.R=t.token,new uB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mte(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cB{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Ze(n,e){return n<e?-1:n>e?1:0}function Oh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ln{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ln(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ln(0,0))}static max(){return new Ne(new Ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qg{constructor(e,t,r){void 0===t?t=0:t>e.length&&be(),void 0===r?r=e.length-t:r>e.length-t&&be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mt extends qg{construct(e,t,r){return new Mt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const _te=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends qg{construct(e,t,r){return new Rn(e,t,r)}static isValidIdentifier(e){return _te.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(t)}static emptyPath(){return new Rn([])}}class he{constructor(e){this.path=e}static fromPath(e){return new he(Mt.fromString(e))}static fromName(e){return new he(Mt.fromString(e).popFirst(5))}static empty(){return new he(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Mt(e.slice()))}}function fB(n){return new Ss(n.readTime,n.key,-1)}class Ss{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ss(Ne.min(),he.empty(),-1)}static max(){return new Ss(Ne.max(),he.empty(),-1)}}function TD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=he.comparator(n.documentKey,e.documentKey),0!==t?t:Ze(n.largestBatchId,e.largestBatchId))}const pB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ete{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wl(n){return CD.apply(this,arguments)}function CD(){return CD=(0,Re.Z)(function*(n){if(n.code!==H.FAILED_PRECONDITION||n.message!==pB)throw n;re("LocalStore","Unexpectedly lost primary lease")}),CD.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,r)=>{t(e)})}static reject(e){return new L((t,r)=>{r(e)})}static waitFor(e){return new L((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=L.resolve(!1);for(const r of e)t=t.next(i=>i?L.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new L((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Gl(n){return"IndexedDbTransactionError"===n.name}let Rs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Qg(n){return null==n}function Zg(n){return 0===n&&1/n==-1/0}function TB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ql(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hn{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new XE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new XE(this.root,e,this.comparator,!1)}getReverseIterator(){return new XE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new XE(this.root,e,this.comparator,!0)}}class XE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Yr.RED,this.left=i??Yr.EMPTY,this.right=s??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Yr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Yr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bB(this.data.getIterator())}getIteratorFrom(e){return new bB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class bB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class os{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new os([])}unionWith(e){let t=new Jt(Rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new os(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class AB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AB("Invalid base64 string: "+s):s}}(e);return new Sr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const Hte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kl(n){if(Pe(!!n),"string"==typeof n){let e=0;const t=Hte.exec(n);if(Pe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qn(n.seconds),nanos:qn(n.nanos)}}function qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qa(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function ew(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function tw(n){const e=n.mapValue.fields.__previous_value__;return ew(e)?tw(e):e}function Yg(n){const e=Kl(n.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}class zte{constructor(e,t,r,i,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class pc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}const Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ew(n)?4:PB(n)?9007199254740991:10:be()}function ra(n,e){if(n===e)return!0;const t=Zl(n);if(t!==Zl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yg(n).isEqual(Yg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Kl(i.timestampValue),a=Kl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,qa(n.bytesValue).isEqual(qa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return qn(i.geoPointValue.latitude)===qn(s.geoPointValue.latitude)&&qn(i.geoPointValue.longitude)===qn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qn(i.integerValue)===qn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qn(i.doubleValue),a=qn(s.doubleValue);return o===a?Zg(o)===Zg(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Oh(n.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(TB(o)!==TB(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!ra(o[l],a[l])))return!1;return!0}(n,e);default:return be()}var s}function Jg(n,e){return void 0!==(n.values||[]).find(t=>ra(t,e))}function Yl(n,e){if(n===e)return 0;const t=Zl(n),r=Zl(e);if(t!==r)return Ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qn(s.integerValue||s.doubleValue),l=qn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return DB(n.timestampValue,e.timestampValue);case 4:return DB(Yg(n),Yg(e));case 5:return Ze(n.stringValue,e.stringValue);case 6:return function(s,o){const a=qa(s),l=qa(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ze(a[u],l[u]);if(0!==d)return d}return Ze(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ze(qn(s.latitude),qn(o.latitude));return 0!==a?a:Ze(qn(s.longitude),qn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Yl(a[u],l[u]);if(d)return d}return Ze(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ql.mapValue&&o===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=Ze(l[f],d[f]);if(0!==m)return m;const _=Yl(a[l[f]],u[d[f]]);if(0!==_)return _}return Ze(l.length,d.length)}(n.mapValue,e.mapValue);default:throw be()}}function DB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ze(n,e);const t=Kl(n),r=Kl(e),i=Ze(t.seconds,r.seconds);return 0!==i?i:Ze(t.nanos,r.nanos)}function Bh(n){return DD(n)}function DD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Kl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qa(n.bytesValue).toBase64():"referenceValue"in n?he.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=DD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${DD(t.fields[o])}`;return i+"}"}(n.mapValue):be()}function SD(n){return!!n&&"integerValue"in n}function Xg(n){return!!n&&"arrayValue"in n}function SB(n){return!!n&&"nullValue"in n}function RB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iw(n){return!!n&&"mapValue"in n}function em(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ql(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=em(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=em(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!iw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=em(t)}setAll(e){let t=Rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=em(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());iw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];iw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ql(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jr(em(this.value))}}function NB(n){const e=[];return ql(n.fields,(t,r)=>{const i=new Rn([t]);if(iw(r)){const s=NB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new os(e)}class Tn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tn(e,0,Ne.min(),Ne.min(),Ne.min(),Jr.empty(),0)}static newFoundDocument(e,t,r,i){return new Tn(e,1,t,Ne.min(),r,i,0)}static newNoDocument(e,t){return new Tn(e,2,t,Ne.min(),Ne.min(),Jr.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Ne.min(),Ne.min(),Jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jl{constructor(e,t){this.position=e,this.inclusive=t}}function kB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?he.comparator(he.fromName(o.referenceValue),t.key):Yl(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function OB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ra(n.position[t],e.position[t]))return!1;return!0}class tm{constructor(e,t="asc"){this.field=e,this.dir=t}}function qte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class FB{}class Dt extends FB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Kte(e,t,r):"array-contains"===t?new Yte(e,r):"in"===t?new jB(e,r):"not-in"===t?new Jte(e,r):"array-contains-any"===t?new Xte(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Qte(e,r):new Zte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yl(t,this.value)):null!==t&&Zl(this.value)===Zl(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zt extends FB{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Zt(e,t)}matches(e){return Uh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Uh(n){return"and"===n.op}function PD(n){return function LB(n){for(const e of n.filters)if(e instanceof Zt)return!1;return!0}(n)&&Uh(n)}function MD(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Bh(n.value);if(PD(n))return n.filters.map(e=>MD(e)).join(",");{const e=n.filters.map(t=>MD(t)).join(",");return`${n.op}(${e})`}}function VB(n,e){return n instanceof Dt?(r=n,(i=e)instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&ra(r.value,i.value)):n instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&VB(o,i.filters[a]),!0)}(n,e):void be();var r,i}function UB(n){return n instanceof Dt?`${(t=n).field.canonicalString()} ${t.op} ${Bh(t.value)}`:n instanceof Zt?function(t){return t.op.toString()+" {"+t.getFilters().map(UB).join(" ,")+"}"}(n):"Filter";var t}class Kte extends Dt{constructor(e,t,r){super(e,t,r),this.key=he.fromName(r.referenceValue)}matches(e){const t=he.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qte extends Dt{constructor(e,t){super(e,"in",t),this.keys=$B(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zte extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=$B(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $B(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>he.fromName(r.referenceValue))}class Yte extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xg(t)&&Jg(t.arrayValue,this.value)}}class jB extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jg(this.value.arrayValue,t)}}class Jte extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jg(this.value.arrayValue,t)}}class Xte extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jg(this.value.arrayValue,r))}}class ene{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function xD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new ene(n,e,t,r,i,s,o)}function mc(n){const e=de(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>MD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Qg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bh(r)).join(",")),e.ce=t}return e.ce}function nm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OB(n.startAt,e.startAt)&&OB(n.endAt,e.endAt)}function sw(n){return he.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ka{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function $h(n){return new Ka(n)}function GB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jh(n){const e=de(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Jt(Rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new tm(s,r))}),t.has(Rn.keyField().canonicalString())||e.le.push(new tm(Rn.keyField(),r))}return e.le}function Li(n){const e=de(n);return e.he||(e.he=function qB(n,e){if("F"===n.limitType)return xD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new tm(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Jl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jl(n.startAt.position,n.startAt.inclusive):null;return xD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,jh(n))),e.he}function aw(n,e,t){return new Ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rm(n,e){return nm(Li(n),Li(e))&&n.limitType===e.limitType}function KB(n){return`${mc(Li(n))}|lt:${n.limitType}`}function Hh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>UB(i)).join(", ")}]`),Qg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bh(i)).join(",")),`Target(${r})`}(Li(n))}; limitType=${n.limitType})`}function im(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of jh(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const u=kB(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,jh(r),i)||r.endAt&&!function(o,a,l){const u=kB(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,jh(r),i)));var r,i}function ZB(n){return(e,t)=>{let r=!1;for(const i of jh(n)){const s=tne(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function tne(n,e,t){const r=n.field.isKeyField()?he.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return null!==l&&null!==u?Yl(l,u):be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CB(this.inner)}size(){return this.innerSize}}const nne=new hn(he.comparator);function as(){return nne}const YB=new hn(he.comparator);function sm(...n){let e=YB;for(const t of n)e=e.insert(t.key,t);return e}function JB(n){let e=YB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ia(){return om()}function XB(){return om()}function om(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const rne=new hn(he.comparator),ine=new Jt(he.comparator);function at(...n){let e=ine;for(const t of n)e=e.add(t);return e}const sne=new Jt(Ze);function eU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zg(e)?"-0":e}}function tU(n){return{integerValue:""+n}}function nU(n,e){return function mB(n){return"number"==typeof n&&Number.isInteger(n)&&!Zg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?tU(e):eU(n,e)}class lw{constructor(){this._=void 0}}function one(n,e,t){return n instanceof zh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ew(s)&&(s=tw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof _c?iU(n,e):n instanceof yc?sU(n,e):function(i,s){const o=rU(i,s),a=oU(o)+oU(i.Ie);return SD(o)&&SD(i.Ie)?tU(a):eU(i.serializer,a)}(n,e)}function ane(n,e,t){return n instanceof _c?iU(n,e):n instanceof yc?sU(n,e):t}function rU(n,e){return n instanceof Wh?SD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class zh extends lw{}class _c extends lw{constructor(e){super(),this.elements=e}}function iU(n,e){const t=aU(e);for(const r of n.elements)t.some(i=>ra(i,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends lw{constructor(e){super(),this.elements=e}}function sU(n,e){let t=aU(e);for(const r of n.elements)t=t.filter(i=>!ra(i,r));return{arrayValue:{values:t}}}class Wh extends lw{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function oU(n){return qn(n.integerValue||n.doubleValue)}function aU(n){return Xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class une{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class cw{}function lU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qh(n.key,Pn.none()):new Gh(n.key,n.data,Pn.none());{const t=n.data,r=Jr.empty();let i=new Jt(Rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Za(n.key,r,new os(i.toArray()),Pn.none())}}function cne(n,e,t){n instanceof Gh?function(i,s,o){const a=i.value.clone(),l=dU(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Za?function(i,s,o){if(!uw(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=dU(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(cU(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lm(n,e,t,r){return n instanceof Gh?function(s,o,a,l){if(!uw(s.precondition,o))return a;const u=s.value.clone(),d=hU(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Za?function(s,o,a,l){if(!uw(s.precondition,o))return a;const u=hU(s.fieldTransforms,l,o),d=o.data;return d.setAll(cU(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):(a=t,uw(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function dne(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=rU(r.transform,i||null);null!=s&&(null===t&&(t=Jr.empty()),t.set(r.field,s))}return t||null}function uU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Oh(r,i,(s,o)=>function lne(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof _c&&i instanceof _c||r instanceof yc&&i instanceof yc?Oh(r.elements,i.elements,ra):r instanceof Wh&&i instanceof Wh?ra(r.Ie,i.Ie):r instanceof zh&&i instanceof zh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Gh extends cw{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Za extends cw{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dU(n,e,t){const r=new Map;Pe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ane(o,a,t[i]))}return r}function hU(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,one(s,o,e))}return r}class qh extends cw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends cw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cne(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=lU(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),at())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,(t,r)=>uU(t,r))&&Oh(this.baseMutations,e.baseMutations,(t,r)=>uU(t,r))}}class VD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pe(e.mutations.length===r.length);let i=rne;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new VD(e,t,r,i)}}class BD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fne{constructor(e,t){this.count=e,this.unchangedNames=t}}var vr,xt;function pU(n){if(void 0===n)return rr("GRPC error has no .code"),H.UNKNOWN;switch(n){case vr.OK:return H.OK;case vr.CANCELLED:return H.CANCELLED;case vr.UNKNOWN:return H.UNKNOWN;case vr.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case vr.INTERNAL:return H.INTERNAL;case vr.UNAVAILABLE:return H.UNAVAILABLE;case vr.UNAUTHENTICATED:return H.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case vr.NOT_FOUND:return H.NOT_FOUND;case vr.ALREADY_EXISTS:return H.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return H.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case vr.ABORTED:return H.ABORTED;case vr.OUT_OF_RANGE:return H.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return H.UNIMPLEMENTED;case vr.DATA_LOSS:return H.DATA_LOSS;default:return be()}}(xt=vr||(vr={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";const pne=new xh([4294967295,4294967295],0);function mU(n){const e=function gU(){return new TextEncoder}().encode(n),t=new ute;return t.update(e),new Uint8Array(t.digest())}function _U(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xh([t,r],0),new xh([i,s],0)]}class UD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new um(`Invalid padding: ${t}`);if(r<0)throw new um(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new um(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new um(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=xh.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(xh.fromNumber(r)));return 1===i.compare(pne)&&(i=new xh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=mU(e),[r,i]=_U(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new UD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=mU(e),[r,i]=_U(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class um extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cm{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,dm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cm(Ne.min(),i,new hn(Ze),as(),at())}}class dm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dm(r,t,at(),at(),at())}}class hw{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class yU{constructor(e,t){this.targetId=e,this.fe=t}}class vU{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class EU{constructor(){this.ge=0,this.pe=IU(),this.ye=Sr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=at(),t=at(),r=at();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be()}}),new dm(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=IU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class gne{constructor(e){this.Le=e,this.ke=new Map,this.qe=as(),this.Qe=wU(),this.Ke=new hn(Ze)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(sw(s))if(0===r){const o=new he(s.path);this.We(t,o,Tn.newNoDocument(o,Ne.min()))}else Pe(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=qa(r).toUint8Array()}catch(l){if(l instanceof AB)return Ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new UD(o,i,s)}catch(l){return Ds(l instanceof um?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&sw(a.target)){const l=new he(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,Tn.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=at();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new cm(e,t,this.Ke,this.qe,r);return this.qe=as(),this.Qe=wU(),this.Ke=new hn(Ze),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new EU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Jt(Ze),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new EU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function wU(){return new hn(he.comparator)}function IU(){return new hn(he.comparator)}const mne={asc:"ASCENDING",desc:"DESCENDING"},_ne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yne={and:"AND",or:"OR"};class vne{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $D(n,e){return n.useProto3Json||Qg(e)?e:{value:e}}function Kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ene(n,e){return Kh(n,e.toTimestamp())}function ir(n){return Pe(!!n),Ne.fromTimestamp(function(t){const r=Kl(t);return new Ln(r.seconds,r.nanos)}(n))}function jD(n,e){return(r=n,new Mt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function CU(n){const e=Mt.fromString(n);return Pe(NU(e)),e}function hm(n,e){return jD(n.databaseId,e.path)}function sa(n,e){const t=CU(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new he(AU(t))}function HD(n,e){return jD(n.databaseId,e)}function fm(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AU(n){return Pe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function DU(n,e,t){return{name:hm(n,e),fields:t.value.mapValue.fields}}function RU(n,e){return{documents:[HD(n,e.path)]}}function WD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=HD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return xU(Zt.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:Xl((f=u).field),direction:bne(f.dir)};var f})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=$D(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function PU(n){let e=function bU(n){const e=CU(n);return 4===e.length?Mt.emptyPath():AU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Pe(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){const m=MU(f);return m instanceof Zt&&PD(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new tm(Qh((v=m).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;t.limit&&(a=function(f){let m;return m="object"==typeof f?f.value:f,Qg(m)?null:m}(t.limit));let l=null;var f;t.startAt&&(l=new Jl((f=t.startAt).values||[],!!f.before));let u=null;return t.endAt&&(u=function(f){return new Jl(f.values||[],!f.before)}(t.endAt)),function WB(n,e,t,r,i,s,o,a){return new Ka(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,u)}function MU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qh(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qh(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qh(t.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qh(t.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):void 0!==n.fieldFilter?Dt.create(Qh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Zt.create(t.compositeFilter.filters.map(r=>MU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be();var t}function bne(n){return mne[n]}function Ane(n){return _ne[n]}function Dne(n){return yne[n]}function Xl(n){return{fieldPath:n.canonicalString()}}function Qh(n){return Rn.fromServerFormat(n.fieldPath)}function xU(n){return n instanceof Dt?function(t){if("=="===t.op){if(RB(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NAN"}};if(SB(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(RB(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NAN"}};if(SB(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(t.field),op:Ane(t.op),value:t.value}}}(n):n instanceof Zt?function(t){const r=t.getFilters().map(i=>xU(i));return 1===r.length?r[0]:{compositeFilter:{op:Dne(t.op),filters:r}}}(n):be()}function Sne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ya{constructor(e,t,r,i,s=Ne.min(),o=Ne.min(),a=Sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kU{constructor(e){this.ut=e}}function GD(n){const e=PU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aw(e,e.limit,"L"):e}class Ic{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(qn(e.integerValue));else if("doubleValue"in e){const r=qn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Zg(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(qa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?PB(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):be()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),he.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Ic.St=new Ic;class Fne{constructor(){this.on=new JD}addToCollectionParentIndex(e,t){return this.on.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Ss.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class JD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jt(Mt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(Mt.comparator)).toArray()}}new Uint8Array(0);class vi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vi(e,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(41943040,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);class Cc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Cc(0)}static Nn(){return new Cc(-1)}}class jne{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class a${constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&lm(r.mutation,i,os.empty(),Ln.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,t,r=at()){const i=ia();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=sm();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ia();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,at()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=as();const o=om(),a=om();return t.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(void 0===d||d.mutation instanceof Za)?s=s.insert(u.key,u):void 0!==d?(o.set(u.key,d.mutation.getFieldMask()),lm(d.mutation,u,d.mutation.getFieldMask(),Ln.now())):o.set(u.key,os.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new Wne(d,null!==(f=o.get(u))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=om();let i=new hn((o,a)=>o-a),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(null===u)return;let d=r.get(l)||os.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||at()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=XB();d.forEach(m=>{if(!s.has(m)){const _=lU(t.get(m),r.get(m));null!==_&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return he.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function ND(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):L.resolve(ia());let a=-1,l=s;return o.next(u=>L.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,at())).next(d=>({batchId:a,changes:JB(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new he(t)).next(r=>{let i=sm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=sm();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const u=(f=t,m=l.child(s),new Ka(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();null===o.get(d)&&(o=o.insert(d,Tn.newInvalidDocument(d)))});let a=sm();return o.forEach((l,u)=>{const d=s.get(l);void 0!==d&&lm(d.mutation,u,os.empty(),Ln.now()),im(t,u)&&(a=a.insert(l,u))}),a})}}class Gne{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return L.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:ir(i.createTime)}),L.resolve();var i}getNamedQuery(e,t){return L.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:GD(i.bundledQuery),readTime:ir(i.readTime)}),L.resolve();var i}}class qne{constructor(){this.overlays=new hn(he.comparator),this.lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ia();return L.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),L.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){const i=ia(),s=t.length+1,o=new he(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new hn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=s.get(u.largestBatchId);null===d&&(d=ia(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ia(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return L.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BD(t,r));let s=this.lr.get(t);void 0===s&&(s=at(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class XD{constructor(){this.hr=new Jt(Br.Pr),this.Ir=new Jt(Br.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Br(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Br(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new he(new Mt([])),r=new Br(t,e),i=new Br(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new he(new Mt([])),r=new Br(t,e),i=new Br(t,e+1);let s=at();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Br(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return he.comparator(e.key,t.key)||Ze(e.gr,t.gr)}static Tr(e,t){return Ze(e.gr,t.gr)||he.comparator(e.key,t.key)}}class Kne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Jt(Br.Pr)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new LD(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Br(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,t){return L.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),i=new Br(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jt(Ze);return t.forEach(i=>{const s=new Br(i,0),o=new Br(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),L.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Br(new he(s),0);let a=new Jt(Ze);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),L.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Pe(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return L.forEach(t.mutations,i=>{const s=new Br(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Br(t,0),i=this.yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return L.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qne{constructor(e){this.Cr=e,this.docs=new hn(he.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=as();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=as();const o=t.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TD(fB(d),r)<=0||(i.has(d.key)||im(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,t,r,i){be()}vr(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Zne(this)}getSize(e){return L.resolve(this.size)}}class Zne extends jne{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Yne{constructor(e){this.persistence=e,this.Fr=new Qa(t=>mc(t),nm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new XD,this.targetCount=0,this.Nr=Cc.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),L.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Cc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.kn(t),L.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.Or.containsKey(t))}}class eS{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Rs(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Yne(this),this.indexManager=new Fne,this.remoteDocumentCache=new Qne(r=>this.referenceDelegate.Qr(r)),this.serializer=new kU(t),this.Kr=new Gne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Kne(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){re("MemoryPersistence","Starting transaction:",e);const i=new Jne(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class Jne extends Ete{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Gr=new XD,this.zr=null}static jr(e){return new Ew(e)}get Hr(){if(this.zr)return this.zr;throw be()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,r=>{const i=he.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,Ne.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return L.or([()=>L.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class iS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=at(),i=at();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iS(e,t.fromCache,r,i)}}class ere{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class u${constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ere;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(kh()<=Js.in.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Hh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(kh()<=Js.in.DEBUG&&re("QueryEngine","Query:",Hh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(kh()<=Js.in.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Hh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(t))):L.resolve())}zi(e,t){if(GB(t))return L.resolve(null);let r=Li(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=aw(t,null,"F"),r=Li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=at(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(t,a);return this.Zi(t,u,o,l.readTime)?this.zi(e,aw(t,null,"F")):this.Xi(e,u,t,l)}))})))}ji(e,t,r,i){return GB(t)||i.isEqual(Ne.min())?L.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?L.resolve(null):(kh()<=Js.in.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hh(t)),this.Xi(e,o,t,function hB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(1e9===r?new Ln(t+1,0):new Ln(t,r));return new Ss(i,he.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new Jt(ZB(e));return t.forEach((i,s)=>{im(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return kh()<=Js.in.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Hh(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ss.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class tre{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new hn(Ze),this.ns=new Qa(s=>mc(s),nm),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a$(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function d$(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,Re.Z)(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=at();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}),sS.apply(this,arguments)}function h$(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function ire(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tf(n,e,t){return oS.apply(this,arguments)}function oS(){return oS=(0,Re.Z)(function*(n,e,t){const r=de(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Gl(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),oS.apply(this,arguments)}function Tw(n,e,t){const r=de(n);let i=Ne.min(),s=at();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=de(l),m=f.ns.get(d);return void 0!==m?L.resolve(f.ts.get(m)):f.qr.getTargetData(u,d)}(r,o,Li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:Ne.min(),t?s:at())).next(a=>(function m$(n,e,t){let r=n.rs.get(e)||Ne.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function QB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class dS{constructor(){this.activeTargetIds=function OD(){return sne}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v${constructor(){this.eo=new dS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new dS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class are{ro(e){}shutdown(){}}class E${constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Aw=null;function fS(){return null===Aw?Aw=268435456+Math.round(2147483648*Math.random()):Aw++,"0x"+Aw.toString(16)}const lre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ure{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ei="WebChannelConnection";class cre extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=fS(),l=this.So(t,r);re("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(t,l,u,i).then(d=>(re("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Ds("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Nh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${lre[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=fS();return new Promise((o,a)=>{const l=new lte;l.setWithCredentials(!0),l.listenOnce(ste.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ED.NO_ERROR:const d=l.getResponseJson();re(Ei,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ED.TIMEOUT:re(Ei,`RPC '${e}' ${s} timed out`),a(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case ED.HTTP_ERROR:const f=l.getStatus();if(re(Ei,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const v=function(A){const x=A.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(_.status);a(new ie(v,_.message))}else a(new ie(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(H.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{re(Ei,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);re(Ei,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",u,r,15)})}vo(e,t,r){const i=fS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rte(),a=ite(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new ate({})),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=s.join("");re(Ei,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,_=!1;const v=new ure({co:A=>{_?re(Ei,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(re(Ei,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),re(Ei,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},lo:()=>f.close()}),T=(A,x,F)=>{A.listen(x,P=>{try{F(P)}catch(V){setTimeout(()=>{throw V},0)}})};return T(f,ZE.EventType.OPEN,()=>{_||re(Ei,`RPC '${e}' stream ${i} transport opened.`)}),T(f,ZE.EventType.CLOSE,()=>{_||(_=!0,re(Ei,`RPC '${e}' stream ${i} transport closed`),v.Ro())}),T(f,ZE.EventType.ERROR,A=>{_||(_=!0,Ds(Ei,`RPC '${e}' stream ${i} transport errored:`,A),v.Ro(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),T(f,ZE.EventType.MESSAGE,A=>{var x;if(!_){const F=A.data[0];Pe(!!F);const V=F.error||(null===(x=F[0])||void 0===x?void 0:x.error);if(V){re(Ei,`RPC '${e}' stream ${i} received error:`,V);const oe=V.status;let le=function(zt){const Ut=vr[zt];if(void 0!==Ut)return pU(Ut)}(oe),Oe=V.message;void 0===le&&(le=H.INTERNAL,Oe="Unknown error status: "+oe+" with message "+V.message),_=!0,v.Ro(new ie(le,Oe)),f.close()}else re(Ei,`RPC '${e}' stream ${i} received:`,F),v.Vo(F)}}),T(a,ote.STAT_EVENT,A=>{A.stat===oB.PROXY?re(Ei,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===oB.NOPROXY&&re(Ei,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function Dw(){return typeof document<"u"?document:null}function Im(n){return new vne(n,!0)}class pS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class I${constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new pS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Re.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Re.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,Re.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===H.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Re.Z)(function*(){e.state=0,e.start()}))}o_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dre extends I${constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Ine(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:be(),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Pe(void 0===d||"string"==typeof d),Sr.fromBase64String(d||"")):(Pe(void 0===d||d instanceof Uint8Array),Sr.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=void 0===u.code?H.UNKNOWN:pU(u.code);return new ie(d,u.message||"")}(o);t=new vU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=sa(n,r.document.name),s=ir(r.document.updateTime),o=r.document.createTime?ir(r.document.createTime):Ne.min(),a=new Jr({mapValue:{fields:r.document.fields}}),l=Tn.newFoundDocument(i,s,o,a);t=new hw(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=sa(n,r.document),s=r.readTime?ir(r.readTime):Ne.min(),o=Tn.newNoDocument(i,s);t=new hw([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=sa(n,r.document);t=new hw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return be();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new fne(i,s);t=new yU(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?ir(o.readTime):Ne.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=fm(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=sw(l)?{documents:RU(s,l)}:{query:WD(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TU(s,o.resumeToken);const u=$D(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=Kh(s,o.snapshotVersion.toTimestamp());const u=$D(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Cne(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=fm(this.serializer),t.removeTarget=e,this.e_(t)}}class hre extends I${constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Tne(n,e){return n&&n.length>0?(Pe(void 0!==e),n.map(t=>function(i,s){let o=ir(i.updateTime?i.updateTime:s);return o.isEqual(Ne.min())&&(o=ir(s)),new une(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.I_(r,t)}return Pe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=fm(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function pm(n,e){let t;if(e instanceof Gh)t={update:DU(n,e.key,e.value)};else if(e instanceof qh)t={delete:hm(n,e.key)};else if(e instanceof Za)t={update:DU(n,e.key,e.data),updateMask:Sne(e.fieldMask)};else{if(!(e instanceof FD))return be();t={verify:hm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof zh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _c)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Ene(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:be()),t;var s}(this.serializer,r))};this.e_(t)}}class fre extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(H.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(H.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class gre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(rr(t),this.f_=!1):re("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class mre{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Re.Z)(function*(){var l;ru(o)&&(re("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Re.Z)(function*(d){const f=de(d);f.C_.add(4),yield nf(f),f.M_.set("Unknown"),f.C_.delete(4),yield Tm(f)}),function u(d){return l.apply(this,arguments)})(o))}))}),this.M_=new gre(r,i)}}function Tm(n){return mS.apply(this,arguments)}function mS(){return mS=(0,Re.Z)(function*(n){if(ru(n))for(const e of n.v_)yield e(!0)}),mS.apply(this,arguments)}function nf(n){return _S.apply(this,arguments)}function _S(){return _S=(0,Re.Z)(function*(n){for(const e of n.v_)yield e(!1)}),_S.apply(this,arguments)}function Sw(n,e){const t=de(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),ES(t)?vS(t):sf(t).Ho()&&yS(t,e))}function Cm(n,e){const t=de(n),r=sf(t);t.D_.delete(e),r.Ho()&&T$(t,e),0===t.D_.size&&(r.Ho()?r.Zo():ru(t)&&t.M_.set("Unknown"))}function yS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sf(n).u_(e)}function T$(n,e){n.x_.Oe(e),sf(n).c_(e)}function vS(n){n.x_=new gne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),sf(n).start(),n.M_.g_()}function ES(n){return ru(n)&&!sf(n).jo()&&n.D_.size>0}function ru(n){return 0===de(n).C_.size}function C$(n){n.x_=void 0}function _re(n){return wS.apply(this,arguments)}function wS(){return wS=(0,Re.Z)(function*(n){n.D_.forEach((e,t)=>{yS(n,e)})}),wS.apply(this,arguments)}function yre(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,Re.Z)(function*(n,e){C$(n),ES(n)?(n.M_.w_(e),vS(n)):n.M_.set("Unknown")}),IS.apply(this,arguments)}function vre(n,e,t){return TS.apply(this,arguments)}function TS(){return TS=(0,Re.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof vU&&2===e.state&&e.cause)try{yield(r=(0,Re.Z)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rw(n,r)}else if(e instanceof hw?n.x_.$e(e):e instanceof yU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Ne.min()))try{const r=yield h$(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(u);d&&s.D_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(Sr.EMPTY_BYTE_STRING,d.snapshotVersion)),T$(s,l);const f=new Ya(d.target,l,u,d.sequenceNumber);yS(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){re("RemoteStore","Failed to raise snapshot:",r),yield Rw(n,r)}var r}),TS.apply(this,arguments)}function Rw(n,e,t){return CS.apply(this,arguments)}function CS(){return CS=(0,Re.Z)(function*(n,e,t){if(!Gl(e))throw e;n.C_.add(1),yield nf(n),n.M_.set("Offline"),t||(t=()=>h$(n.localStore)),n.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){re("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Tm(n)}))}),CS.apply(this,arguments)}function b$(n,e){return e().catch(t=>Rw(n,t,e))}function rf(n){return bS.apply(this,arguments)}function bS(){return bS=(0,Re.Z)(function*(n){const e=de(n),t=iu(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Ere(e);)try{const i=yield ire(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,wre(e,i)}catch(i){yield Rw(e,i)}A$(e)&&D$(e)}),bS.apply(this,arguments)}function Ere(n){return ru(n)&&n.b_.length<10}function wre(n,e){n.b_.push(e);const t=iu(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function A$(n){return ru(n)&&!iu(n).jo()&&n.b_.length>0}function D$(n){iu(n).start()}function Ire(n){return AS.apply(this,arguments)}function AS(){return AS=(0,Re.Z)(function*(n){iu(n).E_()}),AS.apply(this,arguments)}function Tre(n){return DS.apply(this,arguments)}function DS(){return DS=(0,Re.Z)(function*(n){const e=iu(n);for(const t of n.b_)e.P_(t.mutations)}),DS.apply(this,arguments)}function Cre(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,Re.Z)(function*(n,e,t){const r=n.b_.shift(),i=VD.from(r,e,t);yield b$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield rf(n)}),SS.apply(this,arguments)}function bre(n,e){return RS.apply(this,arguments)}function RS(){return RS=(0,Re.Z)(function*(n,e){var t;e&&iu(n).h_&&(yield(t=(0,Re.Z)(function*(i,s){if(function fU(n){switch(n){default:return be();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}(a=s.code)&&a!==H.ABORTED){const o=i.b_.shift();iu(i).Yo(),yield b$(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield rf(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),A$(n)&&D$(n)}),RS.apply(this,arguments)}function S$(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,Re.Z)(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=ru(t);t.C_.add(3),yield nf(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Tm(t)}),PS.apply(this,arguments)}function xS(){return xS=(0,Re.Z)(function*(n,e){const t=de(n);e?(t.C_.delete(2),yield Tm(t)):e||(t.C_.add(2),yield nf(t),t.M_.set("Unknown"))}),xS.apply(this,arguments)}function sf(n){return n.O_||(n.O_=function(t,r,i){const s=de(t);return s.A_(),new dre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:_re.bind(null,n),Io:yre.bind(null,n),a_:vre.bind(null,n)}),n.v_.push(function(){var e=(0,Re.Z)(function*(t){t?(n.O_.Yo(),ES(n)?vS(n):n.M_.set("Unknown")):(yield n.O_.stop(),C$(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function iu(n){return n.N_||(n.N_=function(t,r,i){const s=de(t);return s.A_(),new hre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Ire.bind(null,n),Io:bre.bind(null,n),T_:Tre.bind(null,n),I_:Cre.bind(null,n)}),n.v_.push(function(){var e=(0,Re.Z)(function*(t){t?(n.N_.Yo(),yield rf(n)):(yield n.N_.stop(),n.b_.length>0&&(re("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class NS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new NS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function af(n,e){if(rr("AsyncQueue",`${e}: ${n}`),Gl(n))return new ie(H.UNAVAILABLE,`${e}: ${n}`);throw n}class lf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||he.comparator(t.key,r.key):(t,r)=>he.comparator(t.key,r.key),this.keyedMap=sm(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new lf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new lf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class R${constructor(){this.B_=new hn(he.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class uf{constructor(e,t,r,i,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new uf(e,t,lf.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Are{constructor(){this.k_=void 0,this.listeners=[]}}class Dre{constructor(){this.queries=new Qa(e=>KB(e),rm),this.onlineState="Unknown",this.q_=new Set}}function OS(){return OS=(0,Re.Z)(function*(n,e){const t=de(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Are),i)try{s.k_=yield t.onListen(r)}catch(o){const a=af(o,`Initialization of query '${Hh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&VS(t)}),OS.apply(this,arguments)}function LS(){return LS=(0,Re.Z)(function*(n,e){const t=de(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),LS.apply(this,arguments)}function Sre(n,e){const t=de(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&VS(t)}function Rre(n,e,t){const r=de(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function VS(n){n.q_.forEach(e=>{e.next()})}class BS{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new uf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=uf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class x${constructor(e){this.key=e}}class N${constructor(e){this.key=e}}class k${constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=at(),this.mutatedKeys=at(),this._a=ZB(e),this.aa=new lf(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new R$,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),_=im(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;m&&_?m.data.isEqual(_.data)?v!==T&&(r.track({type:3,doc:_}),A=!0):this.ha(m,_)||(r.track({type:2,doc:_}),A=!0,(l&&this._a(_,l)>0||u&&this._a(_,u)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),A=!0):m&&!_&&(r.track({type:1,doc:m}),A=!0,(l||u)&&(a=!0)),A&&(_?(o=o.add(_),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,d)=>function(m,_){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return v(m)-v(_)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new uf(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new R$,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=at(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new N$(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new x$(r))}),t}da(e){this.ia=e.ls,this.oa=at();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return uf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class xre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Nre{constructor(e){this.key=e,this.Ra=!1}}class kre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Qa(a=>KB(a),rm),this.fa=new Map,this.ga=new Set,this.pa=new hn(he.comparator),this.ya=new Map,this.wa=new XD,this.Sa={},this.ba=new Map,this.Da=Cc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Ore(n,e){return US.apply(this,arguments)}function US(){return US=(0,Re.Z)(function*(n,e){const t=function uR(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vre.bind(null,e),e.Va.a_=Sre.bind(null,e.eventManager),e.Va.Fa=Rre.bind(null,e.eventManager),e}(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function ef(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Ya(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,Li(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function $S(n,e,t,r,i){return jS.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Sw(t.remoteStore,o)}return i}),US.apply(this,arguments)}function jS(){return jS=(0,Re.Z)(function*(n,e,t,r,i){n.va=(f,m,_)=>{return(v=(0,Re.Z)(function*(A,x,F,P){let V=x.view.ca(F);V.Zi&&(V=yield Tw(A.localStore,x.query,!1).then(({documents:Oe})=>x.view.ca(Oe,V)));const oe=P&&P.targetChanges.get(x.targetId),le=x.view.applyChanges(V,A.isPrimaryClient,oe);return JS(A,x.targetId,le.Ta),le.snapshot}),function T(A,x,F,P){return v.apply(this,arguments)})(n,f,m,_);var v};const s=yield Tw(n.localStore,e,!0),o=new k$(e,s.ls),a=o.ca(s.documents),l=dm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,l);JS(n,t,u.Ta);const d=new xre(e,t,o);return n.ma.set(e,d),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),jS.apply(this,arguments)}function Fre(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,Re.Z)(function*(n,e){const t=de(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!rm(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Cm(t.remoteStore,r.targetId),cf(t,r.targetId)}).catch(Wl))):(cf(t,r.targetId),yield tf(t.localStore,r.targetId,!0))}),HS.apply(this,arguments)}function zS(){return zS=(0,Re.Z)(function*(n,e,t){const r=function cR(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ure.bind(null,e),e}(n);try{const i=yield function(o,a){const l=de(o),u=Ln.now(),d=a.reduce((_,v)=>_.add(v.key),at());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=as(),T=at();return l.ss.getEntries(_,d).next(A=>{v=A,v.forEach((x,F)=>{F.isValidDocument()||(T=T.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,v)).next(A=>{f=A;const x=[];for(const F of a){const P=dne(F,f.get(F.key).overlayedDocument);null!=P&&x.push(new Za(F.key,P,NB(P.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,x,a)}).next(A=>{m=A;const x=A.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(_,A.batchId,x)})}).then(()=>({batchId:m.batchId,changes:JB(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new hn(Ze)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,t),yield Ja(r,i.changes),yield rf(r.remoteStore)}catch(i){const s=af(i,"Failed to persist write");t.reject(s)}}),zS.apply(this,arguments)}function O$(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,Re.Z)(function*(n,e){const t=de(n);try{const r=yield function rre(n,e){const t=de(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(t.qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.qr.addMatchingKeys(s,d.addedDocuments,f)));let _=m.withSequenceNumber(s.currentSequenceNumber);var T,A,x;null!==e.targetMismatches.get(f)?_=_.withResumeToken(Sr.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),A=_,x=d,(0===(T=m).resumeToken.approximateByteSize()||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,_))});let l=as(),u=at();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(function f$(n,e,t){let r=at(),i=at();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=as();return t.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(d=>{l=d.us,u=d.cs})),!r.isEqual(Ne.min())){const d=t.qr.getLastRemoteSnapshotVersion(s).next(f=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Pe(o.Ra):i.removedDocuments.size>0&&(Pe(o.Ra),o.Ra=!1))}),yield Ja(t,r,e)}catch(r){yield Wl(r)}}),WS.apply(this,arguments)}function F$(n,e,t){const r=de(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const m of f.listeners)m.Q_(a)&&(u=!0)}),u&&VS(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vre(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=(0,Re.Z)(function*(n,e,t){const r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new hn(he.comparator);o=o.insert(s,Tn.newNoDocument(s,Ne.min()));const a=at().add(s),l=new cm(Ne.min(),new Map,new hn(Ze),o,a);yield O$(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),XS(r)}else yield tf(r.localStore,e,!1).then(()=>cf(r,e,t)).catch(Wl)}),GS.apply(this,arguments)}function Bre(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,Re.Z)(function*(n,e){const t=de(n),r=e.batch.batchId;try{const i=yield function nre(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,m=f.keys();let _=L.resolve();return m.forEach(v=>{_=_.next(()=>d.getEntry(l,v)).next(T=>{const A=u.docVersions.get(v);Pe(null!==A),T.version.compareTo(A)<0&&(f.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);YS(t,r,null),ZS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ja(t,i)}catch(i){yield Wl(i)}}),qS.apply(this,arguments)}function Ure(n,e,t){return KS.apply(this,arguments)}function KS(){return KS=(0,Re.Z)(function*(n,e,t){const r=de(n);try{const i=yield function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Pe(null!==f),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);YS(r,e,t),ZS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ja(r,i)}catch(i){yield Wl(i)}}),KS.apply(this,arguments)}function ZS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function YS(n,e,t){const r=de(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||L$(n,r)})}function L$(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Cm(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),XS(n))}function JS(n,e,t){for(const r of t)r instanceof x$?(n.wa.addReference(r.key,e),jre(n,r)):r instanceof N$?(re("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||L$(n,r.key)):be()}function jre(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(re("SyncEngine","New document in limbo: "+t),n.ga.add(r),XS(n))}function XS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new he(Mt.fromString(e)),r=n.Da.next();n.ya.set(r,new Nre(t)),n.pa=n.pa.insert(t,r),Sw(n.remoteStore,new Ya(Li($h(t.path)),r,"TargetPurposeLimboResolution",Rs._e))}}function Ja(n,e,t){return eR.apply(this,arguments)}function eR(){return eR=(0,Re.Z)(function*(n,e,t){const r=de(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const d=iS.Qi(l.targetId,u);s.push(d)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Re.Z)(function*(u,d){const f=de(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(d,_=>L.forEach(_.ki,v=>f.persistence.referenceDelegate.addReference(m,_.targetId,v)).next(()=>L.forEach(_.qi,v=>f.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))}catch(m){if(!Gl(m))throw m;re("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const v=f.ts.get(_),A=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);f.ts=f.ts.insert(_,A)}}}),function l(u,d){return a.apply(this,arguments)})(r.localStore,s))}),eR.apply(this,arguments)}function Hre(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,Re.Z)(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=yield d$(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new ie(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ja(t,r._s)}var s}),tR.apply(this,arguments)}function zre(n,e){const t=de(n),r=t.ya.get(e);if(r&&r.Ra)return at().add(r.key);{let i=at();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Pw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.serializer=Im(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function c$(n,e,t,r){return new tre(n,e,t,r)}(this.persistence,new u$,e.initialUser,this.serializer)}createPersistence(e){return new eS(Ew.jr,this.serializer)}createSharedClientState(e){return new v$}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class df{initialize(e,t){var r=this;return(0,Re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>F$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Hre.bind(null,r.syncEngine),yield function MS(n,e){return xS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dre}createDatastore(e){const t=Im(e.databaseInfo.databaseId),r=new cre(e.databaseInfo);return new fre(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>F$(this.syncEngine,t,0),a=E$.D()?new E$:new are,new mre(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,u,d){const f=new kre(i,s,o,a,l,u);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(r){const i=de(r);re("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield nf(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Mw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class rie{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=cB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Re.Z)(function*(a){re("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=af(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function xw(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Re.Z)(function*(s){r.isEqual(s)||(yield d$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),dR.apply(this,arguments)}function hR(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function pR(n){return gR.apply(this,arguments)}(n);re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>S$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>S$(e.remoteStore,s)),n._onlineComponents=e}),fR.apply(this,arguments)}function gR(){return gR=(0,Re.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function H$(n){return"FirebaseError"===n.name?n.code===H.FAILED_PRECONDITION||n.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Ds("Error using user provided cache. Falling back to memory cache: "+t),yield xw(n,new Pw)}}else re("FirestoreClient","Using default OfflineComponentProvider"),yield xw(n,new Pw);return n._offlineComponents}),gR.apply(this,arguments)}function Nw(n){return mR.apply(this,arguments)}function mR(){return mR=(0,Re.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),yield hR(n,n._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),yield hR(n,new df))),n._onlineComponents}),mR.apply(this,arguments)}function ff(n){return yR.apply(this,arguments)}function yR(){return yR=(0,Re.Z)(function*(n){const e=yield Nw(n),t=e.eventManager;return t.onListen=Ore.bind(null,e.syncEngine),t.onUnlisten=Fre.bind(null,e.syncEngine),t}),yR.apply(this,arguments)}function Q$(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Z$=new Map;function vR(n,e,t){if(!t)throw new ie(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Y$(n){if(!he.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J$(n){if(he.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":be()}function St(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kw(n);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class ej{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function pie(n,e,t,r){if(!0===e&&!0===r)throw new ie(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Q$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ej({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ej(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new cte;switch(r.type){case"firstParty":return new pte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Z$.get(t);r&&(re("ComponentProvider","Removing Datastore"),Z$.delete(t),r.terminate())}(this),Promise.resolve()}}class Xr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class oa extends Xr{constructor(e,t,r){super(e,t,$h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new he(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function mie(n,e,...t){if(n=(0,D.m9)(n),vR("collection","path",e),n instanceof bm){const r=Mt.fromString(e,...t);return J$(r),new oa(n,null,r)}{if(!(n instanceof sr||n instanceof oa))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return J$(r),new oa(n.firestore,null,r)}}class yie{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new pS(this,"async_queue_retry"),this.iu=()=>{const t=Dw();t&&re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Dw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Dw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Dr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Gl(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,rr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=NS.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&be()}verifyOperationInProgress(){}uu(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function ER(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class fn extends bm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new yie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nj(this),this._firestoreClient.terminate()}}function or(n){return n._firestoreClient||nj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nj(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zte(n._databaseId,l,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Q$(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;n._firestoreClient=new rie(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ac(Sr.fromBase64String(e))}catch(t){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ac(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sj{constructor(e){this._methodName=e}}class wR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}const Iie=/^__.*__$/;class Tie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Za(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gh(e,this.data,t,this.fieldTransforms)}}function aj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Ow{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ow(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Lw(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(aj(this.Iu)&&Iie.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Cie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Im(e)}pu(e,t,r,i=!1){return new Ow({Iu:e,methodName:t,gu:r,path:Rn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(n){const e=n._freezeSettings(),t=Im(n._databaseId);return new Cie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IR(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);CR("Data must be an object, but it was:",o,r);const a=hj(r,o);let l,u;if(s.merge)l=new os(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=Sm(e,f,t);if(!o.contains(m))throw new ie(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pj(d,m)||d.push(m)}l=new os(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new Tie(new Jr(a),l,u)}function Dc(n,e){if(fj(n=(0,D.m9)(n)))return CR("Unsupported field value:",e,n),hj(n,e);if(n instanceof sj)return function(r,i){if(!aj(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Dc(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,D.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return nU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Ln.fromDate(r);return{timestampValue:Kh(i.serializer,s)}}if(r instanceof Ln){const s=new Ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,s)}}if(r instanceof wR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ac)return{bytesValue:TU(i.serializer,r._byteString)};if(r instanceof sr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${kw(r)}`)}(n,e)}function hj(n,e){const t={};return CB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(n,(r,i)=>{const s=Dc(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function fj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ln||n instanceof wR||n instanceof Ac||n instanceof sr||n instanceof sj)}function CR(n,e,t){if(!fj(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=kw(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Sm(n,e,t){if((e=(0,D.m9)(e))instanceof pf)return e._internalPath;if("string"==typeof e)return Fw(n,e);throw Lw("Field path arguments must be of type string or ",n,!1,void 0,t)}const Sie=new RegExp("[~\\*/\\[\\]]");function Fw(n,e,t){if(e.search(Sie)>=0)throw Lw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pf(...e.split("."))._internalPath}catch{throw Lw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lw(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(H.INVALID_ARGUMENT,a+n+l)}function pj(n,e){return n.some(t=>t.isEqual(e))}class bR{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rie extends bR{data(){return super.data()}}function Vw(n,e){return"string"==typeof e?Fw(n,e):e instanceof pf?e._internalPath:e._delegate._internalPath}class Mie{convertValue(e,t="none"){switch(Zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ql(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new wR(qn(e.latitude),qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yg(e));default:return null}}convertTimestamp(e){const t=Kl(e);return new Ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mt.fromString(e);Pe(NU(r));const i=new pc(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(t)||rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _f extends bR{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jw extends _f{data(e={}){return super.data(e)}}class yf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jw(this._firestore,this._userDataWriter,r.key,r,new Sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new jw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new jw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Nie(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class su extends Mie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function kie(n,e){const t=St(n.firestore,fn),r=function _ie(n,e,...t){if(n=(0,D.m9)(n),1===arguments.length&&(e=cB.newId()),vR("doc","path",e),n instanceof bm){const r=Mt.fromString(e,...t);return Y$(r),new sr(n,null,new he(r))}{if(!(n instanceof sr||n instanceof oa))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return Y$(r),new sr(n.firestore,n instanceof oa?n.converter:null,new he(r))}}(n),i=function DR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function Pm(n,e){return function(r,i){const s=new Dr;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function Lre(n,e,t){return zS.apply(this,arguments)}(yield function _R(n){return Nw(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(or(n),e)}(t,[IR(gf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}!function(e,t=!0){Nh=Ar.SDK_VERSION,(0,Ar._registerComponent)(new $l.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fn(new hte(r.getProvider("auth-internal")),new gte(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Ar.registerVersion)(aB,"4.3.2",e),(0,Ar.registerVersion)(aB,"4.3.2","esm2017")}();var Ww=function(){return Ww=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ww.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Kie={includeMetadataChanges:!1};function MR(n,e){return void 0===e&&(e=Kie),new qe(function(t){var r=function Oie(n,...e){var t,r,i;n=(0,D.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||ER(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ER(e[o])){const f=e[o];e[o]=null===(t=f.next)||void 0===t?void 0:t.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let l,u,d;if(n instanceof sr)u=St(n.firestore,fn),d=$h(n._key.path),l={next:f=>{e[o]&&e[o](function SR(n,e,t){const r=t.docs.get(e._key),i=new su(n);return new _f(n,i,e._key,r,new Sc(t.hasPendingWrites,t.fromCache),e.converter)}(u,n,f))},error:e[o+1],complete:e[o+2]};else{const f=St(n,Xr);u=St(f.firestore,fn),d=f._query;const m=new su(u);l={next:_=>{e[o]&&e[o](new yf(u,m,f,_))},error:e[o+1],complete:e[o+2]},function gj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(m,_,v,T){const A=new Mw(T),x=new BS(_,A,v);return m.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function kS(n,e){return OS.apply(this,arguments)}(yield ff(m),x)})),()=>{A.Na(),m.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function FS(n,e){return LS.apply(this,arguments)}(yield ff(m),x)}))}}(or(u),d,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function tse(n,e){return void 0===e&&(e={}),function ese(n){return MR(n,{includeMetadataChanges:!0}).pipe(ue(function(e){return e.docs}))}(n).pipe(ue(function(t){return t.map(function(r){return function Cj(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?Ww(Ww({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class Gw{constructor(e){return e}}const Sj="firestore",kR=new me("angularfire2.firestore-instances");function sse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Gw(r)}}const ose={provide:class rse{constructor(){return SA(Sj)}},deps:[[new di,kR]]},ase={provide:Gw,useFactory:function ise(n,e){const t=function UV(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Sj,n,e);return t&&new Gw(t)},deps:[[new di,kR],Cg]};let lse=(()=>{class n{constructor(){(0,Ar.registerVersion)("angularfire",wE.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=Jn({providers:[ase,ose]})}return n})();function use(n,...e){return{ngModule:lse,providers:[{provide:kR,useFactory:sse(n),multi:!0,deps:[Vt,fi,IE,jV,[new di,zV],[new di,RA],...e]}]}}const cse=TE(tse,!0),dse=TE(kie,!0),Rj=TE(mie,!0);let OR=(()=>{class n{constructor(t){this.firestore=t}obterTransacoes(){const t=Rj(this.firestore,"transacoes");return cse(t)}novaTransacao(t){const r=Rj(this.firestore,"transacoes");return w(dse(r,t)).pipe(ue(i=>{br(console.log);const s=i.id;return{...t,idTransacao:s}}),ja(i=>{throw console.error("Erro ao adicionar transa\xe7\xe3o:",i),i}))}static#e=this.\u0275fac=function(r){return new(r||n)(ae(Gw))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hse(n,e){if(1&n&&(ke(0,"div",4)(1,"span"),Qe(2),Ve(),ke(3,"span"),Qe(4),Ve(),ke(5,"span"),Qe(6),Ve(),ke(7,"span"),Qe(8),Ve(),ke(9,"span"),Qe(10),C0(11,"number"),Ve()()),2&n){const t=e.$implicit;Yt(2),th(t.nomeTransacao),Yt(2),th("S"===t.tipoCompra?"Sa\xedda":"Entrada"),Yt(2),th("Pg"===t.status?"Pago":"Pendente"),Yt(2),th("V"===t.formaPagamento?"\xc0 vista":"Cr\xe9dito"),Yt(2),qo("R$ ",UO(11,5,t.valor,"1.2-2","pt-BR"),"")}}function fse(n,e){if(1&n&&(ke(0,"div"),gi(1,hse,12,9,"div",3),C0(2,"async"),Ve()),2&n){const t=ts();Yt(1),gr("ngForOf",BO(2,1,t.transacoes))}}function pse(n,e){1&n&&(ke(0,"span",5),Qe(1,"N\xe3o h\xe1 transa\xe7\xf5es"),Ve())}let gse=(()=>{class n{constructor(t){this.transacoesService=t,this.qtdTransacoes=[]}ngOnInit(){this.transacoes=this.transacoesService.obterTransacoes(),this.verificaQtdTransacoes()}verificaQtdTransacoes(){return this.transacoesService.obterTransacoes().subscribe(t=>{this.qtdTransacoes=t}),this.qtdTransacoes}static#e=this.\u0275fac=function(r){return new(r||n)(J(OR))};static#t=this.\u0275cmp=ai({type:n,selectors:[["app-card-transacoes"]],decls:14,vars:2,consts:[[1,"cabecalho-card-transacoes"],[4,"ngIf","ngIfElse"],["semTransacoes",""],["class","card-transacoes transacoes",4,"ngFor","ngForOf"],[1,"card-transacoes","transacoes"],["id","descSemTransacao"]],template:function(r,i){if(1&r&&(ke(0,"div",0)(1,"span"),Qe(2,"Compra"),Ve(),ke(3,"span"),Qe(4,"Tipo Compra"),Ve(),ke(5,"span"),Qe(6,"Status"),Ve(),ke(7,"span"),Qe(8,"Forma pagamento"),Ve(),ke(9,"span"),Qe(10,"Valor R$"),Ve()(),gi(11,fse,3,3,"div",1),gi(12,pse,2,0,"ng-template",null,2,JO)),2&r){const s=function ik(n){return pl(function ox(){return Ke.lFrame.contextLView}(),nn+n)}(13);Yt(11),gr("ngIf",i.qtdTransacoes.length)("ngIfElse",s)}},dependencies:[uF,Cv,fF,pb],styles:[".cabecalho-card-transacoes[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:var(--background-secondary);padding:1rem;font-family:Roboto;color:#b1b1b1;border-radius:10px;margin-bottom:.5rem}.card-transacoes[_ngcontent-%COMP%]{display:flex;background-color:var(--background-secondary);padding:1rem;border-radius:10px;margin-bottom:2px}.card-transacoes[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;font-family:Roboto;color:#b1b1b1;font-size:10pt}.transacoes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d5d5d5}.transacoes[_ngcontent-%COMP%]:hover{background-color:#2e354866;cursor:pointer}#descSemTransacao[_ngcontent-%COMP%]{font-size:17pt;color:#fff;text-align:center;margin-top:2rem}@media (max-width: 450px){.cabecalho-card-transacoes[_ngcontent-%COMP%]{width:100%;margin-top:12rem}.cabecalho-card-transacoes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;font-size:7.7pt}}"]})}return n})(),Pj=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(J(xa),J(Xi))},n.\u0275dir=He({type:n}),n})(),Rc=(()=>{class n extends Pj{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pr(n)))(r||n)}}(),n.\u0275dir=He({type:n,features:[Kt]}),n})();const Co=new me("NgValueAccessor"),yse={provide:Co,useExisting:ye(()=>qw),multi:!0},Ese=new me("CompositionEventMode");let qw=(()=>{class n extends Pj{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vse(){const n=Va()?Va().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(J(xa),J(Xi),J(Ese,8))},n.\u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&kr("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[wn([yse]),Kt]}),n})();const wse=!1;function ou(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xj(n){return null!=n&&"number"==typeof n.length}const ei=new me("NgValidators"),au=new me("NgAsyncValidators"),Ise=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mm{static min(e){return function Nj(n){return e=>{if(ou(e.value)||ou(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function kj(n){return e=>{if(ou(e.value)||ou(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Oj(e)}static requiredTrue(e){return function Fj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Lj(n){return ou(n.value)||Ise.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Vj(n){return e=>ou(e.value)||!xj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Bj(n){return e=>xj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return Uj(e)}static nullValidator(e){return null}static compose(e){return Gj(e)}static composeAsync(e){return qj(e)}}function Oj(n){return ou(n.value)?{required:!0}:null}function Uj(n){if(!n)return Kw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ou(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Kw(n){return null}function $j(n){return null!=n}function jj(n){const e=Fp(n)?w(n):n;if(wse&&!u0(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new S(-1101,t)}return e}function Hj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function zj(n,e){return e.map(t=>t(n))}function Wj(n){return n.map(e=>function Tse(n){return!n.validate}(e)?e:t=>e.validate(t))}function Gj(n){if(!n)return null;const e=n.filter($j);return 0==e.length?null:function(t){return Hj(zj(t,e))}}function FR(n){return null!=n?Gj(Wj(n)):null}function qj(n){if(!n)return null;const e=n.filter($j);return 0==e.length?null:function(t){return function mse(...n){const e=ji(n),{args:t,keys:r}=GF(n),i=new qe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let d=0;d<o;d++){let f=!1;ft(t[d]).subscribe(ce(s,m=>{f||(f=!0,u--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(u||s.next(r?qF(r,a):a),s.complete())}))}});return e?i.pipe(Ab(e)):i}(zj(t,e).map(jj)).pipe(ue(Hj))}}function LR(n){return null!=n?qj(Wj(n)):null}function Kj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Qj(n){return n._rawValidators}function Zj(n){return n._rawAsyncValidators}function VR(n){return n?Array.isArray(n)?n:[n]:[]}function Qw(n,e){return Array.isArray(n)?n.includes(e):n===e}function Yj(n,e){const t=VR(e);return VR(n).forEach(i=>{Qw(t,i)||t.push(i)}),t}function Jj(n,e){return VR(e).filter(t=>!Qw(n,t))}class Xj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vi extends Xj{get formDirective(){return null}get path(){return null}}class lu extends Xj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tH=(()=>{class n extends eH{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(J(lu,2))},n.\u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Yy("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Kt]}),n})(),nH=(()=>{class n extends eH{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(J(Vi,10))},n.\u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Yy("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Kt]}),n})();function rH(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const $R=!1,xm="VALID",Yw="INVALID",vf="PENDING",Nm="DISABLED";function jR(n){return(Jw(n)?n.validators:n)||null}function HR(n,e){return(Jw(e)?e.asyncValidators:n)||null}function Jw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function iH(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,$R?function Dse(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new S(1001,$R?function Sse(n,e){return`Cannot find form control ${rH(n,e)}`}(e,t):"")}function sH(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new S(1002,$R?function Rse(n,e){return`Must supply a value for form control ${rH(n,e)}`}(e,i):"")})}class Xw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xm}get invalid(){return this.status===Yw}get pending(){return this.status==vf}get disabled(){return this.status===Nm}get enabled(){return this.status!==Nm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Yj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jj(e,this._rawAsyncValidators))}hasValidator(e){return Qw(this._rawValidators,e)}hasAsyncValidator(e){return Qw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xm||this.status===vf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nm:xm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vf,this._hasOwnPendingAsyncValidator=!0;const t=jj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Wn,this.statusChanges=new Wn}_calculateStatus(){return this._allControlsDisabled()?Nm:this.errors?Yw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vf)?vf:this._anyControlsHaveStatus(Yw)?Yw:xm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Pse(n){return Array.isArray(n)?FR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Mse(n){return Array.isArray(n)?LR(n):n||null}(this._rawAsyncValidators)}}class km extends Xw{constructor(e,t,r){super(jR(t),HR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sH(this,!0,e),Object.keys(e).forEach(r=>{iH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class oH extends km{}const Pc=new me("CallSetDisabledState",{providedIn:"root",factory:()=>Om}),Om="always";function Fm(n,e,t=Om){zR(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Nse(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aH(n,e)})}(n,e),function Ose(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function kse(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aH(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xse(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function tI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function nI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zR(n,e){const t=Qj(n);null!==e.validator?n.setValidators(Kj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Zj(n);null!==e.asyncValidator?n.setAsyncValidators(Kj(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();nI(e._rawValidators,i),nI(e._rawAsyncValidators,i)}function rI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Qj(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Zj(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return nI(e._rawValidators,r),nI(e._rawAsyncValidators,r),t}function aH(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function dH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ef=class extends Xw{constructor(e=null,t,r){super(jR(t),HR(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=dH(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){dH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let mH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({}),n})();const QR=new me("NgModelWithFormControlWarning"),Qse={provide:Vi,useExisting:ye(()=>iI)};let iI=(()=>{class n extends Vi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Wn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Fm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){tI(t.control||null,t,!1),function Bse(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function uH(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(tI(r||null,t),(n=>n instanceof Ef)(i)&&(Fm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function lH(n,e){zR(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Fse(n,e){return rI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zR(this.form,this),this._oldForm&&rI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(J(ei,10),J(au,10),J(Pc,8))},n.\u0275dir=He({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&kr("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([Qse]),Kt,qi]}),n})();const Jse={provide:lu,useExisting:ye(()=>JR)};let JR=(()=>{class n extends lu{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Wn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qR(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===qw?t=s:function Vse(n){return Object.getPrototypeOf(n.constructor)===Rc}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function GR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function eI(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(J(Vi,13),J(ei,10),J(au,10),J(Co,10),J(QR,8))},n.\u0275dir=He({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[wn([Jse]),Kt,qi]}),n})();const Xse={provide:Co,useExisting:ye(()=>sI),multi:!0};function TH(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sI=(()=>{class n extends Rc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=TH(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function eoe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pr(n)))(r||n)}}(),n.\u0275dir=He({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&kr("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[wn([Xse]),Kt]}),n})(),CH=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(TH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(J(Xi),J(xa),J(sI,9))},n.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const toe={provide:Co,useExisting:ye(()=>XR),multi:!0};function bH(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let XR=(()=>{class n extends Rc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function noe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pr(n)))(r||n)}}(),n.\u0275dir=He({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&kr("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[wn([toe]),Kt]}),n})(),AH=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bH(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(J(Xi),J(xa),J(XR,9))},n.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Mc=(()=>{class n{constructor(){this._validator=Kw}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Kw,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=He({type:n,features:[qi]}),n})();const soe={provide:ei,useExisting:ye(()=>oI),multi:!0};let oI=(()=>{class n extends Mc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=lh,this.createValidator=t=>Oj}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pr(n)))(r||n)}}(),n.\u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&es("required",r._enabled?"":null)},inputs:{required:"required"},features:[wn([soe]),Kt]}),n})();const coe={provide:ei,useExisting:ye(()=>eP),multi:!0};let eP=(()=>{class n extends Mc{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Uj(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=pr(n)))(r||n)}}(),n.\u0275dir=He({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&es("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[wn([coe]),Kt]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({imports:[yH]}),n})();class FH extends Xw{constructor(e,t,r){super(jR(t),HR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sH(this,!1,e),e.forEach((r,i)=>{iH(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function LH(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let doe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return LH(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new km(i,s)}record(t,r=null){const i=this._reduceControls(t);return new oH(i,r)}control(t,r,i){let s={};return this.useNonNullable?(LH(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ef(t,{...s,nonNullable:!0})):new Ef(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new FH(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ef||t instanceof Xw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pc,useValue:t.callSetDisabledState??Om}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({imports:[OH]}),n})(),hoe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:QR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Pc,useValue:t.callSetDisabledState??Om}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({imports:[OH]}),n})();class BH{}class foe{}const Xa="*";function poe(n,e){return{type:7,name:n,definitions:e,options:{}}}function UH(n,e=null){return{type:4,styles:e,timings:n}}function $H(n,e=null){return{type:2,steps:n,options:e}}function Vm(n){return{type:6,styles:n,offset:null}}function tP(n,e,t){return{type:0,name:n,styles:e,options:t}}function jH(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function HH(n){Promise.resolve().then(n)}class Bm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?HH(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const nP="!",WH=["toast-component",""];function goe(n,e){if(1&n){const t=l0();ke(0,"button",5),kr("click",function(){return Jf(t),gl(ts().remove())}),ke(1,"span",6),Qe(2,"\xd7"),Ve()()}}function moe(n,e){if(1&n&&(kp(0),Qe(1),Op()),2&n){const t=ts(2);Yt(1),qo("[",t.duplicatesCount+1,"]")}}function _oe(n,e){if(1&n&&(ke(0,"div"),Qe(1),gi(2,moe,2,1,"ng-container",4),Ve()),2&n){const t=ts();Oa(t.options.titleClass),es("aria-label",t.title),Yt(1),qo(" ",t.title," "),Yt(1),gr("ngIf",t.duplicatesCount)}}function yoe(n,e){if(1&n&&Nr(0,"div",7),2&n){const t=ts();Oa(t.options.messageClass),gr("innerHTML",t.message,MC)}}function voe(n,e){if(1&n&&(ke(0,"div",8),Qe(1),Ve()),2&n){const t=ts();Oa(t.options.messageClass),es("aria-label",t.message),Yt(1),qo(" ",t.message," ")}}function Eoe(n,e){if(1&n&&(ke(0,"div"),Nr(1,"div",9),Ve()),2&n){const t=ts();Yt(1),eh("width",t.width+"%")}}class Doe{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Soe{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Roe{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new z,this._activate=new z,this._manualClose=new z,this._resetTimeout=new z,this._countDuplicate=new z}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class aI{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new z,this._onAction=new z,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const qH=new me("ToastConfig");class Poe extends Soe{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Moe=(()=>{class n{constructor(){this._document=rt(mr)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xoe{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Noe=(()=>{class n{constructor(){this._overlayContainer=rt(Moe),this._componentFactoryResolver=rt(Ld),this._appRef=rt(Pl),this._document=rt(mr),this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new Poe(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new xoe(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rP=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(sn.HTML,r));const d=new Roe(l),f=new aI(this.index,s,u,i,t,d),_=fi.create({providers:[{provide:aI,useValue:f}],parent:this._injector}),v=new Doe(s.toastComponent,_),T=l.attach(v,s.newestOnTop);d.componentInstance=T.instance;const A={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:T};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{A.toastRef.activate()})),this.toasts.push(A),A}}return n.\u0275fac=function(t){return new(t||n)(ae(qH),ae(Noe),ae(fi),ae(zF),ae(Vt))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KH=(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(J(rP),J(aI),J(Vt))},n.\u0275cmp=ai({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&kr("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(g0("@flyInOut",r.state),Oa(r.toastClasses),eh("display",r.displayStyle))},standalone:!0,features:[iv],attrs:WH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(gi(0,goe,3,0,"button",0),gi(1,_oe,3,5,"div",1),gi(2,yoe,1,3,"div",2),gi(3,voe,2,4,"div",3),gi(4,Eoe,2,2,"div",4)),2&t&&(gr("ngIf",r.options.closeButton),Yt(1),gr("ngIf",r.title),Yt(1),gr("ngIf",r.message&&r.options.enableHtml),Yt(1),gr("ngIf",r.message&&!r.options.enableHtml),Yt(1),gr("ngIf",r.options.progressBar))},dependencies:[Cv],encapsulation:2,data:{animation:[poe("flyInOut",[tP("inactive",Vm({opacity:0})),tP("active",Vm({opacity:1})),tP("removed",Vm({opacity:0})),jH("inactive => active",UH("{{ easeTime }}ms {{ easing }}")),jH("active => removed",UH("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const koe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:KH},Ooe=(n={})=>function A4(n){return{\u0275providers:n}}([{provide:qH,useValue:{default:koe,config:n}}]);let Foe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[Ooe(t)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({imports:[KH]}),n})(),Loe=new me("currency.mask.config");class Voe{constructor(e){this.htmlInputElement=e}setCursorAt(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}updateValueAndCursor(e,t,r){this.rawValue=e,this.setCursorAt(r-=t-e.length)}get canInputMoreNumbers(){let e=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,r=this.inputSelection.selectionEnd,i=!(t==r||!this.htmlInputElement.value.substring(t,r).match(/\d/)),s="0"==this.htmlInputElement.value.substring(0,1);return e||i||s}get inputSelection(){let e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let r=document.getSelection().anchorNode;if(r&&r.firstChild==this.htmlInputElement){let i=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange(),a=this.htmlInputElement.createTextRange();a.collapse(!1),o.compareEndPoints("StartToEnd",a)>-1?e=t=i:(e=-o.moveStart("character",-i),e+=s.slice(0,e).split("\n").length-1,o.compareEndPoints("EndToEnd",a)>-1?t=i:(t=-o.moveEnd("character",-i),t+=s.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}get storedRawValue(){return this._storedRawValue}}class Boe{constructor(e,t){this.htmlInputElement=e,this.options=t,this.inputManager=new Voe(e)}addNumber(e){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let t=String.fromCharCode(e),r=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,r)+t+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(r+1)}applyMask(e,t){let{allowNegative:r,decimal:i,precision:s,prefix:o,suffix:a,thousands:l}=this.options,u=(t=e?new Number(t).toFixed(s):t).replace(/[^0-9]/g,"");if(!u)return"";let d=u.slice(0,u.length-s).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,l);""==d&&(d="0");let f=d,m=u.slice(u.length-s);s>0&&(m="0".repeat(s-m.length)+m,f+=i+m);let _=0==parseInt(d)&&(0==parseInt(m)||""==m);return(t.indexOf("-")>-1&&r&&!_?"-":"")+o+f+a}clearMask(e){if(null==e||""==e)return null;let t=e.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),parseFloat(t)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let e=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(e+1)}}changeToPositive(){let e=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(e-1)}fixCursorPosition(e){let t=this.inputSelection.selectionStart;t>this.getRawValueWithoutSuffixEndPosition()||e?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):t<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(e){let{decimal:t,thousands:r}=this.options,i=this.inputSelection.selectionEnd,s=this.inputSelection.selectionStart;s>this.rawValue.length-this.options.suffix.length&&(i=this.rawValue.length-this.options.suffix.length,s=this.rawValue.length-this.options.suffix.length),i==s&&((46==e||63272==e)&&/^\d+$/.test(this.rawValue.substring(s,i+1))&&(i+=1),(46==e||63272==e)&&(this.rawValue.substring(s,i+1)==t||this.rawValue.substring(s,i+1)==r)&&(i+=2,s+=1),8==e&&/^\d+$/.test(this.rawValue.substring(s-1,i))&&(s-=1),8==e&&(this.rawValue.substring(s-1,i)==t||this.rawValue.substring(s-1,i)==r)&&(s-=2,i-=1)),this.rawValue=this.rawValue.substring(0,s)+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(s)}updateFieldValue(e){let t=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(t,this.rawValue.length,e=e??this.rawValue.length)}updateOptions(e){let t=this.value;this.options=e,this.value=t}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(e){this.inputManager.rawValue=e}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(e){this.rawValue=this.applyMask(!0,""+e)}}class Uoe{constructor(e,t){this.inputService=new Boe(e,t),this.htmlInputElement=e}handleClick(e,t){0==Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)&&!isNaN(this.inputService.value)&&this.inputService.fixCursorPosition(t)}handleCut(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(e){if(this.isReadOnly())return;let t=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),r=this.inputService.rawValue.length,i=this.inputService.inputSelection.selectionEnd,s=this.inputService.getRawValueWithoutSuffixEndPosition(),o=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,i==s&&1==Math.abs(r-o)||0==o){if(r<o&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),r>o)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/))return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}handleKeydown(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(8==t||46==t||63272==t){e.preventDefault();let r=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);(r==this.inputService.rawValue.length||0==this.inputService.value)&&(this.setValue(null),this.onModelChange(this.inputService.value)),0==r&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)),(8===t||46===t)&&0!=r&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value))}}handleKeypress(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(null!=t&&-1==[9,13].indexOf(t)&&!this.isArrowEndHomeKeyInFirefox(e)){switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(!isNaN(this.inputService.value)||null!=String.fromCharCode(t).match(/\d/))&&this.inputService.addNumber(t)}e.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(e){this.inputService.fixCursorPosition()}handlePaste(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(e){this.inputService.updateOptions(e)}getOnModelChange(){return this.onModelChange}setOnModelChange(e){this.onModelChange=e}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(e){this.onModelTouched=e}setValue(e){this.inputService.value=e}getNewKeyCode(e,t){if(e.length>t.length)return null;for(let r=0;r<t.length;r++)if(e.length==r||e[r]!=t[r])return t.charCodeAt(r);return null}isArrowEndHomeKeyInFirefox(e){return-1!=[35,36,37,38,39,40].indexOf(e.keyCode)&&(null==e.charCode||0==e.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(e){let t=this.inputService.getRawValueWithoutSuffixEndPosition();const r=e.target;setTimeout(function(){r.setSelectionRange(t,t)},0)}}const $oe={provide:Co,useExisting:ye(()=>QH),multi:!0};let QH=(()=>{class n{constructor(t,r,i){this.currencyMaskConfig=t,this.elementRef=r,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},t&&(this.optionsTemplate=t),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new Uoe(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleClick(t){this.inputHandler.handleClick(t,this.isChromeAndroid())}handleCut(t){this.isChromeAndroid()||this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||this.inputHandler.handleKeypress(t)}handleKeyup(t){this.isChromeAndroid()||this.inputHandler.handleKeyup(t)}handlePaste(t){this.isChromeAndroid()||this.inputHandler.handlePaste(t)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}validate(t){let r={};return t.value>this.max&&(r.max=!0),t.value<this.min&&(r.min=!0),r!={}?r:null}writeValue(t){this.inputHandler.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(J(Loe,8),J(Xi),J(ah))},n.\u0275dir=He({type:n,selectors:[["","currencyMask",""]],hostBindings:function(t,r){1&t&&kr("blur",function(s){return r.handleBlur(s)})("click",function(s){return r.handleClick(s)})("cut",function(s){return r.handleCut(s)})("input",function(s){return r.handleInput(s)})("keydown",function(s){return r.handleKeydown(s)})("keypress",function(s){return r.handleKeypress(s)})("keyup",function(s){return r.handleKeyup(s)})("paste",function(s){return r.handlePaste(s)})},inputs:{max:"max",min:"min",options:"options"},features:[wn([$oe,{provide:ei,useExisting:n,multi:!0}])]}),n})(),joe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({imports:[[gF,VH]]}),n})();const Hoe=function(){return{prefix:"R$ ",thousands:".",decimal:",",nullable:!0,allowNegative:!1,max:999.99,align:"center"}};let zoe=(()=>{class n{constructor(t,r,i){this.transacoesService=t,this.toastr=r,this.fb=i,this.formValorTransacao=new Ef,this.submitted=!1,this.criarTransacaoGroup=this.fb.group({nomeTransacao:["",Mm.required],tipoCompra:["Selecione",Mm.required],status:["Selecione",Mm.required],formaPagamento:["Selecione",Mm.required],valor:["",Mm.required]})}ngOnInit(){this.obterTransacoes()}obterTransacoes(){return this.transacoesService.obterTransacoes().subscribe(r=>{this.transacoes=r})}novaTransacao(){if(this.criarTransacaoGroup.invalid)return this.toastr.warning("Houve um problema ao criar a transa\xe7\xe3o. Tente novamente"),void console.log(this.criarTransacaoGroup);const t=this.criarTransacaoGroup.value;this.transacoesService.novaTransacao({valor:t.valor,nomeTransacao:t.nomeTransacao,tipoCompra:t.tipoCompra,status:t.status,formaPagamento:t.formaPagamento}).subscribe(()=>{this.toastr.success("A transa\xe7\xe3o foi criada com sucesso!")},()=>{this.toastr.error("Houve um problema ao criar a transa\xe7\xe3o")}),this.obterTransacoes()}static#e=this.\u0275fac=function(r){return new(r||n)(J(OR),J(rP),J(doe))};static#t=this.\u0275cmp=ai({type:n,selectors:[["app-botao-nova-transacao"]],decls:58,vars:3,consts:[[1,"btn-nova-transacao"],["data-modal-target","nova-transacao","data-modal-toggle","nova-transacao","type","button"],["id","nova-transacao","tabindex","-1","aria-hidden","true",1,"hidden","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-[#1B1B1E]","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","bg-[#1957A0]","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-lg","text-white","dark:text-white"],["type","button","data-modal-toggle","nova-transacao",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5",3,"formGroup","ngSubmit"],[1,"grid","gap-4","mb-4","grid-cols-2"],[1,"col-span-2"],["for","valor",1,"block","text-sm","text-[#B9B8B8]","dark:text-[#B9B8B8]"],["currencyMask","","formControlName","valor","id","valor","type","tel","inputmode","numeric","pattern","[0-9]*","placeholder","R$ 0,00","required","",1,"bg-[#383838]","text-center","border-gray-400","text-[#B9B8B8]","text-3xl","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-10","dark:bg-[#383838]","dark:focus:border-primary-500",3,"options"],["for","nomeTransacao",1,"block","text-sm","text-[#B9B8B8]","dark:text-[#B9B8B8]"],["type","text","formControlName","nomeTransacao","id","nomeTransacao","placeholder","Ex: Restaurante","required","",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[1,"col-span-2","sm:col-span-1"],["for","tipoCompra",1,"block","text-sm","text-[#B9B8B8]","dark:text-white"],["id","tipoCompra","formControlName","tipoCompra",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["value","Selecione","disabled","","selected",""],["value","E"],["value","S"],["for","formaPagamento",1,"block","text-sm","text-[#B9B8B8]","dark:text-white"],["id","formaPagamento","formControlName","formaPagamento",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["value","V"],["value","C"],["for","status",1,"block","text-sm","text-[#B9B8B8]","dark:text-white"],["id","status","formControlName","status",1,"bg-[#383838]","border-gray-400","text-[#B9B8B8]","text-md","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["value","Pg"],["value","Pd"],["type","submit",1,"text-white","inline-flex","items-center","bg-[#1957A0]","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"me-1","-ms-1","w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"]],template:function(r,i){1&r&&(ke(0,"div",0)(1,"button",1),Qe(2," Nova transa\xe7\xe3o "),Ve()(),ke(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),Qe(8," Nova transa\xe7\xe3o "),Ve(),ke(9,"button",7),fd(),ke(10,"svg",8),Nr(11,"path",9),Ve(),function oy(){!function NT(){Ke.lFrame.currentNamespace=null}()}(),ke(12,"span",10),Qe(13,"X"),Ve()()(),ke(14,"form",11),kr("ngSubmit",function(){return i.novaTransacao()}),ke(15,"div",12)(16,"div",13)(17,"label",14),Qe(18,"Valor da transa\xe7\xe3o"),Ve(),Nr(19,"input",15),Ve(),ke(20,"div",13)(21,"label",16),Qe(22,"Nome da transa\xe7\xe3o"),Ve(),Nr(23,"input",17),Ve(),ke(24,"div",18)(25,"label",19),Qe(26,"Tipo da Transa\xe7\xe3o"),Ve(),ke(27,"select",20)(28,"option",21),Qe(29,"Selecione"),Ve(),ke(30,"option",22),Qe(31,"Entrada"),Ve(),ke(32,"option",23),Qe(33,"Sa\xedda"),Ve()()(),ke(34,"div",18)(35,"label",24),Qe(36,"Forma de pagamento"),Ve(),ke(37,"select",25)(38,"option",21),Qe(39,"Selecione"),Ve(),ke(40,"option",26),Qe(41,"\xc0 vista"),Ve(),ke(42,"option",27),Qe(43,"Cr\xe9dito"),Ve()()(),ke(44,"div",18)(45,"label",28),Qe(46,"Status"),Ve(),ke(47,"select",29)(48,"option",21),Qe(49,"Selecione"),Ve(),ke(50,"option",30),Qe(51,"Pago"),Ve(),ke(52,"option",31),Qe(53,"Pendente"),Ve()()()(),ke(54,"button",32),fd(),ke(55,"svg",33),Nr(56,"path",34),Ve(),Qe(57," Criar transa\xe7\xe3o "),Ve()()()()()),2&r&&(Yt(14),gr("formGroup",i.criarTransacaoGroup),Yt(5),gr("options",function NO(n,e,t){const r=Wr()+n,i=Y();return i[r]===nt?zo(i,r,t?e.call(t):e()):function Np(n,e){return n[e]}(i,r)}(2,Hoe)))},dependencies:[QH,mH,CH,AH,qw,sI,tH,nH,oI,eP,iI,JR],styles:[".btn-nova-transacao[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-nova-transacao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:135px;height:35px;border-radius:10px;font-size:10pt;background-color:#1957a0;color:#fff;border:1px solid #B9B8B8;cursor:pointer;margin-bottom:10px}button[_ngcontent-%COMP%]:hover{background-color:#114c8f}@media (max-width: 450px){.btn-nova-transacao[_ngcontent-%COMP%]{position:relative;top:12rem}.btn-nova-transacao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:30px;font-size:9pt}}"]})}return n})(),Woe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ai({type:n,selectors:[["app-home"]],decls:7,vars:0,template:function(r,i){1&r&&(ke(0,"header"),Nr(1,"app-sidebar"),ke(2,"nav"),Nr(3,"app-card-faturas"),ke(4,"section"),Nr(5,"app-botao-nova-transacao")(6,"app-card-transacoes"),Ve()()())},dependencies:[NX,kX,gse,zoe],styles:["header[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]{width:100%;padding:5rem 1.5rem 0}section[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;margin-top:5rem}"]})}return n})(),Goe=(()=>{class n{constructor(){this.title="Finance"}ngOnInit(){LV()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ai({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Nr(0,"app-home")},dependencies:[Woe]})}return n})();var Um=Le(942);Um.Z.registerVersion("firebase","10.6.0","app-compat");const Qoe=["ngOnDestroy"];class ZH{constructor(e){return e}}const iP=new me("angularfire2.app.options"),sP=new me("angularfire2.app.name");function oP(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Um.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Um.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;Joe("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ZH(o)}const Joe=(n,...e)=>{};function YH(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function Xoe(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(JH("error",`${e} was already initialized on the ${t} Firebase App with different settings.${eae?" You may need to reload as Firebase is not HMR aware.":""}`),JH("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const eae=typeof module<"u"&&!!module.hot,JH=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Le(568);class tae extends z{constructor(e=1/0,t=1/0,r=DA){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function XH(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,E({connector:()=>new tae(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ez(n,e){return b(e)?Fn(()=>n,e):Fn(()=>n)}const tz=new me("angularfire2.auth.use-emulator"),nz=new me("angularfire2.auth.settings"),rz=new me("angularfire2.auth.tenant-id"),iz=new me("angularfire2.auth.langugage-code"),sz=new me("angularfire2.auth.use-device-language"),oz=new me("angularfire.auth.persistence"),az=(n,e,t,r,i,s,o,a)=>YH(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[u,d]of Object.entries(o))l.settings[u]=d;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]);let lz=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,u,d,f,m,_){const v=new z,T=xe(void 0).pipe(Hn(o.outsideAngular),Fn(()=>s.runOutsideAngular(()=>Promise.resolve().then(Le.bind(Le,568)))),ue(()=>oP(t,s,r)),ue(A=>az(A,s,a,u,d,f,l,m)),XH({bufferSize:1,refCount:!1}));if(function D7(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xe(null);else{T.pipe($a()).subscribe();const A=T.pipe(Fn(P=>P.getRedirectResult().then(V=>V,()=>null)),Ul,XH({bufferSize:1,refCount:!1})),x=T.pipe(Fn(P=>new qe(V=>({unsubscribe:s.runOutsideAngular(()=>P.onAuthStateChanged(oe=>V.next(oe),oe=>V.error(oe),()=>V.complete()))})))),F=T.pipe(Fn(P=>new qe(V=>({unsubscribe:s.runOutsideAngular(()=>P.onIdTokenChanged(oe=>V.next(oe),oe=>V.error(oe),()=>V.complete()))}))));this.authState=A.pipe(ez(x),Mr(o.outsideAngular),Hn(o.insideAngular)),this.user=A.pipe(ez(F),Mr(o.outsideAngular),Hn(o.insideAngular)),this.idToken=this.user.pipe(Fn(P=>P?w(P.getIdToken()):xe(null))),this.idTokenResult=this.user.pipe(Fn(P=>P?w(P.getIdTokenResult()):xe(null))),this.credential=C(A,v,this.authState.pipe(Oi(P=>!P))).pipe(ue(P=>P?.user?P:null),Mr(o.outsideAngular),Hn(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(Qoe.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(u=>t.run(()=>u)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,u)=>o.then(d=>{const f=d?.(...u);return r?.spy?.apply&&r.spy.apply(s,u,f),f})})})}))(this,T,s,{spy:{apply:(A,x,F)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&F.then(P=>v.next(P))}}})}static \u0275fac=function(r){return new(r||n)(ae(iP),ae(sP,8),ae(Qu),ae(Vt),ae(IE),ae(tz,8),ae(nz,8),ae(rz,8),ae(iz,8),ae(sz,8),ae(oz,8),ae(RA,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function oae(n,e){return n===e}const uz="@firebase/database";let aP="";function lP(n){aP=n}class aae{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,D.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,D.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class lae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,D.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const dz=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aae(e)}}catch{}return new lae},xc=dz("localStorage"),uP=dz("sessionStorage"),wf=new Js.Yd("@firebase/database"),hz=function(){let n=1;return function(){return n++}}(),fz=function(n){const e=(0,D.dS)(n),t=new D.gQ;t.update(e);const r=t.digest();return D.US.encodeByteArray(r)},$m=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=$m.apply(null,r):e+="object"==typeof r?(0,D.Wl)(r):r,e+=" "}return e};let Nc=null,pz=!0;const gz=function(n,e){(0,D.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(wf.logLevel=Js.in.VERBOSE,Nc=wf.log.bind(wf),e&&uP.set("logging_enabled",!0)):"function"==typeof n?Nc=n:(Nc=null,uP.remove("logging_enabled"))},Ur=function(...n){if(!0===pz&&(pz=!1,null===Nc&&!0===uP.get("logging_enabled")&&gz(!0)),Nc){const e=$m.apply(null,n);Nc(e)}},jm=function(n){return function(...e){Ur(n,...e)}},cP=function(...n){const e="FIREBASE INTERNAL ERROR: "+$m(...n);wf.error(e)},aa=function(...n){const e=`FIREBASE FATAL ERROR: ${$m(...n)}`;throw wf.error(e),new Error(e)},wi=function(...n){const e="FIREBASE WARNING: "+$m(...n);wf.warn(e)},lI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},uu="[MIN_NAME]",el="[MAX_NAME]",kc=function(n,e){if(n===e)return 0;if(n===uu||e===el)return-1;if(e===uu||n===el)return 1;{const t=yz(n),r=yz(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},dae=function(n,e){return n===e?0:n<e?-1:1},Hm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Wl)(e))},dP=function(n){if("object"!=typeof n||null===n)return(0,D.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,D.Wl)(e[r]),t+=":",t+=dP(n[e[r]]);return t+="}",t},mz=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function $r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const _z=function(n){(0,D.hu)(!lI(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let f="";for(l=0;l<64;l+=8){let m=parseInt(d.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),f+=m}return f.toLowerCase()},gae=new RegExp("^-?(0*)\\d{1,10}$"),yz=function(n){if(gae.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},If=function(n){try{n()}catch(e){setTimeout(()=>{throw wi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},yae=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zm=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class vae{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Eae{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wi(e)}}let Wm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Tz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Az="websocket",Dz="long_polling";class fP{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Sz(n,e,t){let r;if((0,D.hu)("string"==typeof e,"typeof type must == string"),(0,D.hu)("object"==typeof t,"typeof params must == object"),e===Az)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Dz)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function wae(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return $r(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Iae{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,D.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,D.p$)(this.counters_)}}const pP={},gP={};function mP(n){const e=n.toString();return pP[e]||(pP[e]=new Iae),pP[e]}class Cae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&If(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class cu{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jm(e),this.stats_=mP(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),Sz(t,Dz,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Cae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _P((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Tz.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cu.forceAllow_=!0}static forceDisallow(){cu.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!cu.forceAllow_&&(cu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,D.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,D.h$)(t),i=mz(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,D.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class _P{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=hz(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=_P.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ur("frame writing exception"),a.stack&&Ur(a.stack),Ur(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ur("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,D.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ur("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let cI=null;typeof MozWebSocket<"u"?cI=MozWebSocket:typeof WebSocket<"u"&&(cI=WebSocket);let Tf=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jm(this.connId),this.stats_=mP(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return!(0,D.Yr)()&&typeof location<"u"&&location.hostname&&Tz.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),Sz(t,Az,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xc.set("previous_websocket_failure",!0);try{let i;if((0,D.Yr)()){i={headers:{"User-Agent":`Firebase/5/${aP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new cI(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==cI&&!n.forceDisallow_}static previouslyFailed(){return xc.isInMemoryStorage||!0===xc.get("previous_websocket_failure")}markConnectionHealthy(){xc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,D.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,D.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=mz(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Oz=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[cu,Tf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Tf&&Tf.isAvailable();let i=r&&!Tf.previouslyFailed();if(t.webSocketOnly&&(r||wi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Tf];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class jz{constructor(e,t,r,i,s,o,a,l,u,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jm("c:"+this.id+":"),this.transportManager_=new Oz(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Hm("t",e),r=Hm("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Hm("t",e),r=Hm("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Hm("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?cP("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cP("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&wi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),zm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Hz{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class zz{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,D.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,D.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class dI extends zz{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new dI}getInitialEvent(e){return(0,D.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Wz=32,Gz=768;class Ht{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Bt(){return new Ht("")}function gt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function du(n){return n.pieces_.length-n.pieceNum_}function on(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ht(n.pieces_,e)}function vP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Gm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function qz(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ht(e,0)}function Mn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ht)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ht(t,0)}function mt(n){return n.pieceNum_>=n.pieces_.length}function Bi(n,e){const t=gt(n),r=gt(e);if(null===t)return e;if(t===r)return Bi(on(n),on(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Gae(n,e){const t=Gm(n,0),r=Gm(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=kc(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function EP(n,e){if(du(n)!==du(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function eo(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(du(n)>du(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class qae{constructor(e,t){this.errorPrefix_=t,this.parts_=Gm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,D.ug)(this.parts_[r]);Kz(this)}}function Kz(n){if(n.byteLength_>Gz)throw new Error(n.errorPrefix_+"has a key path longer than "+Gz+" bytes ("+n.byteLength_+").");if(n.parts_.length>Wz)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wz+") or object contains a cycle "+Oc(n))}function Oc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class wP extends zz{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new wP}getInitialEvent(e){return(0,D.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const qm=1e3;let fI,Fc=(()=>{class n extends Hz{constructor(t,r,i,s,o,a,l,u){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=n.nextPersistentConnectionId_++,this.log_=jm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wP.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&dI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_((0,D.Wl)(o)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new D.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const u=l.d,d=l.s;n.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==d&&this.removeListen_(i,s),t.onComplete&&t.onComplete(d,u))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,D.r3)(t,"w")){const i=(0,D.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();wi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,D.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,D.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,D.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):cP("Unrecognized action received from server: "+(0,D.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=qm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Re.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,u=null;const d=function(){u?u.close():(l=!0,s())};t.realtime_={close:d,sendRequest:function(_){(0,D.hu)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(_)}};const m=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[_,v]=yield Promise.all([t.authTokenProvider_.getToken(m),t.appCheckTokenProvider_.getToken(m)]);l?Ur("getToken() completed but was canceled"):(Ur("getToken() completed. Creating connection."),t.authToken_=_&&_.accessToken,t.appCheckToken_=v&&v.token,u=new jz(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,T=>{wi(T+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(_){t.log_("Failed to get token: "+_),l||(t.repoInfo_.nodeAdmin&&wi(_),d())}}})()}interrupt(t){Ur("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ur("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>dP(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Ht(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Ur("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ur("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,D.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+aP.replace(/\./g,"-")]=1,(0,D.uI)()?t["framework.cordova"]=1:(0,D.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=dI.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class vt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new vt(e,t)}}class hI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new vt(uu,e),i=new vt(uu,t);return 0!==this.compare(r,i)}minPost(){return vt.MIN}}class Yz extends hI{static get __EMPTY_NODE(){return fI}static set __EMPTY_NODE(e){fI=e}compare(e,t){return kc(e.name,t.name)}isDefinedOn(e){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return vt.MIN}maxPost(){return new vt(el,fI)}makePost(e,t){return(0,D.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new vt(e,fI)}toString(){return".key"}}const la=new Yz;class pI{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let TP,bo=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??ls.EMPTY_NODE,this.right=o??ls.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ls.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return ls.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ls{constructor(e,t=ls.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ls(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,bo.BLACK,null,null))}remove(e){return new ls(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bo.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new pI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new pI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new pI(this.root_,null,this.comparator_,!0,e)}}function tle(n,e){return kc(n.name,e.name)}function IP(n,e){return kc(n,e)}ls.EMPTY_NODE=new class ele{copy(e,t,r,i,s){return this}insert(e,t,r){return new bo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Jz=function(n){return"number"==typeof n?"number:"+_z(n):"string:"+n},Xz=function(n){if(n.isLeafNode()){const e=n.val();(0,D.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,D.r3)(e,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===TP||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===TP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let eW,tW,nW,Cf=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Xz(this.priorityNode_)}static set __childrenNodeConstructor(t){eW=t}static get __childrenNodeConstructor(){return eW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return mt(t)?this:".priority"===gt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=gt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,D.hu)(".priority"!==i||1===du(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(on(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Jz(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?_z(this.value_):this.value_,this.lazyHash_=fz(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,D.hu)(s>=0,"Unknown leaf type: "+r),(0,D.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const pn=new class sle extends hI{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?kc(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(el,new Cf("[PRIORITY-POST]",nW))}makePost(e,t){const r=tW(e);return new vt(t,new Cf("[PRIORITY-POST]",r))}toString(){return".priority"}},ole=Math.log(2);class ale{constructor(e){this.count=parseInt(Math.log(e+1)/ole,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gI=function(n,e,t,r){n.sort(e);const i=function(l,u){const d=u-l;let f,m;if(0===d)return null;if(1===d)return f=n[l],m=t?t(f):f,new bo(m,f.node,bo.BLACK,null,null);{const _=parseInt(d/2,10)+l,v=i(l,_),T=i(_+1,u);return f=n[_],m=t?t(f):f,new bo(m,f.node,bo.BLACK,v,T)}},a=function(l){let u=null,d=null,f=n.length;const m=function(v,T){const A=f-v,x=f;f-=v;const F=i(A+1,x),P=n[A],V=t?t(P):P;_(new bo(V,P.node,T,null,F))},_=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<l.count;++v){const T=l.nextBitIsOne(),A=Math.pow(2,l.count-(v+1));T?m(A,bo.BLACK):(m(A,bo.BLACK),m(A,bo.RED))}return d}(new ale(n.length));return new ls(r||e,a)};let CP;const bf={};class tl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,D.hu)(bf&&pn,"ChildrenNode.ts has not been loaded"),CP=CP||new tl({".priority":bf},{".priority":pn}),CP}get(e){const t=(0,D.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ls?t:null}hasIndex(e){return(0,D.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,D.hu)(e!==la,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(vt.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?gI(r,e.getCompare()):bf;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new tl(d,u)}addToIndexes(e,t){const r=(0,D.UI)(this.indexes_,(i,s)=>{const o=(0,D.DV)(this.indexSet_,s);if((0,D.hu)(o,"Missing index implementation for "+s),i===bf){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(vt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),gI(a,o.getCompare())}return bf}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new vt(e.name,a))),l.insert(e,e.node)}});return new tl(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,D.UI)(this.indexes_,i=>{if(i===bf)return i;{const s=t.get(e.name);return s?i.remove(new vt(e.name,s)):i}});return new tl(r,this.indexSet_)}}let Km,st=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Xz(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Km||(Km=new n(new ls(IP),null,tl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Km}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Km:r}}getChild(t){const r=gt(t);return null===r?this:this.getImmediateChild(r).getChild(on(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,D.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new vt(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Km:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=gt(t);if(null===i)return r;{(0,D.hu)(".priority"!==gt(t)||1===du(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(on(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(pn,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Jz(this.getPriority().val())+":"),this.forEachChild(pn,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":fz(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new vt(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new vt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new vt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,vt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,vt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Qm?-1:0}withIndex(t){if(t===la||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===la||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(pn),s=r.getIterator(pn);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===la?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Qm=new class lle extends st{constructor(){super(new ls(IP),st.EMPTY_NODE,tl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return st.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(vt,{MIN:{value:new vt(uu,st.EMPTY_NODE)},MAX:{value:new vt(el,Qm)}}),Yz.__EMPTY_NODE=st.EMPTY_NODE,Cf.__childrenNodeConstructor=st,function nle(n){TP=n}(Qm),function ile(n){nW=n}(Qm);const ule=!0;function Vn(n,e=null){if(null===n)return st.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,D.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Cf(n,Vn(e));if(n instanceof Array||!ule){let t=st.EMPTY_NODE;return $r(n,(r,i)=>{if((0,D.r3)(n,r)&&"."!==r.substring(0,1)){const s=Vn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Vn(e))}{const t=[];let r=!1;if($r(n,(o,a)=>{if("."!==o.substring(0,1)){const l=Vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new vt(o,l)))}}),0===t.length)return st.EMPTY_NODE;const s=gI(t,tle,o=>o.name,IP);if(r){const o=gI(t,pn.getCompare());return new st(s,Vn(e),new tl({".priority":o},{".priority":pn}))}return new st(s,Vn(e),tl.Default)}}!function rle(n){tW=n}(Vn);class bP extends hI{constructor(e){super(),this.indexPath_=e,(0,D.hu)(!mt(e)&&".priority"!==gt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?kc(e.name,t.name):s}makePost(e,t){const r=Vn(e),i=st.EMPTY_NODE.updateChild(this.indexPath_,r);return new vt(t,i)}maxPost(){const e=st.EMPTY_NODE.updateChild(this.indexPath_,Qm);return new vt(el,e)}toString(){return Gm(this.indexPath_,0).join("/")}}const AP=new class cle extends hI{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?kc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(e,t){const r=Vn(e);return new vt(t,r)}toString(){return".value"}};function rW(n){return{type:"value",snapshotNode:n}}function Af(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Zm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ym(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class DP{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){(0,D.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(Zm(t,a)):(0,D.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Af(t,r)):o.trackChildChange(Ym(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(pn,(i,s)=>{t.hasChild(i)||r.trackChildChange(Zm(i,s))}),t.isLeafNode()||t.forEachChild(pn,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ym(i,s,o))}else r.trackChildChange(Af(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Jm{constructor(e){this.indexedFilter_=new DP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Jm.getStartPost_(e),this.endPost_=Jm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new vt(t,r))||(r=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=st.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(st.EMPTY_NODE);const s=this;return t.forEachChild(pn,(o,a)=>{s.matches(new vt(o,a))||(i=i.updateImmediateChild(o,st.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class hle{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Jm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new vt(t,r))||(r=st.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=st.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(st.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(m,_)=>f(_,m)}else o=this.index_.getCompare();const a=e;(0,D.hu)(a.numChildren()===this.limit_,"");const l=new vt(t,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(t)){const f=a.getImmediateChild(t);let m=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=m&&(m.name===t||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const _=null==m?1:o(m,l);if(d&&!r.isEmpty()&&_>=0)return s?.trackChildChange(Ym(t,r,f)),a.updateImmediateChild(t,r);{s?.trackChildChange(Zm(t,f));const T=a.updateImmediateChild(t,st.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(s?.trackChildChange(Af(m.name,m.node)),T.updateImmediateChild(m.name,m.node)):T}}return r.isEmpty()?e:d&&o(u,l)>=0?(null!=s&&(s.trackChildChange(Zm(u.name,u.node)),s.trackChildChange(Af(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(u.name,st.EMPTY_NODE)):e}}class mI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:uu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:el}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const e=new mI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SP(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function RP(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function _I(n,e){const t=n.copy();return t.index_=e,t}function iW(n){const e={};if(n.isDefault())return e;let t;if(n.index_===pn?t="$priority":n.index_===AP?t="$value":n.index_===la?t="$key":((0,D.hu)(n.index_ instanceof bP,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,D.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,D.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,D.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,D.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,D.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function sW(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==pn&&(e.i=n.index_.toString()),e}class yI extends Hz{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,D.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=yI.getListenId_(e,r),a={};this.listens_[o]=a;const l=iW(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let f=d;if(404===u&&(f=null,u=null),null===u&&this.onDataUpdate_(s,f,!1,r),(0,D.DV)(this.listens_,o)===a){let m;m=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(m,null)}})}unlisten(e,t){const r=yI.getListenId_(e,t);delete this.listens_[r]}get(e){const t=iW(e._queryParams),r=e._path.toString(),i=new D.BH;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,D.xO)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,D.cI)(a.responseText)}catch{wi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&wi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class yle{constructor(){this.rootNode_=st.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function vI(){return{value:null,children:new Map}}function Df(n,e,t){if(mt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=gt(e);n.children.has(r)||n.children.set(r,vI()),Df(n.children.get(r),e=on(e),t)}}function PP(n,e){if(mt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(pn,(r,i)=>{Df(n,new Ht(r),i)}),PP(n,e)}}if(n.children.size>0){const t=gt(e);return e=on(e),n.children.has(t)&&PP(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function MP(n,e,t){null!==n.value?t(e,n.value):function vle(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{MP(i,new Ht(e.toString()+"/"+r),t)})}class Ele{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&$r(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Tle{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ele(e);const r=1e4+2e4*Math.random();zm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;$r(e,(i,s)=>{s>0&&(0,D.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),zm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var to=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(to||(to={})),to))();function kP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class EI{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=to.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(mt(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ht(e));return new EI(Bt(),t,this.revert)}}return(0,D.hu)(gt(this.path)===e,"operationForChild called for unrelated child."),new EI(on(this.path),this.affectedTree,this.revert)}}class Xm{constructor(e,t){this.source=e,this.path=t,this.type=to.LISTEN_COMPLETE}operationForChild(e){return mt(this.path)?new Xm(this.source,Bt()):new Xm(this.source,on(this.path))}}class Lc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=to.OVERWRITE}operationForChild(e){return mt(this.path)?new Lc(this.source,Bt(),this.snap.getImmediateChild(e)):new Lc(this.source,on(this.path),this.snap)}}class Sf{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=to.MERGE}operationForChild(e){if(mt(this.path)){const t=this.children.subtree(new Ht(e));return t.isEmpty()?null:t.value?new Lc(this.source,Bt(),t.value):new Sf(this.source,Bt(),t)}return(0,D.hu)(gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Sf(this.source,on(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hu{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(mt(e))return this.isFullyInitialized()&&!this.filtered_;const t=gt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Cle{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function e_(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function Dle(n,e,t){if(null==e.childName||null==t.childName)throw(0,D.g5)("Should only compare child_ events.");const r=new vt(e.childName,e.snapshotNode),i=new vt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function Ale(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,n.query_))})})}function wI(n,e){return{eventCache:n,serverCache:e}}function t_(n,e,t,r){return wI(new hu(e,t,r),n.serverCache)}function aW(n,e,t,r){return wI(n.eventCache,new hu(e,t,r))}function II(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Vc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let OP;class gn{constructor(e,t=(()=>(OP||(OP=new ls(dae)),OP))()){this.value=e,this.children=t}static fromObject(e){let t=new gn(null);return $r(e,(r,i)=>{t=t.set(new Ht(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Bt(),value:this.value};if(mt(e))return null;{const r=gt(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(on(e),t);return null!=s?{path:Mn(new Ht(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(mt(e))return this;{const t=gt(e),r=this.children.get(t);return null!==r?r.subtree(on(e)):new gn(null)}}set(e,t){if(mt(e))return new gn(t,this.children);{const r=gt(e),s=(this.children.get(r)||new gn(null)).set(on(e),t),o=this.children.insert(r,s);return new gn(this.value,o)}}remove(e){if(mt(e))return this.children.isEmpty()?new gn(null):new gn(null,this.children);{const t=gt(e),r=this.children.get(t);if(r){const i=r.remove(on(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new gn(null):new gn(this.value,s)}return this}}get(e){if(mt(e))return this.value;{const t=gt(e),r=this.children.get(t);return r?r.get(on(e)):null}}setTree(e,t){if(mt(e))return t;{const r=gt(e),s=(this.children.get(r)||new gn(null)).setTree(on(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new gn(this.value,o)}}fold(e){return this.fold_(Bt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Mn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Bt(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(mt(e))return null;{const s=gt(e),o=this.children.get(s);return o?o.findOnPath_(on(e),Mn(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Bt(),t)}foreachOnPath_(e,t,r){if(mt(e))return this;{this.value&&r(t,this.value);const i=gt(e),s=this.children.get(i);return s?s.foreachOnPath_(on(e),Mn(t,i),r):new gn(null)}}foreach(e){this.foreach_(Bt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Mn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ao{constructor(e){this.writeTree_=e}static empty(){return new Ao(new gn(null))}}function n_(n,e,t){if(mt(e))return new Ao(new gn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Bi(i,e);return s=s.updateChild(o,t),new Ao(n.writeTree_.set(i,s))}{const i=new gn(t),s=n.writeTree_.setTree(e,i);return new Ao(s)}}}function FP(n,e,t){let r=n;return $r(t,(i,s)=>{r=n_(r,Mn(e,i),s)}),r}function lW(n,e){if(mt(e))return Ao.empty();{const t=n.writeTree_.setTree(e,new gn(null));return new Ao(t)}}function LP(n,e){return null!=Bc(n,e)}function Bc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Bi(t.path,e)):null}function uW(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(pn,(r,i)=>{e.push(new vt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new vt(r,i.value))}),e}function fu(n,e){if(mt(e))return n;{const t=Bc(n,e);return new Ao(null!=t?new gn(t):n.writeTree_.subtree(e))}}function VP(n){return n.writeTree_.isEmpty()}function Rf(n,e){return cW(Bt(),n.writeTree_,e)}function cW(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,D.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=cW(Mn(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Mn(n,".priority"),r)),t}}function TI(n,e){return gW(e,n)}function Nle(n,e){if(n.snap)return eo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&eo(Mn(n.path,t),e))return!0;return!1}function Ole(n){return n.visible}function dW(n,e,t){let r=Ao.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)eo(t,o)?(a=Bi(t,o),r=n_(r,a,s.snap)):eo(o,t)&&(a=Bi(o,t),r=n_(r,Bt(),s.snap.getChild(a)));else{if(!s.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(eo(t,o))a=Bi(t,o),r=FP(r,a,s.children);else if(eo(o,t))if(a=Bi(o,t),mt(a))r=FP(r,Bt(),s.children);else{const l=(0,D.DV)(s.children,gt(a));if(l){const u=l.getChild(on(a));r=n_(r,Bt(),u)}}}}}return r}function hW(n,e,t,r,i){if(r||i){const s=fu(n.visibleWrites,e);return!i&&VP(s)?t:i||null!=t||LP(s,Bt())?Rf(dW(n.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(eo(u.path,e)||eo(e,u.path))},e),t||st.EMPTY_NODE):null}{const s=Bc(n.visibleWrites,e);if(null!=s)return s;{const o=fu(n.visibleWrites,e);return VP(o)?t:null!=t||LP(o,Bt())?Rf(o,t||st.EMPTY_NODE):null}}}function CI(n,e,t,r){return hW(n.writeTree,n.treePath,e,t,r)}function BP(n,e){return function Fle(n,e,t){let r=st.EMPTY_NODE;const i=Bc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(pn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=fu(n.visibleWrites,e);return t.forEachChild(pn,(o,a)=>{const l=Rf(fu(s,new Ht(o)),a);r=r.updateImmediateChild(o,l)}),uW(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return uW(fu(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function fW(n,e,t,r){return function Lle(n,e,t,r,i){(0,D.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Mn(e,t);if(LP(n.visibleWrites,s))return null;{const o=fu(n.visibleWrites,s);return VP(o)?i.getChild(t):Rf(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function bI(n,e){return function Ble(n,e){return Bc(n.visibleWrites,e)}(n.writeTree,Mn(n.treePath,e))}function UP(n,e,t){return function Vle(n,e,t,r){const i=Mn(e,t),s=Bc(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Rf(fu(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function pW(n,e){return gW(Mn(n.treePath,e),n.writeTree)}function gW(n,e){return{treePath:n,writeTree:e}}class Hle{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,D.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Ym(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,Zm(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,Af(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,D.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Ym(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const mW=new class zle{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class $P{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new hu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return UP(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vc(this.viewCache_),s=function jle(n,e,t,r,i,s){return function Ule(n,e,t,r,i,s,o){let a;const l=fu(n.visibleWrites,e),u=Bc(l,Bt());if(null!=u)a=u;else{if(null==t)return[];a=Rf(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const d=[],f=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let _=m.getNext();for(;_&&d.length<i;)0!==f(_,r)&&d.push(_),_=m.getNext();return d}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function _W(n,e,t,r,i,s){const o=e.eventCache;if(null!=bI(r,t))return e;{let a,l;if(mt(t))if((0,D.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Vc(e),f=BP(r,u instanceof st?u:st.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=CI(r,Vc(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=gt(t);if(".priority"===u){(0,D.hu)(1===du(t),"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=fW(r,t,d,l);a=null!=f?n.filter.updatePriority(d,f):o.getNode()}else{const d=on(t);let f;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const m=fW(r,t,o.getNode(),l);f=null!=m?o.getNode().getImmediateChild(u).updateChild(d,m):o.getNode().getImmediateChild(u)}else f=UP(r,u,e.serverCache);a=null!=f?n.filter.updateChild(o.getNode(),u,f,d,i,s):o.getNode()}}return t_(e,a,o.isFullyInitialized()||mt(t),n.filter.filtersNodes())}}function AI(n,e,t,r,i,s,o,a){const l=e.serverCache;let u;const d=o?n.filter:n.filter.getIndexedFilter();if(mt(t))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(t,r);u=d.updateFullNode(l.getNode(),_,null)}else{const _=gt(t);if(!l.isCompleteForPath(t)&&du(t)>1)return e;const v=on(t),A=l.getNode().getImmediateChild(_).updateChild(v,r);u=".priority"===_?d.updatePriority(l.getNode(),A):d.updateChild(l.getNode(),_,A,v,mW,null)}const f=aW(e,u,l.isFullyInitialized()||mt(t),d.filtersNodes());return _W(n,f,t,i,new $P(i,f,s),a)}function jP(n,e,t,r,i,s,o){const a=e.eventCache;let l,u;const d=new $P(i,e,s);if(mt(t))u=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=t_(e,u,!0,n.filter.filtersNodes());else{const f=gt(t);if(".priority"===f)u=n.filter.updatePriority(e.eventCache.getNode(),r),l=t_(e,u,a.isFullyInitialized(),a.isFiltered());else{const m=on(t),_=a.getNode().getImmediateChild(f);let v;if(mt(m))v=r;else{const T=d.getCompleteChild(f);v=null!=T?".priority"===vP(m)&&T.getChild(qz(m)).isEmpty()?T:T.updateChild(m,r):st.EMPTY_NODE}l=_.equals(v)?e:t_(e,n.filter.updateChild(a.getNode(),f,v,m,d,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function yW(n,e){return n.eventCache.isCompleteForChild(e)}function vW(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function HP(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=mt(t)?r:new gn(null).setTree(t,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,m)=>{if(d.hasChild(f)){const v=vW(0,e.serverCache.getNode().getImmediateChild(f),m);l=AI(n,l,new Ht(f),v,i,s,o,a)}}),u.children.inorderTraversal((f,m)=>{const _=!e.serverCache.isCompleteForChild(f)&&null===m.value;if(!d.hasChild(f)&&!_){const T=vW(0,e.serverCache.getNode().getImmediateChild(f),m);l=AI(n,l,new Ht(f),T,i,s,o,a)}}),l}class Xle{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new DP(r.getIndex()),s=function fle(n){return n.loadsAllData()?new DP(n.getIndex()):n.hasLimit()?new hle(n):new Jm(n)}(r);this.processor_=function Wle(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(st.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(st.EMPTY_NODE,a.getNode(),null),d=new hu(l,o.isFullyInitialized(),i.filtersNodes()),f=new hu(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=wI(f,d),this.eventGenerator_=new Cle(this.query_)}get query(){return this.query_}}function nue(n,e){const t=Vc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!mt(e)&&!t.getImmediateChild(gt(e)).isEmpty())?t.getChild(e):null}function EW(n){return 0===n.eventRegistrations_.length}function wW(n,e,t){const r=[];if(t){(0,D.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function IW(n,e,t,r){e.type===to.MERGE&&null!==e.source.queryId&&((0,D.hu)(Vc(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(II(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function qle(n,e,t,r,i){const s=new Hle;let o,a;if(t.type===to.OVERWRITE){const u=t;u.source.fromUser?o=jP(n,e,u.path,u.snap,r,i,s):((0,D.hu)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!mt(u.path),o=AI(n,e,u.path,u.snap,r,i,a,s))}else if(t.type===to.MERGE){const u=t;u.source.fromUser?o=function Qle(n,e,t,r,i,s,o){let a=e;return r.foreach((l,u)=>{const d=Mn(t,l);yW(e,gt(d))&&(a=jP(n,a,d,u,i,s,o))}),r.foreach((l,u)=>{const d=Mn(t,l);yW(e,gt(d))||(a=jP(n,a,d,u,i,s,o))}),a}(n,e,u.path,u.children,r,i,s):((0,D.hu)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=HP(n,e,u.path,u.children,r,i,a,s))}else if(t.type===to.ACK_USER_WRITE){const u=t;o=u.revert?function Jle(n,e,t,r,i,s){let o;if(null!=bI(r,t))return e;{const a=new $P(r,e,i),l=e.eventCache.getNode();let u;if(mt(t)||".priority"===gt(t)){let d;if(e.serverCache.isFullyInitialized())d=CI(r,Vc(e));else{const f=e.serverCache.getNode();(0,D.hu)(f instanceof st,"serverChildren would be complete if leaf node"),d=BP(r,f)}u=n.filter.updateFullNode(l,d,s)}else{const d=gt(t);let f=UP(r,d,e.serverCache);null==f&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),u=null!=f?n.filter.updateChild(l,d,f,on(t),a,s):e.eventCache.getNode().hasChild(d)?n.filter.updateChild(l,d,st.EMPTY_NODE,on(t),a,s):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=CI(r,Vc(e)),o.isLeafNode()&&(u=n.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=bI(r,Bt()),t_(e,u,o,n.filter.filtersNodes())}}(n,e,u.path,r,i,s):function Zle(n,e,t,r,i,s,o){if(null!=bI(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(mt(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return AI(n,e,t,l.getNode().getChild(t),i,s,a,o);if(mt(t)){let u=new gn(null);return l.getNode().forEachChild(la,(d,f)=>{u=u.set(new Ht(d),f)}),HP(n,e,t,u,i,s,a,o)}return e}{let u=new gn(null);return r.foreach((d,f)=>{const m=Mn(t,d);l.isCompleteForPath(m)&&(u=u.set(d,l.getNode().getChild(m)))}),HP(n,e,t,u,i,s,a,o)}}(n,e,u.path,u.affectedTree,r,i,s)}else{if(t.type!==to.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+t.type);o=function Yle(n,e,t,r,i){const s=e.serverCache;return _W(n,aW(e,s.getNode(),s.isFullyInitialized()||mt(t),s.isFiltered()),t,r,mW,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function Kle(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=II(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(rW(II(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function Gle(n,e){(0,D.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,D.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,TW(n,s.changes,s.viewCache.eventCache.getNode(),null)}function TW(n,e,t,r){return function ble(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function dle(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),e_(n,i,"child_removed",e,r,t),e_(n,i,"child_added",e,r,t),e_(n,i,"child_moved",s,r,t),e_(n,i,"child_changed",e,r,t),e_(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let DI,RI;class CW{constructor(){this.views=new Map}}function zP(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,D.hu)(null!=s,"SyncTree gave us an op for an invalid query."),IW(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(IW(o,e,t,r));return s}}function bW(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=CI(t,i?r:null),l=!1;a?l=!0:r instanceof st?(a=BP(t,r),l=!1):(a=st.EMPTY_NODE,l=!1);const u=wI(new hu(a,l,!1),new hu(r,i,!1));return new Xle(e,u)}return o}function AW(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function pu(n,e){let t=null;for(const r of n.views.values())t=t||nue(r,e);return t}function DW(n,e){return e._queryParams.loadsAllData()?SI(n):n.views.get(e._queryIdentifier)}function SW(n,e){return null!=DW(n,e)}function gu(n){return null!=SI(n)}function SI(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let hue=1;class RW{constructor(e){this.listenProvider_=e,this.syncPointTree_=new gn(null),this.pendingWriteTree_=function $le(){return{visibleWrites:Ao.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function WP(n,e,t,r,i){return function Rle(n,e,t,r,i){(0,D.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=n_(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Pf(n,new Lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function mu(n,e,t=!1){const r=function Mle(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function xle(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);(0,D.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&Nle(a,r.path)?i=!1:eo(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function kle(n){n.visibleWrites=dW(n.allWrites,Ole,Bt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=lW(n.visibleWrites,r.path):$r(r.children,l=>{n.visibleWrites=lW(n.visibleWrites,Mn(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new gn(null);return null!=r.snap?s=s.set(Bt(),!0):$r(r.children,o=>{s=s.set(new Ht(o),!0)}),Pf(n,new EI(r.path,s,t))}return[]}function r_(n,e,t){return Pf(n,new Lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function PI(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||SW(o,e))){const l=function uue(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=gu(n);if("default"===i)for(const[l,u]of n.views.entries())o=o.concat(wW(u,t,r)),EW(u)&&(n.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=n.views.get(i);l&&(o=o.concat(wW(l,t,r)),EW(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!gu(n)&&s.push(new(function oue(){return(0,D.hu)(DI,"Reference.ts has not been loaded"),DI}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,r);(function aue(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const d=-1!==u.findIndex(m=>m._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(s,(m,_)=>gu(_));if(d&&!f){const m=n.syncPointTree_.subtree(s);if(!m.isEmpty()){const _=function vue(n){return n.fold((e,t,r)=>{if(t&&gu(t))return[SI(t)];{let i=[];return t&&(i=AW(t)),$r(r,(s,o)=>{i=i.concat(o)}),i}})}(m);for(let v=0;v<_.length;++v){const T=_[v],A=T.query,x=NW(n,T);n.listenProvider_.startListening(s_(A),i_(n,A),x.hashFn,x.onComplete)}}}!f&&u.length>0&&!r&&(d?n.listenProvider_.stopListening(s_(e),null):u.forEach(m=>{const _=n.queryToTagMap.get(xI(m));n.listenProvider_.stopListening(s_(m),_)}))}!function Eue(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=xI(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,u)}return a}function PW(n,e,t,r){const i=qP(n,r);if(null!=i){const s=KP(i),o=s.path,a=s.queryId,l=Bi(o,e);return QP(n,o,new Lc(kP(a),l,t))}return[]}function GP(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(m,_)=>{const v=Bi(m,i);s=s||pu(_,v),o=o||gu(_)});let l,a=n.syncPointTree_.get(i);a?(o=o||gu(a),s=s||pu(a,Bt())):(a=new CW,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=s?l=!0:(l=!1,s=st.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((_,v)=>{const T=pu(v,Bt());T&&(s=s.updateImmediateChild(_,T))}));const u=SW(a,e);if(!u&&!e._queryParams.loadsAllData()){const m=xI(e);(0,D.hu)(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=function wue(){return hue++}();n.queryToTagMap.set(m,_),n.tagToQueryMap.set(_,m)}let f=function lue(n,e,t,r,i,s){const o=bW(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function rue(n,e){n.eventRegistrations_.push(e)}(o,t),function iue(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(pn,(s,o)=>{r.push(Af(s,o))}),t.isFullyInitialized()&&r.push(rW(t.getNode())),TW(n,r,t.getNode(),e)}(o,t)}(a,e,t,TI(n.pendingWriteTree_,i),s,l);if(!u&&!o&&!r){const m=DW(a,e);f=f.concat(function Iue(n,e,t){const r=e._path,i=i_(n,e),s=NW(n,t),o=n.listenProvider_.startListening(s_(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)(0,D.hu)(!gu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,d,f)=>{if(!mt(u)&&d&&gu(d))return[SI(d).query];{let m=[];return d&&(m=m.concat(AW(d).map(_=>_.query))),$r(f,(_,v)=>{m=m.concat(v)}),m}});for(let u=0;u<l.length;++u){const d=l[u];n.listenProvider_.stopListening(s_(d),i_(n,d))}}return o}(n,e,m))}return f}function MI(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const u=pu(a,Bi(o,e));if(u)return u});return hW(i,e,s,t,!0)}function Pf(n,e){return MW(e,n.syncPointTree_,null,TI(n.pendingWriteTree_,Bt()))}function MW(n,e,t,r){if(mt(n.path))return xW(n,e,t,r);{const i=e.get(Bt());null==t&&null!=i&&(t=pu(i,Bt()));let s=[];const o=gt(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const u=t?t.getImmediateChild(o):null,d=pW(r,o);s=s.concat(MW(a,l,u,d))}return i&&(s=s.concat(zP(i,n,r,t))),s}}function xW(n,e,t,r){const i=e.get(Bt());null==t&&null!=i&&(t=pu(i,Bt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,u=pW(r,o),d=n.operationForChild(o);d&&(s=s.concat(xW(d,a,l,u)))}),i&&(s=s.concat(zP(i,n,r,t))),s}function NW(n,e){const t=e.query,r=i_(n,t);return{hashFn:()=>(function eue(n){return n.viewCache_.serverCache.getNode()}(e)||st.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function mue(n,e,t){const r=qP(n,t);if(r){const i=KP(r),s=i.path,o=i.queryId,a=Bi(s,e);return QP(n,s,new Xm(kP(o),a))}return[]}(n,t._path,r):function gue(n,e){return Pf(n,new Xm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function pae(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return PI(n,t,null,s)}}}}function i_(n,e){const t=xI(e);return n.queryToTagMap.get(t)}function xI(n){return n._path.toString()+"$"+n._queryIdentifier}function qP(n,e){return n.tagToQueryMap.get(e)}function KP(n){const e=n.indexOf("$");return(0,D.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ht(n.substr(0,e))}}function QP(n,e,t){const r=n.syncPointTree_.get(e);return(0,D.hu)(r,"Missing sync point for query tag that we're tracking"),zP(r,t,TI(n.pendingWriteTree_,e),null)}function s_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function due(){return(0,D.hu)(RI,"Reference.ts has not been loaded"),RI}())(n._repo,n._path):n}class ZP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ZP(t)}node(){return this.node_}}class YP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Mn(this.path_,e);return new YP(this.syncTree_,t)}node(){return MI(this.syncTree_,this.path_)}}const Tue=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},kW=function(n,e,t){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Cue(n[".sv"],e,t):"object"==typeof n[".sv"]?bue(n[".sv"],e):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Cue=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},bue=function(n,e,t){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,D.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,D.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},OW=function(n,e,t,r){return XP(e,new YP(t,n),r)},JP=function(n,e,t){return XP(n,new ZP(e),t)};function XP(n,e,t){const r=n.getPriority().val(),i=kW(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=kW(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Cf(a,Vn(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Cf(i))),o.forEachChild(pn,(a,l)=>{const u=XP(l,e.getImmediateChild(a),t);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class eM{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function NI(n,e){let t=e instanceof Ht?e:new Ht(e),r=n,i=gt(t);for(;null!==i;){const s=(0,D.DV)(r.node.children,i)||{children:{},childCount:0};r=new eM(i,r,s),t=on(t),i=gt(t)}return r}function Uc(n){return n.node.value}function tM(n,e){n.node.value=e,nM(n)}function FW(n){return n.node.childCount>0}function kI(n,e){$r(n.node.children,(t,r)=>{e(new eM(t,n,r))})}function LW(n,e,t,r){t&&!r&&e(n),kI(n,i=>{LW(i,e,!0,r)}),t&&r&&e(n)}function o_(n){return new Ht(null===n.parent?n.name:o_(n.parent)+"/"+n.name)}function nM(n){null!==n.parent&&function Sue(n,e,t){const r=function Aue(n){return void 0===Uc(n)&&!FW(n)}(t),i=(0,D.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,nM(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,nM(n))}(n.parent,n.name,n)}const Rue=/[\[\].#$\/\u0000-\u001F\u007F]/,Pue=/[\[\].#$\u0000-\u001F\u007F]/,rM=10485760,OI=function(n){return"string"==typeof n&&0!==n.length&&!Rue.test(n)},VW=function(n){return"string"==typeof n&&0!==n.length&&!Pue.test(n)},a_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!lI(n)||n&&"object"==typeof n&&(0,D.r3)(n,".sv")},ua=function(n,e,t,r){r&&void 0===e||l_((0,D.gK)(n,"value"),e,t)},l_=function(n,e,t){const r=t instanceof Ht?new qae(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Oc(r));if("function"==typeof e)throw new Error(n+"contains a function "+Oc(r)+" with contents = "+e.toString());if(lI(e))throw new Error(n+"contains "+e.toString()+" "+Oc(r));if("string"==typeof e&&e.length>rM/3&&(0,D.ug)(e)>rM)throw new Error(n+"contains a string greater than "+rM+" utf8 bytes "+Oc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if($r(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!OI(o)))throw new Error(n+" contains an invalid key ("+o+") "+Oc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Kae(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,D.ug)(e),Kz(n)})(r,o),l_(n,a,r),function Qae(n){const e=n.parts_.pop();n.byteLength_-=(0,D.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+Oc(r)+" in addition to actual children.")}},BW=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,D.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];$r(e,(o,a)=>{const l=new Ht(o);if(l_(i,a,Mn(t,l)),".priority"===vP(l)&&!a_(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Gm(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!OI(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Gae);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&eo(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},iM=function(n,e,t){if(!t||void 0!==e){if(lI(e))throw new Error((0,D.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!a_(e))throw new Error((0,D.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},u_=function(n,e,t,r){if(!(r&&void 0===t||OI(t)))throw new Error((0,D.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},c_=function(n,e,t,r){if(!(r&&void 0===t||VW(t)))throw new Error((0,D.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Nue=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),c_(n,e,t,r)},no=function(n,e){if(".info"===gt(e))throw new Error(n+" failed = Can't modify data under /.info/")},UW=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!OI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),VW(n)}(t))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class kue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function FI(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!EP(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function $W(n,e,t){FI(n,t),jW(n,r=>EP(r,e))}function Ps(n,e,t){FI(n,t),jW(n,r=>eo(r,e)||eo(e,r))}function jW(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Oue(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Oue(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Nc&&Ur("event: "+t.toString()),If(r)}}}const HW="repo_interrupt",Fue=25;class Lue{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vI(),this.transactionQueueTree_=new eM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zW(n){const t=n.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function d_(n){return Tue({timestamp:zW(n)})}function WW(n,e,t,r,i){n.dataUpdateCount++;const s=new Ht(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=(0,D.UI)(t,u=>Vn(u));o=function _ue(n,e,t,r){const i=qP(n,r);if(i){const s=KP(i),o=s.path,a=s.queryId,l=Bi(o,e),u=gn.fromObject(t);return QP(n,o,new Sf(kP(a),l,u))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=Vn(t);o=PW(n.serverSyncTree_,s,l,i)}else if(r){const l=(0,D.UI)(t,u=>Vn(u));o=function pue(n,e,t){const r=gn.fromObject(t);return Pf(n,new Sf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=Vn(t);o=r_(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=xf(n,s)),Ps(n.eventQueue_,a,o)}function GW(n,e){sM(n,"connected",e),!1===e&&function jue(n){Mf(n,"onDisconnectEvents");const e=d_(n),t=vI();MP(n.onDisconnect_,Bt(),(i,s)=>{const o=OW(i,s,n.serverSyncTree_,e);Df(t,i,o)});let r=[];MP(t,Bt(),(i,s)=>{r=r.concat(r_(n.serverSyncTree_,i,s));const o=uM(n,i);xf(n,o)}),n.onDisconnect_=vI(),Ps(n.eventQueue_,Bt(),r)}(n)}function sM(n,e,t){const r=new Ht("/.info/"+e),i=Vn(t);n.infoData_.updateSnapshot(r,i);const s=r_(n.infoSyncTree_,r,i);Ps(n.eventQueue_,r,s)}function LI(n){return n.nextWriteId_++}function oM(n,e,t,r,i){Mf(n,"set",{path:e.toString(),value:t,priority:r});const s=d_(n),o=Vn(t,r),a=MI(n.serverSyncTree_,e),l=JP(o,a,s),u=LI(n),d=WP(n.serverSyncTree_,e,l,u,!0);FI(n.eventQueue_,d),n.server_.put(e.toString(),o.val(!0),(m,_)=>{const v="ok"===m;v||wi("set at "+e+" failed: "+m);const T=mu(n.serverSyncTree_,u,!v);Ps(n.eventQueue_,e,T),_u(0,i,m,_)});const f=uM(n,e);xf(n,f),Ps(n.eventQueue_,f,[])}function Hue(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&PP(n.onDisconnect_,e),_u(0,t,r,i)})}function qW(n,e,t,r){const i=Vn(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&Df(n.onDisconnect_,e,i),_u(0,r,s,o)})}function aM(n,e,t){let r;r=".info"===gt(e._path)?PI(n.infoSyncTree_,e,t):PI(n.serverSyncTree_,e,t),$W(n.eventQueue_,e._path,r)}function KW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(HW)}function Mf(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ur(t,...e)}function _u(n,e,t,r){e&&If(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function lM(n,e,t){return MI(n.serverSyncTree_,e,t)||st.EMPTY_NODE}function VI(n,e=n.transactionQueueTree_){if(e||BI(n,e),Uc(e)){const t=ZW(n,e);(0,D.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Que(n,e,t){const r=t.map(u=>u.currentWriteId),i=lM(n,e,r);let s=i;const o=i.hash();for(let u=0;u<t.length;u++){const d=t[u];(0,D.hu)(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Bi(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,u=>{Mf(n,"transaction put response",{path:l.toString(),status:u});let d=[];if("ok"===u){const f=[];for(let m=0;m<t.length;m++)t[m].status=2,d=d.concat(mu(n.serverSyncTree_,t[m].currentWriteId)),t[m].onComplete&&f.push(()=>t[m].onComplete(null,!0,t[m].currentOutputSnapshotResolved)),t[m].unwatcher();BI(n,NI(n.transactionQueueTree_,e)),VI(n,n.transactionQueueTree_),Ps(n.eventQueue_,e,d);for(let m=0;m<f.length;m++)If(f[m])}else{if("datastale"===u)for(let f=0;f<t.length;f++)t[f].status=3===t[f].status?4:0;else{wi("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=u}xf(n,e)}},o)}(n,o_(e),t)}else FW(e)&&kI(e,t=>{VI(n,t)})}function xf(n,e){const t=QW(n,e),r=o_(t);return function Zue(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Bi(t,l.path);let f,d=!1;if((0,D.hu)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,f=l.abortReason,i=i.concat(mu(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Fue)d=!0,f="maxretry",i=i.concat(mu(n.serverSyncTree_,l.currentWriteId,!0));else{const m=lM(n,l.path,o);l.currentInputSnapshot=m;const _=e[a].update(m.val());if(void 0!==_){l_("transaction failed: Data returned ",_,l.path);let v=Vn(_);"object"==typeof _&&null!=_&&(0,D.r3)(_,".priority")||(v=v.updatePriority(m.getPriority()));const A=l.currentWriteId,x=d_(n),F=JP(v,m,x);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=F,l.currentWriteId=LI(n),o.splice(o.indexOf(A),1),i=i.concat(WP(n.serverSyncTree_,l.path,F,l.currentWriteId,l.applyLocally)),i=i.concat(mu(n.serverSyncTree_,A,!0))}else d=!0,f="nodata",i=i.concat(mu(n.serverSyncTree_,l.currentWriteId,!0))}Ps(n.eventQueue_,t,i),i=[],d&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}BI(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)If(r[a]);VI(n,n.transactionQueueTree_)}(n,ZW(n,t),r),r}function QW(n,e){let t,r=n.transactionQueueTree_;for(t=gt(e);null!==t&&void 0===Uc(r);)r=NI(r,t),t=gt(e=on(e));return r}function ZW(n,e){const t=[];return YW(n,e,t),t.sort((r,i)=>r.order-i.order),t}function YW(n,e,t){const r=Uc(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);kI(e,i=>{YW(n,i,t)})}function BI(n,e){const t=Uc(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,tM(e,t.length>0?t:void 0)}kI(e,r=>{BI(n,r)})}function uM(n,e){const t=o_(QW(n,e)),r=NI(n.transactionQueueTree_,e);return function Due(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{cM(n,i)}),cM(n,r),LW(r,i=>{cM(n,i)}),t}function cM(n,e){const t=Uc(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,D.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,D.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(mu(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?tM(e,void 0):t.length=s+1,Ps(n.eventQueue_,o_(e),i);for(let o=0;o<r.length;o++)If(r[o])}}const dM=function(n,e){const t=Xue(n),r=t.namespace;return"firebase.com"===t.domain&&aa(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&aa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new fP(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Ht(t.pathString)}},Xue=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let d=n.indexOf("/");-1===d&&(d=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),e=n.substring(0,Math.min(d,f)),d<f&&(i=function Yue(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(d,f)));const m=function Jue(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,f)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if("localhost"===_.toLowerCase())t="localhost";else if(_.split(".").length<=2)t=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),t=e.substring(v+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},JW="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ece=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=JW.charAt(t%64),t=Math.floor(t/64);(0,D.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=JW.charAt(e[i]);return(0,D.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class XW{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Wl)(this.snapshot.exportVal())}}class eG{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hM{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class tG{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new D.BH;return Hue(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){no("OnDisconnect.remove",this._path);const e=new D.BH;return qW(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){no("OnDisconnect.set",this._path),ua("OnDisconnect.set",e,this._path,!1);const t=new D.BH;return qW(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){no("OnDisconnect.setWithPriority",this._path),ua("OnDisconnect.setWithPriority",e,this._path,!1),iM("OnDisconnect.setWithPriority",t,!1);const r=new D.BH;return function zue(n,e,t,r,i){const s=Vn(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{"ok"===o&&Df(n.onDisconnect_,e,s),_u(0,i,o,a)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){no("OnDisconnect.update",this._path),BW("OnDisconnect.update",e,this._path,!1);const t=new D.BH;return function Wue(n,e,t,r){if((0,D.xb)(t))return Ur("onDisconnect().update() called with empty data.  Don't do anything."),void _u(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&$r(t,(o,a)=>{const l=Vn(a);Df(n.onDisconnect_,Mn(e,o),l)}),_u(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class us{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return mt(this._path)?null:vP(this._path)}get ref(){return new ro(this._repo,this._path)}get _queryIdentifier(){const e=sW(this._queryParams),t=dP(e);return"{}"===t?"default":t}get _queryObject(){return sW(this._queryParams)}isEqual(e){if(!((e=(0,D.m9)(e))instanceof us))return!1;const t=this._repo===e._repo,r=EP(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Wae(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function UI(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function yu(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===la){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==uu)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==el)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===pn){if(null!=e&&!a_(e)||null!=t&&!a_(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(n.getIndex()instanceof bP||n.getIndex()===AP,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $I(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ro extends us{constructor(e,t){super(e,t,new mI,!1)}get parent(){const e=qz(this._path);return null===e?null:new ro(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $c{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ht(e),r=jc(this.ref,e);return new $c(this._node.getChild(t),r,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new $c(i,jc(this.ref,r),pn)))}hasChild(e){const t=new Ht(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function nG(n,e){return(n=(0,D.m9)(n))._checkNotDeleted("ref"),void 0!==e?jc(n._root,e):n._root}function rG(n,e){(n=(0,D.m9)(n))._checkNotDeleted("refFromURL");const t=dM(e,n._repo.repoInfo_.nodeAdmin);UW("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&aa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),nG(n,t.path.toString())}function jc(n,e){return null===gt((n=(0,D.m9)(n))._path)?Nue("child","path",e,!1):c_("child","path",e,!1),new ro(n._repo,Mn(n._path,e))}function fM(n,e){n=(0,D.m9)(n),no("set",n._path),ua("set",e,n._path,!1);const t=new D.BH;return oM(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function sce(n,e){BW("update",e,n._path,!1);const t=new D.BH;return function $ue(n,e,t,r){Mf(n,"update",{path:e.toString(),value:t});let i=!0;const s=d_(n),o={};if($r(t,(a,l)=>{i=!1,o[a]=OW(Mn(e,a),Vn(l),n.serverSyncTree_,s)}),i)Ur("update() called with empty data.  Don't do anything."),_u(0,r,"ok",void 0);else{const a=LI(n),l=function fue(n,e,t,r){!function Ple(n,e,t,r){(0,D.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=FP(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=gn.fromObject(t);return Pf(n,new Sf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,o,a);FI(n.eventQueue_,l),n.server_.merge(e.toString(),t,(u,d)=>{const f="ok"===u;f||wi("update at "+e+" failed: "+u);const m=mu(n.serverSyncTree_,a,!f),_=m.length>0?xf(n,e):e;Ps(n.eventQueue_,_,m),_u(0,r,u,d)}),$r(t,u=>{const d=uM(n,Mn(e,u));xf(n,d)}),Ps(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function oce(n){n=(0,D.m9)(n);const e=new hM(()=>{}),t=new h_(e);return function Uue(n,e,t){const r=function yue(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(u,d)=>{const f=Bi(u,t);r=r||pu(d,f)});let i=n.syncPointTree_.get(t);i?r=r||pu(i,Bt()):(i=new CW,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,o=s?new hu(r,!0,!1):null;return function tue(n){return II(n.viewCache_)}(bW(i,e,TI(n.pendingWriteTree_,e._path),s?o.getNode():st.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=Vn(i).withIndex(e._queryParams.getIndex());let o;if(GP(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())o=r_(n.serverSyncTree_,e._path,s);else{const a=i_(n.serverSyncTree_,e);o=PW(n.serverSyncTree_,e._path,s,a)}return Ps(n.eventQueue_,e._path,o),PI(n.serverSyncTree_,e,t,null,!0),s},i=>(Mf(n,"get for query "+(0,D.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new $c(r,new ro(n._repo,n._path),n._queryParams.getIndex()))}class h_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new XW("value",this,new $c(e.snapshotNode,new ro(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new eG(this,e,t):null}matches(e){return e instanceof h_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jI{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new eG(this,e,t):null}createEvent(e,t){(0,D.hu)(null!=e.childName,"Child events should have a childName.");const r=jc(new ro(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new XW(e.type,this,new $c(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof jI&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function f_(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=t,u=(d,f)=>{aM(n._repo,n,a),l(d,f)};u.userCallback=t.userCallback,u.context=t.context,t=u}const o=new hM(t,s||void 0),a="value"===e?new h_(o):new jI(e,o);return function Gue(n,e,t){let r;r=".info"===gt(e._path)?GP(n.infoSyncTree_,e,t):GP(n.serverSyncTree_,e,t),$W(n.eventQueue_,e._path,r)}(n._repo,n,a),()=>aM(n._repo,n,a)}function pM(n,e,t,r){return f_(n,"value",e,t,r)}function iG(n,e,t,r){return f_(n,"child_added",e,t,r)}function sG(n,e,t,r){return f_(n,"child_changed",e,t,r)}function oG(n,e,t,r){return f_(n,"child_moved",e,t,r)}function aG(n,e,t,r){return f_(n,"child_removed",e,t,r)}function lG(n,e,t){let r=null;const i=t?new hM(t):null;"value"===e?r=new h_(i):e&&(r=new jI(e,i)),aM(n._repo,n,r)}class Do{}class uG extends Do{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("endAt",this._value,e._path,!0);const t=RP(e._queryParams,this._value,this._key);if($I(t),yu(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}class lce extends Do{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("endBefore",this._value,e._path,!1);const t=function _le(n,e,t){let r;return r=RP(n,e,n.index_===la||t?t:uu),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if($I(t),yu(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}class cG extends Do{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("startAt",this._value,e._path,!0);const t=SP(e._queryParams,this._value,this._key);if($I(t),yu(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}class dce extends Do{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("startAfter",this._value,e._path,!1);const t=function mle(n,e,t){let r;return r=SP(n,e,n.index_===la||t?t:el),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if($I(t),yu(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}class fce extends Do{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(e._repo,e._path,function ple(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class gce extends Do{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(e._repo,e._path,function gle(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class _ce extends Do{constructor(e){super(),this._path=e}_apply(e){UI(e,"orderByChild");const t=new Ht(this._path);if(mt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new bP(t),i=_I(e._queryParams,r);return yu(i),new us(e._repo,e._path,i,!0)}}class vce extends Do{_apply(e){UI(e,"orderByKey");const t=_I(e._queryParams,la);return yu(t),new us(e._repo,e._path,t,!0)}}class wce extends Do{_apply(e){UI(e,"orderByPriority");const t=_I(e._queryParams,pn);return yu(t),new us(e._repo,e._path,t,!0)}}class Tce extends Do{_apply(e){UI(e,"orderByValue");const t=_I(e._queryParams,AP);return yu(t),new us(e._repo,e._path,t,!0)}}class bce extends Do{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ua("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uG(this._value,this._key)._apply(new cG(this._value,this._key)._apply(e))}}function So(n,...e){let t=(0,D.m9)(n);for(const r of e)t=r._apply(t);return t}(function sue(n){(0,D.hu)(!DI,"__referenceConstructor has already been defined"),DI=n})(ro),function cue(n){(0,D.hu)(!RI,"__referenceConstructor has already been defined"),RI=n}(ro);const Dce="FIREBASE_DATABASE_EMULATOR_HOST",gM={};let dG=!1;function mM(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||aa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ur("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,u,o=dM(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(u=process.env[Dce]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=dM(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new Wm(Wm.OWNER):new Eae(n.name,n.options,e);UW("Invalid Firebase Database URL",o),mt(o.path)||aa("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function Pce(n,e,t,r){let i=gM[e.name];i||(i={},gM[e.name]=i);let s=i[n.toURLString()];return s&&aa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Lue(n,dG,t,r),i[n.toURLString()]=s,s}(a,n,d,new vae(n.name,t));return new xce(f,n)}class xce{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Vue(n,e,t){if(n.stats_=mP(n.repoInfo_),n.forceRestClient_||yae())n.server_=new yI(n.repoInfo_,(r,i,s,o)=>{WW(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>GW(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Fc(n.repoInfo_,e,(r,i,s,o)=>{WW(n,r,i,s,o)},r=>{GW(n,r)},r=>{!function Bue(n,e){$r(e,(t,r)=>{sM(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Tae(n,e){const t=n.toString();return gP[t]||(gP[t]=e()),gP[t]}(n.repoInfo_,()=>new Tle(n.stats_,n.server_)),n.infoData_=new yle,n.infoSyncTree_=new RW({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=r_(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),sM(n,"connected",!1),n.serverSyncTree_=new RW({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ps(n.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ro(this._repo,Bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Rce(n,e){const t=gM[e];(!t||t[n.key]!==n)&&aa(`Database ${e}(${n.repoInfo_}) has already been deleted.`),KW(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&aa("Cannot call "+e+" on a deleted database.")}}function hG(){Oz.IS_TRANSPORT_INITIALIZED&&wi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Nce(){hG(),cu.forceDisallow()}function kce(){hG(),Tf.forceDisallow(),cu.forceAllow()}function Lce(n,e){gz(n,e)}const Bce={".sv":"timestamp"};class jce{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Fc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Fc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Vce(n){lP(Ar.SDK_VERSION),(0,Ar._registerComponent)(new $l.wA("database",(e,{instanceIdentifier:t})=>mM(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ar.registerVersion)(uz,"1.0.1",n),(0,Ar.registerVersion)(uz,"1.0.1","esm2017")}();const Gce=new Js.Yd("@firebase/database-compat"),pG=function(n){Gce.warn("FIREBASE WARNING: "+n)};class Qce{constructor(e){this._delegate=e}cancel(e){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,pG("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class Zce{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vu{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),c_("DataSnapshot.child","path",e,!1),new vu(this._database,this._delegate.child(e))}hasChild(e){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),c_("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new vu(this._database,t)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ms(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ti{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",t,!1);const o=ti.getCancelAndContextArgs_("Query.on",r,i),a=(u,d)=>{t.call(o.context,new vu(this.database,u),d)};a.userCallback=t,a.context=o.context;const l=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return pM(this._delegate,a,l),t;case"child_added":return iG(this._delegate,a,l),t;case"child_removed":return aG(this._delegate,a,l),t;case"child_changed":return sG(this._delegate,a,l),t;case"child_moved":return oG(this._delegate,a,l),t;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,D.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,D.Wj)("Query.off","callback",t,!0),(0,D.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,lG(this._delegate,e,i)}else lG(this._delegate,e)}get(){return oce(this._delegate).then(e=>new vu(this.database,e))}once(e,t,r,i){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",t,!0);const s=ti.getCancelAndContextArgs_("Query.once",r,i),o=new D.BH,a=(u,d)=>{const f=new vu(this.database,u);t&&t.call(s.context,f,d),o.resolve(f)};a.userCallback=t,a.context=s.context;const l=u=>{s.cancel&&s.cancel.call(s.context,u),o.reject(u)};switch(e){case"value":pM(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":iG(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":aG(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":sG(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":oG(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new ti(this.database,So(this._delegate,function pce(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fce(n)}(e)))}limitToLast(e){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new ti(this.database,So(this._delegate,function mce(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gce(n)}(e)))}orderByChild(e){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new ti(this.database,So(this._delegate,function yce(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return c_("orderByChild","path",n,!1),new _ce(n)}(e)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new ti(this.database,So(this._delegate,function Ece(){return new vce}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new ti(this.database,So(this._delegate,function Ice(){return new wce}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new ti(this.database,So(this._delegate,function Cce(){return new Tce}()))}startAt(e=null,t){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new ti(this.database,So(this._delegate,function cce(n=null,e){return u_("startAt","key",e,!0),new cG(n,e)}(e,t)))}startAfter(e=null,t){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new ti(this.database,So(this._delegate,function hce(n,e){return u_("startAfter","key",e,!0),new dce(n,e)}(e,t)))}endAt(e=null,t){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new ti(this.database,So(this._delegate,function ace(n,e){return u_("endAt","key",e,!0),new uG(n,e)}(e,t)))}endBefore(e=null,t){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new ti(this.database,So(this._delegate,function uce(n,e){return u_("endBefore","key",e,!0),new lce(n,e)}(e,t)))}equalTo(e,t){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new ti(this.database,So(this._delegate,function Ace(n,e){return u_("equalTo","key",e,!0),new bce(n,e)}(e,t)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ti))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,D.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,D.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,D.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Ms(this.database,new ro(this._delegate._repo,this._delegate._path))}}class Ms extends ti{constructor(e,t){super(e,new us(t._repo,t._path,new mI,!1)),this.database=e,this._delegate=t}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ms(this.database,jc(this._delegate,e))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ms(this.database,e):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new Ms(this.database,this._delegate.root)}set(e,t){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",t,!0);const r=fM(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,pG("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}no("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",t,!0);const r=sce(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function ice(n,e,t){if(no("setWithPriority",n._path),ua("setWithPriority",e,n._path,!1),iM("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new D.BH;return oM(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",e,!0);const t=function nce(n){return no("remove",n._path),fM(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,D.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Hce(n,e,t){var r;if(n=(0,D.m9)(n),no("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,s=new D.BH,a=pM(n,()=>{});return function Kue(n,e,t,r,i,s){Mf(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:hz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=lM(n,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{l_("transaction failed: Data returned ",l,o.path),o.status=0;const u=NI(n.transactionQueueTree_,e),d=Uc(u)||[];let f;d.push(o),tM(u,d),"object"==typeof l&&null!==l&&(0,D.r3)(l,".priority")?(f=(0,D.DV)(l,".priority"),(0,D.hu)(a_(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(MI(n.serverSyncTree_,e)||st.EMPTY_NODE).getPriority().val();const m=d_(n),_=Vn(l,f),v=JP(_,a,m);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=v,o.currentWriteId=LI(n);const T=WP(n.serverSyncTree_,e,v,o.currentWriteId,o.applyLocally);Ps(n.eventQueue_,e,T),VI(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(l,u,d)=>{let f=null;l?s.reject(l):(f=new $c(d,new ro(n._repo,n._path),pn),s.resolve(new jce(u,f)))},a,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new Zce(s.committed,new vu(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",t,!0);const r=function rce(n,e){n=(0,D.m9)(n),no("setPriority",n._path),iM("setPriority",e,!1);const t=new D.BH;return oM(n._repo,Mn(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",t,!0);const r=function tce(n,e){n=(0,D.m9)(n),no("push",n._path),ua("push",e,n._path,!0);const t=zW(n._repo),r=ece(t),i=jc(n,r),s=jc(n,r);let o;return o=null!=e?fM(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new Ms(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new Ms(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return no("Reference.onDisconnect",this._delegate._path),new Qce(new tG(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class p_{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Nce,forceLongPolling:kce}}useEmulator(e,t,r={}){!function fG(n,e,t,r={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&aa("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&aa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Wm(Wm.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,D.Sg)(r.mockUserToken,n.app.options.projectId);s=new Wm(o)}!function Sce(n,e,t,r){n.repoInfo_=new fP(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,D.Dv)("database.ref",0,1,arguments.length),e instanceof Ms){const t=rG(this._delegate,e.toString());return new Ms(this,t)}{const t=nG(this._delegate,e);return new Ms(this,t)}}refFromURL(e){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const r=rG(this._delegate,e);return new Ms(this,r)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function Oce(n){(n=(0,D.m9)(n))._checkNotDeleted("goOffline"),KW(n._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function Fce(n){(n=(0,D.m9)(n))._checkNotDeleted("goOnline"),function que(n){n.persistentConnection_&&n.persistentConnection_.resume(HW)}(n._repo)}(this._delegate)}}p_.ServerValue={TIMESTAMP:function Uce(){return Bce}(),increment:n=>function $ce(n){return{".sv":{increment:n}}}(n)};var Jce=Object.freeze({__proto__:null,initStandalone:function Yce({app:n,url:e,version:t,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){lP(t);const a=new $l.H0("database-standalone"),l=new $l.zt("auth-internal",a);let u;return l.setComponent(new $l.wA("auth-internal",()=>r,"PRIVATE")),i&&(u=new $l.zt("app-check-internal",a),u.setComponent(new $l.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new p_(mM(n,l,u,e,o),n),namespace:s}}});const Xce=p_.ServerValue;function g_(n,e,t="on",r=EE){return new qe(i=>{let s=null;return s=n[t](e,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),"once"===t&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe(ue(i=>{const{snapshot:s,prevKey:o}=i;let a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),E())}function gG(n){return null==n}function mG(n){return"function"==typeof n.set}function _G(n,e){return mG(e)?e:n.ref(e)}function yG(n,e){if(function tde(n){return"string"==typeof n}(n))return e.stringCase();if(mG(n))return e.firebaseCase();if(function nde(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function vG(n){return(gG(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function EG(n,e,t){return C(...(e=vG(e)).map(i=>g_(n,i,"on",t)))}function wG(n,e){return function(r,i){return yG(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function ode(n){return function(t){return t?yG(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function IG(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function ude(n,e){const{payload:t,prevKey:r,key:i}=e,s=IG(n,i),o=function lde(n,e){if(gG(e))return 0;{const t=IG(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{const u={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,u],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==r&&(n=n.filter(l=>l.payload.key!==t.key)).splice(o,0,e);else{if(null==r)return[e,...n];(n=n.slice()).splice(o,0,e)}return n;case"child_removed":return n.filter(a=>a.payload.key!==t.key);case"child_changed":return n.map(a=>a.payload.key===i?e:a);case"child_moved":if(s>-1){const a=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,a),n}return n;default:return n}}function TG(n,e,t){return function ade(n,e,t){return g_(n,"value","once",t).pipe(Fn(r=>{const i=[xe(r)];return e.forEach(s=>i.push(g_(n,s,"on",t))),C(...i).pipe(kv(ude,[]))}),function sae(n,e=bn){return n=n??oae,K((t,r)=>{let i,s=!0;t.subscribe(ce(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}())}(n,e=vG(e),t)}function CG(n,e){return function(){return g_(n,"value","on",e)}}!function ede(n){n.INTERNAL.registerComponent(new $l.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new p_(i,r)},"PUBLIC").setServiceProps({Reference:Ms,Query:ti,Database:p_,DataSnapshot:vu,enableLogging:Lce,INTERNAL:Jce,ServerValue:Xce}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(Um.Z);const hde=new me("angularfire2.realtimeDatabaseURL"),fde=new me("angularfire2.database.use-emulator");let pde=(()=>{class n{schedulers;database;constructor(t,r,i,s,o,a,l,u,d,f,m,_,v,T,A){this.schedulers=a;const x=l,F=oP(t,o,r);u&&az(F,o,d,m,_,v,f,T),this.database=YH(`${F.name}.database.${i}`,"AngularFireDatabase",F.name,()=>{const P=o.runOutsideAngular(()=>F.database(i||void 0));return x&&P.useEmulator(...x),P},[x])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>_G(this.database,t));let s=i;return r&&(s=r(i)),function cde(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:wG(r,"update"),set:wG(r,"set"),push:i=>r.push(i),remove:ode(r),snapshotChanges:i=>TG(n,i,t).pipe(Ul),stateChanges:i=>EG(n,i,t).pipe(Ul),auditTrail:i=>function rde(n,e,t){return function sde(n,e,t){return function ide(n,e){return g_(n,"value","on",e).pipe(ue(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function rae(...n){const e=ji(n);return K((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)ft(n[l]).subscribe(ce(r,u=>{s[l]=u,!a&&!o[l]&&(o[l]=!0,(a=o.every(bn))&&(o=null))},Ae));t.subscribe(ce(r,l=>{if(a){const u=[l,...s];r.next(e?e(...u):u)}}))})}(e),ue(([i,s])=>{const o=i.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function iae(n){return K((e,t)=>{let r=!1,i=0;e.subscribe(ce(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),ue(i=>i.actions))}(n,EG(n,e).pipe(kv((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(Ul),valueChanges:(i,s)=>TG(n,i,t).pipe(ue(a=>a.map(l=>s&&s.idField?{...l.payload.val(),[s.idField]:l.key}:l.payload.val())),Ul)}}(s,this)}object(t){return function dde(n,e){return{query:n,snapshotChanges:()=>CG(n,e.schedulers.outsideAngular)().pipe(Ul),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>CG(n,e.schedulers.outsideAngular)().pipe(Ul,ue(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>_G(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||n)(ae(iP),ae(sP,8),ae(hde,8),ae(Qu),ae(Vt),ae(IE),ae(fde,8),ae(lz,8),ae(tz,8),ae(nz,8),ae(rz,8),ae(iz,8),ae(sz,8),ae(oz,8),ae(RA,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),gde=(()=>{class n{constructor(){Um.Z.registerVersion("angularfire",wE.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=Jn({providers:[pde]})}return n})();const mde=["addListener","removeListener"],_de=["addEventListener","removeEventListener"],yde=["on","off"];function HI(n,e,t,r){if(b(t)&&(r=t,t=void 0),r)return HI(n,e,t).pipe(Ab(r));const[i,s]=function wde(n){return b(n.addEventListener)&&b(n.removeEventListener)}(n)?_de.map(o=>a=>n[o](e,a,t)):function vde(n){return b(n.addListener)&&b(n.removeListener)}(n)?mde.map(bG(n,e)):function Ede(n){return b(n.on)&&b(n.off)}(n)?yde.map(bG(n,e)):[];if(!i&&It(n))return Nt(o=>HI(o,e,t))(ft(n));if(!i)throw new TypeError("Invalid event target");return new qe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function bG(n,e){return t=>r=>n[t](e,r)}const Eu=new qe(Ae),Tde={connector:()=>new z};function AG(n,e=Tde){const{connector:t}=e;return K((r,i)=>{const s=t();ft(n(function Ide(n){return new qe(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function DG(n,e){return e?t=>Xp(e.pipe(rs(1),function Ade(){return K((n,e)=>{n.subscribe(ce(e,Ae))})}()),t.pipe(DG(n))):Nt((t,r)=>ft(n(t,r)).pipe(rs(1),JF(t)))}const m_="Service workers are disabled or not supported by this browser";class zI{constructor(e){if(this.serviceWorker=e,e){const r=HI(e,"controllerchange").pipe(ue(()=>e.controller)),s=Xp(xv(()=>xe(e.controller)),r);this.worker=s.pipe(Oi(d=>!!d)),this.registration=this.worker.pipe(Fn(()=>e.getRegistration()));const u=HI(e,"message").pipe(ue(d=>d.data)).pipe(Oi(d=>d&&d.type)).pipe(function bde(n){return n?e=>AG(n)(e):e=>function Cde(n,e){const t=b(n)?n:()=>n;return b(e)?AG(e,{connector:t}):r=>new Sb(r,t)}(new z)(e)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function Pde(n){return xv(()=>uh(new Error(n)))}(m_)}postMessage(e,t){return this.worker.pipe(rs(1),br(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Oi(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(rs(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Oi(t=>t.nonce===e),rs(1),ue(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Mde=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new z,!t.isEnabled)return this.messages=Eu,this.notificationClicks=Eu,void(this.subscription=Eu);this.messages=this.sw.eventsOfType("PUSH").pipe(ue(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ue(i=>i.data)),this.pushManager=this.sw.registration.pipe(ue(i=>i.pushManager));const r=this.pushManager.pipe(Fn(i=>i.getSubscription()));this.subscription=C(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(m_));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Fn(o=>o.subscribe(r)),rs(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(rs(1),Fn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(m_))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ae(zI))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),xde=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Eu,this.available=Eu,this.activated=Eu,void(this.unrecoverable=Eu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Oi(r=>"VERSION_READY"===r.type),ue(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(m_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(m_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ae(zI))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class _M{}const SG=new me("NGSW_REGISTER_SCRIPT");function Nde(n,e,t,r){return()=>{if(!_F(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[o,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=xe(null);break;case"registerWithDelay":i=RG(+a[0]||0);break;case"registerWhenStable":i=a[0]?C(PG(n),RG(+a[0])):PG(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Vt).runOutsideAngular(()=>i.pipe(rs(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function RG(n){return xe(null).pipe(function Rde(n,e=EE){const t=function Sde(n=0,e,t=$X){let r=-1;return null!=e&&(_n(e)?t=e:r=e),new qe(i=>{let s=function Dde(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return DG(()=>t)}(n))}function PG(n){return n.get(Pl).isStable.pipe(Oi(t=>t))}function kde(n,e){return new zI(_F(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Ode=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:SG,useValue:t},{provide:_M,useValue:r},{provide:zI,useFactory:kde,deps:[_M,Qu]},{provide:Gp,useFactory:Nde,deps:[fi,SG,_M,Qu],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({providers:[Mde,xde]}),n})();const MG_firebase={apiKey:"AIzaSyDaaL_8chTmePICe53lXAROU_M9szUPIog",authDomain:"fy-nances.firebaseapp.com",databaseURL:"https://fy-nances-default-rtdb.europe-west1.firebasedatabase.app",projectId:"fy-nances",storageBucket:"fy-nances.appspot.com",messagingSenderId:"617745917017",appId:"1:617745917017:web:d0ac0d543e6a8f4d88bd48",measurementId:"G-Z4RD1EELNN"};function xG(n){return new S(3e3,!1)}function mhe(){return typeof window<"u"&&typeof window.document<"u"}function yM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wu(n){switch(n.length){case 0:return new Bm;case 1:return n[0];default:return new zH(n)}}function NG(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,u=null;if(r.forEach(d=>{const f=d.get("offset"),m=f==l,_=m&&u||new Map;d.forEach((v,T)=>{let A=T,x=v;if("offset"!==T)switch(A=e.normalizePropertyName(A,o),x){case nP:x=i.get(T);break;case Xa:x=s.get(T);break;default:x=e.normalizeStyleValue(T,A,x,o)}_.set(A,x)}),m||a.push(_),u=_,l=f}),o.length)throw function ihe(n){return new S(3502,!1)}();return a}function vM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&EM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&EM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&EM(t,"destroy",n)))}}function EM(n,e,t){const s=wM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function wM(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function xs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function kG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let IM=(n,e)=>!1,OG=(n,e,t)=>[],FG=null;function TM(n){const e=n.parentNode||n.host;return e===FG?null:e}(yM()||typeof Element<"u")&&(mhe()?(FG=(()=>document.documentElement)(),IM=(n,e)=>{for(;e;){if(e===n)return!0;e=TM(e)}return!1}):IM=(n,e)=>n.contains(e),OG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Hc=null,LG=!1;const VG=IM,BG=OG;let UG=(()=>{class n{validateStyleProperty(t){return function yhe(n){Hc||(Hc=function vhe(){return typeof document<"u"?document.body:null}()||{},LG=!!Hc.style&&"WebkitAppearance"in Hc.style);let e=!0;return Hc.style&&!function _he(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hc.style,!e&&LG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Hc.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return VG(t,r)}getParentElement(t){return TM(t)}query(t,r,i){return BG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Bm(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),CM=(()=>{class n{}return n.NOOP=new UG,n})();const Ehe=1e3,bM="ng-enter",WI="ng-leave",GI="ng-trigger",qI=".ng-trigger",jG="ng-animating",AM=".ng-animating";function nl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:DM(parseFloat(e[1]),e[2])}function DM(n,e){return"s"===e?n*Ehe:n}function KI(n,e,t){return n.hasOwnProperty("duration")?n:function Ihe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(xG()),{duration:0,delay:0,easing:""};i=DM(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=DM(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Fde(){return new S(3100,!1)}()),a=!0),s<0&&(e.push(function Lde(){return new S(3101,!1)}()),a=!0),a&&e.splice(l,0,xG())}return{duration:i,delay:s,easing:o}}(n,e,t)}function __(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function HG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Iu(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function WG(n,e,t){return t?e+":"+t+";":""}function GG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=WG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=WG(0,Ahe(t),n.style[t]));n.setAttribute("style",e)}function ca(n,e,t){n.style&&(e.forEach((r,i)=>{const s=RM(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),yM()&&GG(n))}function zc(n,e){n.style&&(e.forEach((t,r)=>{const i=RM(r);n.style[i]=""}),yM()&&GG(n))}function y_(n){return Array.isArray(n)?1==n.length?n[0]:$H(n):n}const SM=new RegExp("{{\\s*(.+?)\\s*}}","g");function qG(n){let e=[];if("string"==typeof n){let t;for(;t=SM.exec(n);)e.push(t[1]);SM.lastIndex=0}return e}function v_(n,e,t){const r=n.toString(),i=r.replace(SM,(s,o)=>{let a=e[o];return null==a&&(t.push(function Bde(n){return new S(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function QI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const bhe=/-+([a-z0-9])/g;function RM(n){return n.replace(bhe,(...e)=>e[1].toUpperCase())}function Ahe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ns(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ude(n){return new S(3004,!1)}()}}function KG(n,e){return window.getComputedStyle(n)[e]}const JI="*";function xhe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Nhe(n,e,t){if(":"==n[0]){const l=function khe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function ehe(n){return new S(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Xde(n){return new S(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(QG(i,o));"<"==s[0]&&!(i==JI&&o==JI)&&e.push(QG(o,i))}(r,t,e)):t.push(n),t}const XI=new Set(["true","1"]),eT=new Set(["false","0"]);function QG(n,e){const t=XI.has(n)||eT.has(n),r=XI.has(e)||eT.has(e);return(i,s)=>{let o=n==JI||n==i,a=e==JI||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?XI.has(n):eT.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?XI.has(e):eT.has(e)),o&&a}}const Ohe=new RegExp("s*:selfs*,?","g");function PM(n,e,t,r){return new Fhe(n).build(e,t,r)}class Fhe{constructor(e){this._driver=e}build(e,t,r){const i=new Bhe(t);return this._resetContextStyleTimingState(i),Ns(this,y_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function jde(){return new S(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function Hde(){return new S(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{qG(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(QI(s.values()),t.errors.push(function zde(n,e){return new S(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ns(this,y_(e.animation),t);return{type:1,matchers:xhe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Wc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ns(this,r,t)),options:Wc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Ns(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Wc(e.options)}}visitAnimate(e,t){const r=function $he(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MM(KI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=MM(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=KI(t,e);return MM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Vm({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=Vm(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Xa?r.push(a):t.errors.push(new S(3002,!1)):r.push(HG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(l);let f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(t.errors.push(function Gde(n,e,t,r,i){return new S(3010,!1)}()),f=!1),s=d.startTime),f&&u.set(l,{startTime:s,endTime:i}),t.options&&function Che(n,e,t){const r=e.params||{},i=qG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Vde(n){return new S(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qde(){return new S(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const d=e.steps.map(x=>{const F=this._makeStyleAst(x,t);let P=null!=F.offset?F.offset:function Uhe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(F.styles),V=0;return null!=P&&(s++,V=F.offset=P),l=l||V<0||V>1,a=a||V<u,u=V,o.push(V),F});l&&t.errors.push(function Kde(){return new S(3012,!1)}()),a&&t.errors.push(function Qde(){return new S(3200,!1)}());const f=e.steps.length;let m=0;s>0&&s<f?t.errors.push(function Zde(){return new S(3202,!1)}()):0==s&&(m=1/(f-1));const _=f-1,v=t.currentTime,T=t.currentAnimateTimings,A=T.duration;return d.forEach((x,F)=>{const P=m>0?F==_?1:m*F:o[F],V=P*A;t.currentTime=v+T.delay+V,T.duration=V,this._validateStyleAst(x,t),x.offset=P,r.styles.push(x)}),r}visitReference(e,t){return{type:8,animation:Ns(this,y_(e.animation),t),options:Wc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Lhe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ohe,"")),n=n.replace(/@\*/g,qI).replace(/@\w+/g,t=>qI+"-"+t.slice(1)).replace(/:animating/g,AM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,xs(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ns(this,y_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Wc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Yde(){return new S(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:KI(e.timings,t.errors,!0);return{type:12,animation:Ns(this,y_(e.animation),t),timings:r,options:null}}}class Bhe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wc(n){return n?(n=__(n)).params&&(n.params=function Vhe(n){return n?__(n):null}(n.params)):n={},n}function MM(n,e,t){return{duration:n,delay:e,easing:t}}function xM(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class tT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zhe=new RegExp(":enter","g"),Ghe=new RegExp(":leave","g");function NM(n,e,t,r,i,s=new Map,o=new Map,a,l,u=[]){return(new qhe).buildKeyframes(n,e,t,r,i,s,o,a,l,u)}class qhe{buildKeyframes(e,t,r,i,s,o,a,l,u,d=[]){u=u||new tT;const f=new kM(e,t,u,i,s,d,[]);f.options=l;const m=l.delay?nl(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([o],null,f.errors,l),Ns(this,r,f);const _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let T=_.length-1;T>=0;T--){const A=_[T];if(A.element===t){v=A;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[xM(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:nl(v_(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?nl(r.duration):null,a=null!=r.delay?nl(r.delay):null;return 0!==o&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ns(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nT);const o=nl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ns(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?nl(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Ns(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return KI(t.params?v_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?nl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nT);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{t.currentQueryIndex=d;const f=t.createSubContext(e.options,u);s&&f.delayNextStep(s),u===t.element&&(l=f.currentTimeline),Ns(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const d=t.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;Ns(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}}const nT={};class kM{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new rT(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=nl(r.duration)),null!=r.delay&&(i.delay=nl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=v_(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new kM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=nT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Khe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(zhe,"."+this._enterClassName)).replace(Ghe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function Jde(n){return new S(3014,!1)}()),a}}class rT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Xa),this._currentKeyframe.set(t,Xa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Qhe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Xa)}else Iu(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const u=v_(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Xa),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Iu(a,new Map,this._backFill);u.forEach((d,f)=>{d===nP?e.add(f):d===Xa&&t.add(f)}),r||u.set("offset",l/this.duration),i.push(u)});const s=e.size?QI(e.values()):[],o=t.size?QI(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return xM(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Khe extends rT{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Iu(e[0]);l.set("offset",0),s.push(l);const u=Iu(e[0]);u.set("offset",JG(a)),s.push(u);const d=e.length-1;for(let f=1;f<=d;f++){let m=Iu(e[f]);const _=m.get("offset");m.set("offset",JG((t+_*r)/o)),s.push(m)}r=o,t=0,i="",e=s}return xM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function JG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class OM{}const Zhe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yhe extends OM{normalizePropertyName(e,t){return RM(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Zhe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function $de(n,e){return new S(3005,!1)}())}return o+s}}function XG(n,e,t,r,i,s,o,a,l,u,d,f,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:f,errors:m}}const FM={};class eq{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Jhe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,u,d){const f=[],m=this.ast.options&&this.ast.options.params||FM,v=this.buildStyles(r,a&&a.params||FM,f),T=l&&l.params||FM,A=this.buildStyles(i,T,f),x=new Set,F=new Map,P=new Map,V="void"===i,oe={params:Xhe(T,m),delay:this.ast.options?.delay},le=d?[]:NM(e,t,this.ast.animation,s,o,v,A,oe,u,f);let Oe=0;if(le.forEach(zt=>{Oe=Math.max(zt.duration+zt.delay,Oe)}),f.length)return XG(t,this._triggerName,r,i,V,v,A,[],[],F,P,Oe,f);le.forEach(zt=>{const Ut=zt.element,Rr=xs(F,Ut,new Set);zt.preStyleProps.forEach(Bn=>Rr.add(Bn));const ni=xs(P,Ut,new Set);zt.postStyleProps.forEach(Bn=>ni.add(Bn)),Ut!==t&&x.add(Ut)});const Et=QI(x.values());return XG(t,this._triggerName,r,i,V,v,A,le,Et,F,P,Oe)}}function Xhe(n,e){const t=__(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class efe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=__(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=v_(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class nfe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new efe(i.style,i.options&&i.options.params||{},r))}),tq(this.states,"true","1"),tq(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new eq(e,i,this.states))}),this.fallbackTransition=function rfe(n,e,t){return new eq(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function tq(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ife=new tT;class sfe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=PM(this._driver,t,r,i);if(r.length)throw function she(n){return new S(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=NG(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=NM(this._driver,t,s,bM,WI,new Map,new Map,r,ife,i),o.forEach(d=>{const f=xs(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(i.push(function ohe(){return new S(3300,!1)}()),o=[]),i.length)throw function ahe(n){return new S(3504,!1)}();a.forEach((d,f)=>{d.forEach((m,_)=>{d.set(_,this._driver.computeStyle(f,_,Xa))})});const u=wu(o.map(d=>{const f=a.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function lhe(n){return new S(3301,!1)}();return t}listen(e,t,r,i){const s=wM(t,"","","");return vM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const nq="ng-animate-queued",LM="ng-animate-disabled",cfe=[],rq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class VM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function gfe(n){return n??null}(r?e.value:e),r){const s=__(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const E_="void",BM=new VM(E_);class hfe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,so(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function uhe(n,e){return new S(3302,!1)}();if(null==r||0==r.length)throw function che(n){return new S(3303,!1)}();if(!function mfe(n){return"start"==n||"done"==n}(r))throw function dhe(n,e){return new S(3400,!1)}();const s=xs(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=xs(this._engine.statesByElement,e,new Map);return a.has(t)||(so(e,GI),so(e,GI+"-"+t),a.set(t,BM)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function hhe(n){return new S(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new UM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(so(e,GI),so(e,GI+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new VM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=BM),u.value!==E_&&l.value===u.value){if(!function vfe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,u.params)){const T=[],A=s.matchStyles(l.value,l.params,T),x=s.matchStyles(u.value,u.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{zc(e,A),ca(e,x)})}return}const m=xs(this._engine.playersByElement,e,[]);m.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let _=s.matchTransition(l.value,u.value,e,u.params),v=!1;if(!_){if(!i)return;_=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:l,toState:u,player:o,isFallbackTransition:v}),v||(so(e,nq),o.onStart(()=>{Nf(e,nq)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const A=this._engine.playersByElement.get(e);if(A){let x=A.indexOf(o);x>=0&&A.splice(x,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,qI,!0);r.forEach(i=>{if(i[io])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const d=this.trigger(e,u,E_,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&wu(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||BM,d=new VM(E_),f=new UM(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[io];(!s||s===rq)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){so(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=wM(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,vM(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ffe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new hfe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(iT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!iT(t))return;const s=t[io];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),so(e,LM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Nf(e,LM))}removeNode(e,t,r,i){if(iT(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[io]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return iT(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,qI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,AM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[io];if(t&&t.setForRemoval){if(e[io]=rq,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(LM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)so(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?wu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function fhe(n){return new S(3402,!1)}()}_flushAnimations(e,t){const r=new tT,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(pe=>{d.add(pe);const De=this.driver.query(pe,".ng-animate-queued",!0);for(let Be=0;Be<De.length;Be++)d.add(De[Be])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=oq(m,this.collectedEnterElements),v=new Map;let T=0;_.forEach((pe,De)=>{const Be=bM+T++;v.set(De,Be),pe.forEach(ut=>so(ut,Be))});const A=[],x=new Set,F=new Set;for(let pe=0;pe<this.collectedLeaveElements.length;pe++){const De=this.collectedLeaveElements[pe],Be=De[io];Be&&Be.setForRemoval&&(A.push(De),x.add(De),Be.hasAnimation?this.driver.query(De,".ng-star-inserted",!0).forEach(ut=>x.add(ut)):F.add(De))}const P=new Map,V=oq(m,Array.from(x));V.forEach((pe,De)=>{const Be=WI+T++;P.set(De,Be),pe.forEach(ut=>so(ut,Be))}),e.push(()=>{_.forEach((pe,De)=>{const Be=v.get(De);pe.forEach(ut=>Nf(ut,Be))}),V.forEach((pe,De)=>{const Be=P.get(De);pe.forEach(ut=>Nf(ut,Be))}),A.forEach(pe=>{this.processLeaveNode(pe)})});const oe=[],le=[];for(let pe=this._namespaceList.length-1;pe>=0;pe--)this._namespaceList[pe].drainQueuedTransitions(t).forEach(Be=>{const ut=Be.player,Un=Be.element;if(oe.push(ut),this.collectedEnterElements.length){const ar=Un[io];if(ar&&ar.setForMove){if(ar.previousTriggersValues&&ar.previousTriggersValues.has(Be.triggerName)){const Ui=ar.previousTriggersValues.get(Be.triggerName),Ii=this.statesByElement.get(Be.element);if(Ii&&Ii.has(Be.triggerName)){const kf=Ii.get(Be.triggerName);kf.value=Ui,Ii.set(Be.triggerName,kf)}}return void ut.destroy()}}const cs=!f||!this.driver.containsElement(f,Un),Pr=P.get(Un),Os=v.get(Un),Wt=this._buildInstruction(Be,r,Os,Pr,cs);if(Wt.errors&&Wt.errors.length)return void le.push(Wt);if(cs)return ut.onStart(()=>zc(Un,Wt.fromStyles)),ut.onDestroy(()=>ca(Un,Wt.toStyles)),void i.push(ut);if(Be.isFallbackTransition)return ut.onStart(()=>zc(Un,Wt.fromStyles)),ut.onDestroy(()=>ca(Un,Wt.toStyles)),void i.push(ut);const Ro=[];Wt.timelines.forEach(ar=>{ar.stretchStartingKeyframe=!0,this.disabledNodes.has(ar.element)||Ro.push(ar)}),Wt.timelines=Ro,r.append(Un,Wt.timelines),o.push({instruction:Wt,player:ut,element:Un}),Wt.queriedElements.forEach(ar=>xs(a,ar,[]).push(ut)),Wt.preStyleProps.forEach((ar,Ui)=>{if(ar.size){let Ii=l.get(Ui);Ii||l.set(Ui,Ii=new Set),ar.forEach((kf,qc)=>Ii.add(qc))}}),Wt.postStyleProps.forEach((ar,Ui)=>{let Ii=u.get(Ui);Ii||u.set(Ui,Ii=new Set),ar.forEach((kf,qc)=>Ii.add(qc))})});if(le.length){const pe=[];le.forEach(De=>{pe.push(function phe(n,e){return new S(3505,!1)}())}),oe.forEach(De=>De.destroy()),this.reportError(pe)}const Oe=new Map,Et=new Map;o.forEach(pe=>{const De=pe.element;r.has(De)&&(Et.set(De,De),this._beforeAnimationBuild(pe.player.namespaceId,pe.instruction,Oe))}),i.forEach(pe=>{const De=pe.element;this._getPreviousPlayers(De,!1,pe.namespaceId,pe.triggerName,null).forEach(ut=>{xs(Oe,De,[]).push(ut),ut.destroy()})});const zt=A.filter(pe=>lq(pe,l,u)),Ut=new Map;sq(Ut,this.driver,F,u,Xa).forEach(pe=>{lq(pe,l,u)&&zt.push(pe)});const ni=new Map;_.forEach((pe,De)=>{sq(ni,this.driver,new Set(pe),l,nP)}),zt.forEach(pe=>{const De=Ut.get(pe),Be=ni.get(pe);Ut.set(pe,new Map([...Array.from(De?.entries()??[]),...Array.from(Be?.entries()??[])]))});const Bn=[],da=[],ha={};o.forEach(pe=>{const{element:De,player:Be,instruction:ut}=pe;if(r.has(De)){if(d.has(De))return Be.onDestroy(()=>ca(De,ut.toStyles)),Be.disabled=!0,Be.overrideTotalTime(ut.totalTime),void i.push(Be);let Un=ha;if(Et.size>1){let Pr=De;const Os=[];for(;Pr=Pr.parentNode;){const Wt=Et.get(Pr);if(Wt){Un=Wt;break}Os.push(Pr)}Os.forEach(Wt=>Et.set(Wt,Un))}const cs=this._buildAnimation(Be.namespaceId,ut,Oe,s,ni,Ut);if(Be.setRealPlayer(cs),Un===ha)Bn.push(Be);else{const Pr=this.playersByElement.get(Un);Pr&&Pr.length&&(Be.parentPlayer=wu(Pr)),i.push(Be)}}else zc(De,ut.fromStyles),Be.onDestroy(()=>ca(De,ut.toStyles)),da.push(Be),d.has(De)&&i.push(Be)}),da.forEach(pe=>{const De=s.get(pe.element);if(De&&De.length){const Be=wu(De);pe.setRealPlayer(Be)}}),i.forEach(pe=>{pe.parentPlayer?pe.syncPlayerEvents(pe.parentPlayer):pe.destroy()});for(let pe=0;pe<A.length;pe++){const De=A[pe],Be=De[io];if(Nf(De,WI),Be&&Be.hasAnimation)continue;let ut=[];if(a.size){let cs=a.get(De);cs&&cs.length&&ut.push(...cs);let Pr=this.driver.query(De,AM,!0);for(let Os=0;Os<Pr.length;Os++){let Wt=a.get(Pr[Os]);Wt&&Wt.length&&ut.push(...Wt)}}const Un=ut.filter(cs=>!cs.destroyed);Un.length?_fe(this,De,Un):this.processLeaveNode(De)}return A.length=0,Bn.forEach(pe=>{this.players.push(pe),pe.onDone(()=>{pe.destroy();const De=this.players.indexOf(pe);this.players.splice(De,1)}),pe.play()}),Bn}elementContainsData(e,t){let r=!1;const i=t[io];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==E_;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,d=u!==s,f=xs(r,u,[]);this._getPreviousPlayers(u,d,o,a,t.toState).forEach(_=>{const v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}zc(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],d=new Set,f=new Set,m=t.timelines.map(v=>{const T=v.element;d.add(T);const A=T[io];if(A&&A.removedBeforeQueried)return new Bm(v.duration,v.delay);const x=T!==l,F=function yfe(n){const e=[];return aq(n,e),e}((r.get(T)||cfe).map(Oe=>Oe.getRealPlayer())).filter(Oe=>!!Oe.element&&Oe.element===T),P=s.get(T),V=o.get(T),oe=NG(0,this._normalizer,0,v.keyframes,P,V),le=this._buildPlayer(v,oe,F);if(v.subTimeline&&i&&f.add(T),x){const Oe=new UM(e,a,T);Oe.setRealPlayer(le),u.push(Oe)}return le});u.forEach(v=>{xs(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function pfe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>so(v,jG));const _=wu(m);return _.onDestroy(()=>{d.forEach(v=>Nf(v,jG)),ca(l,t.toStyles)}),f.forEach(v=>{xs(i,v,[]).push(_)}),_}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Bm(e.duration,e.delay)}}class UM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Bm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>vM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iT(n){return n&&1===n.nodeType}function iq(n,e){const t=n.style.display;return n.style.display=e??"none",t}function sq(n,e,t,r,i){const s=[];t.forEach(l=>s.push(iq(l)));const o=[];r.forEach((l,u)=>{const d=new Map;l.forEach(f=>{const m=e.computeStyle(u,f,i);d.set(f,m),(!m||0==m.length)&&(u[io]=dfe,o.push(u))}),n.set(u,d)});let a=0;return t.forEach(l=>iq(l,s[a++])),o}function oq(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?r:o(u),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==r&&t.get(l).push(a)}),t}function so(n,e){n.classList?.add(e)}function Nf(n,e){n.classList?.remove(e)}function _fe(n,e,t){wu(t).onDone(()=>n.processLeaveNode(e))}function aq(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof zH?aq(r.players,e):e.push(r)}}function lq(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class sT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new ffe(e,t,r),this._timelineEngine=new sfe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=[],d=PM(this._driver,s,l,u);if(l.length)throw function rhe(n,e){return new S(3404,!1)}();a=function tfe(n,e,t){return new nfe(n,e,t)}(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=kG(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=kG(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wfe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ca(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ca(this._element,this._initialStyles),this._endStyles&&(ca(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zc(this._element,this._endStyles),this._endStyles=null),ca(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $M(n){let e=null;return n.forEach((t,r)=>{(function Ife(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class uq{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:KG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Tfe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VG(e,t)}getParentElement(e){return TM(e)}query(e,t,r){return BG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,d=o.filter(_=>_ instanceof uq);(function Dhe(n,e){return 0===n||0===e})(r,i)&&d.forEach(_=>{_.currentSnapshot.forEach((v,T)=>u.set(T,v))});let f=function The(n){return n.length?n[0]instanceof Map?n:n.map(e=>HG(e)):[]}(t).map(_=>Iu(_));f=function She(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,KG(n,a)))}}return e}(e,f,u);const m=function Efe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$M(e[0]),e.length>1&&(r=$M(e[e.length-1]))):e instanceof Map&&(t=$M(e)),t||r?new wfe(n,t,r):null}(e,f);return new uq(e,f,l,m)}}let Cfe=(()=>{class n extends BH{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:_s.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?$H(t):t;return cq(this._renderer,null,r,"register",[i]),new bfe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(ae(Rp),ae(mr))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class bfe extends foe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Afe(this._id,e,t||{},this._renderer)}}class Afe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return cq(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cq(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const dq="@.disabled";let Dfe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(s);return d||(d=new hq("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,t,d.name,d)};return r.data.animation.forEach(l),new Sfe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(ae(Rp),ae(sT),ae(Vt))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class hq{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==dq?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Sfe extends hq{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dq?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Rfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Pfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Mfe=(()=>{class n extends sT{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(ae(mr),ae(CM),ae(OM),ae(Pl))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const fq=[{provide:BH,useClass:Cfe},{provide:OM,useFactory:function xfe(){return new Yhe}},{provide:sT,useClass:Mfe},{provide:Rp,useFactory:function Nfe(n,e,t){return new Dfe(n,e,t)},deps:[Pv,sT,Vt]}],jM=[{provide:CM,useFactory:()=>new Tfe},{provide:y1,useValue:"BrowserAnimations"},...fq],pq=[{provide:CM,useClass:UG},{provide:y1,useValue:"NoopAnimations"},...fq];let kfe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pq:jM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Jn({providers:jM,imports:[UF]}),n})();const ks=void 0;!function QK(n,e,t){(function E5(n,e,t){"string"!=typeof e&&(t=e,e=n[Ee.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),nh[e]=n,t&&(nh[e][Ee.ExtraData]=t)})(n,e,t)}(["pt",[["AM","PM"],ks,ks],ks,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],ks,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],ks,[["a.C.","d.C."],ks,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",ks,ks,ks],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[ks,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[ks,"\u20b1"],PTE:["Esc."],RON:[ks,"L"],SYP:[ks,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Ofe(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:0===i&&0!==t&&t%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}]);let Ffe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=vn({type:n,bootstrap:[Goe]});static#n=this.\u0275inj=Jn({providers:[OR,pb,{provide:Ko,useValue:"pt-BR"}],imports:[kfe,UF,fJ,joe,VH,hoe,JX(()=>XX(MG_firebase)),use(()=>function Eie(n,e){const t="object"==typeof n?n:(0,Ar.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ar._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,D.P0)("firestore");s&&function gie(n,e,t,r={}){var i;const s=(n=St(n,bm))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Lr.MOCK_USER;else{a=(0,D.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lr(u)}n._authCredentials=new dte(new lB(a,l))}}(i,...s)}return i}()),gde,Foe.forRoot(),Ode.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return n})();bQ().bootstrapModule(Ffe).catch(n=>console.error(n))},942:(Fs,Kn,Le)=>{Le.d(Kn,{Z:()=>Qn});var b=Le(90),q=Le(859),k=Le(881),Se=Le(877);class Rt{constructor(We,Ge){this._delegate=We,this.firebase=Ge,(0,k._addComponent)(We,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(We,Ge=k._DEFAULT_ENTRY_NAME){var lr;this._delegate.checkDestroyed();const mn=this._delegate.container.getProvider(We);return!mn.isInitialized()&&"EXPLICIT"===(null===(lr=mn.getComponent())||void 0===lr?void 0:lr.instantiationMode)&&mn.initialize(),mn.getImmediate({identifier:Ge})}_removeServiceInstance(We,Ge=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Ge)}_addComponent(We){(0,k._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,k._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xn=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Ct(){const _t=function Gt(_t){const We={},Ge={__esModule:!0,initializeApp:function ht(ot,te={}){const wt=k.initializeApp(ot,te);if((0,b.r3)(We,wt.name))return We[wt.name];const Xt=new _t(wt,Ge);return We[wt.name]=Xt,Xt},app:mn,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ti(ot){const te=ot.name,wt=te.replace("-compat","");if(k._registerComponent(ot)&&"PUBLIC"===ot.type){const Xt=(Cn=mn())=>{if("function"!=typeof Cn[wt])throw xn.create("invalid-app-argument",{appName:te});return Cn[wt]()};void 0!==ot.serviceProps&&(0,b.ZB)(Xt,ot.serviceProps),Ge[wt]=Xt,_t.prototype[wt]=function(...Cn){return this._getService.bind(this,te).apply(this,ot.multipleInstances?Cn:[])}}return"PUBLIC"===ot.type?Ge[wt]:null},removeApp:function lr(ot){delete We[ot]},useAsService:function $n(ot,te){return"serverAuth"===te?null:te},modularAPIs:k}};function mn(ot){if(!(0,b.r3)(We,ot=ot||k._DEFAULT_ENTRY_NAME))throw xn.create("no-app",{appName:ot});return We[ot]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function $t(){return Object.keys(We).map(ot=>We[ot])}}),mn.App=_t,Ge}(Rt);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ct,extendNamespace:function We(Ge){(0,b.ZB)(_t,Ge)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),_t}(),se=new Se.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qn=Q;!function Pt(_t){(0,k.registerVersion)("@firebase/app-compat","0.2.23",_t)}()},881:(Fs,Kn,Le)=>{Le.r(Kn),Le.d(Kn,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>gs,_DEFAULT_ENTRY_NAME:()=>fs,_addComponent:()=>bi,_addOrOverwriteComponent:()=>Ai,_apps:()=>Er,_clearComponents:()=>An,_components:()=>Ci,_getProvider:()=>Nt,_registerComponent:()=>wr,_removeServiceInstance:()=>si,deleteApp:()=>Hn,getApp:()=>ms,getApps:()=>Yn,initializeApp:()=>ji,onLog:()=>rl,registerVersion:()=>Di,setLogLevel:()=>Po});var b=Le(861),q=Le(859),k=Le(877),Se=Le(90);const Rt=(G,S)=>S.some(ee=>G instanceof ee);let an,xn;const Q=new WeakMap,se=new WeakMap,Ae=new WeakMap,Ye=new WeakMap,Pt=new WeakMap;let We={get(G,S,ee){if(G instanceof IDBTransaction){if("done"===S)return se.get(G);if("objectStoreNames"===S)return G.objectStoreNames||Ae.get(G);if("store"===S)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return ht(G[S])},set:(G,S,ee)=>(G[S]=ee,!0),has:(G,S)=>G instanceof IDBTransaction&&("done"===S||"store"===S)||S in G};function mn(G){return"function"==typeof G?function lr(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ct(){return xn||(xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...S){return G.apply($t(this),S),ht(Q.get(this))}:function(...S){return ht(G.apply($t(this),S))}:function(S,...ee){const ne=G.call($t(this),S,...ee);return Ae.set(ne,S.sort?S.sort():[S]),ht(ne)}}(G):(G instanceof IDBTransaction&&function _t(G){if(se.has(G))return;const S=new Promise((ee,ne)=>{const ve=()=>{G.removeEventListener("complete",dt),G.removeEventListener("error",kt),G.removeEventListener("abort",kt)},dt=()=>{ee(),ve()},kt=()=>{ne(G.error||new DOMException("AbortError","AbortError")),ve()};G.addEventListener("complete",dt),G.addEventListener("error",kt),G.addEventListener("abort",kt)});se.set(G,S)}(G),Rt(G,function Gt(){return an||(an=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,We):G)}function ht(G){if(G instanceof IDBRequest)return function Qn(G){const S=new Promise((ee,ne)=>{const ve=()=>{G.removeEventListener("success",dt),G.removeEventListener("error",kt)},dt=()=>{ee(ht(G.result)),ve()},kt=()=>{ne(G.error),ve()};G.addEventListener("success",dt),G.addEventListener("error",kt)});return S.then(ee=>{ee instanceof IDBCursor&&Q.set(ee,G)}).catch(()=>{}),Pt.set(S,G),S}(G);if(Ye.has(G))return Ye.get(G);const S=mn(G);return S!==G&&(Ye.set(G,S),Pt.set(S,G)),S}const $t=G=>Pt.get(G),ot=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],wt=new Map;function Xt(G,S){if(!(G instanceof IDBDatabase)||S in G||"string"!=typeof S)return;if(wt.get(S))return wt.get(S);const ee=S.replace(/FromIndex$/,""),ne=S!==ee,ve=te.includes(ee);if(!(ee in(ne?IDBIndex:IDBObjectStore).prototype)||!ve&&!ot.includes(ee))return;const dt=function(){var kt=(0,b.Z)(function*(dr,...yn){const Nn=this.transaction(dr,ve?"readwrite":"readonly");let Qc=Nn.store;return ne&&(Qc=Qc.index(yn.shift())),(yield Promise.all([Qc[ee](...yn),ve&&Nn.done]))[0]});return function(yn){return kt.apply(this,arguments)}}();return wt.set(S,dt),dt}!function Ge(G){We=G(We)}(G=>({...G,get:(S,ee,ne)=>Xt(S,ee)||G.get(S,ee,ne),has:(S,ee)=>!!Xt(S,ee)||G.has(S,ee)}));class Cn{constructor(S){this.container=S}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function bn(G){return"VERSION"===G.getComponent()?.type}(ee)){const ne=ee.getImmediate();return`${ne.library}/${ne.version}`}return null}).filter(ee=>ee).join(" ")}}const ds="@firebase/app",qe=new k.Yd("@firebase/app"),fs="[DEFAULT]",ps={[ds]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Er=new Map,Ci=new Map;function bi(G,S){try{G.container.addComponent(S)}catch(ee){qe.debug(`Component ${S.name} failed to register with FirebaseApp ${G.name}`,ee)}}function Ai(G,S){G.container.addOrOverwriteComponent(S)}function wr(G){const S=G.name;if(Ci.has(S))return qe.debug(`There were multiple attempts to register component ${S}.`),!1;Ci.set(S,G);for(const ee of Er.values())bi(ee,G);return!0}function Nt(G,S){const ee=G.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),G.container.getProvider(S)}function si(G,S,ee=fs){Nt(G,S).clearInstance(ee)}function An(){Ci.clear()}const cn=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _n{constructor(S,ee,ne){this._isDeleted=!1,this._options=Object.assign({},S),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=ne,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(S){this.checkDestroyed(),this._automaticDataCollectionEnabled=S}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(S){this._isDeleted=S}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}const gs="10.6.0";function ji(G,S={}){let ee=G;"object"!=typeof S&&(S={name:S});const ne=Object.assign({name:fs,automaticDataCollectionEnabled:!1},S),ve=ne.name;if("string"!=typeof ve||!ve)throw cn.create("bad-app-name",{appName:String(ve)});if(ee||(ee=(0,Se.aH)()),!ee)throw cn.create("no-options");const dt=Er.get(ve);if(dt){if((0,Se.vZ)(ee,dt.options)&&(0,Se.vZ)(ne,dt.config))return dt;throw cn.create("duplicate-app",{appName:ve})}const kt=new q.H0(ve);for(const yn of Ci.values())kt.addComponent(yn);const dr=new _n(ee,ne,kt);return Er.set(ve,dr),dr}function ms(G=fs){const S=Er.get(G);if(!S&&G===fs&&(0,Se.aH)())return ji();if(!S)throw cn.create("no-app",{appName:G});return S}function Yn(){return Array.from(Er.values())}function Hn(G){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,b.Z)(function*(G){const S=G.name;Er.has(S)&&(Er.delete(S),yield Promise.all(G.container.getProviders().map(ee=>ee.delete())),G.isDeleted=!0)})).apply(this,arguments)}function Di(G,S,ee){var ne;let ve=null!==(ne=ps[G])&&void 0!==ne?ne:G;ee&&(ve+=`-${ee}`);const dt=ve.match(/\s|\//),kt=S.match(/\s|\//);if(dt||kt){const dr=[`Unable to register library "${ve}" with version "${S}":`];return dt&&dr.push(`library name "${ve}" contains illegal characters (whitespace or "/")`),dt&&kt&&dr.push("and"),kt&&dr.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void qe.warn(dr.join(" "))}wr(new q.wA(`${ve}-version`,()=>({library:ve,version:S}),"VERSION"))}function rl(G,S){if(null!==G&&"function"!=typeof G)throw cn.create("invalid-log-argument");(0,k.Am)(G,S)}function Po(G){(0,k.Ub)(G)}const fa="firebase-heartbeat-database",Us=1,M="firebase-heartbeat-store";let R=null;function w(){return R||(R=function Ti(G,S,{blocked:ee,upgrade:ne,blocking:ve,terminated:dt}={}){const kt=indexedDB.open(G,S),dr=ht(kt);return ne&&kt.addEventListener("upgradeneeded",yn=>{ne(ht(kt.result),yn.oldVersion,yn.newVersion,ht(kt.transaction),yn)}),ee&&kt.addEventListener("blocked",yn=>ee(yn.oldVersion,yn.newVersion,yn)),dr.then(yn=>{dt&&yn.addEventListener("close",()=>dt()),ve&&yn.addEventListener("versionchange",Nn=>ve(Nn.oldVersion,Nn.newVersion,Nn))}).catch(()=>{}),dr}(fa,Us,{upgrade:(G,S)=>{0===S&&G.createObjectStore(M)}}).catch(G=>{throw cn.create("idb-open",{originalErrorMessage:G.message})})),R}function E(){return(E=(0,b.Z)(function*(G){try{return yield(yield w()).transaction(M).objectStore(M).get(Te(G))}catch(S){if(S instanceof Se.ZR)qe.warn(S.message);else{const ee=cn.create("idb-get",{originalErrorMessage:S?.message});qe.warn(ee.message)}}})).apply(this,arguments)}function O(G,S){return B.apply(this,arguments)}function B(){return(B=(0,b.Z)(function*(G,S){try{const ne=(yield w()).transaction(M,"readwrite");yield ne.objectStore(M).put(S,Te(G)),yield ne.done}catch(ee){if(ee instanceof Se.ZR)qe.warn(ee.message);else{const ne=cn.create("idb-set",{originalErrorMessage:ee?.message});qe.warn(ne.message)}}})).apply(this,arguments)}function Te(G){return`${G.name}!${G.options.appId}`}class bt{constructor(S){this.container=S,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new Je(ee),this._heartbeatsCachePromise=this._storage.read().then(ne=>(this._heartbeatsCache=ne,ne))}triggerHeartbeat(){var S=this;return(0,b.Z)(function*(){var ee;const ve=S.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=ye();if(null==(null===(ee=S._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)&&(S._heartbeatsCache=yield S._heartbeatsCachePromise),S._heartbeatsCache.lastSentHeartbeatDate!==dt&&!S._heartbeatsCache.heartbeats.some(kt=>kt.date===dt))return S._heartbeatsCache.heartbeats.push({date:dt,agent:ve}),S._heartbeatsCache.heartbeats=S._heartbeatsCache.heartbeats.filter(kt=>{const dr=new Date(kt.date).valueOf();return Date.now()-dr<=2592e6}),S._storage.overwrite(S._heartbeatsCache)})()}getHeartbeatsHeader(){var S=this;return(0,b.Z)(function*(){var ee;if(null===S._heartbeatsCache&&(yield S._heartbeatsCachePromise),null==(null===(ee=S._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)||0===S._heartbeatsCache.heartbeats.length)return"";const ne=ye(),{heartbeatsToSend:ve,unsentEntries:dt}=function fe(G,S=1024){const ee=[];let ne=G.slice();for(const ve of G){const dt=ee.find(kt=>kt.agent===ve.agent);if(dt){if(dt.dates.push(ve.date),cr(ee)>S){dt.dates.pop();break}}else if(ee.push({agent:ve.agent,dates:[ve.date]}),cr(ee)>S){ee.pop();break}ne=ne.slice(1)}return{heartbeatsToSend:ee,unsentEntries:ne}}(S._heartbeatsCache.heartbeats),kt=(0,Se.L)(JSON.stringify({version:2,heartbeats:ve}));return S._heartbeatsCache.lastSentHeartbeatDate=ne,dt.length>0?(S._heartbeatsCache.heartbeats=dt,yield S._storage.overwrite(S._heartbeatsCache)):(S._heartbeatsCache.heartbeats=[],S._storage.overwrite(S._heartbeatsCache)),kt})()}}function ye(){return(new Date).toISOString().substring(0,10)}class Je{constructor(S){this.app=S,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var S=this;return(0,b.Z)(function*(){return(yield S._canUseIndexedDBPromise)&&(yield function C(G){return E.apply(this,arguments)}(S.app))||{heartbeats:[]}})()}overwrite(S){var ee=this;return(0,b.Z)(function*(){var ne;if(yield ee._canUseIndexedDBPromise){const dt=yield ee.read();return O(ee.app,{lastSentHeartbeatDate:null!==(ne=S.lastSentHeartbeatDate)&&void 0!==ne?ne:dt.lastSentHeartbeatDate,heartbeats:S.heartbeats})}})()}add(S){var ee=this;return(0,b.Z)(function*(){var ne;if(yield ee._canUseIndexedDBPromise){const dt=yield ee.read();return O(ee.app,{lastSentHeartbeatDate:null!==(ne=S.lastSentHeartbeatDate)&&void 0!==ne?ne:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...S.heartbeats]})}})()}}function cr(G){return(0,Se.L)(JSON.stringify({version:2,heartbeats:G})).length}!function il(G){wr(new q.wA("platform-logger",S=>new Cn(S),"PRIVATE")),wr(new q.wA("heartbeat",S=>new bt(S),"PRIVATE")),Di(ds,"0.9.23",G),Di(ds,"0.9.23","esm2017"),Di("fire-js","")}("")},859:(Fs,Kn,Le)=>{Le.d(Kn,{H0:()=>Gt,wA:()=>k,zt:()=>Rt});var b=Le(861),q=Le(90);class k{constructor(Q,se,Ae){this.name=Q,this.instanceFactory=se,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const Se="[DEFAULT]";class Rt{constructor(Q,se){this.name=Q,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const se=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(se)){const Ae=new q.BH;if(this.instancesDeferred.set(se,Ae),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:se});Ye&&Ae.resolve(Ye)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(Q){var se;const Ae=this.normalizeInstanceIdentifier(Q?.identifier),Ye=null!==(se=Q?.optional)&&void 0!==se&&se;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Pt){if(Ye)return null;throw Pt}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function xn(Ct){return"EAGER"===Ct.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[se,Ae]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(se);try{const Pt=this.getOrInitializeService({instanceIdentifier:Ye});Ae.resolve(Pt)}catch{}}}}clearInstance(Q=Se){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,b.Z)(function*(){const se=Array.from(Q.instances.values());yield Promise.all([...se.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...se.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=Se){return this.instances.has(Q)}getOptions(Q=Se){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:se={}}=Q,Ae=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:Ae,options:se});for(const[Pt,Qn]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Pt)&&Qn.resolve(Ye);return Ye}onInit(Q,se){var Ae;const Ye=this.normalizeInstanceIdentifier(se),Pt=null!==(Ae=this.onInitCallbacks.get(Ye))&&void 0!==Ae?Ae:new Set;Pt.add(Q),this.onInitCallbacks.set(Ye,Pt);const Qn=this.instances.get(Ye);return Qn&&Q(Qn,Ye),()=>{Pt.delete(Q)}}invokeOnInitCallbacks(Q,se){const Ae=this.onInitCallbacks.get(se);if(Ae)for(const Ye of Ae)try{Ye(Q,se)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:se={}}){let Ae=this.instances.get(Q);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ct=Q,Ct===Se?void 0:Ct),options:se}),this.instances.set(Q,Ae),this.instancesOptions.set(Q,se),this.invokeOnInitCallbacks(Ae,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,Ae)}catch{}var Ct;return Ae||null}normalizeInstanceIdentifier(Q=Se){return this.component?this.component.multipleInstances?Q:Se:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gt{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const se=this.getProvider(Q.name);if(se.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);se.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const se=new Rt(Q,this);return this.providers.set(Q,se),se}getProviders(){return Array.from(this.providers.values())}}},877:(Fs,Kn,Le)=>{Le.d(Kn,{Am:()=>Ct,Ub:()=>Gt,Yd:()=>xn,in:()=>q});const b=[];var q=(()=>{return(Q=q||(q={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",q;var Q})();const k={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},Se=q.INFO,Rt={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},an=(Q,se,...Ae)=>{if(se<Q.logLevel)return;const Ye=(new Date).toISOString(),Pt=Rt[se];if(!Pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Pt](`[${Ye}]  ${Q.name}:`,...Ae)};class xn{constructor(se){this.name=se,this._logLevel=Se,this._logHandler=an,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in q))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?k[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...se),this._logHandler(this,q.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...se),this._logHandler(this,q.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,q.INFO,...se),this._logHandler(this,q.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,q.WARN,...se),this._logHandler(this,q.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...se),this._logHandler(this,q.ERROR,...se)}}function Gt(Q){b.forEach(se=>{se.setLogLevel(Q)})}function Ct(Q,se){for(const Ae of b){let Ye=null;se&&se.level&&(Ye=k[se.level]),Ae.userLogHandler=null===Q?null:(Pt,Qn,..._t)=>{const We=_t.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch{return null}}).filter(Ge=>Ge).join(" ");Qn>=(Ye??Pt.logLevel)&&Q({level:q[Qn].toLowerCase(),message:We,args:_t,type:Pt.name})}}}},568:(Fs,Kn,Le)=>{Le.r(Kn);var b=Le(861),q=Le(942),k=Le(808),Se=Le(90),xn=(Le(881),Le(877),Le(859));function Gt(){return window}const Ct=2e3;function se(){return se=(0,b.Z)(function*(w,C,E){var O;const{BuildInfo:B}=Gt();(0,k.au)(C.sessionId,"AuthEvent did not contain a session ID");const Te=yield function Ge(w){return lr.apply(this,arguments)}(C.sessionId),ge={};return(0,k.av)()?ge.ibi=B.packageName:(0,k.aw)()?ge.apn=B.packageName:(0,k.ax)(w,"operation-not-supported-in-this-environment"),B.displayName&&(ge.appDisplayName=B.displayName),ge.sessionId=Te,(0,k.ay)(w,E,C.type,void 0,null!==(O=C.eventId)&&void 0!==O?O:void 0,ge)}),se.apply(this,arguments)}function Ye(){return(Ye=(0,b.Z)(function*(w){const{BuildInfo:C}=Gt(),E={};(0,k.av)()?E.iosBundleId=C.packageName:(0,k.aw)()?E.androidPackageName=C.packageName:(0,k.ax)(w,"operation-not-supported-in-this-environment"),yield(0,k.az)(w,E)})).apply(this,arguments)}function _t(){return(_t=(0,b.Z)(function*(w,C,E){const{cordova:O}=Gt();let B=()=>{};try{yield new Promise((Te,ge)=>{let $e=null;function bt(){var Je;Te();const cr=null===(Je=O.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof cr&&cr(),"function"==typeof E?.close&&E.close()}function ye(){$e||($e=window.setTimeout(()=>{ge((0,k.aB)(w,"redirect-cancelled-by-user"))},Ct))}function fe(){"visible"===document?.visibilityState&&ye()}C.addPassiveListener(bt),document.addEventListener("resume",ye,!1),(0,k.aw)()&&document.addEventListener("visibilitychange",fe,!1),B=()=>{C.removePassiveListener(bt),document.removeEventListener("resume",ye,!1),document.removeEventListener("visibilitychange",fe,!1),$e&&window.clearTimeout($e)}})}finally{B()}})).apply(this,arguments)}function lr(){return(lr=(0,b.Z)(function*(w){const C=function mn(w){if((0,k.au)(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const C=new ArrayBuffer(w.length),E=new Uint8Array(C);for(let O=0;O<w.length;O++)E[O]=w.charCodeAt(O);return E}(w),E=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(E)).map(B=>B.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ht=20;class $t extends k.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(C)),super.onEvent(C)}initialized(){var C=this;return(0,b.Z)(function*(){yield C.initPromise})()}}function ot(w){return te.apply(this,arguments)}function te(){return(te=(0,b.Z)(function*(w){const C=yield Cn()._get(bn(w));return C&&(yield Cn()._remove(bn(w))),C})).apply(this,arguments)}function Xt(){const w=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<ht;E++){const O=Math.floor(Math.random()*C.length);w.push(C.charAt(O))}return w.join("")}function Cn(){return(0,k.aE)(k.b)}function bn(w){return(0,k.aF)("authEvent",w.config.apiKey,w.name)}function qe(w){if(!w?.includes("?"))return{};const[C,...E]=w.split("?");return(0,Se.zd)(E.join("?"))}const $=class oo{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(C){var E=this;return(0,b.Z)(function*(){const O=C._key();let B=E.eventManagers.get(O);return B||(B=new $t(C),E.eventManagers.set(O,B),E.attachCallbackListeners(C,B)),B})()}_openPopup(C){(0,k.ax)(C,"operation-not-supported-in-this-environment")}_openRedirect(C,E,O,B){var Te=this;return(0,b.Z)(function*(){!function We(w){var C,E,O,B,Te,ge,$e,bt,ye,fe;const Je=Gt();(0,k.aC)("function"==typeof(null===(C=Je?.universalLinks)||void 0===C?void 0:C.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aC)(typeof(null===(E=Je?.BuildInfo)||void 0===E?void 0:E.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aC)("function"==typeof(null===(Te=null===(B=null===(O=Je?.cordova)||void 0===O?void 0:O.plugins)||void 0===B?void 0:B.browsertab)||void 0===Te?void 0:Te.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(bt=null===($e=null===(ge=Je?.cordova)||void 0===ge?void 0:ge.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===bt?void 0:bt.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(fe=null===(ye=Je?.cordova)||void 0===ye?void 0:ye.InAppBrowser)||void 0===fe?void 0:fe.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const ge=yield Te._initialize(C);yield ge.initialized(),ge.resetRedirect(),(0,k.aI)(),yield Te._originValidation(C);const $e=function Ti(w,C,E=null){return{type:C,eventId:E,urlResponse:null,sessionId:Xt(),postBody:null,tenantId:w.tenantId,error:(0,k.aB)(w,"no-auth-event")}}(C,O,B);yield function $n(w,C){return Cn()._set(bn(w),C)}(C,$e);const bt=yield function Q(w,C,E){return se.apply(this,arguments)}(C,$e,E),ye=yield function Pt(w){const{cordova:C}=Gt();return new Promise(E=>{C.plugins.browsertab.isAvailable(O=>{let B=null;O?C.plugins.browsertab.openUrl(w):B=C.InAppBrowser.open(w,(0,k.aA)()?"_blank":"_system","location=yes"),E(B)})})}(bt);return function Qn(w,C,E){return _t.apply(this,arguments)}(C,ge,ye)})()}_isIframeWebStorageSupported(C,E){throw new Error("Method not implemented.")}_originValidation(C){const E=C._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Ae(w){return Ye.apply(this,arguments)}(C)),this.originValidationPromises[E]}attachCallbackListeners(C,E){const{universalLinks:O,handleOpenURL:B,BuildInfo:Te}=Gt(),ge=setTimeout((0,b.Z)(function*(){yield ot(C),E.onEvent(W())}),500),$e=function(){var fe=(0,b.Z)(function*(Je){clearTimeout(ge);const cr=yield ot(C);let il=null;cr&&Je?.url&&(il=function wt(w,C){var E,O;const B=function hs(w){const C=qe(w),E=C.link?decodeURIComponent(C.link):void 0,O=qe(E).link,B=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return qe(B).link||B||O||E||w}(C);if(B.includes("/__/auth/callback")){const Te=qe(B),ge=Te.firebaseError?function ds(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(Te.firebaseError)):null,$e=null===(O=null===(E=ge?.code)||void 0===E?void 0:E.split("auth/"))||void 0===O?void 0:O[1],bt=$e?(0,k.aB)($e):null;return bt?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:bt,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:B,postBody:null}}return null}(cr,Je.url)),E.onEvent(il||W())});return function(cr){return fe.apply(this,arguments)}}();typeof O<"u"&&"function"==typeof O.subscribe&&O.subscribe(null,$e);const bt=B,ye=`${Te.packageName.toLowerCase()}://`;Gt().handleOpenURL=function(){var fe=(0,b.Z)(function*(Je){if(Je.toLowerCase().startsWith(ye)&&$e({url:Je}),"function"==typeof bt)try{bt(Je)}catch(cr){console.error(cr)}});return function(Je){return fe.apply(this,arguments)}}()}};function W(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aB)("no-auth-event")}}const K=1e3;function ce(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function ue(w=(0,Se.z$)()){return!("file:"!==ce()&&"ionic:"!==ce()&&"capacitor:"!==ce()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function un(){try{const w=self.localStorage,C=k.aN();if(w)return w.setItem(C,"1"),w.removeItem(C),!function qt(w=(0,Se.z$)()){return function It(){return(0,Se.w1)()&&11===document?.documentMode}()||function ln(w=(0,Se.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,Se.hl)()}catch{return jn()&&(0,Se.hl)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function ct(){return"http:"===ce()||"https:"===ce()}()||(0,Se.ru)()||ue())&&!function Me(){return(0,Se.b$)()||(0,Se.UG)()}()&&un()&&!jn()}function ur(){return ue()&&typeof document<"u"}function $i(){return($i=(0,b.Z)(function*(){return!!ur()&&new Promise(w=>{const C=setTimeout(()=>{w(!1)},K);document.addEventListener("deviceready",()=>{clearTimeout(C),w(!0)})})})).apply(this,arguments)}const ft={LOCAL:"local",NONE:"none",SESSION:"session"},Vs=k.aC,Bs="persistence";function ps(w){return Er.apply(this,arguments)}function Er(){return(Er=(0,b.Z)(function*(w){yield w._initializationPromise;const C=bi(),E=k.aF(Bs,w.config.apiKey,w.name);C&&C.setItem(E,w._getPersistence())})).apply(this,arguments)}function bi(){var w;try{return(null===(w=function Ls(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Ai=k.aC;class wr{constructor(){this.browserResolver=k.aE(k.k),this.cordovaResolver=k.aE($),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(C){var E=this;return(0,b.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,E,O,B){var Te=this;return(0,b.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openPopup(C,E,O,B)})()}_openRedirect(C,E,O,B){var Te=this;return(0,b.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openRedirect(C,E,O,B)})()}_isIframeWebStorageSupported(C,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,E)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return ur()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ai(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,b.Z)(function*(){if(C.underlyingResolver)return;const E=yield function ii(){return $i.apply(this,arguments)}();C.underlyingResolver=E?C.cordovaResolver:C.browserResolver})()}}function Nt(w){return w.unwrap()}function An(w){return cn(w)}function cn(w){const{_tokenResponse:C}=w instanceof Se.ZR?w.customData:w;if(!C)return null;if(!(w instanceof Se.ZR)&&"temporaryProof"in C&&"phoneNumber"in C)return k.P.credentialFromResult(w);const E=C.providerId;if(!E||E===k.p.PASSWORD)return null;let O;switch(E){case k.p.GOOGLE:O=k.X;break;case k.p.FACEBOOK:O=k.W;break;case k.p.GITHUB:O=k.Y;break;case k.p.TWITTER:O=k.$;break;default:const{oauthIdToken:B,oauthAccessToken:Te,oauthTokenSecret:ge,pendingToken:$e,nonce:bt}=C;return Te||ge||B||$e?$e?E.startsWith("saml.")?k.aQ._create(E,$e):k.N._fromParams({providerId:E,signInMethod:E,pendingToken:$e,idToken:B,accessToken:Te}):new k.Z(E).credential({idToken:B,accessToken:Te,rawNonce:bt}):null}return w instanceof Se.ZR?O.credentialFromError(w):O.credentialFromResult(w)}function _n(w,C){return C.catch(E=>{throw E instanceof Se.ZR&&function Tu(w,C){var E;const O=null===(E=C.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===C?.code)C.resolver=new ms(w,k.as(w,C));else if(O){const B=cn(C),Te=C;B&&(Te.credential=B,Te.tenantId=O.tenantId||void 0,Te.email=O.email||void 0,Te.phoneNumber=O.phoneNumber||void 0)}}(w,E),E}).then(E=>{const B=E.user;return{operationType:E.operationType,credential:An(E),additionalUserInfo:k.aq(E),user:Yn.getOrCreate(B)}})}function gs(w,C){return ji.apply(this,arguments)}function ji(){return(ji=(0,b.Z)(function*(w,C){const E=yield C;return{verificationId:E.verificationId,confirm:O=>_n(w,E.confirm(O))}})).apply(this,arguments)}class ms{constructor(C,E){this.resolver=E,this.auth=function si(w){return w.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return _n(Nt(this.auth),this.resolver.resolveSignIn(C))}}class Yn{constructor(C){this._delegate=C,this.multiFactor=k.at(C)}static getOrCreate(C){return Yn.USER_MAP.has(C)||Yn.USER_MAP.set(C,new Yn(C)),Yn.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var E=this;return(0,b.Z)(function*(){return _n(E.auth,k.a2(E._delegate,C))})()}linkWithPhoneNumber(C,E){var O=this;return(0,b.Z)(function*(){return gs(O.auth,k.l(O._delegate,C,E))})()}linkWithPopup(C){var E=this;return(0,b.Z)(function*(){return _n(E.auth,k.d(E._delegate,C,wr))})()}linkWithRedirect(C){var E=this;return(0,b.Z)(function*(){return yield ps(k.aJ(E.auth)),k.g(E._delegate,C,wr)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var E=this;return(0,b.Z)(function*(){return _n(E.auth,k.a3(E._delegate,C))})()}reauthenticateWithPhoneNumber(C,E){return gs(this.auth,k.r(this._delegate,C,E))}reauthenticateWithPopup(C){return _n(this.auth,k.e(this._delegate,C,wr))}reauthenticateWithRedirect(C){var E=this;return(0,b.Z)(function*(){return yield ps(k.aJ(E.auth)),k.h(E._delegate,C,wr)})()}sendEmailVerification(C){return k.ag(this._delegate,C)}unlink(C){var E=this;return(0,b.Z)(function*(){return yield k.ap(E._delegate,C),E})()}updateEmail(C){return k.al(this._delegate,C)}updatePassword(C){return k.am(this._delegate,C)}updatePhoneNumber(C){return k.u(this._delegate,C)}updateProfile(C){return k.ak(this._delegate,C)}verifyBeforeUpdateEmail(C,E){return k.ah(this._delegate,C,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yn.USER_MAP=new WeakMap;const Hn=k.aC;let Mr=(()=>{class w{constructor(E,O){if(this.app=E,O.isInitialized())return this._delegate=O.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:B}=E.options;Hn(B,"invalid-api-key",{appName:E.name}),Hn(B,"invalid-api-key",{appName:E.name});const Te=typeof window<"u"?wr:void 0;this._delegate=O.initialize({options:{persistence:rl(B,E.name),popupRedirectResolver:Te}}),this._delegate._updateErrorMap(k.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,O){k.K(this._delegate,E,O)}applyActionCode(E){return k.a7(this._delegate,E)}checkActionCode(E){return k.a8(this._delegate,E)}confirmPasswordReset(E,O){return k.a6(this._delegate,E,O)}createUserWithEmailAndPassword(E,O){var B=this;return(0,b.Z)(function*(){return _n(B._delegate,k.aa(B._delegate,E,O))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return k.af(this._delegate,E)}isSignInWithEmailLink(E){return k.ad(this._delegate,E)}getRedirectResult(){var E=this;return(0,b.Z)(function*(){Hn(Zn(),E._delegate,"operation-not-supported-in-this-environment");const O=yield k.j(E._delegate,wr);return O?_n(E._delegate,Promise.resolve(O)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function z(w,C){(0,k.aJ)(w)._logFramework(C)}(this._delegate,E)}onAuthStateChanged(E,O,B){const{next:Te,error:ge,complete:$e}=Di(E,O,B);return this._delegate.onAuthStateChanged(Te,ge,$e)}onIdTokenChanged(E,O,B){const{next:Te,error:ge,complete:$e}=Di(E,O,B);return this._delegate.onIdTokenChanged(Te,ge,$e)}sendSignInLinkToEmail(E,O){return k.ac(this._delegate,E,O)}sendPasswordResetEmail(E,O){return k.a5(this._delegate,E,O||void 0)}setPersistence(E){var O=this;return(0,b.Z)(function*(){let B;switch(function fs(w,C){Vs(Object.values(ft).includes(C),w,"invalid-persistence-type"),(0,Se.b$)()?Vs(C!==ft.SESSION,w,"unsupported-persistence-type"):(0,Se.UG)()?Vs(C===ft.NONE,w,"unsupported-persistence-type"):jn()?Vs(C===ft.NONE||C===ft.LOCAL&&(0,Se.hl)(),w,"unsupported-persistence-type"):Vs(C===ft.NONE||un(),w,"unsupported-persistence-type")}(O._delegate,E),E){case ft.SESSION:B=k.a;break;case ft.LOCAL:B=(yield k.aE(k.i)._isAvailable())?k.i:k.b;break;case ft.NONE:B=k.U;break;default:return k.ax("argument-error",{appName:O._delegate.name})}return O._delegate.setPersistence(B)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return _n(this._delegate,k.a0(this._delegate))}signInWithCredential(E){return _n(this._delegate,k.a1(this._delegate,E))}signInWithCustomToken(E){return _n(this._delegate,k.a4(this._delegate,E))}signInWithEmailAndPassword(E,O){return _n(this._delegate,k.ab(this._delegate,E,O))}signInWithEmailLink(E,O){return _n(this._delegate,k.ae(this._delegate,E,O))}signInWithPhoneNumber(E,O){return gs(this._delegate,k.s(this._delegate,E,O))}signInWithPopup(E){var O=this;return(0,b.Z)(function*(){return Hn(Zn(),O._delegate,"operation-not-supported-in-this-environment"),_n(O._delegate,k.c(O._delegate,E,wr))})()}signInWithRedirect(E){var O=this;return(0,b.Z)(function*(){return Hn(Zn(),O._delegate,"operation-not-supported-in-this-environment"),yield ps(O._delegate),k.f(O._delegate,E,wr)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return k.a9(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=ft,w})();function Di(w,C,E){let O=w;"function"!=typeof w&&({next:O,error:C,complete:E}=w);const B=O;return{next:ge=>B(ge&&Yn.getOrCreate(ge)),error:C,complete:E}}function rl(w,C){const E=function Ci(w,C){const E=bi();if(!E)return[];const O=k.aF(Bs,w,C);switch(E.getItem(O)){case ft.NONE:return[k.U];case ft.LOCAL:return[k.i,k.a];case ft.SESSION:return[k.a];default:return[]}}(w,C);if(typeof self<"u"&&!E.includes(k.i)&&E.push(k.i),typeof window<"u")for(const O of[k.b,k.a])E.includes(O)||E.push(O);return E.includes(k.U)||E.push(k.U),E}class Po{constructor(){this.providerId="phone",this._delegate=new k.P(Nt(q.Z.auth()))}static credential(C,E){return k.P.credential(C,E)}verifyPhoneNumber(C,E){return this._delegate.verifyPhoneNumber(C,E)}unwrap(){return this._delegate}}Po.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Po.PROVIDER_ID=k.P.PROVIDER_ID;const fa=k.aC;class Us{constructor(C,E,O=q.Z.app()){var B;fa(null===(B=O.options)||void 0===B?void 0:B.apiKey,"invalid-api-key",{appName:O.name}),this._delegate=new k.R(O.auth(),C,E),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function R(w){w.INTERNAL.registerComponent(new xn.wA("auth-compat",C=>{const E=C.getProvider("app-compat").getImmediate(),O=C.getProvider("auth");return new Mr(E,O)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.V,FacebookAuthProvider:k.W,GithubAuthProvider:k.Y,GoogleAuthProvider:k.X,OAuthProvider:k.Z,SAMLAuthProvider:k._,PhoneAuthProvider:Po,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:Us,TwitterAuthProvider:k.$,Auth:Mr,AuthCredential:k.L,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.4.9")}(q.Z)},861:(Fs,Kn,Le)=>{function b(k,Se,Rt,an,xn,Gt,Ct){try{var Q=k[Gt](Ct),se=Q.value}catch(Ae){return void Rt(Ae)}Q.done?Se(se):Promise.resolve(se).then(an,xn)}function q(k){return function(){var Se=this,Rt=arguments;return new Promise(function(an,xn){var Gt=k.apply(Se,Rt);function Ct(se){b(Gt,an,xn,Ct,Q,"next",se)}function Q(se){b(Gt,an,xn,Ct,Q,"throw",se)}Ct(void 0)})}}Le.d(Kn,{Z:()=>q})},582:(Fs,Kn,Le)=>{function Se($,W){var z={};for(var U in $)Object.prototype.hasOwnProperty.call($,U)&&W.indexOf(U)<0&&(z[U]=$[U]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(U=Object.getOwnPropertySymbols($);Z<U.length;Z++)W.indexOf(U[Z])<0&&Object.prototype.propertyIsEnumerable.call($,U[Z])&&(z[U[Z]]=$[U[Z]])}return z}function Ae($,W,z,U){return new(z||(z=Promise))(function(K,ce){function ct(It){try{Me(U.next(It))}catch(ln){ce(ln)}}function ue(It){try{Me(U.throw(It))}catch(ln){ce(ln)}}function Me(It){It.done?K(It.value):function Z(K){return K instanceof z?K:new z(function(ce){ce(K)})}(It.value).then(ct,ue)}Me((U=U.apply($,W||[])).next())})}function ht($){return this instanceof ht?(this.v=$,this):new ht($)}function $t($,W,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,U=z.apply($,W||[]),K=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(qt){U[qt]&&(Z[qt]=function(un){return new Promise(function(jn,Zn){K.push([qt,un,jn,Zn])>1||ct(qt,un)})})}function ct(qt,un){try{!function ue(qt){qt.value instanceof ht?Promise.resolve(qt.value.v).then(Me,It):ln(K[0][2],qt)}(U[qt](un))}catch(jn){ln(K[0][3],jn)}}function Me(qt){ct("next",qt)}function It(qt){ct("throw",qt)}function ln(qt,un){qt(un),K.shift(),K.length&&ct(K[0][0],K[0][1])}}function $n($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,W=$[Symbol.asyncIterator];return W?W.call($):($=function _t($){var W="function"==typeof Symbol&&Symbol.iterator,z=W&&$[W],U=0;if(z)return z.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&U>=$.length&&($=void 0),{value:$&&$[U++],done:!$}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}($),z={},U("next"),U("throw"),U("return"),z[Symbol.asyncIterator]=function(){return this},z);function U(K){z[K]=$[K]&&function(ce){return new Promise(function(ct,ue){!function Z(K,ce,ct,ue){Promise.resolve(ue).then(function(Me){K({value:Me,done:ct})},ce)}(ct,ue,(ce=$[K](ce)).done,ce.value)})}}}Le.d(Kn,{FC:()=>$t,KL:()=>$n,_T:()=>Se,mG:()=>Ae,qq:()=>ht}),"function"==typeof SuppressedError&&SuppressedError}},Fs=>{Fs(Fs.s=214)}]);